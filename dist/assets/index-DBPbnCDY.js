(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function pu(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const je={},Ys=[],pn=()=>{},uy=()=>!1,Yo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),mu=t=>t.startsWith("onUpdate:"),Ct=Object.assign,gu=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},cy=Object.prototype.hasOwnProperty,Ne=(t,e)=>cy.call(t,e),ve=Array.isArray,Xs=t=>Ei(t)==="[object Map]",Xo=t=>Ei(t)==="[object Set]",_d=t=>Ei(t)==="[object Date]",be=t=>typeof t=="function",et=t=>typeof t=="string",on=t=>typeof t=="symbol",ze=t=>t!==null&&typeof t=="object",Oh=t=>(ze(t)||be(t))&&be(t.then)&&be(t.catch),Nh=Object.prototype.toString,Ei=t=>Nh.call(t),dy=t=>Ei(t).slice(8,-1),Lh=t=>Ei(t)==="[object Object]",vu=t=>et(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Wr=pu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Jo=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},fy=/-(\w)/g,Zt=Jo(t=>t.replace(fy,(e,n)=>n?n.toUpperCase():"")),hy=/\B([A-Z])/g,Ds=Jo(t=>t.replace(hy,"-$1").toLowerCase()),Zo=Jo(t=>t.charAt(0).toUpperCase()+t.slice(1)),Xa=Jo(t=>t?`on${Zo(t)}`:""),Yn=(t,e)=>!Object.is(t,e),ao=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},$h=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},_o=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let wd;const ea=()=>wd||(wd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ta(t){if(ve(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=et(s)?vy(s):ta(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(et(t)||ze(t))return t}const py=/;(?![^(]*\))/g,my=/:([^]+)/,gy=/\/\*[^]*?\*\//g;function vy(t){const e={};return t.replace(gy,"").split(py).forEach(n=>{if(n){const s=n.split(my);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function en(t){let e="";if(et(t))e=t;else if(ve(t))for(let n=0;n<t.length;n++){const s=en(t[n]);s&&(e+=s+" ")}else if(ze(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const yy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_y=pu(yy);function Fh(t){return!!t||t===""}function wy(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=na(t[s],e[s]);return n}function na(t,e){if(t===e)return!0;let n=_d(t),s=_d(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=on(t),s=on(e),n||s)return t===e;if(n=ve(t),s=ve(e),n||s)return n&&s?wy(t,e):!1;if(n=ze(t),s=ze(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),u=e.hasOwnProperty(o);if(a&&!u||!a&&u||!na(t[o],e[o]))return!1}}return String(t)===String(e)}function by(t,e){return t.findIndex(n=>na(n,e))}const Bh=t=>!!(t&&t.__v_isRef===!0),ue=t=>et(t)?t:t==null?"":ve(t)||ze(t)&&(t.toString===Nh||!be(t.toString))?Bh(t)?ue(t.value):JSON.stringify(t,jh,2):String(t),jh=(t,e)=>Bh(e)?jh(t,e.value):Xs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[Ja(s,i)+" =>"]=r,n),{})}:Xo(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Ja(n))}:on(e)?Ja(e):ze(e)&&!ve(e)&&!Lh(e)?String(e):e,Ja=(t,e="")=>{var n;return on(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zt;class Ey{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=zt,!e&&zt&&(this.index=(zt.scopes||(zt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=zt;try{return zt=this,e()}finally{zt=n}}}on(){zt=this}off(){zt=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Ty(){return zt}let Ue;const Za=new WeakSet;class Uh{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,zt&&zt.active&&zt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Za.has(this)&&(Za.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||qh(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,bd(this),Hh(this);const e=Ue,n=nn;Ue=this,nn=!0;try{return this.fn()}finally{Gh(this),Ue=e,nn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)wu(e);this.deps=this.depsTail=void 0,bd(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Za.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Cl(this)&&this.run()}get dirty(){return Cl(this)}}let zh=0,Qr,Yr;function qh(t,e=!1){if(t.flags|=8,e){t.next=Yr,Yr=t;return}t.next=Qr,Qr=t}function yu(){zh++}function _u(){if(--zh>0)return;if(Yr){let e=Yr;for(Yr=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Qr;){let e=Qr;for(Qr=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Hh(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Gh(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),wu(s),Sy(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function Cl(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Kh(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Kh(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===oi))return;t.globalVersion=oi;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Cl(t)){t.flags&=-3;return}const n=Ue,s=nn;Ue=t,nn=!0;try{Hh(t);const r=t.fn(t._value);(e.version===0||Yn(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Ue=n,nn=s,Gh(t),t.flags&=-3}}function wu(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)wu(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Sy(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let nn=!0;const Wh=[];function us(){Wh.push(nn),nn=!1}function cs(){const t=Wh.pop();nn=t===void 0?!0:t}function bd(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ue;Ue=void 0;try{e()}finally{Ue=n}}}let oi=0;class Iy{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class bu{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ue||!nn||Ue===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ue)n=this.activeLink=new Iy(Ue,this),Ue.deps?(n.prevDep=Ue.depsTail,Ue.depsTail.nextDep=n,Ue.depsTail=n):Ue.deps=Ue.depsTail=n,Qh(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Ue.depsTail,n.nextDep=void 0,Ue.depsTail.nextDep=n,Ue.depsTail=n,Ue.deps===n&&(Ue.deps=s)}return n}trigger(e){this.version++,oi++,this.notify(e)}notify(e){yu();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{_u()}}}function Qh(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Qh(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Pl=new WeakMap,As=Symbol(""),Rl=Symbol(""),ai=Symbol("");function Tt(t,e,n){if(nn&&Ue){let s=Pl.get(t);s||Pl.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new bu),r.map=s,r.key=n),r.track()}}function Rn(t,e,n,s,r,i){const o=Pl.get(t);if(!o){oi++;return}const a=u=>{u&&u.trigger()};if(yu(),e==="clear")o.forEach(a);else{const u=ve(t),c=u&&vu(n);if(u&&n==="length"){const d=Number(s);o.forEach((f,p)=>{(p==="length"||p===ai||!on(p)&&p>=d)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(ai)),e){case"add":u?c&&a(o.get("length")):(a(o.get(As)),Xs(t)&&a(o.get(Rl)));break;case"delete":u||(a(o.get(As)),Xs(t)&&a(o.get(Rl)));break;case"set":Xs(t)&&a(o.get(As));break}}_u()}function zs(t){const e=Oe(t);return e===t?e:(Tt(e,"iterate",ai),Xt(t)?e:e.map(St))}function sa(t){return Tt(t=Oe(t),"iterate",ai),t}const Ay={__proto__:null,[Symbol.iterator](){return el(this,Symbol.iterator,St)},concat(...t){return zs(this).concat(...t.map(e=>ve(e)?zs(e):e))},entries(){return el(this,"entries",t=>(t[1]=St(t[1]),t))},every(t,e){return An(this,"every",t,e,void 0,arguments)},filter(t,e){return An(this,"filter",t,e,n=>n.map(St),arguments)},find(t,e){return An(this,"find",t,e,St,arguments)},findIndex(t,e){return An(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return An(this,"findLast",t,e,St,arguments)},findLastIndex(t,e){return An(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return An(this,"forEach",t,e,void 0,arguments)},includes(...t){return tl(this,"includes",t)},indexOf(...t){return tl(this,"indexOf",t)},join(t){return zs(this).join(t)},lastIndexOf(...t){return tl(this,"lastIndexOf",t)},map(t,e){return An(this,"map",t,e,void 0,arguments)},pop(){return Lr(this,"pop")},push(...t){return Lr(this,"push",t)},reduce(t,...e){return Ed(this,"reduce",t,e)},reduceRight(t,...e){return Ed(this,"reduceRight",t,e)},shift(){return Lr(this,"shift")},some(t,e){return An(this,"some",t,e,void 0,arguments)},splice(...t){return Lr(this,"splice",t)},toReversed(){return zs(this).toReversed()},toSorted(t){return zs(this).toSorted(t)},toSpliced(...t){return zs(this).toSpliced(...t)},unshift(...t){return Lr(this,"unshift",t)},values(){return el(this,"values",St)}};function el(t,e,n){const s=sa(t),r=s[e]();return s!==t&&!Xt(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const xy=Array.prototype;function An(t,e,n,s,r,i){const o=sa(t),a=o!==t&&!Xt(t),u=o[e];if(u!==xy[e]){const f=u.apply(t,i);return a?St(f):f}let c=n;o!==t&&(a?c=function(f,p){return n.call(this,St(f),p,t)}:n.length>2&&(c=function(f,p){return n.call(this,f,p,t)}));const d=u.call(o,c,s);return a&&r?r(d):d}function Ed(t,e,n,s){const r=sa(t);let i=n;return r!==t&&(Xt(t)?n.length>3&&(i=function(o,a,u){return n.call(this,o,a,u,t)}):i=function(o,a,u){return n.call(this,o,St(a),u,t)}),r[e](i,...s)}function tl(t,e,n){const s=Oe(t);Tt(s,"iterate",ai);const r=s[e](...n);return(r===-1||r===!1)&&Su(n[0])?(n[0]=Oe(n[0]),s[e](...n)):r}function Lr(t,e,n=[]){us(),yu();const s=Oe(t)[e].apply(t,n);return _u(),cs(),s}const Cy=pu("__proto__,__v_isRef,__isVue"),Yh=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(on));function Py(t){on(t)||(t=String(t));const e=Oe(this);return Tt(e,"has",t),e.hasOwnProperty(t)}class Xh{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?Fy:tp:i?ep:Zh).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=ve(e);if(!r){let u;if(o&&(u=Ay[n]))return u;if(n==="hasOwnProperty")return Py}const a=Reflect.get(e,n,xt(e)?e:s);return(on(n)?Yh.has(n):Cy(n))||(r||Tt(e,"get",n),i)?a:xt(a)?o&&vu(n)?a:a.value:ze(a)?r?sp(a):Ti(a):a}}class Jh extends Xh{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const u=xs(i);if(!Xt(s)&&!xs(s)&&(i=Oe(i),s=Oe(s)),!ve(e)&&xt(i)&&!xt(s))return u?!1:(i.value=s,!0)}const o=ve(e)&&vu(n)?Number(n)<e.length:Ne(e,n),a=Reflect.set(e,n,s,xt(e)?e:r);return e===Oe(r)&&(o?Yn(s,i)&&Rn(e,"set",n,s):Rn(e,"add",n,s)),a}deleteProperty(e,n){const s=Ne(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&Rn(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!on(n)||!Yh.has(n))&&Tt(e,"has",n),s}ownKeys(e){return Tt(e,"iterate",ve(e)?"length":As),Reflect.ownKeys(e)}}class Ry extends Xh{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const ky=new Jh,Vy=new Ry,Dy=new Jh(!0);const kl=t=>t,Yi=t=>Reflect.getPrototypeOf(t);function My(t,e,n){return function(...s){const r=this.__v_raw,i=Oe(r),o=Xs(i),a=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,c=r[t](...s),d=n?kl:e?Vl:St;return!e&&Tt(i,"iterate",u?Rl:As),{next(){const{value:f,done:p}=c.next();return p?{value:f,done:p}:{value:a?[d(f[0]),d(f[1])]:d(f),done:p}},[Symbol.iterator](){return this}}}}function Xi(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Oy(t,e){const n={get(r){const i=this.__v_raw,o=Oe(i),a=Oe(r);t||(Yn(r,a)&&Tt(o,"get",r),Tt(o,"get",a));const{has:u}=Yi(o),c=e?kl:t?Vl:St;if(u.call(o,r))return c(i.get(r));if(u.call(o,a))return c(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&Tt(Oe(r),"iterate",As),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=Oe(i),a=Oe(r);return t||(Yn(r,a)&&Tt(o,"has",r),Tt(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,u=Oe(a),c=e?kl:t?Vl:St;return!t&&Tt(u,"iterate",As),a.forEach((d,f)=>r.call(i,c(d),c(f),o))}};return Ct(n,t?{add:Xi("add"),set:Xi("set"),delete:Xi("delete"),clear:Xi("clear")}:{add(r){!e&&!Xt(r)&&!xs(r)&&(r=Oe(r));const i=Oe(this);return Yi(i).has.call(i,r)||(i.add(r),Rn(i,"add",r,r)),this},set(r,i){!e&&!Xt(i)&&!xs(i)&&(i=Oe(i));const o=Oe(this),{has:a,get:u}=Yi(o);let c=a.call(o,r);c||(r=Oe(r),c=a.call(o,r));const d=u.call(o,r);return o.set(r,i),c?Yn(i,d)&&Rn(o,"set",r,i):Rn(o,"add",r,i),this},delete(r){const i=Oe(this),{has:o,get:a}=Yi(i);let u=o.call(i,r);u||(r=Oe(r),u=o.call(i,r)),a&&a.call(i,r);const c=i.delete(r);return u&&Rn(i,"delete",r,void 0),c},clear(){const r=Oe(this),i=r.size!==0,o=r.clear();return i&&Rn(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=My(r,t,e)}),n}function Eu(t,e){const n=Oy(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Ne(n,r)&&r in s?n:s,r,i)}const Ny={get:Eu(!1,!1)},Ly={get:Eu(!1,!0)},$y={get:Eu(!0,!1)};const Zh=new WeakMap,ep=new WeakMap,tp=new WeakMap,Fy=new WeakMap;function By(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jy(t){return t.__v_skip||!Object.isExtensible(t)?0:By(dy(t))}function Ti(t){return xs(t)?t:Tu(t,!1,ky,Ny,Zh)}function np(t){return Tu(t,!1,Dy,Ly,ep)}function sp(t){return Tu(t,!0,Vy,$y,tp)}function Tu(t,e,n,s,r){if(!ze(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=jy(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function Js(t){return xs(t)?Js(t.__v_raw):!!(t&&t.__v_isReactive)}function xs(t){return!!(t&&t.__v_isReadonly)}function Xt(t){return!!(t&&t.__v_isShallow)}function Su(t){return t?!!t.__v_raw:!1}function Oe(t){const e=t&&t.__v_raw;return e?Oe(e):t}function Uy(t){return!Ne(t,"__v_skip")&&Object.isExtensible(t)&&$h(t,"__v_skip",!0),t}const St=t=>ze(t)?Ti(t):t,Vl=t=>ze(t)?sp(t):t;function xt(t){return t?t.__v_isRef===!0:!1}function le(t){return rp(t,!1)}function zy(t){return rp(t,!0)}function rp(t,e){return xt(t)?t:new qy(t,e)}class qy{constructor(e,n){this.dep=new bu,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Oe(e),this._value=n?e:St(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Xt(e)||xs(e);e=s?e:Oe(e),Yn(e,n)&&(this._rawValue=e,this._value=s?e:St(e),this.dep.trigger())}}function Jt(t){return xt(t)?t.value:t}const Hy={get:(t,e,n)=>e==="__v_raw"?t:Jt(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return xt(r)&&!xt(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function ip(t){return Js(t)?t:new Proxy(t,Hy)}class Gy{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new bu(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=oi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Ue!==this)return qh(this,!0),!0}get value(){const e=this.dep.track();return Kh(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Ky(t,e,n=!1){let s,r;return be(t)?s=t:(s=t.get,r=t.set),new Gy(s,r,n)}const Ji={},wo=new WeakMap;let bs;function Wy(t,e=!1,n=bs){if(n){let s=wo.get(n);s||wo.set(n,s=[]),s.push(t)}}function Qy(t,e,n=je){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:u}=n,c=S=>r?S:Xt(S)||r===!1||r===0?kn(S,1):kn(S);let d,f,p,g,w=!1,I=!1;if(xt(t)?(f=()=>t.value,w=Xt(t)):Js(t)?(f=()=>c(t),w=!0):ve(t)?(I=!0,w=t.some(S=>Js(S)||Xt(S)),f=()=>t.map(S=>{if(xt(S))return S.value;if(Js(S))return c(S);if(be(S))return u?u(S,2):S()})):be(t)?e?f=u?()=>u(t,2):t:f=()=>{if(p){us();try{p()}finally{cs()}}const S=bs;bs=d;try{return u?u(t,3,[g]):t(g)}finally{bs=S}}:f=pn,e&&r){const S=f,M=r===!0?1/0:r;f=()=>kn(S(),M)}const C=Ty(),V=()=>{d.stop(),C&&C.active&&gu(C.effects,d)};if(i&&e){const S=e;e=(...M)=>{S(...M),V()}}let _=I?new Array(t.length).fill(Ji):Ji;const v=S=>{if(!(!(d.flags&1)||!d.dirty&&!S))if(e){const M=d.run();if(r||w||(I?M.some(($,x)=>Yn($,_[x])):Yn(M,_))){p&&p();const $=bs;bs=d;try{const x=[M,_===Ji?void 0:I&&_[0]===Ji?[]:_,g];u?u(e,3,x):e(...x),_=M}finally{bs=$}}}else d.run()};return a&&a(v),d=new Uh(f),d.scheduler=o?()=>o(v,!1):v,g=S=>Wy(S,!1,d),p=d.onStop=()=>{const S=wo.get(d);if(S){if(u)u(S,4);else for(const M of S)M();wo.delete(d)}},e?s?v(!0):_=d.run():o?o(v.bind(null,!0),!0):d.run(),V.pause=d.pause.bind(d),V.resume=d.resume.bind(d),V.stop=V,V}function kn(t,e=1/0,n){if(e<=0||!ze(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,xt(t))kn(t.value,e,n);else if(ve(t))for(let s=0;s<t.length;s++)kn(t[s],e,n);else if(Xo(t)||Xs(t))t.forEach(s=>{kn(s,e,n)});else if(Lh(t)){for(const s in t)kn(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&kn(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Si(t,e,n,s){try{return s?t(...s):t()}catch(r){ra(r,e,n)}}function yn(t,e,n,s){if(be(t)){const r=Si(t,e,n,s);return r&&Oh(r)&&r.catch(i=>{ra(i,e,n)}),r}if(ve(t)){const r=[];for(let i=0;i<t.length;i++)r.push(yn(t[i],e,n,s));return r}}function ra(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||je;if(e){let a=e.parent;const u=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](t,u,c)===!1)return}a=a.parent}if(i){us(),Si(i,null,10,[t,u,c]),cs();return}}Yy(t,n,r,s,o)}function Yy(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const kt=[];let cn=-1;const Zs=[];let Hn=null,qs=0;const op=Promise.resolve();let bo=null;function ia(t){const e=bo||op;return t?e.then(this?t.bind(this):t):e}function Xy(t){let e=cn+1,n=kt.length;for(;e<n;){const s=e+n>>>1,r=kt[s],i=li(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function Iu(t){if(!(t.flags&1)){const e=li(t),n=kt[kt.length-1];!n||!(t.flags&2)&&e>=li(n)?kt.push(t):kt.splice(Xy(e),0,t),t.flags|=1,ap()}}function ap(){bo||(bo=op.then(up))}function Jy(t){ve(t)?Zs.push(...t):Hn&&t.id===-1?Hn.splice(qs+1,0,t):t.flags&1||(Zs.push(t),t.flags|=1),ap()}function Td(t,e,n=cn+1){for(;n<kt.length;n++){const s=kt[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;kt.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function lp(t){if(Zs.length){const e=[...new Set(Zs)].sort((n,s)=>li(n)-li(s));if(Zs.length=0,Hn){Hn.push(...e);return}for(Hn=e,qs=0;qs<Hn.length;qs++){const n=Hn[qs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Hn=null,qs=0}}const li=t=>t.id==null?t.flags&2?-1:1/0:t.id;function up(t){try{for(cn=0;cn<kt.length;cn++){const e=kt[cn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Si(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;cn<kt.length;cn++){const e=kt[cn];e&&(e.flags&=-2)}cn=-1,kt.length=0,lp(),bo=null,(kt.length||Zs.length)&&up()}}let pt=null,cp=null;function Eo(t){const e=pt;return pt=t,cp=t&&t.type.__scopeId||null,e}function Fe(t,e=pt,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Dd(-1);const i=Eo(e);let o;try{o=t(...r)}finally{Eo(i),s._d&&Dd(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Xe(t,e){if(pt===null)return t;const n=ca(pt),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,u=je]=e[r];i&&(be(i)&&(i={mounted:i,updated:i}),i.deep&&kn(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:u}))}return t}function _s(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let u=a.dir[s];u&&(us(),yn(u,n,8,[t.el,a,t,e]),cs())}}const Zy=Symbol("_vte"),e_=t=>t.__isTeleport;function Au(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Au(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function dp(t,e){return be(t)?Ct({name:t.name},e,{setup:t}):t}function fp(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function To(t,e,n,s,r=!1){if(ve(t)){t.forEach((w,I)=>To(w,e&&(ve(e)?e[I]:e),n,s,r));return}if(er(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&To(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?ca(s.component):s.el,o=r?null:i,{i:a,r:u}=t,c=e&&e.r,d=a.refs===je?a.refs={}:a.refs,f=a.setupState,p=Oe(f),g=f===je?()=>!1:w=>Ne(p,w);if(c!=null&&c!==u&&(et(c)?(d[c]=null,g(c)&&(f[c]=null)):xt(c)&&(c.value=null)),be(u))Si(u,a,12,[o,d]);else{const w=et(u),I=xt(u);if(w||I){const C=()=>{if(t.f){const V=w?g(u)?f[u]:d[u]:u.value;r?ve(V)&&gu(V,i):ve(V)?V.includes(i)||V.push(i):w?(d[u]=[i],g(u)&&(f[u]=d[u])):(u.value=[i],t.k&&(d[t.k]=u.value))}else w?(d[u]=o,g(u)&&(f[u]=o)):I&&(u.value=o,t.k&&(d[t.k]=o))};o?(C.id=-1,Ut(C,n)):C()}}}ea().requestIdleCallback;ea().cancelIdleCallback;const er=t=>!!t.type.__asyncLoader,hp=t=>t.type.__isKeepAlive;function t_(t,e){pp(t,"a",e)}function n_(t,e){pp(t,"da",e)}function pp(t,e,n=At){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(oa(e,s,n),n){let r=n.parent;for(;r&&r.parent;)hp(r.parent.vnode)&&s_(s,e,n,r),r=r.parent}}function s_(t,e,n,s){const r=oa(e,t,s,!0);gp(()=>{gu(s[e],r)},n)}function oa(t,e,n=At,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{us();const a=Ii(n),u=yn(e,n,t,o);return a(),cs(),u});return s?r.unshift(i):r.push(i),i}}const Ln=t=>(e,n=At)=>{(!di||t==="sp")&&oa(t,(...s)=>e(...s),n)},r_=Ln("bm"),gt=Ln("m"),mp=Ln("bu"),xu=Ln("u"),aa=Ln("bum"),gp=Ln("um"),i_=Ln("sp"),o_=Ln("rtg"),a_=Ln("rtc");function l_(t,e=At){oa("ec",t,e)}const vp="components";function vr(t,e){return _p(vp,t,!0,e)||t}const yp=Symbol.for("v-ndc");function u_(t){return et(t)?_p(vp,t,!1)||t:t||yp}function _p(t,e,n=!0,s=!1){const r=pt||At;if(r){const i=r.type;{const a=X_(i,!1);if(a&&(a===e||a===Zt(e)||a===Zo(Zt(e))))return i}const o=Sd(r[t]||i[t],e)||Sd(r.appContext[t],e);return!o&&s?i:o}}function Sd(t,e){return t&&(t[e]||t[Zt(e)]||t[Zo(Zt(e))])}function $e(t,e,n,s){let r;const i=n,o=ve(t);if(o||et(t)){const a=o&&Js(t);let u=!1;a&&(u=!Xt(t),t=sa(t)),r=new Array(t.length);for(let c=0,d=t.length;c<d;c++)r[c]=e(u?St(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(ze(t))if(t[Symbol.iterator])r=Array.from(t,(a,u)=>e(a,u,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let u=0,c=a.length;u<c;u++){const d=a[u];r[u]=e(t[d],d,u,i)}}else r=[];return r}function c_(t,e,n={},s,r){if(pt.ce||pt.parent&&er(pt.parent)&&pt.parent.ce)return F(),Je(we,null,[ae("slot",n,s)],64);let i=t[e];i&&i._c&&(i._d=!1),F();const o=i&&wp(i(n)),a=n.key||o&&o.key,u=Je(we,{key:(a&&!on(a)?a:`_${e}`)+""},o||[],o&&t._===1?64:-2);return i&&i._c&&(i._d=!0),u}function wp(t){return t.some(e=>ci(e)?!(e.type===ts||e.type===we&&!wp(e.children)):!0)?t:null}const Dl=t=>t?jp(t)?ca(t):Dl(t.parent):null,Xr=Ct(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Dl(t.parent),$root:t=>Dl(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Ep(t),$forceUpdate:t=>t.f||(t.f=()=>{Iu(t.update)}),$nextTick:t=>t.n||(t.n=ia.bind(t.proxy)),$watch:t=>k_.bind(t)}),nl=(t,e)=>t!==je&&!t.__isScriptSetup&&Ne(t,e),d_={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:u}=t;let c;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(nl(s,e))return o[e]=1,s[e];if(r!==je&&Ne(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&Ne(c,e))return o[e]=3,i[e];if(n!==je&&Ne(n,e))return o[e]=4,n[e];Ml&&(o[e]=0)}}const d=Xr[e];let f,p;if(d)return e==="$attrs"&&Tt(t.attrs,"get",""),d(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==je&&Ne(n,e))return o[e]=4,n[e];if(p=u.config.globalProperties,Ne(p,e))return p[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return nl(r,e)?(r[e]=n,!0):s!==je&&Ne(s,e)?(s[e]=n,!0):Ne(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==je&&Ne(t,o)||nl(e,o)||(a=i[0])&&Ne(a,o)||Ne(s,o)||Ne(Xr,o)||Ne(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ne(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Id(t){return ve(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Ml=!0;function f_(t){const e=Ep(t),n=t.proxy,s=t.ctx;Ml=!1,e.beforeCreate&&Ad(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:u,inject:c,created:d,beforeMount:f,mounted:p,beforeUpdate:g,updated:w,activated:I,deactivated:C,beforeDestroy:V,beforeUnmount:_,destroyed:v,unmounted:S,render:M,renderTracked:$,renderTriggered:x,errorCaptured:E,serverPrefetch:b,expose:A,inheritAttrs:R,components:O,directives:P,filters:Te}=e;if(c&&h_(c,s,null),o)for(const de in o){const fe=o[de];be(fe)&&(s[de]=fe.bind(n))}if(r){const de=r.call(n,n);ze(de)&&(t.data=Ti(de))}if(Ml=!0,i)for(const de in i){const fe=i[de],Ke=be(fe)?fe.bind(n,n):be(fe.get)?fe.get.bind(n,n):pn,Dt=!be(fe)&&be(fe.set)?fe.set.bind(n):pn,Mt=nt({get:Ke,set:Dt});Object.defineProperty(s,de,{enumerable:!0,configurable:!0,get:()=>Mt.value,set:qe=>Mt.value=qe})}if(a)for(const de in a)bp(a[de],s,n,de);if(u){const de=be(u)?u.call(n):u;Reflect.ownKeys(de).forEach(fe=>{nr(fe,de[fe])})}d&&Ad(d,t,"c");function se(de,fe){ve(fe)?fe.forEach(Ke=>de(Ke.bind(n))):fe&&de(fe.bind(n))}if(se(r_,f),se(gt,p),se(mp,g),se(xu,w),se(t_,I),se(n_,C),se(l_,E),se(a_,$),se(o_,x),se(aa,_),se(gp,S),se(i_,b),ve(A))if(A.length){const de=t.exposed||(t.exposed={});A.forEach(fe=>{Object.defineProperty(de,fe,{get:()=>n[fe],set:Ke=>n[fe]=Ke})})}else t.exposed||(t.exposed={});M&&t.render===pn&&(t.render=M),R!=null&&(t.inheritAttrs=R),O&&(t.components=O),P&&(t.directives=P),b&&fp(t)}function h_(t,e,n=pn){ve(t)&&(t=Ol(t));for(const s in t){const r=t[s];let i;ze(r)?"default"in r?i=sn(r.from||s,r.default,!0):i=sn(r.from||s):i=sn(r),xt(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Ad(t,e,n){yn(ve(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function bp(t,e,n,s){let r=s.includes(".")?Np(n,s):()=>n[s];if(et(t)){const i=e[t];be(i)&&sr(r,i)}else if(be(t))sr(r,t.bind(n));else if(ze(t))if(ve(t))t.forEach(i=>bp(i,e,n,s));else{const i=be(t.handler)?t.handler.bind(n):e[t.handler];be(i)&&sr(r,i,t)}}function Ep(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let u;return a?u=a:!r.length&&!n&&!s?u=e:(u={},r.length&&r.forEach(c=>So(u,c,o,!0)),So(u,e,o)),ze(e)&&i.set(e,u),u}function So(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&So(t,i,n,!0),r&&r.forEach(o=>So(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=p_[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const p_={data:xd,props:Cd,emits:Cd,methods:zr,computed:zr,beforeCreate:Rt,created:Rt,beforeMount:Rt,mounted:Rt,beforeUpdate:Rt,updated:Rt,beforeDestroy:Rt,beforeUnmount:Rt,destroyed:Rt,unmounted:Rt,activated:Rt,deactivated:Rt,errorCaptured:Rt,serverPrefetch:Rt,components:zr,directives:zr,watch:g_,provide:xd,inject:m_};function xd(t,e){return e?t?function(){return Ct(be(t)?t.call(this,this):t,be(e)?e.call(this,this):e)}:e:t}function m_(t,e){return zr(Ol(t),Ol(e))}function Ol(t){if(ve(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Rt(t,e){return t?[...new Set([].concat(t,e))]:e}function zr(t,e){return t?Ct(Object.create(null),t,e):e}function Cd(t,e){return t?ve(t)&&ve(e)?[...new Set([...t,...e])]:Ct(Object.create(null),Id(t),Id(e??{})):e}function g_(t,e){if(!t)return e;if(!e)return t;const n=Ct(Object.create(null),t);for(const s in e)n[s]=Rt(t[s],e[s]);return n}function Tp(){return{app:null,config:{isNativeTag:uy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let v_=0;function y_(t,e){return function(s,r=null){be(s)||(s=Ct({},s)),r!=null&&!ze(r)&&(r=null);const i=Tp(),o=new WeakSet,a=[];let u=!1;const c=i.app={_uid:v_++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Z_,get config(){return i.config},set config(d){},use(d,...f){return o.has(d)||(d&&be(d.install)?(o.add(d),d.install(c,...f)):be(d)&&(o.add(d),d(c,...f))),c},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),c},component(d,f){return f?(i.components[d]=f,c):i.components[d]},directive(d,f){return f?(i.directives[d]=f,c):i.directives[d]},mount(d,f,p){if(!u){const g=c._ceVNode||ae(s,r);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),t(g,d,p),u=!0,c._container=d,d.__vue_app__=c,ca(g.component)}},onUnmount(d){a.push(d)},unmount(){u&&(yn(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(d,f){return i.provides[d]=f,c},runWithContext(d){const f=tr;tr=c;try{return d()}finally{tr=f}}};return c}}let tr=null;function nr(t,e){if(At){let n=At.provides;const s=At.parent&&At.parent.provides;s===n&&(n=At.provides=Object.create(s)),n[t]=e}}function sn(t,e,n=!1){const s=At||pt;if(s||tr){const r=tr?tr._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&be(e)?e.call(s&&s.proxy):e}}const Sp={},Ip=()=>Object.create(Sp),Ap=t=>Object.getPrototypeOf(t)===Sp;function __(t,e,n,s=!1){const r={},i=Ip();t.propsDefaults=Object.create(null),xp(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:np(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function w_(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=Oe(r),[u]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let p=d[f];if(la(t.emitsOptions,p))continue;const g=e[p];if(u)if(Ne(i,p))g!==i[p]&&(i[p]=g,c=!0);else{const w=Zt(p);r[w]=Nl(u,a,w,g,t,!1)}else g!==i[p]&&(i[p]=g,c=!0)}}}else{xp(t,e,r,i)&&(c=!0);let d;for(const f in a)(!e||!Ne(e,f)&&((d=Ds(f))===f||!Ne(e,d)))&&(u?n&&(n[f]!==void 0||n[d]!==void 0)&&(r[f]=Nl(u,a,f,void 0,t,!0)):delete r[f]);if(i!==a)for(const f in i)(!e||!Ne(e,f))&&(delete i[f],c=!0)}c&&Rn(t.attrs,"set","")}function xp(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let u in e){if(Wr(u))continue;const c=e[u];let d;r&&Ne(r,d=Zt(u))?!i||!i.includes(d)?n[d]=c:(a||(a={}))[d]=c:la(t.emitsOptions,u)||(!(u in s)||c!==s[u])&&(s[u]=c,o=!0)}if(i){const u=Oe(n),c=a||je;for(let d=0;d<i.length;d++){const f=i[d];n[f]=Nl(r,u,f,c[f],t,!Ne(c,f))}}return o}function Nl(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=Ne(o,"default");if(a&&s===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&be(u)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const d=Ii(r);s=c[n]=u.call(null,e),d()}}else s=u;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Ds(n))&&(s=!0))}return s}const b_=new WeakMap;function Cp(t,e,n=!1){const s=n?b_:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let u=!1;if(!be(t)){const d=f=>{u=!0;const[p,g]=Cp(f,e,!0);Ct(o,p),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!u)return ze(t)&&s.set(t,Ys),Ys;if(ve(i))for(let d=0;d<i.length;d++){const f=Zt(i[d]);Pd(f)&&(o[f]=je)}else if(i)for(const d in i){const f=Zt(d);if(Pd(f)){const p=i[d],g=o[f]=ve(p)||be(p)?{type:p}:Ct({},p),w=g.type;let I=!1,C=!0;if(ve(w))for(let V=0;V<w.length;++V){const _=w[V],v=be(_)&&_.name;if(v==="Boolean"){I=!0;break}else v==="String"&&(C=!1)}else I=be(w)&&w.name==="Boolean";g[0]=I,g[1]=C,(I||Ne(g,"default"))&&a.push(f)}}const c=[o,a];return ze(t)&&s.set(t,c),c}function Pd(t){return t[0]!=="$"&&!Wr(t)}const Pp=t=>t[0]==="_"||t==="$stable",Cu=t=>ve(t)?t.map(fn):[fn(t)],E_=(t,e,n)=>{if(e._n)return e;const s=Fe((...r)=>Cu(e(...r)),n);return s._c=!1,s},Rp=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Pp(r))continue;const i=t[r];if(be(i))e[r]=E_(r,i,s);else if(i!=null){const o=Cu(i);e[r]=()=>o}}},kp=(t,e)=>{const n=Cu(e);t.slots.default=()=>n},Vp=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},T_=(t,e,n)=>{const s=t.slots=Ip();if(t.vnode.shapeFlag&32){const r=e._;r?(Vp(s,e,n),n&&$h(s,"_",r,!0)):Rp(e,s)}else e&&kp(t,e)},S_=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=je;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:Vp(r,e,n):(i=!e.$stable,Rp(e,r)),o=e}else e&&(kp(t,e),o={default:1});if(i)for(const a in r)!Pp(a)&&o[a]==null&&delete r[a]},Ut=$_;function I_(t){return A_(t)}function A_(t,e){const n=ea();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:u,setText:c,setElementText:d,parentNode:f,nextSibling:p,setScopeId:g=pn,insertStaticContent:w}=t,I=(k,D,N,U=null,G=null,q=null,J=void 0,Y=null,Q=!!D.dynamicChildren)=>{if(k===D)return;k&&!$r(k,D)&&(U=j(k),qe(k,G,q,!0),k=null),D.patchFlag===-2&&(Q=!1,D.dynamicChildren=null);const{type:W,ref:he,shapeFlag:ee}=D;switch(W){case ua:C(k,D,N,U);break;case ts:V(k,D,N,U);break;case lo:k==null&&_(D,N,U,J);break;case we:O(k,D,N,U,G,q,J,Y,Q);break;default:ee&1?M(k,D,N,U,G,q,J,Y,Q):ee&6?P(k,D,N,U,G,q,J,Y,Q):(ee&64||ee&128)&&W.process(k,D,N,U,G,q,J,Y,Q,re)}he!=null&&G&&To(he,k&&k.ref,q,D||k,!D)},C=(k,D,N,U)=>{if(k==null)s(D.el=a(D.children),N,U);else{const G=D.el=k.el;D.children!==k.children&&c(G,D.children)}},V=(k,D,N,U)=>{k==null?s(D.el=u(D.children||""),N,U):D.el=k.el},_=(k,D,N,U)=>{[k.el,k.anchor]=w(k.children,D,N,U,k.el,k.anchor)},v=({el:k,anchor:D},N,U)=>{let G;for(;k&&k!==D;)G=p(k),s(k,N,U),k=G;s(D,N,U)},S=({el:k,anchor:D})=>{let N;for(;k&&k!==D;)N=p(k),r(k),k=N;r(D)},M=(k,D,N,U,G,q,J,Y,Q)=>{D.type==="svg"?J="svg":D.type==="math"&&(J="mathml"),k==null?$(D,N,U,G,q,J,Y,Q):b(k,D,G,q,J,Y,Q)},$=(k,D,N,U,G,q,J,Y)=>{let Q,W;const{props:he,shapeFlag:ee,transition:oe,dirs:ge}=k;if(Q=k.el=o(k.type,q,he&&he.is,he),ee&8?d(Q,k.children):ee&16&&E(k.children,Q,null,U,G,sl(k,q),J,Y),ge&&_s(k,null,U,"created"),x(Q,k,k.scopeId,J,U),he){for(const Ee in he)Ee!=="value"&&!Wr(Ee)&&i(Q,Ee,null,he[Ee],q,U);"value"in he&&i(Q,"value",null,he.value,q),(W=he.onVnodeBeforeMount)&&un(W,U,k)}ge&&_s(k,null,U,"beforeMount");const pe=x_(G,oe);pe&&oe.beforeEnter(Q),s(Q,D,N),((W=he&&he.onVnodeMounted)||pe||ge)&&Ut(()=>{W&&un(W,U,k),pe&&oe.enter(Q),ge&&_s(k,null,U,"mounted")},G)},x=(k,D,N,U,G)=>{if(N&&g(k,N),U)for(let q=0;q<U.length;q++)g(k,U[q]);if(G){let q=G.subTree;if(D===q||$p(q.type)&&(q.ssContent===D||q.ssFallback===D)){const J=G.vnode;x(k,J,J.scopeId,J.slotScopeIds,G.parent)}}},E=(k,D,N,U,G,q,J,Y,Q=0)=>{for(let W=Q;W<k.length;W++){const he=k[W]=Y?Gn(k[W]):fn(k[W]);I(null,he,D,N,U,G,q,J,Y)}},b=(k,D,N,U,G,q,J)=>{const Y=D.el=k.el;let{patchFlag:Q,dynamicChildren:W,dirs:he}=D;Q|=k.patchFlag&16;const ee=k.props||je,oe=D.props||je;let ge;if(N&&ws(N,!1),(ge=oe.onVnodeBeforeUpdate)&&un(ge,N,D,k),he&&_s(D,k,N,"beforeUpdate"),N&&ws(N,!0),(ee.innerHTML&&oe.innerHTML==null||ee.textContent&&oe.textContent==null)&&d(Y,""),W?A(k.dynamicChildren,W,Y,N,U,sl(D,G),q):J||fe(k,D,Y,null,N,U,sl(D,G),q,!1),Q>0){if(Q&16)R(Y,ee,oe,N,G);else if(Q&2&&ee.class!==oe.class&&i(Y,"class",null,oe.class,G),Q&4&&i(Y,"style",ee.style,oe.style,G),Q&8){const pe=D.dynamicProps;for(let Ee=0;Ee<pe.length;Ee++){const Ce=pe[Ee],vt=ee[Ce],lt=oe[Ce];(lt!==vt||Ce==="value")&&i(Y,Ce,vt,lt,G,N)}}Q&1&&k.children!==D.children&&d(Y,D.children)}else!J&&W==null&&R(Y,ee,oe,N,G);((ge=oe.onVnodeUpdated)||he)&&Ut(()=>{ge&&un(ge,N,D,k),he&&_s(D,k,N,"updated")},U)},A=(k,D,N,U,G,q,J)=>{for(let Y=0;Y<D.length;Y++){const Q=k[Y],W=D[Y],he=Q.el&&(Q.type===we||!$r(Q,W)||Q.shapeFlag&70)?f(Q.el):N;I(Q,W,he,null,U,G,q,J,!0)}},R=(k,D,N,U,G)=>{if(D!==N){if(D!==je)for(const q in D)!Wr(q)&&!(q in N)&&i(k,q,D[q],null,G,U);for(const q in N){if(Wr(q))continue;const J=N[q],Y=D[q];J!==Y&&q!=="value"&&i(k,q,Y,J,G,U)}"value"in N&&i(k,"value",D.value,N.value,G)}},O=(k,D,N,U,G,q,J,Y,Q)=>{const W=D.el=k?k.el:a(""),he=D.anchor=k?k.anchor:a("");let{patchFlag:ee,dynamicChildren:oe,slotScopeIds:ge}=D;ge&&(Y=Y?Y.concat(ge):ge),k==null?(s(W,N,U),s(he,N,U),E(D.children||[],N,he,G,q,J,Y,Q)):ee>0&&ee&64&&oe&&k.dynamicChildren?(A(k.dynamicChildren,oe,N,G,q,J,Y),(D.key!=null||G&&D===G.subTree)&&Dp(k,D,!0)):fe(k,D,N,he,G,q,J,Y,Q)},P=(k,D,N,U,G,q,J,Y,Q)=>{D.slotScopeIds=Y,k==null?D.shapeFlag&512?G.ctx.activate(D,N,U,J,Q):Te(D,N,U,G,q,J,Q):Ie(k,D,Q)},Te=(k,D,N,U,G,q,J)=>{const Y=k.component=G_(k,U,G);if(hp(k)&&(Y.ctx.renderer=re),K_(Y,!1,J),Y.asyncDep){if(G&&G.registerDep(Y,se,J),!k.el){const Q=Y.subTree=ae(ts);V(null,Q,D,N)}}else se(Y,k,D,N,G,q,J)},Ie=(k,D,N)=>{const U=D.component=k.component;if(N_(k,D,N))if(U.asyncDep&&!U.asyncResolved){de(U,D,N);return}else U.next=D,U.update();else D.el=k.el,U.vnode=D},se=(k,D,N,U,G,q,J)=>{const Y=()=>{if(k.isMounted){let{next:ee,bu:oe,u:ge,parent:pe,vnode:Ee}=k;{const yt=Mp(k);if(yt){ee&&(ee.el=Ee.el,de(k,ee,J)),yt.asyncDep.then(()=>{k.isUnmounted||Y()});return}}let Ce=ee,vt;ws(k,!1),ee?(ee.el=Ee.el,de(k,ee,J)):ee=Ee,oe&&ao(oe),(vt=ee.props&&ee.props.onVnodeBeforeUpdate)&&un(vt,pe,ee,Ee),ws(k,!0);const lt=kd(k),Qt=k.subTree;k.subTree=lt,I(Qt,lt,f(Qt.el),j(Qt),k,G,q),ee.el=lt.el,Ce===null&&L_(k,lt.el),ge&&Ut(ge,G),(vt=ee.props&&ee.props.onVnodeUpdated)&&Ut(()=>un(vt,pe,ee,Ee),G)}else{let ee;const{el:oe,props:ge}=D,{bm:pe,m:Ee,parent:Ce,root:vt,type:lt}=k,Qt=er(D);ws(k,!1),pe&&ao(pe),!Qt&&(ee=ge&&ge.onVnodeBeforeMount)&&un(ee,Ce,D),ws(k,!0);{vt.ce&&vt.ce._injectChildStyle(lt);const yt=k.subTree=kd(k);I(null,yt,N,U,k,G,q),D.el=yt.el}if(Ee&&Ut(Ee,G),!Qt&&(ee=ge&&ge.onVnodeMounted)){const yt=D;Ut(()=>un(ee,Ce,yt),G)}(D.shapeFlag&256||Ce&&er(Ce.vnode)&&Ce.vnode.shapeFlag&256)&&k.a&&Ut(k.a,G),k.isMounted=!0,D=N=U=null}};k.scope.on();const Q=k.effect=new Uh(Y);k.scope.off();const W=k.update=Q.run.bind(Q),he=k.job=Q.runIfDirty.bind(Q);he.i=k,he.id=k.uid,Q.scheduler=()=>Iu(he),ws(k,!0),W()},de=(k,D,N)=>{D.component=k;const U=k.vnode.props;k.vnode=D,k.next=null,w_(k,D.props,U,N),S_(k,D.children,N),us(),Td(k),cs()},fe=(k,D,N,U,G,q,J,Y,Q=!1)=>{const W=k&&k.children,he=k?k.shapeFlag:0,ee=D.children,{patchFlag:oe,shapeFlag:ge}=D;if(oe>0){if(oe&128){Dt(W,ee,N,U,G,q,J,Y,Q);return}else if(oe&256){Ke(W,ee,N,U,G,q,J,Y,Q);return}}ge&8?(he&16&&Ot(W,G,q),ee!==W&&d(N,ee)):he&16?ge&16?Dt(W,ee,N,U,G,q,J,Y,Q):Ot(W,G,q,!0):(he&8&&d(N,""),ge&16&&E(ee,N,U,G,q,J,Y,Q))},Ke=(k,D,N,U,G,q,J,Y,Q)=>{k=k||Ys,D=D||Ys;const W=k.length,he=D.length,ee=Math.min(W,he);let oe;for(oe=0;oe<ee;oe++){const ge=D[oe]=Q?Gn(D[oe]):fn(D[oe]);I(k[oe],ge,N,null,G,q,J,Y,Q)}W>he?Ot(k,G,q,!0,!1,ee):E(D,N,U,G,q,J,Y,Q,ee)},Dt=(k,D,N,U,G,q,J,Y,Q)=>{let W=0;const he=D.length;let ee=k.length-1,oe=he-1;for(;W<=ee&&W<=oe;){const ge=k[W],pe=D[W]=Q?Gn(D[W]):fn(D[W]);if($r(ge,pe))I(ge,pe,N,null,G,q,J,Y,Q);else break;W++}for(;W<=ee&&W<=oe;){const ge=k[ee],pe=D[oe]=Q?Gn(D[oe]):fn(D[oe]);if($r(ge,pe))I(ge,pe,N,null,G,q,J,Y,Q);else break;ee--,oe--}if(W>ee){if(W<=oe){const ge=oe+1,pe=ge<he?D[ge].el:U;for(;W<=oe;)I(null,D[W]=Q?Gn(D[W]):fn(D[W]),N,pe,G,q,J,Y,Q),W++}}else if(W>oe)for(;W<=ee;)qe(k[W],G,q,!0),W++;else{const ge=W,pe=W,Ee=new Map;for(W=pe;W<=oe;W++){const ut=D[W]=Q?Gn(D[W]):fn(D[W]);ut.key!=null&&Ee.set(ut.key,W)}let Ce,vt=0;const lt=oe-pe+1;let Qt=!1,yt=0;const Bn=new Array(lt);for(W=0;W<lt;W++)Bn[W]=0;for(W=ge;W<=ee;W++){const ut=k[W];if(vt>=lt){qe(ut,G,q,!0);continue}let Yt;if(ut.key!=null)Yt=Ee.get(ut.key);else for(Ce=pe;Ce<=oe;Ce++)if(Bn[Ce-pe]===0&&$r(ut,D[Ce])){Yt=Ce;break}Yt===void 0?qe(ut,G,q,!0):(Bn[Yt-pe]=W+1,Yt>=yt?yt=Yt:Qt=!0,I(ut,D[Yt],N,null,G,q,J,Y,Q),vt++)}const Sr=Qt?C_(Bn):Ys;for(Ce=Sr.length-1,W=lt-1;W>=0;W--){const ut=pe+W,Yt=D[ut],Mi=ut+1<he?D[ut+1].el:U;Bn[W]===0?I(null,Yt,N,Mi,G,q,J,Y,Q):Qt&&(Ce<0||W!==Sr[Ce]?Mt(Yt,N,Mi,2):Ce--)}}},Mt=(k,D,N,U,G=null)=>{const{el:q,type:J,transition:Y,children:Q,shapeFlag:W}=k;if(W&6){Mt(k.component.subTree,D,N,U);return}if(W&128){k.suspense.move(D,N,U);return}if(W&64){J.move(k,D,N,re);return}if(J===we){s(q,D,N);for(let ee=0;ee<Q.length;ee++)Mt(Q[ee],D,N,U);s(k.anchor,D,N);return}if(J===lo){v(k,D,N);return}if(U!==2&&W&1&&Y)if(U===0)Y.beforeEnter(q),s(q,D,N),Ut(()=>Y.enter(q),G);else{const{leave:ee,delayLeave:oe,afterLeave:ge}=Y,pe=()=>s(q,D,N),Ee=()=>{ee(q,()=>{pe(),ge&&ge()})};oe?oe(q,pe,Ee):Ee()}else s(q,D,N)},qe=(k,D,N,U=!1,G=!1)=>{const{type:q,props:J,ref:Y,children:Q,dynamicChildren:W,shapeFlag:he,patchFlag:ee,dirs:oe,cacheIndex:ge}=k;if(ee===-2&&(G=!1),Y!=null&&To(Y,null,N,k,!0),ge!=null&&(D.renderCache[ge]=void 0),he&256){D.ctx.deactivate(k);return}const pe=he&1&&oe,Ee=!er(k);let Ce;if(Ee&&(Ce=J&&J.onVnodeBeforeUnmount)&&un(Ce,D,k),he&6)ln(k.component,N,U);else{if(he&128){k.suspense.unmount(N,U);return}pe&&_s(k,null,D,"beforeUnmount"),he&64?k.type.remove(k,D,N,re,U):W&&!W.hasOnce&&(q!==we||ee>0&&ee&64)?Ot(W,D,N,!1,!0):(q===we&&ee&384||!G&&he&16)&&Ot(Q,D,N),U&&We(k)}(Ee&&(Ce=J&&J.onVnodeUnmounted)||pe)&&Ut(()=>{Ce&&un(Ce,D,k),pe&&_s(k,null,D,"unmounted")},N)},We=k=>{const{type:D,el:N,anchor:U,transition:G}=k;if(D===we){Fn(N,U);return}if(D===lo){S(k);return}const q=()=>{r(N),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(k.shapeFlag&1&&G&&!G.persisted){const{leave:J,delayLeave:Y}=G,Q=()=>J(N,q);Y?Y(k.el,q,Q):Q()}else q()},Fn=(k,D)=>{let N;for(;k!==D;)N=p(k),r(k),k=N;r(D)},ln=(k,D,N)=>{const{bum:U,scope:G,job:q,subTree:J,um:Y,m:Q,a:W}=k;Rd(Q),Rd(W),U&&ao(U),G.stop(),q&&(q.flags|=8,qe(J,k,D,N)),Y&&Ut(Y,D),Ut(()=>{k.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},Ot=(k,D,N,U=!1,G=!1,q=0)=>{for(let J=q;J<k.length;J++)qe(k[J],D,N,U,G)},j=k=>{if(k.shapeFlag&6)return j(k.component.subTree);if(k.shapeFlag&128)return k.suspense.next();const D=p(k.anchor||k.el),N=D&&D[Zy];return N?p(N):D};let te=!1;const Z=(k,D,N)=>{k==null?D._vnode&&qe(D._vnode,null,null,!0):I(D._vnode||null,k,D,null,null,null,N),D._vnode=k,te||(te=!0,Td(),lp(),te=!1)},re={p:I,um:qe,m:Mt,r:We,mt:Te,mc:E,pc:fe,pbc:A,n:j,o:t};return{render:Z,hydrate:void 0,createApp:y_(Z)}}function sl({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ws({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function x_(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Dp(t,e,n=!1){const s=t.children,r=e.children;if(ve(s)&&ve(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Gn(r[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Dp(o,a)),a.type===ua&&(a.el=o.el)}}function C_(t){const e=t.slice(),n=[0];let s,r,i,o,a;const u=t.length;for(s=0;s<u;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Mp(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Mp(e)}function Rd(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const P_=Symbol.for("v-scx"),R_=()=>sn(P_);function sr(t,e,n){return Op(t,e,n)}function Op(t,e,n=je){const{immediate:s,deep:r,flush:i,once:o}=n,a=Ct({},n),u=e&&s||!e&&i!=="post";let c;if(di){if(i==="sync"){const g=R_();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!u){const g=()=>{};return g.stop=pn,g.resume=pn,g.pause=pn,g}}const d=At;a.call=(g,w,I)=>yn(g,d,w,I);let f=!1;i==="post"?a.scheduler=g=>{Ut(g,d&&d.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(g,w)=>{w?g():Iu(g)}),a.augmentJob=g=>{e&&(g.flags|=4),f&&(g.flags|=2,d&&(g.id=d.uid,g.i=d))};const p=Qy(t,e,a);return di&&(c?c.push(p):u&&p()),p}function k_(t,e,n){const s=this.proxy,r=et(t)?t.includes(".")?Np(s,t):()=>s[t]:t.bind(s,s);let i;be(e)?i=e:(i=e.handler,n=e);const o=Ii(this),a=Op(r,i.bind(s),n);return o(),a}function Np(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const V_=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Zt(e)}Modifiers`]||t[`${Ds(e)}Modifiers`];function D_(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||je;let r=n;const i=e.startsWith("update:"),o=i&&V_(s,e.slice(7));o&&(o.trim&&(r=n.map(d=>et(d)?d.trim():d)),o.number&&(r=n.map(_o)));let a,u=s[a=Xa(e)]||s[a=Xa(Zt(e))];!u&&i&&(u=s[a=Xa(Ds(e))]),u&&yn(u,t,6,r);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,yn(c,t,6,r)}}function Lp(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!be(t)){const u=c=>{const d=Lp(c,e,!0);d&&(a=!0,Ct(o,d))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!a?(ze(t)&&s.set(t,null),null):(ve(i)?i.forEach(u=>o[u]=null):Ct(o,i),ze(t)&&s.set(t,o),o)}function la(t,e){return!t||!Yo(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ne(t,e[0].toLowerCase()+e.slice(1))||Ne(t,Ds(e))||Ne(t,e))}function kd(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:u,render:c,renderCache:d,props:f,data:p,setupState:g,ctx:w,inheritAttrs:I}=t,C=Eo(t);let V,_;try{if(n.shapeFlag&4){const S=r||s,M=S;V=fn(c.call(M,S,d,f,g,p,w)),_=a}else{const S=e;V=fn(S.length>1?S(f,{attrs:a,slots:o,emit:u}):S(f,null)),_=e.props?a:M_(a)}}catch(S){Jr.length=0,ra(S,t,1),V=ae(ts)}let v=V;if(_&&I!==!1){const S=Object.keys(_),{shapeFlag:M}=v;S.length&&M&7&&(i&&S.some(mu)&&(_=O_(_,i)),v=ar(v,_,!1,!0))}return n.dirs&&(v=ar(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&Au(v,n.transition),V=v,Eo(C),V}const M_=t=>{let e;for(const n in t)(n==="class"||n==="style"||Yo(n))&&((e||(e={}))[n]=t[n]);return e},O_=(t,e)=>{const n={};for(const s in t)(!mu(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function N_(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:u}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return s?Vd(s,o,c):!!o;if(u&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const p=d[f];if(o[p]!==s[p]&&!la(c,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Vd(s,o,c):!0:!!o;return!1}function Vd(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!la(n,i))return!0}return!1}function L_({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const $p=t=>t.__isSuspense;function $_(t,e){e&&e.pendingBranch?ve(t)?e.effects.push(...t):e.effects.push(t):Jy(t)}const we=Symbol.for("v-fgt"),ua=Symbol.for("v-txt"),ts=Symbol.for("v-cmt"),lo=Symbol.for("v-stc"),Jr=[];let Gt=null;function F(t=!1){Jr.push(Gt=t?null:[])}function F_(){Jr.pop(),Gt=Jr[Jr.length-1]||null}let ui=1;function Dd(t,e=!1){ui+=t,t<0&&Gt&&e&&(Gt.hasOnce=!0)}function Fp(t){return t.dynamicChildren=ui>0?Gt||Ys:null,F_(),ui>0&&Gt&&Gt.push(t),t}function z(t,e,n,s,r,i){return Fp(y(t,e,n,s,r,i,!0))}function Je(t,e,n,s,r){return Fp(ae(t,e,n,s,r,!0))}function ci(t){return t?t.__v_isVNode===!0:!1}function $r(t,e){return t.type===e.type&&t.key===e.key}const Bp=({key:t})=>t??null,uo=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?et(t)||xt(t)||be(t)?{i:pt,r:t,k:e,f:!!n}:t:null);function y(t,e=null,n=null,s=0,r=null,i=t===we?0:1,o=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Bp(e),ref:e&&uo(e),scopeId:cp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:pt};return a?(Pu(u,n),i&128&&t.normalize(u)):n&&(u.shapeFlag|=et(n)?8:16),ui>0&&!o&&Gt&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&Gt.push(u),u}const ae=B_;function B_(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===yp)&&(t=ts),ci(t)){const a=ar(t,e,!0);return n&&Pu(a,n),ui>0&&!i&&Gt&&(a.shapeFlag&6?Gt[Gt.indexOf(t)]=a:Gt.push(a)),a.patchFlag=-2,a}if(J_(t)&&(t=t.__vccOpts),e){e=j_(e);let{class:a,style:u}=e;a&&!et(a)&&(e.class=en(a)),ze(u)&&(Su(u)&&!ve(u)&&(u=Ct({},u)),e.style=ta(u))}const o=et(t)?1:$p(t)?128:e_(t)?64:ze(t)?4:be(t)?2:0;return y(t,e,n,s,r,o,i,!0)}function j_(t){return t?Su(t)||Ap(t)?Ct({},t):t:null}function ar(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:u}=t,c=e?z_(r||{},e):r,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Bp(c),ref:e&&e.ref?n&&i?ve(i)?i.concat(uo(e)):[i,uo(e)]:uo(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==we?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ar(t.ssContent),ssFallback:t.ssFallback&&ar(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&s&&Au(d,u.clone(d)),d}function De(t=" ",e=0){return ae(ua,null,t,e)}function U_(t,e){const n=ae(lo,null,t);return n.staticCount=e,n}function xe(t="",e=!1){return e?(F(),Je(ts,null,t)):ae(ts,null,t)}function fn(t){return t==null||typeof t=="boolean"?ae(ts):ve(t)?ae(we,null,t.slice()):ci(t)?Gn(t):ae(ua,null,String(t))}function Gn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ar(t)}function Pu(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ve(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Pu(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!Ap(e)?e._ctx=pt:r===3&&pt&&(pt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else be(e)?(e={default:e,_ctx:pt},n=32):(e=String(e),s&64?(n=16,e=[De(e)]):n=8);t.children=e,t.shapeFlag|=n}function z_(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=en([e.class,s.class]));else if(r==="style")e.style=ta([e.style,s.style]);else if(Yo(r)){const i=e[r],o=s[r];o&&i!==o&&!(ve(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function un(t,e,n,s=null){yn(t,e,7,[n,s])}const q_=Tp();let H_=0;function G_(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||q_,i={uid:H_++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ey(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Cp(s,r),emitsOptions:Lp(s,r),emit:null,emitted:null,propsDefaults:je,inheritAttrs:s.inheritAttrs,ctx:je,data:je,props:je,attrs:je,slots:je,refs:je,setupState:je,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=D_.bind(null,i),t.ce&&t.ce(i),i}let At=null,Io,Ll;{const t=ea(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Io=e("__VUE_INSTANCE_SETTERS__",n=>At=n),Ll=e("__VUE_SSR_SETTERS__",n=>di=n)}const Ii=t=>{const e=At;return Io(t),t.scope.on(),()=>{t.scope.off(),Io(e)}},Md=()=>{At&&At.scope.off(),Io(null)};function jp(t){return t.vnode.shapeFlag&4}let di=!1;function K_(t,e=!1,n=!1){e&&Ll(e);const{props:s,children:r}=t.vnode,i=jp(t);__(t,s,i,e),T_(t,r,n);const o=i?W_(t,e):void 0;return e&&Ll(!1),o}function W_(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,d_);const{setup:s}=n;if(s){us();const r=t.setupContext=s.length>1?Y_(t):null,i=Ii(t),o=Si(s,t,0,[t.props,r]),a=Oh(o);if(cs(),i(),(a||t.sp)&&!er(t)&&fp(t),a){if(o.then(Md,Md),e)return o.then(u=>{Od(t,u)}).catch(u=>{ra(u,t,0)});t.asyncDep=o}else Od(t,o)}else Up(t)}function Od(t,e,n){be(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ze(e)&&(t.setupState=ip(e)),Up(t)}function Up(t,e,n){const s=t.type;t.render||(t.render=s.render||pn);{const r=Ii(t);us();try{f_(t)}finally{cs(),r()}}}const Q_={get(t,e){return Tt(t,"get",""),t[e]}};function Y_(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Q_),slots:t.slots,emit:t.emit,expose:e}}function ca(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ip(Uy(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Xr)return Xr[n](t)},has(e,n){return n in e||n in Xr}})):t.proxy}function X_(t,e=!0){return be(t)?t.displayName||t.name:t.name||e&&t.__name}function J_(t){return be(t)&&"__vccOpts"in t}const nt=(t,e)=>Ky(t,e,di);function Lt(t,e,n){const s=arguments.length;return s===2?ze(e)&&!ve(e)?ci(e)?ae(t,null,[e]):ae(t,e):ae(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&ci(n)&&(n=[n]),ae(t,e,n))}const Z_="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $l;const Nd=typeof window<"u"&&window.trustedTypes;if(Nd)try{$l=Nd.createPolicy("vue",{createHTML:t=>t})}catch{}const zp=$l?t=>$l.createHTML(t):t=>t,e0="http://www.w3.org/2000/svg",t0="http://www.w3.org/1998/Math/MathML",Pn=typeof document<"u"?document:null,Ld=Pn&&Pn.createElement("template"),n0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?Pn.createElementNS(e0,t):e==="mathml"?Pn.createElementNS(t0,t):n?Pn.createElement(t,{is:n}):Pn.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Pn.createTextNode(t),createComment:t=>Pn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Pn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Ld.innerHTML=zp(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=Ld.content;if(s==="svg"||s==="mathml"){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},s0=Symbol("_vtc");function r0(t,e,n){const s=t[s0];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ao=Symbol("_vod"),qp=Symbol("_vsh"),i0={beforeMount(t,{value:e},{transition:n}){t[Ao]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Fr(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),Fr(t,!0),s.enter(t)):s.leave(t,()=>{Fr(t,!1)}):Fr(t,e))},beforeUnmount(t,{value:e}){Fr(t,e)}};function Fr(t,e){t.style.display=e?t[Ao]:"none",t[qp]=!e}const o0=Symbol(""),a0=/(^|;)\s*display\s*:/;function l0(t,e,n){const s=t.style,r=et(n);let i=!1;if(n&&!r){if(e)if(et(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&co(s,a,"")}else for(const o in e)n[o]==null&&co(s,o,"");for(const o in n)o==="display"&&(i=!0),co(s,o,n[o])}else if(r){if(e!==n){const o=s[o0];o&&(n+=";"+o),s.cssText=n,i=a0.test(n)}}else e&&t.removeAttribute("style");Ao in t&&(t[Ao]=i?s.display:"",t[qp]&&(s.display="none"))}const $d=/\s*!important$/;function co(t,e,n){if(ve(n))n.forEach(s=>co(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=u0(t,e);$d.test(n)?t.setProperty(Ds(s),n.replace($d,""),"important"):t[s]=n}}const Fd=["Webkit","Moz","ms"],rl={};function u0(t,e){const n=rl[e];if(n)return n;let s=Zt(e);if(s!=="filter"&&s in t)return rl[e]=s;s=Zo(s);for(let r=0;r<Fd.length;r++){const i=Fd[r]+s;if(i in t)return rl[e]=i}return e}const Bd="http://www.w3.org/1999/xlink";function jd(t,e,n,s,r,i=_y(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Bd,e.slice(6,e.length)):t.setAttributeNS(Bd,e,n):n==null||i&&!Fh(n)?t.removeAttribute(e):t.setAttribute(e,i?"":on(n)?String(n):n)}function Ud(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?zp(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,u=n==null?t.type==="checkbox"?"on":"":String(n);(a!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Fh(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function Ts(t,e,n,s){t.addEventListener(e,n,s)}function c0(t,e,n,s){t.removeEventListener(e,n,s)}const zd=Symbol("_vei");function d0(t,e,n,s,r=null){const i=t[zd]||(t[zd]={}),o=i[e];if(s&&o)o.value=s;else{const[a,u]=f0(e);if(s){const c=i[e]=m0(s,r);Ts(t,a,c,u)}else o&&(c0(t,a,o,u),i[e]=void 0)}}const qd=/(?:Once|Passive|Capture)$/;function f0(t){let e;if(qd.test(t)){e={};let s;for(;s=t.match(qd);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ds(t.slice(2)),e]}let il=0;const h0=Promise.resolve(),p0=()=>il||(h0.then(()=>il=0),il=Date.now());function m0(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;yn(g0(s,n.value),e,5,[s])};return n.value=t,n.attached=p0(),n}function g0(t,e){if(ve(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Hd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,v0=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?r0(t,s,o):e==="style"?l0(t,n,s):Yo(e)?mu(e)||d0(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):y0(t,e,s,o))?(Ud(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&jd(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!et(s))?Ud(t,Zt(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),jd(t,e,s,o))};function y0(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Hd(e)&&be(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Hd(e)&&et(n)?!1:e in t}const xo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ve(e)?n=>ao(e,n):e};function _0(t){t.target.composing=!0}function Gd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const rr=Symbol("_assign"),ft={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[rr]=xo(r);const i=s||r.props&&r.props.type==="number";Ts(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=_o(a)),t[rr](a)}),n&&Ts(t,"change",()=>{t.value=t.value.trim()}),e||(Ts(t,"compositionstart",_0),Ts(t,"compositionend",Gd),Ts(t,"change",Gd))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[rr]=xo(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?_o(t.value):t.value,u=e??"";a!==u&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===u)||(t.value=u))}},Zi={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=Xo(e);Ts(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?_o(Co(o)):Co(o));t[rr](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,ia(()=>{t._assigning=!1})}),t[rr]=xo(s)},mounted(t,{value:e}){Kd(t,e)},beforeUpdate(t,e,n){t[rr]=xo(n)},updated(t,{value:e}){t._assigning||Kd(t,e)}};function Kd(t,e){const n=t.multiple,s=ve(e);if(!(n&&!s&&!Xo(e))){for(let r=0,i=t.options.length;r<i;r++){const o=t.options[r],a=Co(o);if(n)if(s){const u=typeof a;u==="string"||u==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=by(e,a)>-1}else o.selected=e.has(a);else if(na(Co(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Co(t){return"_value"in t?t._value:t.value}const w0=["ctrl","shift","alt","meta"],b0={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>w0.some(n=>t[`${n}Key`]&&!e.includes(n))},Ai=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(r,...i)=>{for(let o=0;o<e.length;o++){const a=b0[e[o]];if(a&&a(r,e))return}return t(r,...i)})},E0=Ct({patchProp:v0},n0);let Wd;function T0(){return Wd||(Wd=I_(E0))}const S0=(...t)=>{const e=T0().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=A0(s);if(!r)return;const i=e._component;!be(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,I0(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function I0(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function A0(t){return et(t)?document.querySelector(t):t}const Ms={site:"site",trips:"trips"},x0=()=>{};var Qd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},C0=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],u=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Gp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;u||(g=64,o||(p=64)),s.push(n[d],n[f],n[p],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):C0(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const f=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||c==null||f==null)throw new P0;const p=i<<2|a>>4;if(s.push(p),c!==64){const g=a<<4&240|c>>2;if(s.push(g),f!==64){const w=c<<6&192|f;s.push(w)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class P0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const R0=function(t){const e=Hp(t);return Gp.encodeByteArray(e,!0)},Po=function(t){return R0(t).replace(/\./g,"")},k0=function(t){try{return Gp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=()=>V0().__FIREBASE_DEFAULTS__,M0=()=>{if(typeof process>"u"||typeof Qd>"u")return;const t=Qd.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},O0=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&k0(t[1]);return e&&JSON.parse(e)},Ru=()=>{try{return x0()||D0()||M0()||O0()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},N0=t=>{var e,n;return(n=(e=Ru())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},L0=t=>{const e=N0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Kp=()=>{var t;return(t=Ru())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Po(JSON.stringify(n)),Po(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function j0(){var t;const e=(t=Ru())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function U0(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function z0(){return!j0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wp(){try{return typeof indexedDB=="object"}catch{return!1}}function Qp(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function q0(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="FirebaseError";class ds extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=H0,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,da.prototype.create)}}class da{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?G0(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new ds(r,a,s)}}function G0(t,e){return t.replace(K0,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const K0=/\{\$([^}]+)}/g;function fi(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(Yd(i)&&Yd(o)){if(!fi(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Yd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=1e3,Q0=2,Y0=4*60*60*1e3,X0=.5;function Xd(t,e=W0,n=Q0){const s=e*Math.pow(n,t),r=Math.round(X0*s*(Math.random()-.5)*2);return Math.min(Y0,s+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t){return t&&t._delegate?t._delegate:t}class Dn{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new $0;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ew(e))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Es){return this.instances.has(e)}getOptions(e=Es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Z0(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Es){return this.component?this.component.multipleInstances?e:Es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Z0(t){return t===Es?void 0:t}function ew(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new J0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const nw={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},sw=Re.INFO,rw={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},iw=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=rw[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ku{constructor(e){this.name=e,this._logLevel=sw,this._logHandler=iw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const ow=(t,e)=>e.some(n=>t instanceof n);let Jd,Zd;function aw(){return Jd||(Jd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lw(){return Zd||(Zd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yp=new WeakMap,Fl=new WeakMap,Xp=new WeakMap,ol=new WeakMap,Vu=new WeakMap;function uw(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Xn(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Yp.set(n,t)}).catch(()=>{}),Vu.set(e,t),e}function cw(t){if(Fl.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Fl.set(t,e)}let Bl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fl.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xp.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dw(t){Bl=t(Bl)}function fw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(al(this),e,...n);return Xp.set(s,e.sort?e.sort():[e]),Xn(s)}:lw().includes(t)?function(...e){return t.apply(al(this),e),Xn(Yp.get(this))}:function(...e){return Xn(t.apply(al(this),e))}}function hw(t){return typeof t=="function"?fw(t):(t instanceof IDBTransaction&&cw(t),ow(t,aw())?new Proxy(t,Bl):t)}function Xn(t){if(t instanceof IDBRequest)return uw(t);if(ol.has(t))return ol.get(t);const e=hw(t);return e!==t&&(ol.set(t,e),Vu.set(e,t)),e}const al=t=>Vu.get(t);function Jp(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Xn(o);return s&&o.addEventListener("upgradeneeded",u=>{s(Xn(o.result),u.oldVersion,u.newVersion,Xn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),r&&u.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const pw=["get","getKey","getAll","getAllKeys","count"],mw=["put","add","delete","clear"],ll=new Map;function ef(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ll.get(e))return ll.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=mw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||pw.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,r?"readwrite":"readonly");let c=u.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&u.done]))[0]};return ll.set(e,i),i}dw(t=>({...t,get:(e,n,s)=>ef(e,n)||t.get(e,n,s),has:(e,n)=>!!ef(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function vw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jl="@firebase/app",tf="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn=new ku("@firebase/app"),yw="@firebase/app-compat",_w="@firebase/analytics-compat",ww="@firebase/analytics",bw="@firebase/app-check-compat",Ew="@firebase/app-check",Tw="@firebase/auth",Sw="@firebase/auth-compat",Iw="@firebase/database",Aw="@firebase/data-connect",xw="@firebase/database-compat",Cw="@firebase/functions",Pw="@firebase/functions-compat",Rw="@firebase/installations",kw="@firebase/installations-compat",Vw="@firebase/messaging",Dw="@firebase/messaging-compat",Mw="@firebase/performance",Ow="@firebase/performance-compat",Nw="@firebase/remote-config",Lw="@firebase/remote-config-compat",$w="@firebase/storage",Fw="@firebase/storage-compat",Bw="@firebase/firestore",jw="@firebase/vertexai",Uw="@firebase/firestore-compat",zw="firebase",qw="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul="[DEFAULT]",Hw={[jl]:"fire-core",[yw]:"fire-core-compat",[ww]:"fire-analytics",[_w]:"fire-analytics-compat",[Ew]:"fire-app-check",[bw]:"fire-app-check-compat",[Tw]:"fire-auth",[Sw]:"fire-auth-compat",[Iw]:"fire-rtdb",[Aw]:"fire-data-connect",[xw]:"fire-rtdb-compat",[Cw]:"fire-fn",[Pw]:"fire-fn-compat",[Rw]:"fire-iid",[kw]:"fire-iid-compat",[Vw]:"fire-fcm",[Dw]:"fire-fcm-compat",[Mw]:"fire-perf",[Ow]:"fire-perf-compat",[Nw]:"fire-rc",[Lw]:"fire-rc-compat",[$w]:"fire-gcs",[Fw]:"fire-gcs-compat",[Bw]:"fire-fst",[Uw]:"fire-fst-compat",[jw]:"fire-vertex","fire-js":"fire-js",[zw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new Map,Gw=new Map,zl=new Map;function nf(t,e){try{t.container.addComponent(e)}catch(n){Mn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ns(t){const e=t.name;if(zl.has(e))return Mn.debug(`There were multiple attempts to register component ${e}.`),!1;zl.set(e,t);for(const n of Ro.values())nf(n,t);for(const n of Gw.values())nf(n,t);return!0}function xi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kw(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jn=new da("app","Firebase",Ww);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Dn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=qw;function Zp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ul,automaticDataCollectionEnabled:!1},e),r=s.name;if(typeof r!="string"||!r)throw Jn.create("bad-app-name",{appName:String(r)});if(n||(n=Kp()),!n)throw Jn.create("no-options");const i=Ro.get(r);if(i){if(fi(n,i.options)&&fi(s,i.config))return i;throw Jn.create("duplicate-app",{appName:r})}const o=new tw(r);for(const u of zl.values())o.addComponent(u);const a=new Qw(n,s,o);return Ro.set(r,a),a}function em(t=Ul){const e=Ro.get(t);if(!e&&t===Ul&&Kp())return Zp();if(!e)throw Jn.create("no-app",{appName:t});return e}function mn(t,e,n){var s;let r=(s=Hw[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mn.warn(a.join(" "));return}ns(new Dn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="firebase-heartbeat-database",Jw=1,hi="firebase-heartbeat-store";let ul=null;function tm(){return ul||(ul=Jp(Xw,Jw,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hi)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jn.create("idb-open",{originalErrorMessage:t.message})})),ul}async function Zw(t){try{const n=(await tm()).transaction(hi),s=await n.objectStore(hi).get(nm(t));return await n.done,s}catch(e){if(e instanceof ds)Mn.warn(e.message);else{const n=Jn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mn.warn(n.message)}}}async function sf(t,e){try{const s=(await tm()).transaction(hi,"readwrite");await s.objectStore(hi).put(e,nm(t)),await s.done}catch(n){if(n instanceof ds)Mn.warn(n.message);else{const s=Jn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mn.warn(s.message)}}}function nm(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=1024,tb=30;class nb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rb(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=rf();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>tb){const o=ib(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Mn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rf(),{heartbeatsToSend:s,unsentEntries:r}=sb(this._heartbeatsCache.heartbeats),i=Po(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Mn.warn(n),""}}}function rf(){return new Date().toISOString().substring(0,10)}function sb(t,e=eb){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),of(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),of(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class rb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wp()?Qp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Zw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return sf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return sf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function of(t){return Po(JSON.stringify({version:2,heartbeats:t})).length}function ib(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(t){ns(new Dn("platform-logger",e=>new gw(e),"PRIVATE")),ns(new Dn("heartbeat",e=>new nb(e),"PRIVATE")),mn(jl,tf,t),mn(jl,tf,"esm2017"),mn("fire-js","")}ob("");var ab="firebase",lb="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn(ab,lb,"app");var af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zn,sm;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,E){function b(){}b.prototype=E.prototype,x.D=E.prototype,x.prototype=new b,x.prototype.constructor=x,x.C=function(A,R,O){for(var P=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)P[Te-2]=arguments[Te];return E.prototype[R].apply(A,P)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(x,E,b){b||(b=0);var A=Array(16);if(typeof E=="string")for(var R=0;16>R;++R)A[R]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(R=0;16>R;++R)A[R]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=x.g[0],b=x.g[1],R=x.g[2];var O=x.g[3],P=E+(O^b&(R^O))+A[0]+3614090360&4294967295;E=b+(P<<7&4294967295|P>>>25),P=O+(R^E&(b^R))+A[1]+3905402710&4294967295,O=E+(P<<12&4294967295|P>>>20),P=R+(b^O&(E^b))+A[2]+606105819&4294967295,R=O+(P<<17&4294967295|P>>>15),P=b+(E^R&(O^E))+A[3]+3250441966&4294967295,b=R+(P<<22&4294967295|P>>>10),P=E+(O^b&(R^O))+A[4]+4118548399&4294967295,E=b+(P<<7&4294967295|P>>>25),P=O+(R^E&(b^R))+A[5]+1200080426&4294967295,O=E+(P<<12&4294967295|P>>>20),P=R+(b^O&(E^b))+A[6]+2821735955&4294967295,R=O+(P<<17&4294967295|P>>>15),P=b+(E^R&(O^E))+A[7]+4249261313&4294967295,b=R+(P<<22&4294967295|P>>>10),P=E+(O^b&(R^O))+A[8]+1770035416&4294967295,E=b+(P<<7&4294967295|P>>>25),P=O+(R^E&(b^R))+A[9]+2336552879&4294967295,O=E+(P<<12&4294967295|P>>>20),P=R+(b^O&(E^b))+A[10]+4294925233&4294967295,R=O+(P<<17&4294967295|P>>>15),P=b+(E^R&(O^E))+A[11]+2304563134&4294967295,b=R+(P<<22&4294967295|P>>>10),P=E+(O^b&(R^O))+A[12]+1804603682&4294967295,E=b+(P<<7&4294967295|P>>>25),P=O+(R^E&(b^R))+A[13]+4254626195&4294967295,O=E+(P<<12&4294967295|P>>>20),P=R+(b^O&(E^b))+A[14]+2792965006&4294967295,R=O+(P<<17&4294967295|P>>>15),P=b+(E^R&(O^E))+A[15]+1236535329&4294967295,b=R+(P<<22&4294967295|P>>>10),P=E+(R^O&(b^R))+A[1]+4129170786&4294967295,E=b+(P<<5&4294967295|P>>>27),P=O+(b^R&(E^b))+A[6]+3225465664&4294967295,O=E+(P<<9&4294967295|P>>>23),P=R+(E^b&(O^E))+A[11]+643717713&4294967295,R=O+(P<<14&4294967295|P>>>18),P=b+(O^E&(R^O))+A[0]+3921069994&4294967295,b=R+(P<<20&4294967295|P>>>12),P=E+(R^O&(b^R))+A[5]+3593408605&4294967295,E=b+(P<<5&4294967295|P>>>27),P=O+(b^R&(E^b))+A[10]+38016083&4294967295,O=E+(P<<9&4294967295|P>>>23),P=R+(E^b&(O^E))+A[15]+3634488961&4294967295,R=O+(P<<14&4294967295|P>>>18),P=b+(O^E&(R^O))+A[4]+3889429448&4294967295,b=R+(P<<20&4294967295|P>>>12),P=E+(R^O&(b^R))+A[9]+568446438&4294967295,E=b+(P<<5&4294967295|P>>>27),P=O+(b^R&(E^b))+A[14]+3275163606&4294967295,O=E+(P<<9&4294967295|P>>>23),P=R+(E^b&(O^E))+A[3]+4107603335&4294967295,R=O+(P<<14&4294967295|P>>>18),P=b+(O^E&(R^O))+A[8]+1163531501&4294967295,b=R+(P<<20&4294967295|P>>>12),P=E+(R^O&(b^R))+A[13]+2850285829&4294967295,E=b+(P<<5&4294967295|P>>>27),P=O+(b^R&(E^b))+A[2]+4243563512&4294967295,O=E+(P<<9&4294967295|P>>>23),P=R+(E^b&(O^E))+A[7]+1735328473&4294967295,R=O+(P<<14&4294967295|P>>>18),P=b+(O^E&(R^O))+A[12]+2368359562&4294967295,b=R+(P<<20&4294967295|P>>>12),P=E+(b^R^O)+A[5]+4294588738&4294967295,E=b+(P<<4&4294967295|P>>>28),P=O+(E^b^R)+A[8]+2272392833&4294967295,O=E+(P<<11&4294967295|P>>>21),P=R+(O^E^b)+A[11]+1839030562&4294967295,R=O+(P<<16&4294967295|P>>>16),P=b+(R^O^E)+A[14]+4259657740&4294967295,b=R+(P<<23&4294967295|P>>>9),P=E+(b^R^O)+A[1]+2763975236&4294967295,E=b+(P<<4&4294967295|P>>>28),P=O+(E^b^R)+A[4]+1272893353&4294967295,O=E+(P<<11&4294967295|P>>>21),P=R+(O^E^b)+A[7]+4139469664&4294967295,R=O+(P<<16&4294967295|P>>>16),P=b+(R^O^E)+A[10]+3200236656&4294967295,b=R+(P<<23&4294967295|P>>>9),P=E+(b^R^O)+A[13]+681279174&4294967295,E=b+(P<<4&4294967295|P>>>28),P=O+(E^b^R)+A[0]+3936430074&4294967295,O=E+(P<<11&4294967295|P>>>21),P=R+(O^E^b)+A[3]+3572445317&4294967295,R=O+(P<<16&4294967295|P>>>16),P=b+(R^O^E)+A[6]+76029189&4294967295,b=R+(P<<23&4294967295|P>>>9),P=E+(b^R^O)+A[9]+3654602809&4294967295,E=b+(P<<4&4294967295|P>>>28),P=O+(E^b^R)+A[12]+3873151461&4294967295,O=E+(P<<11&4294967295|P>>>21),P=R+(O^E^b)+A[15]+530742520&4294967295,R=O+(P<<16&4294967295|P>>>16),P=b+(R^O^E)+A[2]+3299628645&4294967295,b=R+(P<<23&4294967295|P>>>9),P=E+(R^(b|~O))+A[0]+4096336452&4294967295,E=b+(P<<6&4294967295|P>>>26),P=O+(b^(E|~R))+A[7]+1126891415&4294967295,O=E+(P<<10&4294967295|P>>>22),P=R+(E^(O|~b))+A[14]+2878612391&4294967295,R=O+(P<<15&4294967295|P>>>17),P=b+(O^(R|~E))+A[5]+4237533241&4294967295,b=R+(P<<21&4294967295|P>>>11),P=E+(R^(b|~O))+A[12]+1700485571&4294967295,E=b+(P<<6&4294967295|P>>>26),P=O+(b^(E|~R))+A[3]+2399980690&4294967295,O=E+(P<<10&4294967295|P>>>22),P=R+(E^(O|~b))+A[10]+4293915773&4294967295,R=O+(P<<15&4294967295|P>>>17),P=b+(O^(R|~E))+A[1]+2240044497&4294967295,b=R+(P<<21&4294967295|P>>>11),P=E+(R^(b|~O))+A[8]+1873313359&4294967295,E=b+(P<<6&4294967295|P>>>26),P=O+(b^(E|~R))+A[15]+4264355552&4294967295,O=E+(P<<10&4294967295|P>>>22),P=R+(E^(O|~b))+A[6]+2734768916&4294967295,R=O+(P<<15&4294967295|P>>>17),P=b+(O^(R|~E))+A[13]+1309151649&4294967295,b=R+(P<<21&4294967295|P>>>11),P=E+(R^(b|~O))+A[4]+4149444226&4294967295,E=b+(P<<6&4294967295|P>>>26),P=O+(b^(E|~R))+A[11]+3174756917&4294967295,O=E+(P<<10&4294967295|P>>>22),P=R+(E^(O|~b))+A[2]+718787259&4294967295,R=O+(P<<15&4294967295|P>>>17),P=b+(O^(R|~E))+A[9]+3951481745&4294967295,x.g[0]=x.g[0]+E&4294967295,x.g[1]=x.g[1]+(R+(P<<21&4294967295|P>>>11))&4294967295,x.g[2]=x.g[2]+R&4294967295,x.g[3]=x.g[3]+O&4294967295}s.prototype.u=function(x,E){E===void 0&&(E=x.length);for(var b=E-this.blockSize,A=this.B,R=this.h,O=0;O<E;){if(R==0)for(;O<=b;)r(this,x,O),O+=this.blockSize;if(typeof x=="string"){for(;O<E;)if(A[R++]=x.charCodeAt(O++),R==this.blockSize){r(this,A),R=0;break}}else for(;O<E;)if(A[R++]=x[O++],R==this.blockSize){r(this,A),R=0;break}}this.h=R,this.o+=E},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var E=1;E<x.length-8;++E)x[E]=0;var b=8*this.o;for(E=x.length-8;E<x.length;++E)x[E]=b&255,b/=256;for(this.u(x),x=Array(16),E=b=0;4>E;++E)for(var A=0;32>A;A+=8)x[b++]=this.g[E]>>>A&255;return x};function i(x,E){var b=a;return Object.prototype.hasOwnProperty.call(b,x)?b[x]:b[x]=E(x)}function o(x,E){this.h=E;for(var b=[],A=!0,R=x.length-1;0<=R;R--){var O=x[R]|0;A&&O==E||(b[R]=O,A=!1)}this.g=b}var a={};function u(x){return-128<=x&&128>x?i(x,function(E){return new o([E|0],0>E?-1:0)}):new o([x|0],0>x?-1:0)}function c(x){if(isNaN(x)||!isFinite(x))return f;if(0>x)return C(c(-x));for(var E=[],b=1,A=0;x>=b;A++)E[A]=x/b|0,b*=4294967296;return new o(E,0)}function d(x,E){if(x.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(x.charAt(0)=="-")return C(d(x.substring(1),E));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=c(Math.pow(E,8)),A=f,R=0;R<x.length;R+=8){var O=Math.min(8,x.length-R),P=parseInt(x.substring(R,R+O),E);8>O?(O=c(Math.pow(E,O)),A=A.j(O).add(c(P))):(A=A.j(b),A=A.add(c(P)))}return A}var f=u(0),p=u(1),g=u(16777216);t=o.prototype,t.m=function(){if(I(this))return-C(this).m();for(var x=0,E=1,b=0;b<this.g.length;b++){var A=this.i(b);x+=(0<=A?A:4294967296+A)*E,E*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(w(this))return"0";if(I(this))return"-"+C(this).toString(x);for(var E=c(Math.pow(x,6)),b=this,A="";;){var R=S(b,E).g;b=V(b,R.j(E));var O=((0<b.g.length?b.g[0]:b.h)>>>0).toString(x);if(b=R,w(b))return O+A;for(;6>O.length;)O="0"+O;A=O+A}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function w(x){if(x.h!=0)return!1;for(var E=0;E<x.g.length;E++)if(x.g[E]!=0)return!1;return!0}function I(x){return x.h==-1}t.l=function(x){return x=V(this,x),I(x)?-1:w(x)?0:1};function C(x){for(var E=x.g.length,b=[],A=0;A<E;A++)b[A]=~x.g[A];return new o(b,~x.h).add(p)}t.abs=function(){return I(this)?C(this):this},t.add=function(x){for(var E=Math.max(this.g.length,x.g.length),b=[],A=0,R=0;R<=E;R++){var O=A+(this.i(R)&65535)+(x.i(R)&65535),P=(O>>>16)+(this.i(R)>>>16)+(x.i(R)>>>16);A=P>>>16,O&=65535,P&=65535,b[R]=P<<16|O}return new o(b,b[b.length-1]&-2147483648?-1:0)};function V(x,E){return x.add(C(E))}t.j=function(x){if(w(this)||w(x))return f;if(I(this))return I(x)?C(this).j(C(x)):C(C(this).j(x));if(I(x))return C(this.j(C(x)));if(0>this.l(g)&&0>x.l(g))return c(this.m()*x.m());for(var E=this.g.length+x.g.length,b=[],A=0;A<2*E;A++)b[A]=0;for(A=0;A<this.g.length;A++)for(var R=0;R<x.g.length;R++){var O=this.i(A)>>>16,P=this.i(A)&65535,Te=x.i(R)>>>16,Ie=x.i(R)&65535;b[2*A+2*R]+=P*Ie,_(b,2*A+2*R),b[2*A+2*R+1]+=O*Ie,_(b,2*A+2*R+1),b[2*A+2*R+1]+=P*Te,_(b,2*A+2*R+1),b[2*A+2*R+2]+=O*Te,_(b,2*A+2*R+2)}for(A=0;A<E;A++)b[A]=b[2*A+1]<<16|b[2*A];for(A=E;A<2*E;A++)b[A]=0;return new o(b,0)};function _(x,E){for(;(x[E]&65535)!=x[E];)x[E+1]+=x[E]>>>16,x[E]&=65535,E++}function v(x,E){this.g=x,this.h=E}function S(x,E){if(w(E))throw Error("division by zero");if(w(x))return new v(f,f);if(I(x))return E=S(C(x),E),new v(C(E.g),C(E.h));if(I(E))return E=S(x,C(E)),new v(C(E.g),E.h);if(30<x.g.length){if(I(x)||I(E))throw Error("slowDivide_ only works with positive integers.");for(var b=p,A=E;0>=A.l(x);)b=M(b),A=M(A);var R=$(b,1),O=$(A,1);for(A=$(A,2),b=$(b,2);!w(A);){var P=O.add(A);0>=P.l(x)&&(R=R.add(b),O=P),A=$(A,1),b=$(b,1)}return E=V(x,R.j(E)),new v(R,E)}for(R=f;0<=x.l(E);){for(b=Math.max(1,Math.floor(x.m()/E.m())),A=Math.ceil(Math.log(b)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),O=c(b),P=O.j(E);I(P)||0<P.l(x);)b-=A,O=c(b),P=O.j(E);w(O)&&(O=p),R=R.add(O),x=V(x,P)}return new v(R,x)}t.A=function(x){return S(this,x).h},t.and=function(x){for(var E=Math.max(this.g.length,x.g.length),b=[],A=0;A<E;A++)b[A]=this.i(A)&x.i(A);return new o(b,this.h&x.h)},t.or=function(x){for(var E=Math.max(this.g.length,x.g.length),b=[],A=0;A<E;A++)b[A]=this.i(A)|x.i(A);return new o(b,this.h|x.h)},t.xor=function(x){for(var E=Math.max(this.g.length,x.g.length),b=[],A=0;A<E;A++)b[A]=this.i(A)^x.i(A);return new o(b,this.h^x.h)};function M(x){for(var E=x.g.length+1,b=[],A=0;A<E;A++)b[A]=x.i(A)<<1|x.i(A-1)>>>31;return new o(b,x.h)}function $(x,E){var b=E>>5;E%=32;for(var A=x.g.length-b,R=[],O=0;O<A;O++)R[O]=0<E?x.i(O+b)>>>E|x.i(O+b+1)<<32-E:x.i(O+b);return new o(R,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,sm=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Zn=o}).apply(typeof af<"u"?af:typeof self<"u"?self:typeof window<"u"?window:{});var eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rm,qr,im,fo,ql,om,am,lm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,m){return l==Array.prototype||l==Object.prototype||(l[h]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof eo=="object"&&eo];for(var h=0;h<l.length;++h){var m=l[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var s=n(this);function r(l,h){if(h)e:{var m=s;l=l.split(".");for(var T=0;T<l.length-1;T++){var L=l[T];if(!(L in m))break e;m=m[L]}l=l[l.length-1],T=m[l],h=h(T),h!=T&&h!=null&&e(m,l,{configurable:!0,writable:!0,value:h})}}function i(l,h){l instanceof String&&(l+="");var m=0,T=!1,L={next:function(){if(!T&&m<l.length){var B=m++;return{value:h(B,l[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}r("Array.prototype.values",function(l){return l||function(){return i(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,m){return l.call.apply(l.bind,arguments)}function f(l,h,m){if(!l)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),l.apply(h,L)}}return function(){return l.apply(h,arguments)}}function p(l,h,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function g(l,h){var m=Array.prototype.slice.call(arguments,1);return function(){var T=m.slice();return T.push.apply(T,arguments),l.apply(this,T)}}function w(l,h){function m(){}m.prototype=h.prototype,l.aa=h.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(T,L,B){for(var X=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)X[Be-2]=arguments[Be];return h.prototype[L].apply(T,X)}}function I(l){const h=l.length;if(0<h){const m=Array(h);for(let T=0;T<h;T++)m[T]=l[T];return m}return[]}function C(l,h){for(let m=1;m<arguments.length;m++){const T=arguments[m];if(u(T)){const L=l.length||0,B=T.length||0;l.length=L+B;for(let X=0;X<B;X++)l[L+X]=T[X]}else l.push(T)}}class V{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function _(l){return/^[\s\xa0]*$/.test(l)}function v(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function S(l){return S[" "](l),l}S[" "]=function(){};var M=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function $(l,h,m){for(const T in l)h.call(m,l[T],T,l)}function x(l,h){for(const m in l)h.call(void 0,l[m],m,l)}function E(l){const h={};for(const m in l)h[m]=l[m];return h}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(l,h){let m,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(m in T)l[m]=T[m];for(let B=0;B<b.length;B++)m=b[B],Object.prototype.hasOwnProperty.call(T,m)&&(l[m]=T[m])}}function R(l){var h=1;l=l.split(":");const m=[];for(;0<h&&l.length;)m.push(l.shift()),h--;return l.length&&m.push(l.join(":")),m}function O(l){a.setTimeout(()=>{throw l},0)}function P(){var l=Ke;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Te{constructor(){this.h=this.g=null}add(h,m){const T=Ie.get();T.set(h,m),this.h?this.h.next=T:this.g=T,this.h=T}}var Ie=new V(()=>new se,l=>l.reset());class se{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let de,fe=!1,Ke=new Te,Dt=()=>{const l=a.Promise.resolve(void 0);de=()=>{l.then(Mt)}};var Mt=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(m){O(m)}var h=Ie;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}fe=!1};function qe(){this.s=this.s,this.C=this.C}qe.prototype.s=!1,qe.prototype.ma=function(){this.s||(this.s=!0,this.N())},qe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function We(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}We.prototype.h=function(){this.defaultPrevented=!0};var Fn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return l}();function ln(l,h){if(We.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,T=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(M){e:{try{S(h.nodeName);var L=!0;break e}catch{}L=!1}L||(h=null)}}else m=="mouseover"?h=l.fromElement:m=="mouseout"&&(h=l.toElement);this.relatedTarget=h,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ot[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ln.aa.h.call(this)}}w(ln,We);var Ot={2:"touch",3:"pen",4:"mouse"};ln.prototype.h=function(){ln.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),te=0;function Z(l,h,m,T,L){this.listener=l,this.proxy=null,this.src=h,this.type=m,this.capture=!!T,this.ha=L,this.key=++te,this.da=this.fa=!1}function re(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ke(l){this.src=l,this.g={},this.h=0}ke.prototype.add=function(l,h,m,T,L){var B=l.toString();l=this.g[B],l||(l=this.g[B]=[],this.h++);var X=D(l,h,T,L);return-1<X?(h=l[X],m||(h.fa=!1)):(h=new Z(h,this.src,B,!!T,L),h.fa=m,l.push(h)),h};function k(l,h){var m=h.type;if(m in l.g){var T=l.g[m],L=Array.prototype.indexOf.call(T,h,void 0),B;(B=0<=L)&&Array.prototype.splice.call(T,L,1),B&&(re(h),l.g[m].length==0&&(delete l.g[m],l.h--))}}function D(l,h,m,T){for(var L=0;L<l.length;++L){var B=l[L];if(!B.da&&B.listener==h&&B.capture==!!m&&B.ha==T)return L}return-1}var N="closure_lm_"+(1e6*Math.random()|0),U={};function G(l,h,m,T,L){if(Array.isArray(h)){for(var B=0;B<h.length;B++)G(l,h[B],m,T,L);return null}return m=ge(m),l&&l[j]?l.K(h,m,c(T)?!!T.capture:!1,L):q(l,h,m,!1,T,L)}function q(l,h,m,T,L,B){if(!h)throw Error("Invalid event type");var X=c(L)?!!L.capture:!!L,Be=ee(l);if(Be||(l[N]=Be=new ke(l)),m=Be.add(h,m,T,X,B),m.proxy)return m;if(T=J(),m.proxy=T,T.src=l,T.listener=m,l.addEventListener)Fn||(L=X),L===void 0&&(L=!1),l.addEventListener(h.toString(),T,L);else if(l.attachEvent)l.attachEvent(W(h.toString()),T);else if(l.addListener&&l.removeListener)l.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return m}function J(){function l(m){return h.call(l.src,l.listener,m)}const h=he;return l}function Y(l,h,m,T,L){if(Array.isArray(h))for(var B=0;B<h.length;B++)Y(l,h[B],m,T,L);else T=c(T)?!!T.capture:!!T,m=ge(m),l&&l[j]?(l=l.i,h=String(h).toString(),h in l.g&&(B=l.g[h],m=D(B,m,T,L),-1<m&&(re(B[m]),Array.prototype.splice.call(B,m,1),B.length==0&&(delete l.g[h],l.h--)))):l&&(l=ee(l))&&(h=l.g[h.toString()],l=-1,h&&(l=D(h,m,T,L)),(m=-1<l?h[l]:null)&&Q(m))}function Q(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[j])k(h.i,l);else{var m=l.type,T=l.proxy;h.removeEventListener?h.removeEventListener(m,T,l.capture):h.detachEvent?h.detachEvent(W(m),T):h.addListener&&h.removeListener&&h.removeListener(T),(m=ee(h))?(k(m,l),m.h==0&&(m.src=null,h[N]=null)):re(l)}}}function W(l){return l in U?U[l]:U[l]="on"+l}function he(l,h){if(l.da)l=!0;else{h=new ln(h,this);var m=l.listener,T=l.ha||l.src;l.fa&&Q(l),l=m.call(T,h)}return l}function ee(l){return l=l[N],l instanceof ke?l:null}var oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ge(l){return typeof l=="function"?l:(l[oe]||(l[oe]=function(h){return l.handleEvent(h)}),l[oe])}function pe(){qe.call(this),this.i=new ke(this),this.M=this,this.F=null}w(pe,qe),pe.prototype[j]=!0,pe.prototype.removeEventListener=function(l,h,m,T){Y(this,l,h,m,T)};function Ee(l,h){var m,T=l.F;if(T)for(m=[];T;T=T.F)m.push(T);if(l=l.M,T=h.type||h,typeof h=="string")h=new We(h,l);else if(h instanceof We)h.target=h.target||l;else{var L=h;h=new We(T,l),A(h,L)}if(L=!0,m)for(var B=m.length-1;0<=B;B--){var X=h.g=m[B];L=Ce(X,T,!0,h)&&L}if(X=h.g=l,L=Ce(X,T,!0,h)&&L,L=Ce(X,T,!1,h)&&L,m)for(B=0;B<m.length;B++)X=h.g=m[B],L=Ce(X,T,!1,h)&&L}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var m=l.g[h],T=0;T<m.length;T++)re(m[T]);delete l.g[h],l.h--}}this.F=null},pe.prototype.K=function(l,h,m,T){return this.i.add(String(l),h,!1,m,T)},pe.prototype.L=function(l,h,m,T){return this.i.add(String(l),h,!0,m,T)};function Ce(l,h,m,T){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var L=!0,B=0;B<h.length;++B){var X=h[B];if(X&&!X.da&&X.capture==m){var Be=X.listener,ct=X.ha||X.src;X.fa&&k(l.i,X),L=Be.call(ct,T)!==!1&&L}}return L&&!T.defaultPrevented}function vt(l,h,m){if(typeof l=="function")m&&(l=p(l,m));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function lt(l){l.g=vt(()=>{l.g=null,l.i&&(l.i=!1,lt(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class Qt extends qe{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:lt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yt(l){qe.call(this),this.h=l,this.g={}}w(yt,qe);var Bn=[];function Sr(l){$(l.g,function(h,m){this.g.hasOwnProperty(m)&&Q(h)},l),l.g={}}yt.prototype.N=function(){yt.aa.N.call(this),Sr(this)},yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ut=a.JSON.stringify,Yt=a.JSON.parse,Mi=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Na(){}Na.prototype.h=null;function Cc(l){return l.h||(l.h=l.i())}function Pc(){}var Ir={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function La(){We.call(this,"d")}w(La,We);function $a(){We.call(this,"c")}w($a,We);var ms={},Rc=null;function Oi(){return Rc=Rc||new pe}ms.La="serverreachability";function kc(l){We.call(this,ms.La,l)}w(kc,We);function Ar(l){const h=Oi();Ee(h,new kc(h))}ms.STAT_EVENT="statevent";function Vc(l,h){We.call(this,ms.STAT_EVENT,l),this.stat=h}w(Vc,We);function Pt(l){const h=Oi();Ee(h,new Vc(h,l))}ms.Ma="timingevent";function Dc(l,h){We.call(this,ms.Ma,l),this.size=h}w(Dc,We);function xr(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Cr(){this.g=!0}Cr.prototype.xa=function(){this.g=!1};function Bv(l,h,m,T,L,B){l.info(function(){if(l.g)if(B)for(var X="",Be=B.split("&"),ct=0;ct<Be.length;ct++){var Ve=Be[ct].split("=");if(1<Ve.length){var _t=Ve[0];Ve=Ve[1];var wt=_t.split("_");X=2<=wt.length&&wt[1]=="type"?X+(_t+"="+Ve+"&"):X+(_t+"=redacted&")}}else X=null;else X=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+h+`
`+m+`
`+X})}function jv(l,h,m,T,L,B,X){l.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+h+`
`+m+`
`+B+" "+X})}function Fs(l,h,m,T){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+zv(l,m)+(T?" "+T:"")})}function Uv(l,h){l.info(function(){return"TIMEOUT: "+h})}Cr.prototype.info=function(){};function zv(l,h){if(!l.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var T=m[l];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var B=L[0];if(B!="noop"&&B!="stop"&&B!="close")for(var X=1;X<L.length;X++)L[X]=""}}}}return ut(m)}catch{return h}}var Ni={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fa;function Li(){}w(Li,Na),Li.prototype.g=function(){return new XMLHttpRequest},Li.prototype.i=function(){return{}},Fa=new Li;function jn(l,h,m,T){this.j=l,this.i=h,this.l=m,this.R=T||1,this.U=new yt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oc}function Oc(){this.i=null,this.g="",this.h=!1}var Nc={},Ba={};function ja(l,h,m){l.L=1,l.v=ji(Sn(h)),l.m=m,l.P=!0,Lc(l,null)}function Lc(l,h){l.F=Date.now(),$i(l),l.A=Sn(l.v);var m=l.A,T=l.R;Array.isArray(T)||(T=[String(T)]),Xc(m.i,"t",T),l.C=0,m=l.j.J,l.h=new Oc,l.g=md(l.j,m?h:null,!l.m),0<l.O&&(l.M=new Qt(p(l.Y,l,l.g),l.O)),h=l.U,m=l.g,T=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(Bn[0]=L.toString()),L=Bn);for(var B=0;B<L.length;B++){var X=G(m,L[B],T||h.handleEvent,!1,h.h||h);if(!X)break;h.g[X.key]=X}h=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Ar(),Bv(l.i,l.u,l.A,l.l,l.R,l.m)}jn.prototype.ca=function(l){l=l.target;const h=this.M;h&&In(l)==3?h.j():this.Y(l)},jn.prototype.Y=function(l){try{if(l==this.g)e:{const wt=In(this.g);var h=this.g.Ba();const Us=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||rd(this.g)))){this.J||wt!=4||h==7||(h==8||0>=Us?Ar(3):Ar(2)),Ua(this);var m=this.g.Z();this.X=m;t:if($c(this)){var T=rd(this.g);l="";var L=T.length,B=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gs(this),Pr(this);var X="";break t}this.h.i=new a.TextDecoder}for(h=0;h<L;h++)this.h.h=!0,l+=this.h.i.decode(T[h],{stream:!(B&&h==L-1)});T.length=0,this.h.g+=l,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=m==200,jv(this.i,this.u,this.A,this.l,this.R,wt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,ct=this.g;if((Be=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Be)){var Ve=Be;break t}}Ve=null}if(m=Ve)Fs(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,za(this,m);else{this.o=!1,this.s=3,Pt(12),gs(this),Pr(this);break e}}if(this.P){m=!0;let tn;for(;!this.J&&this.C<X.length;)if(tn=qv(this,X),tn==Ba){wt==4&&(this.s=4,Pt(14),m=!1),Fs(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==Nc){this.s=4,Pt(15),Fs(this.i,this.l,X,"[Invalid Chunk]"),m=!1;break}else Fs(this.i,this.l,tn,null),za(this,tn);if($c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||X.length!=0||this.h.h||(this.s=1,Pt(16),m=!1),this.o=this.o&&m,!m)Fs(this.i,this.l,X,"[Invalid Chunked Response]"),gs(this),Pr(this);else if(0<X.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Qa(_t),_t.M=!0,Pt(11))}}else Fs(this.i,this.l,X,null),za(this,X);wt==4&&gs(this),this.o&&!this.J&&(wt==4?dd(this.j,this):(this.o=!1,$i(this)))}else ay(this.g),m==400&&0<X.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),gs(this),Pr(this)}}}catch{}finally{}};function $c(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function qv(l,h){var m=l.C,T=h.indexOf(`
`,m);return T==-1?Ba:(m=Number(h.substring(m,T)),isNaN(m)?Nc:(T+=1,T+m>h.length?Ba:(h=h.slice(T,T+m),l.C=T+m,h)))}jn.prototype.cancel=function(){this.J=!0,gs(this)};function $i(l){l.S=Date.now()+l.I,Fc(l,l.I)}function Fc(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=xr(p(l.ba,l),h)}function Ua(l){l.B&&(a.clearTimeout(l.B),l.B=null)}jn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Uv(this.i,this.A),this.L!=2&&(Ar(),Pt(17)),gs(this),this.s=2,Pr(this)):Fc(this,this.S-l)};function Pr(l){l.j.G==0||l.J||dd(l.j,l)}function gs(l){Ua(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,Sr(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function za(l,h){try{var m=l.j;if(m.G!=0&&(m.g==l||qa(m.h,l))){if(!l.K&&qa(m.h,l)&&m.G==3){try{var T=m.Da.g.parse(h)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)Ki(m),Hi(m);else break e;Wa(m),Pt(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=xr(p(m.Za,m),6e3));if(1>=Uc(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ys(m,11)}else if((l.K||m.g==l)&&Ki(m),!_(h))for(L=m.Da.g.parse(h),h=0;h<L.length;h++){let Ve=L[h];if(m.T=Ve[0],Ve=Ve[1],m.G==2)if(Ve[0]=="c"){m.K=Ve[1],m.ia=Ve[2];const _t=Ve[3];_t!=null&&(m.la=_t,m.j.info("VER="+m.la));const wt=Ve[4];wt!=null&&(m.Aa=wt,m.j.info("SVER="+m.Aa));const Us=Ve[5];Us!=null&&typeof Us=="number"&&0<Us&&(T=1.5*Us,m.L=T,m.j.info("backChannelRequestTimeoutMs_="+T)),T=m;const tn=l.g;if(tn){const Qi=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qi){var B=T.h;B.g||Qi.indexOf("spdy")==-1&&Qi.indexOf("quic")==-1&&Qi.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ha(B,B.h),B.h=null))}if(T.D){const Ya=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ya&&(T.ya=Ya,He(T.I,T.D,Ya))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),T=m;var X=l;if(T.qa=pd(T,T.J?T.ia:null,T.W),X.K){zc(T.h,X);var Be=X,ct=T.L;ct&&(Be.I=ct),Be.B&&(Ua(Be),$i(Be)),T.g=X}else ud(T);0<m.i.length&&Gi(m)}else Ve[0]!="stop"&&Ve[0]!="close"||ys(m,7);else m.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?ys(m,7):Ka(m):Ve[0]!="noop"&&m.l&&m.l.ta(Ve),m.v=0)}}Ar(4)}catch{}}var Hv=class{constructor(l,h){this.g=l,this.map=h}};function Bc(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jc(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Uc(l){return l.h?1:l.g?l.g.size:0}function qa(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Ha(l,h){l.g?l.g.add(h):l.h=h}function zc(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Bc.prototype.cancel=function(){if(this.i=qc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function qc(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const m of l.g.values())h=h.concat(m.D);return h}return I(l.i)}function Gv(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],m=l.length,T=0;T<m;T++)h.push(l[T]);return h}h=[],m=0;for(T in l)h[m++]=l[T];return h}function Kv(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var m=0;m<l;m++)h.push(m);return h}h=[],m=0;for(const T in l)h[m++]=T;return h}}}function Hc(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var m=Kv(l),T=Gv(l),L=T.length,B=0;B<L;B++)h.call(void 0,T[B],m&&m[B],l)}var Gc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wv(l,h){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var T=l[m].indexOf("="),L=null;if(0<=T){var B=l[m].substring(0,T);L=l[m].substring(T+1)}else B=l[m];h(B,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function vs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof vs){this.h=l.h,Fi(this,l.j),this.o=l.o,this.g=l.g,Bi(this,l.s),this.l=l.l;var h=l.i,m=new Vr;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),Kc(this,m),this.m=l.m}else l&&(h=String(l).match(Gc))?(this.h=!1,Fi(this,h[1]||"",!0),this.o=Rr(h[2]||""),this.g=Rr(h[3]||"",!0),Bi(this,h[4]),this.l=Rr(h[5]||"",!0),Kc(this,h[6]||"",!0),this.m=Rr(h[7]||"")):(this.h=!1,this.i=new Vr(null,this.h))}vs.prototype.toString=function(){var l=[],h=this.j;h&&l.push(kr(h,Wc,!0),":");var m=this.g;return(m||h=="file")&&(l.push("//"),(h=this.o)&&l.push(kr(h,Wc,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(kr(m,m.charAt(0)=="/"?Xv:Yv,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",kr(m,Zv)),l.join("")};function Sn(l){return new vs(l)}function Fi(l,h,m){l.j=m?Rr(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Bi(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function Kc(l,h,m){h instanceof Vr?(l.i=h,ey(l.i,l.h)):(m||(h=kr(h,Jv)),l.i=new Vr(h,l.h))}function He(l,h,m){l.i.set(h,m)}function ji(l){return He(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Rr(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function kr(l,h,m){return typeof l=="string"?(l=encodeURI(l).replace(h,Qv),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Qv(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Wc=/[#\/\?@]/g,Yv=/[#\?:]/g,Xv=/[#\?]/g,Jv=/[#\?@]/g,Zv=/#/g;function Vr(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Un(l){l.g||(l.g=new Map,l.h=0,l.i&&Wv(l.i,function(h,m){l.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=Vr.prototype,t.add=function(l,h){Un(this),this.i=null,l=Bs(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(h),this.h+=1,this};function Qc(l,h){Un(l),h=Bs(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Yc(l,h){return Un(l),h=Bs(l,h),l.g.has(h)}t.forEach=function(l,h){Un(this),this.g.forEach(function(m,T){m.forEach(function(L){l.call(h,L,T,this)},this)},this)},t.na=function(){Un(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let T=0;T<h.length;T++){const L=l[T];for(let B=0;B<L.length;B++)m.push(h[T])}return m},t.V=function(l){Un(this);let h=[];if(typeof l=="string")Yc(this,l)&&(h=h.concat(this.g.get(Bs(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)h=h.concat(l[m])}return h},t.set=function(l,h){return Un(this),this.i=null,l=Bs(this,l),Yc(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Xc(l,h,m){Qc(l,h),0<m.length&&(l.i=null,l.g.set(Bs(l,h),I(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var T=h[m];const B=encodeURIComponent(String(T)),X=this.V(T);for(T=0;T<X.length;T++){var L=B;X[T]!==""&&(L+="="+encodeURIComponent(String(X[T]))),l.push(L)}}return this.i=l.join("&")};function Bs(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function ey(l,h){h&&!l.j&&(Un(l),l.i=null,l.g.forEach(function(m,T){var L=T.toLowerCase();T!=L&&(Qc(this,T),Xc(this,L,m))},l)),l.j=h}function ty(l,h){const m=new Cr;if(a.Image){const T=new Image;T.onload=g(zn,m,"TestLoadImage: loaded",!0,h,T),T.onerror=g(zn,m,"TestLoadImage: error",!1,h,T),T.onabort=g(zn,m,"TestLoadImage: abort",!1,h,T),T.ontimeout=g(zn,m,"TestLoadImage: timeout",!1,h,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=l}else h(!1)}function ny(l,h){const m=new Cr,T=new AbortController,L=setTimeout(()=>{T.abort(),zn(m,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?zn(m,"TestPingServer: ok",!0,h):zn(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(L),zn(m,"TestPingServer: error",!1,h)})}function zn(l,h,m,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(m)}catch{}}function sy(){this.g=new Mi}function ry(l,h,m){const T=m||"";try{Hc(l,function(L,B){let X=L;c(L)&&(X=ut(L)),h.push(T+B+"="+encodeURIComponent(X))})}catch(L){throw h.push(T+"type="+encodeURIComponent("_badmap")),L}}function Ui(l){this.l=l.Ub||null,this.j=l.eb||!1}w(Ui,Na),Ui.prototype.g=function(){return new zi(this.l,this.j)},Ui.prototype.i=function(l){return function(){return l}}({});function zi(l,h){pe.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(zi,pe),t=zi.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Mr(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Mr(this)),this.g&&(this.readyState=3,Mr(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jc(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jc(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Dr(this):Mr(this),this.readyState==3&&Jc(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Dr(this))},t.Qa=function(l){this.g&&(this.response=l,Dr(this))},t.ga=function(){this.g&&Dr(this)};function Dr(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Mr(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=h.next();return l.join(`\r
`)};function Mr(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Zc(l){let h="";return $(l,function(m,T){h+=T,h+=":",h+=m,h+=`\r
`}),h}function Ga(l,h,m){e:{for(T in m){var T=!1;break e}T=!0}T||(m=Zc(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):He(l,h,m))}function Ye(l){pe.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Ye,pe);var iy=/^https?$/i,oy=["POST","PUT"];t=Ye.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,m,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fa.g(),this.v=this.o?Cc(this.o):Cc(Fa),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(B){ed(this,B);return}if(l=m||"",m=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)m.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())m.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(m.keys()).find(B=>B.toLowerCase()=="content-type"),L=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(oy,h,void 0))||T||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,X]of m)this.g.setRequestHeader(B,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sd(this),this.u=!0,this.g.send(l),this.u=!1}catch(B){ed(this,B)}};function ed(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,td(l),qi(l)}function td(l){l.A||(l.A=!0,Ee(l,"complete"),Ee(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ee(this,"complete"),Ee(this,"abort"),qi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?nd(this):this.bb())},t.bb=function(){nd(this)};function nd(l){if(l.h&&typeof o<"u"&&(!l.v[1]||In(l)!=4||l.Z()!=2)){if(l.u&&In(l)==4)vt(l.Ea,0,l);else if(Ee(l,"readystatechange"),In(l)==4){l.h=!1;try{const X=l.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var T;if(T=X===0){var L=String(l.D).match(Gc)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),T=!iy.test(L?L.toLowerCase():"")}m=T}if(m)Ee(l,"complete"),Ee(l,"success");else{l.m=6;try{var B=2<In(l)?l.g.statusText:""}catch{B=""}l.l=B+" ["+l.Z()+"]",td(l)}}finally{qi(l)}}}}function qi(l,h){if(l.g){sd(l);const m=l.g,T=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||Ee(l,"ready");try{m.onreadystatechange=T}catch{}}}function sd(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function In(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Yt(h)}};function rd(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ay(l){const h={};l=(l.g&&2<=In(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<l.length;T++){if(_(l[T]))continue;var m=R(l[T]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const B=h[L]||[];h[L]=B,B.push(m)}x(h,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Or(l,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||h}function id(l){this.Aa=0,this.i=[],this.j=new Cr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Or("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Or("baseRetryDelayMs",5e3,l),this.cb=Or("retryDelaySeedMs",1e4,l),this.Wa=Or("forwardChannelMaxRetries",2,l),this.wa=Or("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Bc(l&&l.concurrentRequestLimit),this.Da=new sy,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=id.prototype,t.la=8,t.G=1,t.connect=function(l,h,m,T){Pt(0),this.W=l,this.H=h||{},m&&T!==void 0&&(this.H.OSID=m,this.H.OAID=T),this.F=this.X,this.I=pd(this,null,this.W),Gi(this)};function Ka(l){if(od(l),l.G==3){var h=l.U++,m=Sn(l.I);if(He(m,"SID",l.K),He(m,"RID",h),He(m,"TYPE","terminate"),Nr(l,m),h=new jn(l,l.j,h),h.L=2,h.v=ji(Sn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.v,m=!0),m||(h.g=md(h.j,null),h.g.ea(h.v)),h.F=Date.now(),$i(h)}hd(l)}function Hi(l){l.g&&(Qa(l),l.g.cancel(),l.g=null)}function od(l){Hi(l),l.u&&(a.clearTimeout(l.u),l.u=null),Ki(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Gi(l){if(!jc(l.h)&&!l.s){l.s=!0;var h=l.Ga;de||Dt(),fe||(de(),fe=!0),Ke.add(h,l),l.B=0}}function ly(l,h){return Uc(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=xr(p(l.Ga,l,h),fd(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new jn(this,this.j,l);let B=this.o;if(this.S&&(B?(B=E(B),A(B,this.S)):B=this.S),this.m!==null||this.O||(L.H=B,B=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var T=this.i[m];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(h+=T,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=ld(this,L,h),m=Sn(this.I),He(m,"RID",l),He(m,"CVER",22),this.D&&He(m,"X-HTTP-Session-Id",this.D),Nr(this,m),B&&(this.O?h="headers="+encodeURIComponent(String(Zc(B)))+"&"+h:this.m&&Ga(m,this.m,B)),Ha(this.h,L),this.Ua&&He(m,"TYPE","init"),this.P?(He(m,"$req",h),He(m,"SID","null"),L.T=!0,ja(L,m,null)):ja(L,m,h),this.G=2}}else this.G==3&&(l?ad(this,l):this.i.length==0||jc(this.h)||ad(this))};function ad(l,h){var m;h?m=h.l:m=l.U++;const T=Sn(l.I);He(T,"SID",l.K),He(T,"RID",m),He(T,"AID",l.T),Nr(l,T),l.m&&l.o&&Ga(T,l.m,l.o),m=new jn(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),h&&(l.i=h.D.concat(l.i)),h=ld(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ha(l.h,m),ja(m,T,h)}function Nr(l,h){l.H&&$(l.H,function(m,T){He(h,T,m)}),l.l&&Hc({},function(m,T){He(h,T,m)})}function ld(l,h,m){m=Math.min(l.i.length,m);var T=l.l?p(l.l.Na,l.l,l):null;e:{var L=l.i;let B=-1;for(;;){const X=["count="+m];B==-1?0<m?(B=L[0].g,X.push("ofs="+B)):B=0:X.push("ofs="+B);let Be=!0;for(let ct=0;ct<m;ct++){let Ve=L[ct].g;const _t=L[ct].map;if(Ve-=B,0>Ve)B=Math.max(0,L[ct].g-100),Be=!1;else try{ry(_t,X,"req"+Ve+"_")}catch{T&&T(_t)}}if(Be){T=X.join("&");break e}}}return l=l.i.splice(0,m),h.D=l,T}function ud(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;de||Dt(),fe||(de(),fe=!0),Ke.add(h,l),l.v=0}}function Wa(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=xr(p(l.Fa,l),fd(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,cd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=xr(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),Hi(this),cd(this))};function Qa(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function cd(l){l.g=new jn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Sn(l.qa);He(h,"RID","rpc"),He(h,"SID",l.K),He(h,"AID",l.T),He(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&He(h,"TO",l.ja),He(h,"TYPE","xmlhttp"),Nr(l,h),l.m&&l.o&&Ga(h,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=ji(Sn(h)),m.m=null,m.P=!0,Lc(m,l)}t.Za=function(){this.C!=null&&(this.C=null,Hi(this),Wa(this),Pt(19))};function Ki(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function dd(l,h){var m=null;if(l.g==h){Ki(l),Qa(l),l.g=null;var T=2}else if(qa(l.h,h))m=h.D,zc(l.h,h),T=1;else return;if(l.G!=0){if(h.o)if(T==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var L=l.B;T=Oi(),Ee(T,new Dc(T,m)),Gi(l)}else ud(l);else if(L=h.s,L==3||L==0&&0<h.X||!(T==1&&ly(l,h)||T==2&&Wa(l)))switch(m&&0<m.length&&(h=l.h,h.i=h.i.concat(m)),L){case 1:ys(l,5);break;case 4:ys(l,10);break;case 3:ys(l,6);break;default:ys(l,2)}}}function fd(l,h){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*h}function ys(l,h){if(l.j.info("Error code "+h),h==2){var m=p(l.fb,l),T=l.Xa;const L=!T;T=new vs(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Fi(T,"https"),ji(T),L?ty(T.toString(),m):ny(T.toString(),m)}else Pt(2);l.G=0,l.l&&l.l.sa(h),hd(l),od(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function hd(l){if(l.G=0,l.ka=[],l.l){const h=qc(l.h);(h.length!=0||l.i.length!=0)&&(C(l.ka,h),C(l.ka,l.i),l.h.i.length=0,I(l.i),l.i.length=0),l.l.ra()}}function pd(l,h,m){var T=m instanceof vs?Sn(m):new vs(m);if(T.g!="")h&&(T.g=h+"."+T.g),Bi(T,T.s);else{var L=a.location;T=L.protocol,h=h?h+"."+L.hostname:L.hostname,L=+L.port;var B=new vs(null);T&&Fi(B,T),h&&(B.g=h),L&&Bi(B,L),m&&(B.l=m),T=B}return m=l.D,h=l.ya,m&&h&&He(T,m,h),He(T,"VER",l.la),Nr(l,T),T}function md(l,h,m){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Ye(new Ui({eb:m})):new Ye(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gd(){}t=gd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wi(){}Wi.prototype.g=function(l,h){return new jt(l,h)};function jt(l,h){pe.call(this),this.g=new id(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!_(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!_(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new js(this)}w(jt,pe),jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){Ka(this.g)},jt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=ut(l),l=m);h.i.push(new Hv(h.Ya++,l)),h.G==3&&Gi(h)},jt.prototype.N=function(){this.g.l=null,delete this.j,Ka(this.g),delete this.g,jt.aa.N.call(this)};function vd(l){La.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const m in h){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}w(vd,La);function yd(){$a.call(this),this.status=1}w(yd,$a);function js(l){this.g=l}w(js,gd),js.prototype.ua=function(){Ee(this.g,"a")},js.prototype.ta=function(l){Ee(this.g,new vd(l))},js.prototype.sa=function(l){Ee(this.g,new yd)},js.prototype.ra=function(){Ee(this.g,"b")},Wi.prototype.createWebChannel=Wi.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,lm=function(){return new Wi},am=function(){return Oi()},om=ms,ql={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ni.NO_ERROR=0,Ni.TIMEOUT=8,Ni.HTTP_ERROR=6,fo=Ni,Mc.COMPLETE="complete",im=Mc,Pc.EventType=Ir,Ir.OPEN="a",Ir.CLOSE="b",Ir.ERROR="c",Ir.MESSAGE="d",pe.prototype.listen=pe.prototype.K,qr=Pc,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,rm=Ye}).apply(typeof eo<"u"?eo:typeof self<"u"?self:typeof window<"u"?window:{});const lf="@firebase/firestore",uf="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yr="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new ku("@firebase/firestore");function Hs(){return Cs.logLevel}function ne(t,...e){if(Cs.logLevel<=Re.DEBUG){const n=e.map(Du);Cs.debug(`Firestore (${yr}): ${t}`,...n)}}function On(t,...e){if(Cs.logLevel<=Re.ERROR){const n=e.map(Du);Cs.error(`Firestore (${yr}): ${t}`,...n)}}function lr(t,...e){if(Cs.logLevel<=Re.WARN){const n=e.map(Du);Cs.warn(`Firestore (${yr}): ${t}`,...n)}}function Du(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,um(t,s,n)}function um(t,e,n){let s=`FIRESTORE (${yr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw On(s),new Error(s)}function Le(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||um(e,r,s)}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends ds{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ub{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class cb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class db{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0,42304);let s=this.i;const r=u=>this.i!==s?(s=this.i,n(u)):Promise.resolve();let i=new Vn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vn,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},a=u=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Le(typeof s.accessToken=="string",31837,{l:s}),new cm(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new Et(e)}}class fb{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hb{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new fb(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pb{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kw(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Le(this.o===void 0,3512);const s=i=>{i.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cf(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=mb(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function Se(t,e){return t<e?-1:t>e?1:0}function Hl(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=t.codePointAt(n),r=e.codePointAt(n);if(s!==r){if(s<128&&r<128)return Se(s,r);{const i=dm(),o=gb(i.encode(df(t,n)),i.encode(df(e,n)));return o!==0?o:Se(s,r)}}n+=s>65535?2:1}return Se(t.length,e.length)}function df(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function gb(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Se(t[n],e[n]);return Se(t.length,e.length)}function ur(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=-62135596800,hf=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*hf);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ff)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hf}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ff;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new rt(0,0))}static max(){return new ye(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf="__name__";class dn{constructor(e,n,s){n===void 0?n=0:n>e.length&&me(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&me(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return dn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof dn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=dn.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return Se(e.length,n.length)}static compareSegments(e,n){const s=dn.isNumericId(e),r=dn.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?dn.extractNumericId(e).compare(dn.extractNumericId(n)):Hl(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zn.fromString(e.substring(4,e.length-2))}}class Ge extends dn{construct(e,n,s){return new Ge(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ie(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const vb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends dn{construct(e,n,s){return new ht(e,n,s)}static isValidIdentifier(e){return vb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pf}static keyField(){return new ht([pf])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new ie(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new ie(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ie(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new ie(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(Ge.fromString(e))}static fromName(e){return new ce(Ge.fromString(e).popFirst(5))}static empty(){return new ce(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new Ge(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=-1;function yb(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=ye.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new ss(r,ce.empty(),e)}function _b(t){return new ss(t.readTime,t.key,pi)}class ss{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ss(ye.min(),ce.empty(),pi)}static max(){return new ss(ye.max(),ce.empty(),pi)}}function wb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Eb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _r(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==bb)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,s)=>{n(e)})}static reject(e){return new H((n,s)=>{s(e)})}static waitFor(e){return new H((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},u=>s(u))}),o=!0,i===r&&n()})}static or(e){let n=H.resolve(!1);for(const s of e)n=n.next(r=>r?H.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new H((s,r)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===i&&s(o)},d=>r(d))}})}static doWhile(e,n){return new H((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function Tb(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wr(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}fa.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=-1;function ha(t){return t==null}function ko(t){return t===0&&1/t==-1/0}function Sb(t){return typeof t=="number"&&Number.isInteger(t)&&!ko(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="";function Ib(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mf(e)),e=Ab(t.get(n),e);return mf(e)}function Ab(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case hm:n+="";break;default:n+=i}}return n}function mf(t){return t+hm+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||dt.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new to(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new to(this.root,e,this.comparator,!1)}getReverseIterator(){return new to(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new to(this.root,e,this.comparator,!0)}}class to{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??dt.RED,this.left=r??dt.EMPTY,this.right=i??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new dt(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return dt.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw me(27949);return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw me(57766)}get value(){throw me(16141)}get color(){throw me(16727)}get left(){throw me(29726)}get right(){throw me(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vf(this.data.getIterator())}getIteratorFrom(e){return new vf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class vf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new Kt([])}unionWith(e){let n=new it(ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Kt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ur(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new mm("Invalid base64 string: "+i):i}}(e);return new mt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mt.EMPTY_BYTE_STRING=new mt("");const xb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(t){if(Le(!!t,39018),typeof t=="string"){let e=0;const n=xb.exec(t);if(Le(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function is(t){return typeof t=="string"?mt.fromBase64String(t):mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="server_timestamp",vm="__type__",ym="__previous_value__",_m="__local_write_time__";function Ou(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[vm])===null||n===void 0?void 0:n.stringValue)===gm}function pa(t){const e=t.mapValue.fields[ym];return Ou(e)?pa(e):e}function mi(t){const e=rs(t.mapValue.fields[_m].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n,s,r,i,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}const Vo="(default)";class gi{constructor(e,n){this.projectId=e,this.database=n||Vo}static empty(){return new gi("","")}get isDefaultDatabase(){return this.database===Vo}isEqual(e){return e instanceof gi&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="__type__",Pb="__max__",no={mapValue:{}},bm="__vector__",Do="value";function os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ou(t)?4:kb(t)?9007199254740991:Rb(t)?10:11:me(28295,{value:t})}function wn(t,e){if(t===e)return!0;const n=os(t);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mi(t).isEqual(mi(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=rs(r.timestampValue),a=rs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return is(r.bytesValue).isEqual(is(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ze(r.geoPointValue.latitude)===Ze(i.geoPointValue.latitude)&&Ze(r.geoPointValue.longitude)===Ze(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ze(r.integerValue)===Ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Ze(r.doubleValue),a=Ze(i.doubleValue);return o===a?ko(o)===ko(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ur(t.arrayValue.values||[],e.arrayValue.values||[],wn);case 10:case 11:return function(r,i){const o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(gf(o)!==gf(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!wn(o[u],a[u])))return!1;return!0}(t,e);default:return me(52216,{left:t})}}function vi(t,e){return(t.values||[]).find(n=>wn(n,e))!==void 0}function cr(t,e){if(t===e)return 0;const n=os(t),s=os(e);if(n!==s)return Se(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ze(i.integerValue||i.doubleValue),u=Ze(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return yf(t.timestampValue,e.timestampValue);case 4:return yf(mi(t),mi(e));case 5:return Hl(t.stringValue,e.stringValue);case 6:return function(i,o){const a=is(i),u=is(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=Se(a[c],u[c]);if(d!==0)return d}return Se(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Se(Ze(i.latitude),Ze(o.latitude));return a!==0?a:Se(Ze(i.longitude),Ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _f(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,u,c,d;const f=i.fields||{},p=o.fields||{},g=(a=f[Do])===null||a===void 0?void 0:a.arrayValue,w=(u=p[Do])===null||u===void 0?void 0:u.arrayValue,I=Se(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return I!==0?I:_f(g,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===no.mapValue&&o===no.mapValue)return 0;if(i===no.mapValue)return 1;if(o===no.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const p=Hl(u[f],d[f]);if(p!==0)return p;const g=cr(a[u[f]],c[d[f]]);if(g!==0)return g}return Se(u.length,d.length)}(t.mapValue,e.mapValue);default:throw me(23264,{Pe:n})}}function yf(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=rs(t),s=rs(e),r=Se(n.seconds,s.seconds);return r!==0?r:Se(n.nanos,s.nanos)}function _f(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=cr(n[r],s[r]);if(i)return i}return Se(n.length,s.length)}function dr(t){return Gl(t)}function Gl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=rs(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return is(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=Gl(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const o of s)i?i=!1:r+=",",r+=`${o}:${Gl(n.fields[o])}`;return r+"}"}(t.mapValue):me(61005,{value:t})}function ho(t){switch(os(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pa(t);return e?16+ho(e):16;case 5:return 2*t.stringValue.length;case 6:return is(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,i)=>r+ho(i),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return fs(s.fields,(i,o)=>{r+=i.length+ho(o)}),r}(t.mapValue);default:throw me(13486,{value:t})}}function Kl(t){return!!t&&"integerValue"in t}function Nu(t){return!!t&&"arrayValue"in t}function wf(t){return!!t&&"nullValue"in t}function bf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function po(t){return!!t&&"mapValue"in t}function Rb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[wm])===null||n===void 0?void 0:n.stringValue)===bm}function Zr(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fs(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Zr(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zr(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Pb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!po(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zr(n)}setAll(e){let n=ht.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=Zr(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());po(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];po(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){fs(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new $t(Zr(this.value))}}function Em(t){const e=[];return fs(t.fields,(n,s)=>{const r=new ht([n]);if(po(s)){const i=Em(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new Kt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n,s,r,i,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new It(e,0,ye.min(),ye.min(),ye.min(),$t.empty(),0)}static newFoundDocument(e,n,s,r){return new It(e,1,n,ye.min(),s,r,0)}static newNoDocument(e,n){return new It(e,2,n,ye.min(),ye.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,ye.min(),ye.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n){this.position=e,this.inclusive=n}}function Ef(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=ce.comparator(ce.fromName(o.referenceValue),n.key):s=cr(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function Tf(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n="asc"){this.field=e,this.dir=n}}function Vb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{}class st extends Tm{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Mb(e,n,s):n==="array-contains"?new Lb(e,s):n==="in"?new $b(e,s):n==="not-in"?new Fb(e,s):n==="array-contains-any"?new Bb(e,s):new st(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Ob(e,s):new Nb(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(cr(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(cr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bn extends Tm{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new bn(e,n)}matches(e){return Sm(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Sm(t){return t.op==="and"}function Im(t){return Db(t)&&Sm(t)}function Db(t){for(const e of t.filters)if(e instanceof bn)return!1;return!0}function Wl(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+dr(t.value);if(Im(t))return t.filters.map(e=>Wl(e)).join(",");{const e=t.filters.map(n=>Wl(n)).join(",");return`${t.op}(${e})`}}function Am(t,e){return t instanceof st?function(s,r){return r instanceof st&&s.op===r.op&&s.field.isEqual(r.field)&&wn(s.value,r.value)}(t,e):t instanceof bn?function(s,r){return r instanceof bn&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,o,a)=>i&&Am(o,r.filters[a]),!0):!1}(t,e):void me(19439)}function xm(t){return t instanceof st?function(n){return`${n.field.canonicalString()} ${n.op} ${dr(n.value)}`}(t):t instanceof bn?function(n){return n.op.toString()+" {"+n.getFilters().map(xm).join(" ,")+"}"}(t):"Filter"}class Mb extends st{constructor(e,n,s){super(e,n,s),this.key=ce.fromName(s.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ob extends st{constructor(e,n){super(e,"in",n),this.keys=Cm("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Nb extends st{constructor(e,n){super(e,"not-in",n),this.keys=Cm("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Cm(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ce.fromName(s.referenceValue))}class Lb extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Nu(n)&&vi(n.arrayValue,this.value)}}class $b extends st{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vi(this.value.arrayValue,n)}}class Fb extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(vi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vi(this.value.arrayValue,n)}}class Bb extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Nu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>vi(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function Sf(t,e=null,n=[],s=[],r=null,i=null,o=null){return new jb(t,e,n,s,r,i,o)}function Lu(t){const e=_e(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Wl(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),ha(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>dr(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>dr(s)).join(",")),e.Ie=n}return e.Ie}function $u(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Vb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Am(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Tf(t.startAt,e.startAt)&&Tf(t.endAt,e.endAt)}function Ql(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Ub(t,e,n,s,r,i,o,a){return new ma(t,e,n,s,r,i,o,a)}function Fu(t){return new ma(t)}function If(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zb(t){return t.collectionGroup!==null}function ei(t){const e=_e(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new it(ht.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Oo(i,s))}),n.has(ht.keyField().canonicalString())||e.Ee.push(new Oo(ht.keyField(),s))}return e.Ee}function gn(t){const e=_e(t);return e.de||(e.de=qb(e,ei(t))),e.de}function qb(t,e){if(t.limitType==="F")return Sf(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new Oo(r.field,i)});const n=t.endAt?new Mo(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Mo(t.startAt.position,t.startAt.inclusive):null;return Sf(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Yl(t,e,n){return new ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ga(t,e){return $u(gn(t),gn(e))&&t.limitType===e.limitType}function Pm(t){return`${Lu(gn(t))}|lt:${t.limitType}`}function Gs(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>xm(r)).join(", ")}]`),ha(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>dr(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>dr(r)).join(",")),`Target(${s})`}(gn(t))}; limitType=${t.limitType})`}function va(t,e){return e.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):ce.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(t,e)&&function(s,r){for(const i of ei(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(o,a,u){const c=Ef(o,a,u);return o.inclusive?c<=0:c<0}(s.startAt,ei(s),r)||s.endAt&&!function(o,a,u){const c=Ef(o,a,u);return o.inclusive?c>=0:c>0}(s.endAt,ei(s),r))}(t,e)}function Hb(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Rm(t){return(e,n)=>{let s=!1;for(const r of ei(t)){const i=Gb(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function Gb(t,e,n){const s=t.field.isKeyField()?ce.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?cr(u,c):me(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return pm(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=new Qe(ce.comparator);function Nn(){return Kb}const km=new Qe(ce.comparator);function Hr(...t){let e=km;for(const n of t)e=e.insert(n.key,n);return e}function Vm(t){let e=km;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ss(){return ti()}function Dm(){return ti()}function ti(){return new Os(t=>t.toString(),(t,e)=>t.isEqual(e))}const Wb=new Qe(ce.comparator),Qb=new it(ce.comparator);function Ae(...t){let e=Qb;for(const n of t)e=e.add(n);return e}const Yb=new it(Se);function Xb(){return Yb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ko(e)?"-0":e}}function Mm(t){return{integerValue:""+t}}function Jb(t,e){return Sb(e)?Mm(e):Bu(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this._=void 0}}function Zb(t,e,n){return t instanceof No?function(r,i){const o={fields:{[vm]:{stringValue:gm},[_m]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Ou(i)&&(i=pa(i)),i&&(o.fields[ym]=i),{mapValue:o}}(n,e):t instanceof yi?Nm(t,e):t instanceof _i?Lm(t,e):function(r,i){const o=Om(r,i),a=Af(o)+Af(r.Re);return Kl(o)&&Kl(r.Re)?Mm(a):Bu(r.serializer,a)}(t,e)}function eE(t,e,n){return t instanceof yi?Nm(t,e):t instanceof _i?Lm(t,e):n}function Om(t,e){return t instanceof Lo?function(s){return Kl(s)||function(i){return!!i&&"doubleValue"in i}(s)}(e)?e:{integerValue:0}:null}class No extends ya{}class yi extends ya{constructor(e){super(),this.elements=e}}function Nm(t,e){const n=$m(e);for(const s of t.elements)n.some(r=>wn(r,s))||n.push(s);return{arrayValue:{values:n}}}class _i extends ya{constructor(e){super(),this.elements=e}}function Lm(t,e){let n=$m(e);for(const s of t.elements)n=n.filter(r=>!wn(r,s));return{arrayValue:{values:n}}}class Lo extends ya{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Af(t){return Ze(t.integerValue||t.doubleValue)}function $m(t){return Nu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function tE(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof yi&&r instanceof yi||s instanceof _i&&r instanceof _i?ur(s.elements,r.elements,wn):s instanceof Lo&&r instanceof Lo?wn(s.Re,r.Re):s instanceof No&&r instanceof No}(t.transform,e.transform)}class nE{constructor(e,n){this.version=e,this.transformResults=n}}class rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rn}static exists(e){return new rn(void 0,e)}static updateTime(e){return new rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _a{}function Fm(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ju(t.key,rn.none()):new Ci(t.key,t.data,rn.none());{const n=t.data,s=$t.empty();let r=new it(ht.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new hs(t.key,s,new Kt(r.toArray()),rn.none())}}function sE(t,e,n){t instanceof Ci?function(r,i,o){const a=r.value.clone(),u=Cf(r.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof hs?function(r,i,o){if(!mo(r.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Cf(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(Bm(r)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ni(t,e,n,s){return t instanceof Ci?function(i,o,a,u){if(!mo(i.precondition,o))return a;const c=i.value.clone(),d=Pf(i.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,s):t instanceof hs?function(i,o,a,u){if(!mo(i.precondition,o))return a;const c=Pf(i.fieldTransforms,u,o),d=o.data;return d.setAll(Bm(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,s):function(i,o,a){return mo(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function rE(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=Om(s.transform,r||null);i!=null&&(n===null&&(n=$t.empty()),n.set(s.field,i))}return n||null}function xf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&ur(s,r,(i,o)=>tE(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ci extends _a{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class hs extends _a{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Bm(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Cf(t,e,n){const s=new Map;Le(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,eE(o,a,n[r]))}return s}function Pf(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,Zb(i,o,e))}return s}class ju extends _a{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iE extends _a{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&sE(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ni(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ni(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Dm();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const u=Fm(o,a);u!==null&&s.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(ye.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&ur(this.mutations,e.mutations,(n,s)=>xf(n,s))&&ur(this.baseMutations,e.baseMutations,(n,s)=>xf(n,s))}}class Uu{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Le(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let r=function(){return Wb}();const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new Uu(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,Pe;function uE(t){switch(t){case K.OK:return me(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return me(15467,{code:t})}}function jm(t){if(t===void 0)return On("GRPC error has no .code"),K.UNKNOWN;switch(t){case tt.OK:return K.OK;case tt.CANCELLED:return K.CANCELLED;case tt.UNKNOWN:return K.UNKNOWN;case tt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case tt.INTERNAL:return K.INTERNAL;case tt.UNAVAILABLE:return K.UNAVAILABLE;case tt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case tt.NOT_FOUND:return K.NOT_FOUND;case tt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case tt.ABORTED:return K.ABORTED;case tt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case tt.DATA_LOSS:return K.DATA_LOSS;default:return me(39323,{code:t})}}(Pe=tt||(tt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Zn([4294967295,4294967295],0);function Rf(t){const e=dm().encode(t),n=new sm;return n.update(e),new Uint8Array(n.digest())}function kf(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Zn([n,s],0),new Zn([r,i],0)]}class zu{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Gr(`Invalid padding: ${n}`);if(s<0)throw new Gr(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gr(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Gr(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Zn.fromNumber(this.pe)}we(e,n,s){let r=e.add(n.multiply(Zn.fromNumber(s)));return r.compare(cE)===1&&(r=new Zn([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Rf(e),[s,r]=kf(n);for(let i=0;i<this.hashCount;i++){const o=this.we(s,r,i);if(!this.be(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new zu(i,r,n);return s.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=Rf(e),[s,r]=kf(n);for(let i=0;i<this.hashCount;i++){const o=this.we(s,r,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Gr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,Pi.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new wa(ye.min(),r,new Qe(Se),Nn(),Ae())}}class Pi{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Pi(s,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n,s,r){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=r}}class Um{constructor(e,n){this.targetId=e,this.Ce=n}}class zm{constructor(e,n,s=mt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class Vf{constructor(){this.Fe=0,this.Me=Df(),this.xe=mt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ae(),n=Ae(),s=Ae();return this.Me.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:me(38017,{changeType:i})}}),new Pi(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=Df()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Le(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class dE{constructor(e){this.ze=e,this.je=new Map,this.He=Nn(),this.Je=so(),this.Ye=so(),this.Ze=new Qe(Se)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:me(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,r)=>{this.it(r)&&n(r)})}ot(e){const n=e.targetId,s=e.Ce.count,r=this._t(n);if(r){const i=r.target;if(Ql(i))if(s===0){const o=new ce(i.path);this.tt(n,o,It.newNoDocument(o,ye.min()))}else Le(s===1,20013,{expectedCount:s});else{const o=this.ut(n);if(o!==s){const a=this.ct(e),u=a?this.lt(a,e,o):1;if(u!==0){this.st(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let o,a;try{o=is(s).toUint8Array()}catch(u){if(u instanceof mm)return lr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new zu(o,r,i)}catch(u){return lr(u instanceof Gr?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let r=0;return s.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),r++)}),r}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&Ql(a.target)){const u=new ce(a.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,It.newNoDocument(u,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let s=Ae();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this._t(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(s=s.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const r=new wa(e,n,this.Ze,this.He,s);return this.He=Nn(),this.Je=so(),this.Ye=so(),this.Ze=new Qe(Se),r}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const r=this.rt(e);this.dt(e,n)?r.$e(n,1):r.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Vf,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new it(Se),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new it(Se),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Vf),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function so(){return new Qe(ce.comparator)}function Df(){return new Qe(ce.comparator)}const fE={asc:"ASCENDING",desc:"DESCENDING"},hE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pE={and:"AND",or:"OR"};class mE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xl(t,e){return t.useProto3Json||ha(e)?e:{value:e}}function $o(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qm(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gE(t,e){return $o(t,e.toTimestamp())}function vn(t){return Le(!!t,49232),ye.fromTimestamp(function(n){const s=rs(n);return new rt(s.seconds,s.nanos)}(t))}function qu(t,e){return Jl(t,e).canonicalString()}function Jl(t,e){const n=function(r){return new Ge(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Hm(t){const e=Ge.fromString(t);return Le(Ym(e),10190,{key:e.toString()}),e}function Zl(t,e){return qu(t.databaseId,e.path)}function cl(t,e){const n=Hm(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(Km(n))}function Gm(t,e){return qu(t.databaseId,e)}function vE(t){const e=Hm(t);return e.length===4?Ge.emptyPath():Km(e)}function eu(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Km(t){return Le(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Mf(t,e,n){return{name:Zl(t,e),fields:n.value.mapValue.fields}}function yE(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:me(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Le(d===void 0||typeof d=="string",58123),mt.fromBase64String(d||"")):(Le(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),mt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?K.UNKNOWN:jm(c.code);return new ie(d,c.message||"")}(o);n=new zm(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=cl(t,s.document.name),i=vn(s.document.updateTime),o=s.document.createTime?vn(s.document.createTime):ye.min(),a=new $t({mapValue:{fields:s.document.fields}}),u=It.newFoundDocument(r,i,o,a),c=s.targetIds||[],d=s.removedTargetIds||[];n=new go(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=cl(t,s.document),i=s.readTime?vn(s.readTime):ye.min(),o=It.newNoDocument(r,i),a=s.removedTargetIds||[];n=new go([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=cl(t,s.document),i=s.removedTargetIds||[];n=new go([],i,r,null)}else{if(!("filter"in e))return me(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new lE(r,i),a=s.targetId;n=new Um(a,o)}}return n}function _E(t,e){let n;if(e instanceof Ci)n={update:Mf(t,e.key,e.value)};else if(e instanceof ju)n={delete:Zl(t,e.key)};else if(e instanceof hs)n={update:Mf(t,e.key,e.data),updateMask:CE(e.fieldMask)};else{if(!(e instanceof iE))return me(16599,{ft:e.type});n={verify:Zl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(i,o){const a=o.transform;if(a instanceof No)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _i)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Lo)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw me(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:gE(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:me(27497)}(t,e.precondition)),n}function wE(t,e){return t&&t.length>0?(Le(e!==void 0,14353),t.map(n=>function(r,i){let o=r.updateTime?vn(r.updateTime):vn(i);return o.isEqual(ye.min())&&(o=vn(i)),new nE(o,r.transformResults||[])}(n,e))):[]}function bE(t,e){return{documents:[Gm(t,e.path)]}}function EE(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Gm(t,r);const i=function(c){if(c.length!==0)return Qm(bn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Ks(p.field),direction:IE(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Xl(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:r}}function TE(t){let e=vE(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Le(s===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=Wm(f);return p instanceof bn&&Im(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(w){return new Oo(Ws(w.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,ha(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,g=f.values||[];return new Mo(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new Mo(g,p)}(n.endAt)),Ub(e,r,o,i,a,"F",u,c)}function SE(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Wm(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ws(n.unaryFilter.field);return st.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=Ws(n.unaryFilter.field);return st.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ws(n.unaryFilter.field);return st.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ws(n.unaryFilter.field);return st.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return me(61313);default:return me(60726)}}(t):t.fieldFilter!==void 0?function(n){return st.create(Ws(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return me(58110);default:return me(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return bn.create(n.compositeFilter.filters.map(s=>Wm(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return me(1026)}}(n.compositeFilter.op))}(t):me(30097,{filter:t})}function IE(t){return fE[t]}function AE(t){return hE[t]}function xE(t){return pE[t]}function Ks(t){return{fieldPath:t.canonicalString()}}function Ws(t){return ht.fromServerFormat(t.fieldPath)}function Qm(t){return t instanceof st?function(n){if(n.op==="=="){if(bf(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NAN"}};if(wf(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bf(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NOT_NAN"}};if(wf(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ks(n.field),op:AE(n.op),value:n.value}}}(t):t instanceof bn?function(n){const s=n.getFilters().map(r=>Qm(r));return s.length===1?s[0]:{compositeFilter:{op:xE(n.op),filters:s}}}(t):me(54877,{filter:t})}function CE(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ym(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n,s,r,i=ye.min(),o=ye.min(),a=mt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Wn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e){this.wt=e}}function RE(t){const e=TE({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yl(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.yn=new VE}addToCollectionParentIndex(e,n){return this.yn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(ss.min())}updateCollectionGroup(e,n,s){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class VE{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new it(Ge.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new it(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xm=41943040;class Nt{static withCacheSize(e){return new Nt(e,Nt.DEFAULT_COLLECTION_PERCENTILE,Nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nt.DEFAULT_COLLECTION_PERCENTILE=10,Nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nt.DEFAULT=new Nt(Xm,Nt.DEFAULT_COLLECTION_PERCENTILE,Nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nt.DISABLED=new Nt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new fr(0)}static ir(){return new fr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="LruGarbageCollector",DE=1048576;function Lf([t,e],[n,s]){const r=Se(t,n);return r===0?Se(e,s):r}class ME{constructor(e){this.cr=e,this.buffer=new it(Lf),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Lf(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OE{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ne(Nf,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wr(n)?ne(Nf,"Ignoring IndexedDB error during garbage collection: ",n):await _r(n)}await this.Ir(3e5)})}}class NE{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return H.resolve(fa.le);const s=new ME(n);return this.Er.forEachTarget(e,r=>s.Pr(r.sequenceNumber)).next(()=>this.Er.Ar(e,r=>s.Pr(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Er.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(Of)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Of):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let s,r,i,o,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,o=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(s=f,a=Date.now(),this.removeTargets(e,s,n))).next(f=>(i=f,u=Date.now(),this.removeOrphanedDocuments(e,s))).next(f=>(c=Date.now(),Hs()<=Re.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:f})))}}function LE(t,e){return new NE(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this.changes=new Os(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?H.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&ni(s.mutation,r,Kt.empty(),rt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ae()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ae()){const r=Ss();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=Hr();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=Ss();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ae()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,r){let i=Nn();const o=ti(),a=function(){return ti()}();return n.forEach((u,c)=>{const d=s.get(c.key);r.has(c.key)&&(d===void 0||d.mutation instanceof hs)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),ni(d.mutation,c,d.mutation.getFieldMask(),rt.now())):o.set(c.key,Kt.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new FE(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const s=ti();let r=new Qe((o,a)=>o-a),i=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=s.get(u)||Kt.empty();d=a.applyToLocalView(c,d),s.set(u,d);const f=(r.get(a.batchId)||Ae()).add(u);r=r.insert(a.batchId,f)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,f=Dm();d.forEach(p=>{if(!i.has(p)){const g=Fm(n.get(p),s.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return H.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(o){return ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):H.resolve(Ss());let a=pi,u=i;return o.next(c=>H.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,Ae())).next(d=>({batchId:a,changes:Vm(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(s=>{let r=Hr();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let o=Hr();return this.indexManager.getCollectionParents(e,i).next(a=>H.forEach(a,u=>{const c=function(f,p){return new ma(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,s,r).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r))).next(o=>{i.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,It.newInvalidDocument(d)))});let a=Hr();return o.forEach((u,c)=>{const d=i.get(u);d!==void 0&&ni(d.mutation,c,Kt.empty(),rt.now()),va(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return H.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:vn(r.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(r){return{name:r.name,query:RE(r.bundledQuery),readTime:vn(r.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.overlays=new Qe(ce.comparator),this.Or=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ss();return H.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.St(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.Or.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(s)),H.resolve()}getOverlaysForCollection(e,n,s){const r=Ss(),i=n.length+1,o=new ce(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>s&&r.set(u.getKey(),u)}return H.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new Qe((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>s){let d=i.get(c.largestBatchId);d===null&&(d=Ss(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ss(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=r)););return H.resolve(a)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.Or.get(r.largestBatchId).delete(s.key);this.Or.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new aE(n,s));let i=this.Or.get(n);i===void 0&&(i=Ae(),this.Or.set(n,i)),this.Or.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.sessionToken=mt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this.Nr=new it(ot.Br),this.Lr=new it(ot.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const s=new ot(e,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Qr(new ot(e,n))}$r(e,n){e.forEach(s=>this.removeReference(s,n))}Ur(e){const n=new ce(new Ge([])),s=new ot(n,e),r=new ot(n,e+1),i=[];return this.Lr.forEachInRange([s,r],o=>{this.Qr(o),i.push(o.key)}),i}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new ce(new Ge([])),s=new ot(n,e),r=new ot(n,e+1);let i=Ae();return this.Lr.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ot(e,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class ot{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return ce.comparator(e.key,n.key)||Se(e.Gr,n.Gr)}static kr(e,n){return Se(e.Gr,n.Gr)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new it(ot.Br)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new oE(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.zr=this.zr.add(new ot(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.Hr(s),i=r<0?0:r;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?Mu:this.Jn-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ot(n,0),r=new ot(n,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([s,r],o=>{const a=this.jr(o.Gr);i.push(a)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new it(Se);return n.forEach(r=>{const i=new ot(r,0),o=new ot(r,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,o],a=>{s=s.add(a.Gr)})}),H.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;ce.isDocumentKey(i)||(i=i.child(""));const o=new ot(new ce(i),0);let a=new it(Se);return this.zr.forEachWhile(u=>{const c=u.key.path;return!!s.isPrefixOf(c)&&(c.length===r&&(a=a.add(u.Gr)),!0)},o),H.resolve(this.Jr(a))}Jr(e){const n=[];return e.forEach(s=>{const r=this.jr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Le(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return H.forEach(n.mutations,r=>{const i=new ot(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,n){const s=new ot(n,0),r=this.zr.firstAfterOrEqual(s);return H.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.Zr=e,this.docs=function(){return new Qe(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return H.resolve(s?s.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let s=Nn();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():It.newInvalidDocument(r))}),H.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=Nn();const o=n.path,a=new ce(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||wb(_b(d),s)<=0||(r.has(d.key)||va(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,s,r){me(9500)}Xr(e,n){return H.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new GE(this)}getSize(e){return H.resolve(this.size)}}class GE extends $E{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.vr.addEntry(e,r)):this.vr.removeEntry(s)}),H.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this.persistence=e,this.ei=new Os(n=>Lu(n),$u),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.ti=0,this.ni=new Hu,this.targetCount=0,this.ri=fr.rr()}forEachTarget(e,n){return this.ei.forEach((s,r)=>n(r)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),H.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new fr(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.ar(n),H.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.ei.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),H.waitFor(i).next(()=>r)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const s=this.ei.get(n)||null;return H.resolve(s)}addMatchingKeys(e,n,s){return this.ni.qr(n,s),H.resolve()}removeMatchingKeys(e,n,s){this.ni.$r(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),H.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ni.Wr(n);return H.resolve(s)}containsKey(e,n){return H.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n){this.ii={},this.overlays={},this.si=new fa(0),this.oi=!1,this.oi=!0,this._i=new zE,this.referenceDelegate=e(this),this.ai=new KE(this),this.indexManager=new kE,this.remoteDocumentCache=function(r){return new HE(r)}(s=>this.referenceDelegate.ui(s)),this.serializer=new PE(n),this.ci=new jE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ii[e.toKey()];return s||(s=new qE(n,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,s){ne("MemoryPersistence","Starting transaction:",e);const r=new WE(this.si.next());return this.referenceDelegate.li(),s(r).next(i=>this.referenceDelegate.hi(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Pi(e,n){return H.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,n)))}}class WE extends Eb{constructor(e){super(),this.currentSequenceNumber=e}}class Gu{constructor(e){this.persistence=e,this.Ti=new Hu,this.Ii=null}static Ei(e){return new Gu(e)}get di(){if(this.Ii)return this.Ii;throw me(60996)}addReference(e,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),H.resolve()}removeReference(e,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(r=>this.di.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.di.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.di,s=>{const r=ce.fromPath(s);return this.Ai(e,r).next(i=>{i||n.removeEntry(r,ye.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return H.or([()=>H.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Fo{constructor(e,n){this.persistence=e,this.Ri=new Os(s=>Ib(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=LE(this,n)}static Ei(e,n){return new Fo(e,n)}li(){}hi(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}Vr(e){let n=0;return this.Ar(e,s=>{n++}).next(()=>n)}Ar(e,n){return H.forEach(this.Ri,(s,r)=>this.gr(e,s,r).next(i=>i?H.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Xr(e,o=>this.gr(e,o,n).next(a=>{a||(s++,i.removeEntry(o,ye.min()))})).next(()=>i.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),H.resolve()}removeReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),H.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ho(e.data.value)),n}gr(e,n,s){return H.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.Ri.get(n);return H.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.ls=s,this.hs=r}static Ps(e,n){let s=Ae(),r=Ae();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ku(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return z0()?8:Tb(B0())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.Rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Vs(e,n,r,s).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new QE;return this.fs(e,n,o).next(a=>{if(i.result=a,this.Is)return this.gs(e,n,o,a.size)})}).next(()=>i.result)}gs(e,n,s,r){return s.documentReadCount<this.Es?(Hs()<=Re.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",Gs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),H.resolve()):(Hs()<=Re.DEBUG&&ne("QueryEngine","Query:",Gs(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.ds*r?(Hs()<=Re.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",Gs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gn(n))):H.resolve())}Rs(e,n){if(If(n))return H.resolve(null);let s=gn(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Yl(n,null,"F"),s=gn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=Ae(...i);return this.As.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(u=>{const c=this.ps(n,a);return this.ys(n,c,o,u.readTime)?this.Rs(e,Yl(n,null,"F")):this.ws(e,c,n,u)}))})))}Vs(e,n,s,r){return If(n)||r.isEqual(ye.min())?H.resolve(null):this.As.getDocuments(e,s).next(i=>{const o=this.ps(n,i);return this.ys(n,o,s,r)?H.resolve(null):(Hs()<=Re.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gs(n)),this.ws(e,o,n,yb(r,pi)).next(a=>a))})}ps(e,n){let s=new it(Rm(e));return n.forEach((r,i)=>{va(e,i)&&(s=s.add(i))}),s}ys(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}fs(e,n,s){return Hs()<=Re.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Gs(n)),this.As.getDocumentsMatchingQuery(e,n,ss.min(),s)}ws(e,n,s,r){return this.As.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu="LocalStore",XE=3e8;class JE{constructor(e,n,s,r){this.persistence=e,this.bs=n,this.serializer=r,this.Ss=new Qe(Se),this.Ds=new Os(i=>Lu(i),$u),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BE(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function ZE(t,e,n,s){return new JE(t,e,n,s)}async function Zm(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Fs(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let u=Ae();for(const c of r){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(s,u).next(c=>({Ms:c,removedBatchIds:o,addedBatchIds:a}))})})}function eT(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const f=c.batch,p=f.keys();let g=H.resolve();return p.forEach(w=>{g=g.next(()=>d.getEntry(u,w)).next(I=>{const C=c.docVersions.get(w);Le(C!==null,48541),I.version.compareTo(C)<0&&(f.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),d.addEntry(I)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(a){let u=Ae();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function eg(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function tT(t,e){const n=_e(t),s=e.snapshotVersion;let r=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});r=n.Ss;const a=[];e.targetChanges.forEach((d,f)=>{const p=r.get(f);if(!p)return;a.push(n.ai.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.ai.addMatchingKeys(i,d.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(mt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,s)),r=r.insert(f,g),function(I,C,V){return I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=XE?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(p,g,d)&&a.push(n.ai.updateTargetData(i,g))});let u=Nn(),c=Ae();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(nT(i,o,e.documentUpdates).next(d=>{u=d.xs,c=d.Os})),!s.isEqual(ye.min())){const d=n.ai.getLastRemoteSnapshotVersion(i).next(f=>n.ai.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(d)}return H.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.Ss=r,i))}function nT(t,e,n){let s=Ae(),r=Ae();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=Nn();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),u.isNoDocument()&&u.version.isEqual(ye.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):ne(Wu,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{xs:o,Os:r}})}function sT(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Mu),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function rT(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.ai.getTargetData(s,e).next(i=>i?(r=i,H.resolve(r)):n.ai.allocateTargetId(s).next(o=>(r=new Wn(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ss.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(e,s.targetId)),s})}async function tu(t,e,n){const s=_e(t),r=s.Ss.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!wr(o))throw o;ne(Wu,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(r.target)}function $f(t,e,n){const s=_e(t);let r=ye.min(),i=Ae();return s.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const f=_e(u),p=f.Ds.get(d);return p!==void 0?H.resolve(f.Ss.get(p)):f.ai.getTargetData(c,d)}(s,o,gn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>s.bs.getDocumentsMatchingQuery(o,e,n?r:ye.min(),n?i:Ae())).next(a=>(iT(s,Hb(e),a),{documents:a,Ns:i})))}function iT(t,e,n){let s=t.vs.get(e)||ye.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.vs.set(e,s)}class Ff{constructor(){this.activeTargetIds=Xb()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oT{constructor(){this.So=new Ff,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,s){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Ff,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="ConnectivityMonitor";class jf{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ne(Bf,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ne(Bf,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro=null;function nu(){return ro===null?ro=function(){return 268435456+Math.round(2147483648*Math.random())}():ro++,"0x"+ro.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl="RestConnection",lT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uT{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${s}/databases/${r}`,this.qo=this.databaseId.database===Vo?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Qo(e,n,s,r,i){const o=nu(),a=this.$o(e,n.toUriEncodedString());ne(dl,`Sending RPC '${e}' ${o}:`,a,s);const u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(u,r,i),this.Ko(e,a,u,s).then(c=>(ne(dl,`Received RPC '${e}' ${o}: `,c),c),c=>{throw lr(dl,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",s),c})}Wo(e,n,s,r,i,o){return this.Qo(e,n,s,r,i)}Uo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yr}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}$o(e,n){const s=lT[e];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="WebChannelConnection";class dT extends uT{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,s,r){const i=nu();return new Promise((o,a)=>{const u=new rm;u.setWithCredentials(!0),u.listenOnce(im.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case fo.NO_ERROR:const d=u.getResponseJson();ne(bt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case fo.TIMEOUT:ne(bt,`RPC '${e}' ${i} timed out`),a(new ie(K.DEADLINE_EXCEEDED,"Request time out"));break;case fo.HTTP_ERROR:const f=u.getStatus();if(ne(bt,`RPC '${e}' ${i} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const w=function(C){const V=C.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(V)>=0?V:K.UNKNOWN}(g.status);a(new ie(w,g.message))}else a(new ie(K.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ie(K.UNAVAILABLE,"Connection failed."));break;default:me(9055,{s_:e,streamId:i,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{ne(bt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(r);ne(bt,`RPC '${e}' ${i} sending request:`,r),u.send(n,"POST",c,s,15)})}a_(e,n,s){const r=nu(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lm(),a=am(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,n,s),u.encodeInitMessageHeaders=!0;const d=i.join("");ne(bt,`Creating RPC '${e}' stream ${r}: ${d}`,u);const f=o.createWebChannel(d,u);let p=!1,g=!1;const w=new cT({Go:C=>{g?ne(bt,`Not sending because RPC '${e}' stream ${r} is closed:`,C):(p||(ne(bt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),p=!0),ne(bt,`RPC '${e}' stream ${r} sending:`,C),f.send(C))},zo:()=>f.close()}),I=(C,V,_)=>{C.listen(V,v=>{try{_(v)}catch(S){setTimeout(()=>{throw S},0)}})};return I(f,qr.EventType.OPEN,()=>{g||(ne(bt,`RPC '${e}' stream ${r} transport opened.`),w.t_())}),I(f,qr.EventType.CLOSE,()=>{g||(g=!0,ne(bt,`RPC '${e}' stream ${r} transport closed`),w.r_())}),I(f,qr.EventType.ERROR,C=>{g||(g=!0,lr(bt,`RPC '${e}' stream ${r} transport errored. Name:`,C.name,"Message:",C.message),w.r_(new ie(K.UNAVAILABLE,"The operation could not be completed")))}),I(f,qr.EventType.MESSAGE,C=>{var V;if(!g){const _=C.data[0];Le(!!_,16349);const v=_,S=(v==null?void 0:v.error)||((V=v[0])===null||V===void 0?void 0:V.error);if(S){ne(bt,`RPC '${e}' stream ${r} received error:`,S);const M=S.status;let $=function(b){const A=tt[b];if(A!==void 0)return jm(A)}(M),x=S.message;$===void 0&&($=K.INTERNAL,x="Unknown error status: "+M+" with message "+S.message),g=!0,w.r_(new ie($,x)),f.close()}else ne(bt,`RPC '${e}' stream ${r} received:`,_),w.i_(_)}}),I(a,om.STAT_EVENT,C=>{C.stat===ql.PROXY?ne(bt,`RPC '${e}' stream ${r} detected buffering proxy`):C.stat===ql.NOPROXY&&ne(bt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.n_()},0),w}}function fl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t){return new mE(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,s=1e3,r=1.5,i=6e4){this.bi=e,this.timerId=n,this.u_=s,this.c_=r,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),r=Math.max(0,n-s);r>0&&ne("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,r,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="PersistentStream";class ng{constructor(e,n,s,r,i,o,a,u){this.bi=e,this.R_=s,this.V_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new tg(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(On(n.toString()),On("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.m_===n&&this.B_(s,r)},s=>{e(()=>{const r=new ie(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(r)})})}B_(e,n){const s=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(r=>{s(()=>this.L_(r))}),this.stream.onMessage(r=>{s(()=>++this.p_==1?this.q_(r):this.onNext(r))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ne(Uf,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(ne(Uf,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fT extends ng{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=yE(this.serializer,e),s=function(i){if(!("targetChange"in i))return ye.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?vn(o.readTime):ye.min()}(e);return this.listener.Q_(n,s)}U_(e){const n={};n.database=eu(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=Ql(u)?{documents:bE(i,u)}:{query:EE(i,u).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=qm(i,o.resumeToken);const c=Xl(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ye.min())>0){a.readTime=$o(i,o.snapshotVersion.toTimestamp());const c=Xl(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const s=SE(this.serializer,e);s&&(n.labels=s),this.F_(n)}K_(e){const n={};n.database=eu(this.serializer),n.removeTarget=e,this.F_(n)}}class hT extends ng{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=wE(e.writeResults,e.commitTime),s=vn(e.commitTime);return this.listener.j_(s,n)}H_(){const e={};e.database=eu(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>_E(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{}class mT extends pT{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.J_=!1}Y_(){if(this.J_)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,s,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Qo(e,Jl(n,s),r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ie(K.UNKNOWN,i.toString())})}Wo(e,n,s,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,Jl(n,s),r,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(K.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class gT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(On(n),this.ea=!1):ne("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="RemoteStore";class vT{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(o=>{s.enqueueAndForget(async()=>{Ns(this)&&(ne(Ps,"Restarting streams for network reachability change."),await async function(u){const c=_e(u);c.aa.add(4),await Ri(c),c.la.set("Unknown"),c.aa.delete(4),await Ea(c)}(this))})}),this.la=new gT(s,r)}}async function Ea(t){if(Ns(t))for(const e of t.ua)await e(!0)}async function Ri(t){for(const e of t.ua)await e(!1)}function sg(t,e){const n=_e(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Ju(n)?Xu(n):br(n).b_()&&Yu(n,e))}function Qu(t,e){const n=_e(t),s=br(n);n._a.delete(e),s.b_()&&rg(n,e),n._a.size===0&&(s.b_()?s.v_():Ns(n)&&n.la.set("Unknown"))}function Yu(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}br(t).U_(e)}function rg(t,e){t.ha.Ke(e),br(t).K_(e)}function Xu(t){t.ha=new dE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),br(t).start(),t.la.ta()}function Ju(t){return Ns(t)&&!br(t).w_()&&t._a.size>0}function Ns(t){return _e(t).aa.size===0}function ig(t){t.ha=void 0}async function yT(t){t.la.set("Online")}async function _T(t){t._a.forEach((e,n)=>{Yu(t,e)})}async function wT(t,e){ig(t),Ju(t)?(t.la.ia(e),Xu(t)):t.la.set("Unknown")}async function bT(t,e,n){if(t.la.set("Online"),e instanceof zm&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const a of i.targetIds)r._a.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r._a.delete(a),r.ha.removeTarget(a))}(t,e)}catch(s){ne(Ps,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Bo(t,s)}else if(e instanceof go?t.ha.Xe(e):e instanceof Um?t.ha.ot(e):t.ha.nt(e),!n.isEqual(ye.min()))try{const s=await eg(t.localStore);n.compareTo(s)>=0&&await function(i,o){const a=i.ha.It(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=i._a.get(c);d&&i._a.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=i._a.get(u);if(!d)return;i._a.set(u,d.withResumeToken(mt.EMPTY_BYTE_STRING,d.snapshotVersion)),rg(i,u);const f=new Wn(d.target,u,c,d.sequenceNumber);Yu(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(s){ne(Ps,"Failed to raise snapshot:",s),await Bo(t,s)}}async function Bo(t,e,n){if(!wr(e))throw e;t.aa.add(1),await Ri(t),t.la.set("Offline"),n||(n=()=>eg(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne(Ps,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await Ea(t)})}function og(t,e){return e().catch(n=>Bo(t,n,e))}async function Ta(t){const e=_e(t),n=as(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:Mu;for(;ET(e);)try{const r=await sT(e.localStore,s);if(r===null){e.oa.length===0&&n.v_();break}s=r.batchId,TT(e,r)}catch(r){await Bo(e,r)}ag(e)&&lg(e)}function ET(t){return Ns(t)&&t.oa.length<10}function TT(t,e){t.oa.push(e);const n=as(t);n.b_()&&n.W_&&n.G_(e.mutations)}function ag(t){return Ns(t)&&!as(t).w_()&&t.oa.length>0}function lg(t){as(t).start()}async function ST(t){as(t).H_()}async function IT(t){const e=as(t);for(const n of t.oa)e.G_(n.mutations)}async function AT(t,e,n){const s=t.oa.shift(),r=Uu.from(s,e,n);await og(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Ta(t)}async function xT(t,e){e&&as(t).W_&&await async function(s,r){if(function(o){return uE(o)&&o!==K.ABORTED}(r.code)){const i=s.oa.shift();as(s).D_(),await og(s,()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Ta(s)}}(t,e),ag(t)&&lg(t)}async function zf(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),ne(Ps,"RemoteStore received new credentials");const s=Ns(n);n.aa.add(3),await Ri(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Ea(n)}async function CT(t,e){const n=_e(t);e?(n.aa.delete(2),await Ea(n)):e||(n.aa.add(2),await Ri(n),n.la.set("Unknown"))}function br(t){return t.Pa||(t.Pa=function(n,s,r){const i=_e(n);return i.Y_(),new fT(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{jo:yT.bind(null,t),Jo:_T.bind(null,t),Zo:wT.bind(null,t),Q_:bT.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),Ju(t)?Xu(t):t.la.set("Unknown")):(await t.Pa.stop(),ig(t))})),t.Pa}function as(t){return t.Ta||(t.Ta=function(n,s,r){const i=_e(n);return i.Y_(),new hT(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:ST.bind(null,t),Zo:xT.bind(null,t),z_:IT.bind(null,t),j_:AT.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await Ta(t)):(await t.Ta.stop(),t.oa.length>0&&(ne(Ps,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new Zu(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ec(t,e){if(On("AsyncQueue",`${e}: ${t}`),wr(t))return new ie(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{static emptySet(e){return new ir(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ce.comparator(n.key,s.key):(n,s)=>ce.comparator(n.key,s.key),this.keyedMap=Hr(),this.sortedSet=new Qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ir)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ir;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(){this.Ia=new Qe(ce.comparator)}track(e){const n=e.doc.key,s=this.Ia.get(n);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(n):e.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):me(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,s)=>{e.push(s)}),e}}class hr{constructor(e,n,s,r,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new hr(e,n,ir.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ga(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class RT{constructor(){this.queries=Hf(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const r=_e(n),i=r.queries;r.queries=Hf(),i.forEach((o,a)=>{for(const u of a.Ra)u.onError(s)})})(this,new ie(K.ABORTED,"Firestore shutting down"))}}function Hf(){return new Os(t=>Pm(t),ga)}async function ug(t,e){const n=_e(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.Va()&&e.ma()&&(s=2):(i=new PT,s=e.ma()?0:1);try{switch(s){case 0:i.Aa=await n.onListen(r,!0);break;case 1:i.Aa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=ec(o,`Initialization of query '${Gs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.Ra.push(e),e.ga(n.onlineState),i.Aa&&e.pa(i.Aa)&&tc(n)}async function cg(t,e){const n=_e(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const o=i.Ra.indexOf(e);o>=0&&(i.Ra.splice(o,1),i.Ra.length===0?r=e.ma()?0:1:!i.Va()&&e.ma()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function kT(t,e){const n=_e(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.Ra)a.pa(r)&&(s=!0);o.Aa=r}}s&&tc(n)}function VT(t,e,n){const s=_e(t),r=s.queries.get(e);if(r)for(const i of r.Ra)i.onError(n);s.queries.delete(e)}function tc(t){t.fa.forEach(e=>{e.next()})}var su,Gf;(Gf=su||(su={})).ya="default",Gf.Cache="cache";class dg{constructor(e,n,s){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new hr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=hr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==su.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){this.key=e}}class hg{constructor(e){this.key=e}}class DT{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ae(),this.mutatedKeys=Ae(),this.Ua=Rm(e),this.Ka=new ir(this.Ua)}get Wa(){return this.qa}Ga(e,n){const s=n?n.za:new qf,r=n?n.Ka:this.Ka;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,f)=>{const p=r.get(d),g=va(this.query,f)?f:null,w=!!p&&this.mutatedKeys.has(p.key),I=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let C=!1;p&&g?p.data.isEqual(g.data)?w!==I&&(s.track({type:3,doc:g}),C=!0):this.ja(p,g)||(s.track({type:2,doc:g}),C=!0,(u&&this.Ua(g,u)>0||c&&this.Ua(g,c)<0)&&(a=!0)):!p&&g?(s.track({type:0,doc:g}),C=!0):p&&!g&&(s.track({type:1,doc:p}),C=!0,(u||c)&&(a=!0)),C&&(g?(o=o.add(g),i=I?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),s.track({type:1,doc:d})}return{Ka:o,za:s,ys:a,mutatedKeys:i}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((d,f)=>function(g,w){const I=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me(20277,{Vt:C})}};return I(g)-I(w)}(d.type,f.type)||this.Ua(d.doc,f.doc)),this.Ha(s),r=r!=null&&r;const a=n&&!r?this.Ja():[],u=this.$a.size===0&&this.current&&!r?1:0,c=u!==this.Qa;return this.Qa=u,o.length!==0||c?{snapshot:new hr(this.query,e.Ka,i,o,e.mutatedKeys,u===0,c,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new qf,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Ae(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return e.forEach(s=>{this.$a.has(s)||n.push(new hg(s))}),this.$a.forEach(s=>{e.has(s)||n.push(new fg(s))}),n}Xa(e){this.qa=e.Ns,this.$a=Ae();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return hr.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const nc="SyncEngine";class MT{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class OT{constructor(e){this.key=e,this.tu=!1}}class NT{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new Os(a=>Pm(a),ga),this.iu=new Map,this.su=new Set,this.ou=new Qe(ce.comparator),this._u=new Map,this.au=new Hu,this.uu={},this.cu=new Map,this.lu=fr.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function LT(t,e,n=!0){const s=_g(t);let r;const i=s.ru.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.eu()):r=await pg(s,e,n,!0),r}async function $T(t,e){const n=_g(t);await pg(n,e,!0,!1)}async function pg(t,e,n,s){const r=await rT(t.localStore,gn(e)),i=r.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return s&&(a=await FT(t,e,i,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&sg(t.remoteStore,r),a}async function FT(t,e,n,s,r){t.Pu=(f,p,g)=>async function(I,C,V,_){let v=C.view.Ga(V);v.ys&&(v=await $f(I.localStore,C.query,!1).then(({documents:x})=>C.view.Ga(x,v)));const S=_&&_.targetChanges.get(C.targetId),M=_&&_.targetMismatches.get(C.targetId)!=null,$=C.view.applyChanges(v,I.isPrimaryClient,S,M);return Wf(I,C.targetId,$.Ya),$.snapshot}(t,f,p,g);const i=await $f(t.localStore,e,!0),o=new DT(e,i.Ns),a=o.Ga(i.documents),u=Pi.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,u);Wf(t,n,c.Ya);const d=new MT(e,n,o);return t.ru.set(e,d),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),c.snapshot}async function BT(t,e,n){const s=_e(t),r=s.ru.get(e),i=s.iu.get(r.targetId);if(i.length>1)return s.iu.set(r.targetId,i.filter(o=>!ga(o,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await tu(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&Qu(s.remoteStore,r.targetId),ru(s,r.targetId)}).catch(_r)):(ru(s,r.targetId),await tu(s.localStore,r.targetId,!0))}async function jT(t,e){const n=_e(t),s=n.ru.get(e),r=n.iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Qu(n.remoteStore,s.targetId))}async function UT(t,e,n){const s=QT(t);try{const r=await function(o,a){const u=_e(o),c=rt.now(),d=a.reduce((g,w)=>g.add(w.key),Ae());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=Nn(),I=Ae();return u.Cs.getEntries(g,d).next(C=>{w=C,w.forEach((V,_)=>{_.isValidDocument()||(I=I.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,w)).next(C=>{f=C;const V=[];for(const _ of a){const v=rE(_,f.get(_.key).overlayedDocument);v!=null&&V.push(new hs(_.key,v,Em(v.value.mapValue),rn.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,V,a)}).next(C=>{p=C;const V=C.applyToLocalDocumentSet(f,I);return u.documentOverlayCache.saveOverlays(g,C.batchId,V)})}).then(()=>({batchId:p.batchId,changes:Vm(f)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(o,a,u){let c=o.uu[o.currentUser.toKey()];c||(c=new Qe(Se)),c=c.insert(a,u),o.uu[o.currentUser.toKey()]=c}(s,r.batchId,n),await ki(s,r.changes),await Ta(s.remoteStore)}catch(r){const i=ec(r,"Failed to persist write");n.reject(i)}}async function mg(t,e){const n=_e(t);try{const s=await tT(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n._u.get(i);o&&(Le(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.tu=!0:r.modifiedDocuments.size>0?Le(o.tu,14607):r.removedDocuments.size>0&&(Le(o.tu,42227),o.tu=!1))}),await ki(n,s,e)}catch(s){await _r(s)}}function Kf(t,e,n){const s=_e(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.ru.forEach((i,o)=>{const a=o.view.ga(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const u=_e(o);u.onlineState=a;let c=!1;u.queries.forEach((d,f)=>{for(const p of f.Ra)p.ga(a)&&(c=!0)}),c&&tc(u)}(s.eventManager,e),r.length&&s.nu.Q_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function zT(t,e,n){const s=_e(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s._u.get(e),i=r&&r.key;if(i){let o=new Qe(ce.comparator);o=o.insert(i,It.newNoDocument(i,ye.min()));const a=Ae().add(i),u=new wa(ye.min(),new Map,new Qe(Se),o,a);await mg(s,u),s.ou=s.ou.remove(i),s._u.delete(e),sc(s)}else await tu(s.localStore,e,!1).then(()=>ru(s,e,n)).catch(_r)}async function qT(t,e){const n=_e(t),s=e.batch.batchId;try{const r=await eT(n.localStore,e);vg(n,s,null),gg(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ki(n,r)}catch(r){await _r(r)}}async function HT(t,e,n){const s=_e(t);try{const r=await function(o,a){const u=_e(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(Le(f!==null,37113),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(s.localStore,e);vg(s,e,n),gg(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ki(s,r)}catch(r){await _r(r)}}function gg(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function vg(t,e,n){const s=_e(t);let r=s.uu[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.uu[s.currentUser.toKey()]=r}}function ru(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.iu.get(e))t.ru.delete(s),n&&t.nu.Tu(s,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(s=>{t.au.containsKey(s)||yg(t,s)})}function yg(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(Qu(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),sc(t))}function Wf(t,e,n){for(const s of n)s instanceof fg?(t.au.addReference(s.key,e),GT(t,s)):s instanceof hg?(ne(nc,"Document no longer in limbo: "+s.key),t.au.removeReference(s.key,e),t.au.containsKey(s.key)||yg(t,s.key)):me(19791,{Iu:s})}function GT(t,e){const n=e.key,s=n.path.canonicalString();t.ou.get(n)||t.su.has(s)||(ne(nc,"New document in limbo: "+n),t.su.add(s),sc(t))}function sc(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new ce(Ge.fromString(e)),s=t.lu.next();t._u.set(s,new OT(n)),t.ou=t.ou.insert(n,s),sg(t.remoteStore,new Wn(gn(Fu(n.path)),s,"TargetPurposeLimboResolution",fa.le))}}async function ki(t,e,n){const s=_e(t),r=[],i=[],o=[];s.ru.isEmpty()||(s.ru.forEach((a,u)=>{o.push(s.Pu(u,e,n).then(c=>{var d;if((c||n)&&s.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;s.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){r.push(c);const f=Ku.Ps(u.targetId,c);i.push(f)}}))}),await Promise.all(o),s.nu.Q_(r),await async function(u,c){const d=_e(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(c,p=>H.forEach(p.ls,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>H.forEach(p.hs,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!wr(f))throw f;ne(Wu,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=d.Ss.get(p),w=g.snapshotVersion,I=g.withLastLimboFreeSnapshotVersion(w);d.Ss=d.Ss.insert(p,I)}}}(s.localStore,i))}async function KT(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){ne(nc,"User change. New user:",e.toKey());const s=await Zm(n.localStore,e);n.currentUser=e,function(i,o){i.cu.forEach(a=>{a.forEach(u=>{u.reject(new ie(K.CANCELLED,o))})}),i.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ki(n,s.Ms)}}function WT(t,e){const n=_e(t),s=n._u.get(e);if(s&&s.tu)return Ae().add(s.key);{let r=Ae();const i=n.iu.get(e);if(!i)return r;for(const o of i){const a=n.ru.get(o);r=r.unionWith(a.view.Wa)}return r}}function _g(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zT.bind(null,e),e.nu.Q_=kT.bind(null,e.eventManager),e.nu.Tu=VT.bind(null,e.eventManager),e}function QT(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HT.bind(null,e),e}class jo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ba(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return ZE(this.persistence,new YE,e.initialUser,this.serializer)}Ru(e){return new Jm(Gu.Ei,this.serializer)}Au(e){return new oT}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jo.provider={build:()=>new jo};class YT extends jo{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Le(this.persistence.referenceDelegate instanceof Fo,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new OE(s,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Nt.withCacheSize(this.cacheSizeBytes):Nt.DEFAULT;return new Jm(s=>Fo.Ei(s,n),this.serializer)}}class iu{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Kf(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=KT.bind(null,this.syncEngine),await CT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RT}()}createDatastore(e){const n=ba(e.databaseInfo.databaseId),s=function(i){return new dT(i)}(e.databaseInfo);return function(i,o,a,u){return new mT(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,i,o,a){return new vT(s,r,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Kf(this.syncEngine,n,0),function(){return jf.C()?new jf:new aT}())}createSyncEngine(e,n){return function(r,i,o,a,u,c,d){const f=new NT(r,i,o,a,u,c);return d&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const i=_e(r);ne(Ps,"RemoteStore shutting down."),i.aa.add(5),await Ri(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}iu.provider={build:()=>new iu};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):On("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="FirestoreClient";class XT{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Et.UNAUTHENTICATED,this.clientId=fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async o=>{ne(ls,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(ne(ls,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ec(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function hl(t,e){t.asyncQueue.verifyOperationInProgress(),ne(ls,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await Zm(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Qf(t,e){t.asyncQueue.verifyOperationInProgress();const n=await JT(t);ne(ls,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>zf(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>zf(e.remoteStore,r)),t._onlineComponents=e}async function JT(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne(ls,"Using user provided OfflineComponentProvider");try{await hl(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===K.FAILED_PRECONDITION||r.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;lr("Error using user provided cache. Falling back to memory cache: "+n),await hl(t,new jo)}}else ne(ls,"Using default OfflineComponentProvider"),await hl(t,new YT(void 0));return t._offlineComponents}async function bg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne(ls,"Using user provided OnlineComponentProvider"),await Qf(t,t._uninitializedComponentsProvider._online)):(ne(ls,"Using default OnlineComponentProvider"),await Qf(t,new iu))),t._onlineComponents}function ZT(t){return bg(t).then(e=>e.syncEngine)}async function Eg(t){const e=await bg(t),n=e.eventManager;return n.onListen=LT.bind(null,e.syncEngine),n.onUnlisten=BT.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$T.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jT.bind(null,e.syncEngine),n}function e1(t,e,n={}){const s=new Vn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new wg({next:p=>{d.yu(),o.enqueueAndForget(()=>cg(i,f));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new ie(K.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&u&&u.source==="server"?c.reject(new ie(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new dg(Fu(a.path),d,{includeMetadataChanges:!0,Fa:!0});return ug(i,f)}(await Eg(t),t.asyncQueue,e,n,s)),s.promise}function t1(t,e,n={}){const s=new Vn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new wg({next:p=>{d.yu(),o.enqueueAndForget(()=>cg(i,f)),p.fromCache&&u.source==="server"?c.reject(new ie(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new dg(a,d,{includeMetadataChanges:!0,Fa:!0});return ug(i,f)}(await Eg(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t,e,n){if(!n)throw new ie(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n1(t,e,n,s){if(e===!0&&s===!0)throw new ie(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Xf(t){if(!ce.isDocumentKey(t))throw new ie(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Jf(t){if(ce.isDocumentKey(t))throw new ie(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":me(12329,{type:typeof t})}function En(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rc(t);throw new ie(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="firestore.googleapis.com",Zf=!0;class eh{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ig,this.ssl=Zf}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Zf;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Xm;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DE)throw new ie(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tg((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sa{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new ub;switch(s.type){case"firstParty":return new hb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ie(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Yf.get(n);s&&(ne("ComponentProvider","Removing Datastore"),Yf.delete(n),s.terminate())}(this),Promise.resolve()}}function s1(t,e,n,s={}){var r;const i=(t=En(t,Sa))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i.host!==Ig&&i.host!==a&&lr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},i),{host:a,ssl:!1,emulatorOptions:s});if(!fi(u,o)&&(t._setSettings(u),s.mockUserToken)){let c,d;if(typeof s.mockUserToken=="string")c=s.mockUserToken,d=Et.MOCK_USER;else{c=F0(s.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const f=s.mockUserToken.sub||s.mockUserToken.user_id;if(!f)throw new ie(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Et(f)}t._authCredentials=new cb(new cm(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ia(this.firestore,e,this._query)}}class Ft{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}}class es extends Ia{constructor(e,n,s){super(e,n,Fu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new ce(e))}withConverter(e){return new es(this.firestore,e,this._path)}}function Ag(t,e,...n){if(t=_n(t),Sg("collection","path",e),t instanceof Sa){const s=Ge.fromString(e,...n);return Jf(s),new es(t,null,s)}{if(!(t instanceof Ft||t instanceof es))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ge.fromString(e,...n));return Jf(s),new es(t.firestore,null,s)}}function Ls(t,e,...n){if(t=_n(t),arguments.length===1&&(e=fm.newId()),Sg("doc","path",e),t instanceof Sa){const s=Ge.fromString(e,...n);return Xf(s),new Ft(t,null,new ce(s))}{if(!(t instanceof Ft||t instanceof es))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ge.fromString(e,...n));return Xf(s),new Ft(t.firestore,t instanceof es?t.converter:null,new ce(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th="AsyncQueue";class nh{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new tg(this,"async_queue_retry"),this.ju=()=>{const s=fl();s&&ne(th,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const n=fl();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=fl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Vn;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!wr(e))throw e;ne(th,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,On("INTERNAL UNHANDLED ERROR: ",sh(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(e,n,s){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const r=Zu.createAndSchedule(this,e,n,s,i=>this.Xu(i));return this.Uu.push(r),r}Ju(){this.Ku&&me(47125,{ec:sh(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function sh(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Er extends Sa{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new nh,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nh(e),this._firestoreClient=void 0,await e}}}function r1(t,e){const n=typeof t=="object"?t:em(),s=typeof t=="string"?t:Vo,r=xi(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=L0("firestore");i&&s1(r,...i)}return r}function ic(t){if(t._terminated)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||i1(t),t._firestoreClient}function i1(t){var e,n,s;const r=t._freezeSettings(),i=function(a,u,c,d){return new Cb(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Tg(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=r.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new XT(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pr(mt.fromBase64String(e))}catch(n){throw new ie(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pr(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=/^__.*__$/;class a1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ci(e,this.data,n,this.fieldTransforms)}}class xg{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new hs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Cg(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me(40011,{oc:t})}}class uc{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new uc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ac({path:s,cc:!1});return r.lc(e),r}hc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ac({path:s,cc:!1});return r._c(),r}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Uo(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Cg(this.oc)&&o1.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class l1{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ba(e)}dc(e,n,s,r=!1){return new uc({oc:e,methodName:n,Ec:s,path:ht.emptyPath(),cc:!1,Ic:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pg(t){const e=t._freezeSettings(),n=ba(t._databaseId);return new l1(t._databaseId,!!e.ignoreUndefinedProperties,n)}function u1(t,e,n,s,r,i={}){const o=t.dc(i.merge||i.mergeFields?2:0,e,n,r);cc("Data must be an object, but it was:",o,s);const a=Rg(s,o);let u,c;if(i.merge)u=new Kt(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=ou(e,f,n);if(!o.contains(p))throw new ie(K.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Vg(d,p)||d.push(p)}u=new Kt(d),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new a1(new $t(a),u,c)}class xa extends oc{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xa}}function c1(t,e,n,s){const r=t.dc(1,e,n);cc("Data must be an object, but it was:",r,s);const i=[],o=$t.empty();fs(s,(u,c)=>{const d=dc(e,u,n);c=_n(c);const f=r.hc(d);if(c instanceof xa)i.push(d);else{const p=Ca(c,f);p!=null&&(i.push(d),o.set(d,p))}});const a=new Kt(i);return new xg(o,a,r.fieldTransforms)}function d1(t,e,n,s,r,i){const o=t.dc(1,e,n),a=[ou(e,s,n)],u=[r];if(i.length%2!=0)throw new ie(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(ou(e,i[p])),u.push(i[p+1]);const c=[],d=$t.empty();for(let p=a.length-1;p>=0;--p)if(!Vg(c,a[p])){const g=a[p];let w=u[p];w=_n(w);const I=o.hc(g);if(w instanceof xa)c.push(g);else{const C=Ca(w,I);C!=null&&(c.push(g),d.set(g,C))}}const f=new Kt(c);return new xg(d,f,o.fieldTransforms)}function Ca(t,e){if(kg(t=_n(t)))return cc("Unsupported field value:",e,t),Rg(t,e);if(t instanceof oc)return function(s,r){if(!Cg(r.oc))throw r.Tc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Tc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,r){const i=[];let o=0;for(const a of s){let u=Ca(a,r.Pc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(s,r){if((s=_n(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Jb(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=rt.fromDate(s);return{timestampValue:$o(r.serializer,i)}}if(s instanceof rt){const i=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$o(r.serializer,i)}}if(s instanceof ac)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof pr)return{bytesValue:qm(r.serializer,s._byteString)};if(s instanceof Ft){const i=r.databaseId,o=s.firestore._databaseId;if(!o.isEqual(i))throw r.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:qu(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof lc)return function(o,a){return{mapValue:{fields:{[wm]:{stringValue:bm},[Do]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Tc("VectorValues must only contain numeric values.");return Bu(a.serializer,c)})}}}}}}(s,r);throw r.Tc(`Unsupported field value: ${rc(s)}`)}(t,e)}function Rg(t,e){const n={};return pm(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(t,(s,r)=>{const i=Ca(r,e.uc(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function kg(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof ac||t instanceof pr||t instanceof Ft||t instanceof oc||t instanceof lc)}function cc(t,e,n){if(!kg(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const s=rc(n);throw s==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+s)}}function ou(t,e,n){if((e=_n(e))instanceof Aa)return e._internalPath;if(typeof e=="string")return dc(t,e);throw Uo("Field path arguments must be of type string or ",t,!1,void 0,n)}const f1=new RegExp("[~\\*/\\[\\]]");function dc(t,e,n){if(e.search(f1)>=0)throw Uo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Aa(...e.split("."))._internalPath}catch{throw Uo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Uo(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${s}`),o&&(u+=` in document ${r}`),u+=")"),new ie(K.INVALID_ARGUMENT,a+t+u)}function Vg(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new h1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class h1 extends Dg{data(){return super.data()}}function Mg(t,e){return typeof e=="string"?dc(t,e):e instanceof Aa?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class m1{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return fs(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(e){var n,s,r;const i=(r=(s=(n=e.fields)===null||n===void 0?void 0:n[Do].arrayValue)===null||s===void 0?void 0:s.values)===null||r===void 0?void 0:r.map(o=>Ze(o.doubleValue));return new lc(i)}convertGeoPoint(e){return new ac(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=pa(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(mi(e));default:return null}}convertTimestamp(e){const n=rs(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ge.fromString(e);Le(Ym(s),9688,{name:e});const r=new gi(s.get(1),s.get(3)),i=new ce(s.popFirst(5));return r.isEqual(n)||On(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t,e,n){let s;return s=t?t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Og extends Dg{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Mg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class vo extends Og{data(e={}){return super.data(e)}}class v1{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Kr(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new vo(this._firestore,this._userDataWriter,s.key,s,new Kr(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const u=new vo(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Kr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new vo(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Kr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:y1(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function y1(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t){t=En(t,Ft);const e=En(t.firestore,Er);return e1(ic(e),t._key).then(n=>E1(e,t,n))}class Ng extends m1{constructor(e){super(),this.firestore=e}convertBytes(e){return new pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function Lg(t){t=En(t,Ia);const e=En(t.firestore,Er),n=ic(e),s=new Ng(e);return p1(t._query),t1(n,t._query).then(r=>new v1(e,s,t,r))}function _1(t,e,n){t=En(t,Ft);const s=En(t.firestore,Er),r=g1(t.converter,e);return fc(s,[u1(Pg(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,rn.none())])}function w1(t,e,n,...s){t=En(t,Ft);const r=En(t.firestore,Er),i=Pg(r);let o;return o=typeof(e=_n(e))=="string"||e instanceof Aa?d1(i,"updateDoc",t._key,e,n,s):c1(i,"updateDoc",t._key,e),fc(r,[o.toMutation(t._key,rn.exists(!0))])}function b1(t){return fc(En(t.firestore,Er),[new ju(t._key,rn.none())])}function fc(t,e){return function(s,r){const i=new Vn;return s.asyncQueue.enqueueAndForget(async()=>UT(await ZT(s),r,i)),i.promise}(ic(t),e)}function E1(t,e,n){const s=n.docs.get(e._key),r=new Ng(t);return new Og(t,r,e._key,s,new Kr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){yr=r})(Yw),ns(new Dn("firestore",(s,{instanceIdentifier:r,options:i})=>{const o=s.getProvider("app").getImmediate(),a=new Er(new db(s.getProvider("auth-internal")),new pb(o,s.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ie(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gi(c.options.projectId,d)}(o,r),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),mn(lf,uf,e),mn(lf,uf,"esm2017")})();const $g="@firebase/installations",hc="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=1e4,Bg=`w:${hc}`,jg="FIS_v2",T1="https://firebaseinstallations.googleapis.com/v1",S1=60*60*1e3,I1="installations",A1="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Rs=new da(I1,A1,x1);function Ug(t){return t instanceof ds&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg({projectId:t}){return`${T1}/projects/${t}/installations`}function qg(t){return{token:t.token,requestStatus:2,expiresIn:P1(t.expiresIn),creationTime:Date.now()}}async function Hg(t,e){const s=(await e.json()).error;return Rs.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Gg({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function C1(t,{refreshToken:e}){const n=Gg(t);return n.append("Authorization",R1(e)),n}async function Kg(t){const e=await t();return e.status>=500&&e.status<600?t():e}function P1(t){return Number(t.replace("s","000"))}function R1(t){return`${jg} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=zg(t),r=Gg(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={fid:n,authVersion:jg,appId:t.appId,sdkVersion:Bg},a={method:"POST",headers:r,body:JSON.stringify(o)},u=await Kg(()=>fetch(s,a));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:qg(c.authToken)}}else throw await Hg("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=/^[cdef][\w-]{21}$/,au="";function M1(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=O1(t);return D1.test(n)?n:au}catch{return au}}function O1(t){return V1(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=new Map;function Yg(t,e){const n=Pa(t);Xg(n,e),N1(n,e)}function Xg(t,e){const n=Qg.get(t);if(n)for(const s of n)s(e)}function N1(t,e){const n=L1();n&&n.postMessage({key:t,fid:e}),$1()}let Is=null;function L1(){return!Is&&"BroadcastChannel"in self&&(Is=new BroadcastChannel("[Firebase] FID Change"),Is.onmessage=t=>{Xg(t.data.key,t.data.fid)}),Is}function $1(){Qg.size===0&&Is&&(Is.close(),Is=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="firebase-installations-database",B1=1,ks="firebase-installations-store";let pl=null;function pc(){return pl||(pl=Jp(F1,B1,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ks)}}})),pl}async function zo(t,e){const n=Pa(t),r=(await pc()).transaction(ks,"readwrite"),i=r.objectStore(ks),o=await i.get(n);return await i.put(e,n),await r.done,(!o||o.fid!==e.fid)&&Yg(t,e.fid),e}async function Jg(t){const e=Pa(t),s=(await pc()).transaction(ks,"readwrite");await s.objectStore(ks).delete(e),await s.done}async function Ra(t,e){const n=Pa(t),r=(await pc()).transaction(ks,"readwrite"),i=r.objectStore(ks),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&Yg(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(t){let e;const n=await Ra(t.appConfig,s=>{const r=j1(s),i=U1(t,r);return e=i.registrationPromise,i.installationEntry});return n.fid===au?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function j1(t){const e=t||{fid:M1(),registrationStatus:0};return Zg(e)}function U1(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Rs.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=z1(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:q1(t)}:{installationEntry:e}}async function z1(t,e){try{const n=await k1(t,e);return zo(t.appConfig,n)}catch(n){throw Ug(n)&&n.customData.serverCode===409?await Jg(t.appConfig):await zo(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function q1(t){let e=await rh(t.appConfig);for(;e.registrationStatus===1;)await Wg(100),e=await rh(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await mc(t);return s||n}return e}function rh(t){return Ra(t,e=>{if(!e)throw Rs.create("installation-not-found");return Zg(e)})}function Zg(t){return H1(t)?{fid:t.fid,registrationStatus:0}:t}function H1(t){return t.registrationStatus===1&&t.registrationTime+Fg<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1({appConfig:t,heartbeatServiceProvider:e},n){const s=K1(t,n),r=C1(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={installation:{sdkVersion:Bg,appId:t.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},u=await Kg(()=>fetch(s,a));if(u.ok){const c=await u.json();return qg(c)}else throw await Hg("Generate Auth Token",u)}function K1(t,{fid:e}){return`${zg(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(t,e=!1){let n;const s=await Ra(t.appConfig,i=>{if(!ev(i))throw Rs.create("not-registered");const o=i.authToken;if(!e&&Y1(o))return i;if(o.requestStatus===1)return n=W1(t,e),i;{if(!navigator.onLine)throw Rs.create("app-offline");const a=J1(i);return n=Q1(t,a),a}});return n?await n:s.authToken}async function W1(t,e){let n=await ih(t.appConfig);for(;n.authToken.requestStatus===1;)await Wg(100),n=await ih(t.appConfig);const s=n.authToken;return s.requestStatus===0?gc(t,e):s}function ih(t){return Ra(t,e=>{if(!ev(e))throw Rs.create("not-registered");const n=e.authToken;return Z1(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Q1(t,e){try{const n=await G1(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await zo(t.appConfig,s),n}catch(n){if(Ug(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Jg(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await zo(t.appConfig,s)}throw n}}function ev(t){return t!==void 0&&t.registrationStatus===2}function Y1(t){return t.requestStatus===2&&!X1(t)}function X1(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+S1}function J1(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Z1(t){return t.requestStatus===1&&t.requestTime+Fg<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eS(t){const e=t,{installationEntry:n,registrationPromise:s}=await mc(e);return s?s.catch(console.error):gc(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tS(t,e=!1){const n=t;return await nS(n),(await gc(n,e)).token}async function nS(t){const{registrationPromise:e}=await mc(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t){if(!t||!t.options)throw ml("App Configuration");if(!t.name)throw ml("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ml(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ml(t){return Rs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="installations",rS="installations-internal",iS=t=>{const e=t.getProvider("app").getImmediate(),n=sS(e),s=xi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},oS=t=>{const e=t.getProvider("app").getImmediate(),n=xi(e,tv).getImmediate();return{getId:()=>eS(n),getToken:r=>tS(n,r)}};function aS(){ns(new Dn(tv,iS,"PUBLIC")),ns(new Dn(rS,oS,"PRIVATE"))}aS();mn($g,hc);mn($g,hc,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="analytics",lS="firebase_id",uS="origin",cS=60*1e3,dS="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vc="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt=new ku("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Wt=new da("analytics","Analytics",fS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(t){if(!t.startsWith(vc)){const e=Wt.create("invalid-gtag-resource",{gtagURL:t});return Bt.warn(e.message),""}return t}function nv(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function pS(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function mS(t,e){const n=pS("firebase-js-sdk-policy",{createScriptURL:hS}),s=document.createElement("script"),r=`${vc}?l=${t}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function gS(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function vS(t,e,n,s,r,i){const o=s[r];try{if(o)await e[o];else{const u=(await nv(n)).find(c=>c.measurementId===r);u&&await e[u.appId]}}catch(a){Bt.error(a)}t("config",r,i)}async function yS(t,e,n,s,r){try{let i=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=await nv(n);for(const u of o){const c=a.find(f=>f.measurementId===u),d=c&&e[c.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",s,r||{})}catch(i){Bt.error(i)}}function _S(t,e,n,s){async function r(i,...o){try{if(i==="event"){const[a,u]=o;await yS(t,e,n,a,u)}else if(i==="config"){const[a,u]=o;await vS(t,e,n,s,a,u)}else if(i==="consent"){const[a,u]=o;t("consent",a,u)}else if(i==="get"){const[a,u,c]=o;t("get",a,u,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Bt.error(a)}}return r}function wS(t,e,n,s,r){let i=function(...o){window[s].push(arguments)};return window[r]&&typeof window[r]=="function"&&(i=window[r]),window[r]=_S(i,t,e,n),{gtagCore:i,wrappedGtag:window[r]}}function bS(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(vc)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=30,TS=1e3;class SS{constructor(e={},n=TS){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const sv=new SS;function IS(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function AS(t){var e;const{appId:n,apiKey:s}=t,r={method:"GET",headers:IS(s)},i=dS.replace("{app-id}",n),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let a="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw Wt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function xS(t,e=sv,n){const{appId:s,apiKey:r,measurementId:i}=t.options;if(!s)throw Wt.create("no-app-id");if(!r){if(i)return{measurementId:i,appId:s};throw Wt.create("no-api-key")}const o=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new RS;return setTimeout(async()=>{a.abort()},cS),rv({appId:s,apiKey:r,measurementId:i},o,a,e)}async function rv(t,{throttleEndTimeMillis:e,backoffCount:n},s,r=sv){var i;const{appId:o,measurementId:a}=t;try{await CS(s,e)}catch(u){if(a)return Bt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw u}try{const u=await AS(t);return r.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!PS(c)){if(r.deleteThrottleMetadata(o),a)return Bt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw u}const d=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?Xd(n,r.intervalMillis,ES):Xd(n,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return r.setThrottleMetadata(o,f),Bt.debug(`Calling attemptFetch again in ${d} millis`),rv(t,f,s,r)}}function CS(t,e){return new Promise((n,s)=>{const r=Math.max(e-Date.now(),0),i=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(i),s(Wt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function PS(t){if(!(t instanceof ds)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class RS{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function kS(t,e,n,s,r){if(r&&r.global){t("event",n,s);return}else{const i=await e,o=Object.assign(Object.assign({},s),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VS(){if(Wp())try{await Qp()}catch(t){return Bt.warn(Wt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Bt.warn(Wt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function DS(t,e,n,s,r,i,o){var a;const u=xS(t);u.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&Bt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Bt.error(g)),e.push(u);const c=VS().then(g=>{if(g)return s.getId()}),[d,f]=await Promise.all([u,c]);bS(i)||mS(i,d.measurementId),r("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[uS]="firebase",p.update=!0,f!=null&&(p[lS]=f),r("config",d.measurementId,p),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.app=e}_delete(){return delete si[this.app.options.appId],Promise.resolve()}}let si={},oh=[];const ah={};let gl="dataLayer",OS="gtag",lh,iv,uh=!1;function NS(){const t=[];if(U0()&&t.push("This is a browser extension environment."),q0()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,r)=>`(${r+1}) ${s}`).join(" "),n=Wt.create("invalid-analytics-context",{errorInfo:e});Bt.warn(n.message)}}function LS(t,e,n){NS();const s=t.options.appId;if(!s)throw Wt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Bt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Wt.create("no-api-key");if(si[s]!=null)throw Wt.create("already-exists",{id:s});if(!uh){gS(gl);const{wrappedGtag:i,gtagCore:o}=wS(si,oh,ah,gl,OS);iv=i,lh=o,uh=!0}return si[s]=DS(t,oh,ah,e,lh,gl,n),new MS(t)}function $S(t=em()){t=_n(t);const e=xi(t,qo);return e.isInitialized()?e.getImmediate():FS(t)}function FS(t,e={}){const n=xi(t,qo);if(n.isInitialized()){const r=n.getImmediate();if(fi(e,n.getOptions()))return r;throw Wt.create("already-initialized")}return n.initialize({options:e})}function BS(t,e,n,s){t=_n(t),kS(iv,si[t.app.options.appId],e,n,s).catch(r=>Bt.error(r))}const ch="@firebase/analytics",dh="0.10.12";function jS(){ns(new Dn(qo,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return LS(s,r,n)},"PUBLIC")),ns(new Dn("analytics-internal",t,"PRIVATE")),mn(ch,dh),mn(ch,dh,"esm2017");function t(e){try{const n=e.getProvider(qo).getImmediate();return{logEvent:(s,r,i)=>BS(n,s,r,i)}}catch(n){throw Wt.create("interop-component-reg-failed",{reason:n})}}}jS();const US={apiKey:"AIzaSyBLe2TOSDo7xeMZh4ARVXbd1FiPCVCUNGo",authDomain:"roteiroviagem-b5116.firebaseapp.com",projectId:"roteiroviagem-b5116",storageBucket:"roteiroviagem-b5116.firebasestorage.app",messagingSenderId:"872269638046",appId:"1:872269638046:web:2718740bd2eba8ba028e8f",measurementId:"G-EV395T3365"},ov=Zp(US);$S(ov);const $n=r1(ov);async function zS(){try{const t=Ls($n,Ms.site,"header"),e=await Vi(t);return e.exists()?e.data():null}catch(t){return console.error("Erro ao buscar header do site:",t),null}}async function qS(){try{const t=Ls($n,Ms.site,"footer"),e=await Vi(t);return e.exists()?e.data():null}catch(t){return console.error("Erro ao buscar footer do site:",t),null}}async function HS(t="santiago"){try{return(await Lg(Ag($n,Ms.trips,t,"itinerary"))).docs.map(s=>({id:s.id,...s.data()})).sort((s,r)=>s.dayNumber-r.dayNumber)}catch(e){return console.error(`Erro ao buscar itinerrio da viagem ${t}:`,e),[]}}async function GS(t="santiago"){try{return(await Lg(Ag($n,Ms.trips,t,"activities"))).docs.map(n=>({id:n.id,...n.data()}))}catch(e){return console.error(`Erro ao buscar atividades da viagem ${t}:`,e),[]}}async function KS(t="santiago"){try{const e=Ls($n,Ms.trips,t,"info","tips"),n=await Vi(e);return n.exists()?n.data():null}catch(e){return console.error(`Erro ao buscar dicas da viagem ${t}:`,e),null}}async function WS(t,e="santiago"){try{const n=Ls($n,Ms.trips,e,"activities",t),s=await Vi(n);return s.exists()?{id:s.id,...s.data()}:null}catch(n){return console.error(`Erro ao buscar atividade ${t}:`,n),null}}async function QS(t,e="santiago"){try{const n=Ls($n,Ms.trips,e,"itinerary",t),s=await Vi(n);return s.exists()?{id:s.id,...s.data()}:null}catch(n){return console.error(`Erro ao buscar dia ${t}:`,n),null}}const av="Oxd3Xk7F7XTzfELkxS74",YS=t=>({...t,adminToken:av}),Di=async(t,e,n)=>{try{const s=Ls($n,t,e);return await _1(s,YS(n)),{success:!0,id:e}}catch(s){return console.error(`Erro ao salvar documento ${e} em ${t}:`,s),{success:!1,error:s}}},lv=async(t,e)=>{try{const n=Ls($n,t,e);return await w1(n,{adminToken:av}),await b1(n),{success:!0}}catch(n){return console.error(`Erro ao excluir documento ${e} em ${t}:`,n),{success:!1,error:n}}},XS=async t=>await Di("site","header",t),JS=async t=>await Di("site","footer",t),ZS=async(t,e)=>await Di(`trips/${t}/info`,"tips",e),eI=async(t,e,n)=>await Di(`trips/${t}/activities`,e,n),tI=async(t,e,n)=>await Di(`trips/${t}/itinerary`,e,n);async function uv(){return zS()}async function cv(){return qS()}async function yc(t="santiago"){return HS(t)}async function _c(t="santiago"){return GS(t)}async function wc(t="santiago"){return KS(t)}async function nI(t,e="santiago"){return WS(t,e)}async function sI(t,e="santiago"){return QS(t,e)}const Tn=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},rI={class:"p-4 border-b border-gray-700"},iI={class:"flex items-center justify-between"},oI={class:"mt-4"},aI={__name:"AdminSidebar",props:{isOpen:{type:Boolean,default:!1}},emits:["close"],setup(t){return(e,n)=>{const s=vr("router-link");return F(),z(we,null,[y("div",{class:en(["admin-sidebar fixed inset-y-0 left-0 z-50 w-64 bg-gray-800 text-white transform transition-transform duration-300 ease-in-out",t.isOpen?"translate-x-0":"-translate-x-full"])},[y("div",rI,[y("div",iI,[n[8]||(n[8]=y("h2",{class:"text-xl font-semibold"},"Administrao",-1)),y("button",{onClick:n[0]||(n[0]=r=>e.$emit("close")),class:"text-white p-2 rounded-md hover:bg-gray-700"},n[7]||(n[7]=[y("i",{class:"fas fa-times"},null,-1)]))])]),y("nav",oI,[n[15]||(n[15]=y("div",{class:"px-4 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider"}," Configuraes do Site ",-1)),y("ul",null,[y("li",null,[ae(s,{to:"/admin/header",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200",onClick:n[1]||(n[1]=r=>e.$emit("close"))},{default:Fe(()=>n[9]||(n[9]=[y("i",{class:"fas fa-heading mr-2"},null,-1),De(" Header ")])),_:1})]),y("li",null,[ae(s,{to:"/admin/footer",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200",onClick:n[2]||(n[2]=r=>e.$emit("close"))},{default:Fe(()=>n[10]||(n[10]=[y("i",{class:"fas fa-shoe-prints mr-2"},null,-1),De(" Footer ")])),_:1})])]),n[16]||(n[16]=y("div",{class:"mt-6 px-4 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider"}," Contedo da Viagem ",-1)),y("ul",null,[Xe(y("li",null,n[11]||(n[11]=[y("a",{href:"#",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200"},[y("i",{class:"fas fa-info-circle mr-2"}),De(" Informaes da Viagem ")],-1)]),512),[[i0,!1]]),y("li",null,[ae(s,{to:"/admin/itinerario",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200",onClick:n[3]||(n[3]=r=>e.$emit("close"))},{default:Fe(()=>n[12]||(n[12]=[y("i",{class:"fas fa-calendar-alt mr-2"},null,-1),De(" Itinerrio ")])),_:1})]),y("li",null,[ae(s,{to:"/admin/atividades",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200",onClick:n[4]||(n[4]=r=>e.$emit("close"))},{default:Fe(()=>n[13]||(n[13]=[y("i",{class:"fas fa-hiking mr-2"},null,-1),De(" Atividades ")])),_:1})]),y("li",null,[ae(s,{to:"/admin/dicas",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200",onClick:n[5]||(n[5]=r=>e.$emit("close"))},{default:Fe(()=>n[14]||(n[14]=[y("i",{class:"fas fa-lightbulb mr-2"},null,-1),De(" Dicas ")])),_:1})])])]),n[17]||(n[17]=y("div",{class:"absolute bottom-0 w-full p-4 border-t border-gray-700"},[y("p",{class:"text-sm text-gray-400"},[De(" Logado como "),y("span",{class:"font-semibold"},"Administrador")])],-1))],2),t.isOpen?(F(),z("div",{key:0,onClick:n[6]||(n[6]=r=>e.$emit("close")),class:"fixed inset-0 bg-black bg-opacity-50 z-40"})):xe("",!0)],64)}}},lI=Tn(aI,[["__scopeId","data-v-8cc5dbc6"]]),uI={class:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4"},cI={class:"text-lg sm:text-xl lg:text-2xl mb-8"},dI={class:"inline-flex bg-white text-blue-900 font-bold rounded-full px-6 py-2"},fI={__name:"header",setup(t){const e=le(null),n=le(!1),s=()=>{n.value=!n.value},r=()=>{n.value=!1},i=nt(()=>!e.value||!e.value.backgroundImage?{}:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${e.value.backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center"}),o=(a,u)=>{const[c,d,f]=a.split("/"),[p,g,w]=u.split("/"),I=new Date(`${f}-${d}-${c}`),C=I.toLocaleString("pt-BR",{month:"long"}),V=I.getFullYear();return`${parseInt(c)} a ${parseInt(p)} de ${C} de ${V}`};return gt(async()=>{try{e.value=await uv()}catch(a){console.error("Erro ao carregar dados do header:",a)}}),(a,u)=>(F(),z(we,null,[e.value?(F(),z("header",{key:0,class:"relative hero-bg text-white py-12 sm:py-16 lg:py-24 px-4 sm:px-6 lg:px-8 text-center",style:ta(i.value)},[y("button",{onClick:s,class:"absolute top-4 left-4 text-white p-2 bg-blue-900 bg-opacity-50 rounded-md hover:bg-opacity-70 transition-all"},u[0]||(u[0]=[y("i",{class:"fas fa-bars text-xl"},null,-1)])),y("h1",uI,ue(e.value.title),1),y("p",cI,ue(e.value.subtitle),1),y("div",dI,[u[1]||(u[1]=y("span",{class:"mr-2"},[y("i",{class:"fas fa-calendar-alt"})],-1)),De(" "+ue(o(e.value.period.start,e.value.period.end)),1)])],4)):xe("",!0),ae(lI,{isOpen:n.value,onClose:r},null,8,["isOpen"])],64))}},hI={id:"visao-geral",class:"p-6"},pI={__name:"TripOverview",setup(t){return(e,n)=>(F(),z("section",hI,n[0]||(n[0]=[U_('<h2 class="text-3xl font-bold text-blue-800 mb-6 pb-2 border-b-2 border-blue-300" data-v-e4bae3b2>Viso Geral da Viagem</h2><div class="bg-white rounded-lg shadow-lg p-6 mb-8" data-v-e4bae3b2><p class="text-lg mb-4" data-v-e4bae3b2>Este roteiro inclui 8 dias no Chile, com base em Santiago, combinando experincias incrveis:</p><ul class="grid grid-cols-1 md:grid-cols-2 gap-4 my-6" data-v-e4bae3b2><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-snowflake" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Aventuras na neve (Valle Nevado e Portillo)</p></li><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-city" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Turismo urbano em Santiago</p></li><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-mountain" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Passeios a Valparaso e Via del Mar</p></li><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-wine-glass-alt" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Degustao em vincolas</p></li><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-utensils" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Experincias gastronmicas</p></li><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-church" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Visitas culturais e religiosas</p></li></ul><div class="text-gray-700 italic" data-v-e4bae3b2><p data-v-e4bae3b2>A probabilidade de neve em Valle Nevado durante nossa visita  classificada como mdia a alta, o que promete uma experincia incrvel com a neve andina.</p></div></div>',2)])))}},mI=Tn(pI,[["__scopeId","data-v-e4bae3b2"]]);function fh(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function bc(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=e[s]:fh(e[s])&&fh(t[s])&&Object.keys(e[s]).length>0&&bc(t[s],e[s])})}const dv={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function $s(){const t=typeof document<"u"?document:{};return bc(t,dv),t}const gI={document:dv,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Vt(){const t=typeof window<"u"?window:{};return bc(t,gI),t}function vI(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function yI(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Ho(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Go(){return Date.now()}function _I(t){const e=Vt();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function wI(t,e){e===void 0&&(e="x");const n=Vt();let s,r,i;const o=_I(t);return n.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(r==="none"?"":r)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?r=i.m41:s.length===16?r=parseFloat(s[12]):r=parseFloat(s[4])),e==="y"&&(n.WebKitCSSMatrix?r=i.m42:s.length===16?r=parseFloat(s[13]):r=parseFloat(s[5])),r||0}function io(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function bI(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function qt(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const s=n<0||arguments.length<=n?void 0:arguments[n];if(s!=null&&!bI(s)){const r=Object.keys(Object(s)).filter(i=>e.indexOf(i)<0);for(let i=0,o=r.length;i<o;i+=1){const a=r[i],u=Object.getOwnPropertyDescriptor(s,a);u!==void 0&&u.enumerable&&(io(t[a])&&io(s[a])?s[a].__swiper__?t[a]=s[a]:qt(t[a],s[a]):!io(t[a])&&io(s[a])?(t[a]={},s[a].__swiper__?t[a]=s[a]:qt(t[a],s[a])):t[a]=s[a])}}}return t}function oo(t,e,n){t.style.setProperty(e,n)}function fv(t){let{swiper:e,targetPosition:n,side:s}=t;const r=Vt(),i=-e.translate;let o=null,a;const u=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const c=n>i?"next":"prev",d=(p,g)=>c==="next"&&p>=g||c==="prev"&&p<=g,f=()=>{a=new Date().getTime(),o===null&&(o=a);const p=Math.max(Math.min((a-o)/u,1),0),g=.5-Math.cos(p*Math.PI)/2;let w=i+g*(n-i);if(d(w,n)&&(w=n),e.wrapperEl.scrollTo({[s]:w}),d(w,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:w})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(f)};f()}function hn(t,e){e===void 0&&(e="");const n=Vt(),s=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&s.push(...t.assignedElements()),e?s.filter(r=>r.matches(e)):s}function EI(t,e){const n=[e];for(;n.length>0;){const s=n.shift();if(t===s)return!0;n.push(...s.children,...s.shadowRoot?s.shadowRoot.children:[],...s.assignedElements?s.assignedElements():[])}}function TI(t,e){const n=Vt();let s=e.contains(t);return!s&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(s=[...e.assignedElements()].includes(t),s||(s=EI(t,e))),s}function Ko(t){try{console.warn(t);return}catch{}}function Wo(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:vI(e)),n}function SI(t,e){const n=[];for(;t.previousElementSibling;){const s=t.previousElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function II(t,e){const n=[];for(;t.nextElementSibling;){const s=t.nextElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function Qn(t,e){return Vt().getComputedStyle(t,null).getPropertyValue(e)}function Qo(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function hv(t,e){const n=[];let s=t.parentElement;for(;s;)e?s.matches(e)&&n.push(s):n.push(s),s=s.parentElement;return n}function AI(t,e){function n(s){s.target===t&&(e.call(t,s),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function lu(t,e,n){const s=Vt();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function at(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let vl;function xI(){const t=Vt(),e=$s();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function pv(){return vl||(vl=xI()),vl}let yl;function CI(t){let{userAgent:e}=t===void 0?{}:t;const n=pv(),s=Vt(),r=s.navigator.platform,i=e||s.navigator.userAgent,o={ios:!1,android:!1},a=s.screen.width,u=s.screen.height,c=i.match(/(Android);?[\s\/]+([\d.]+)?/);let d=i.match(/(iPad).*OS\s([\d_]+)/);const f=i.match(/(iPod)(.*OS\s([\d_]+))?/),p=!d&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g=r==="Win32";let w=r==="MacIntel";const I=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&w&&n.touch&&I.indexOf(`${a}x${u}`)>=0&&(d=i.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),w=!1),c&&!g&&(o.os="android",o.android=!0),(d||p||f)&&(o.os="ios",o.ios=!0),o}function mv(t){return t===void 0&&(t={}),yl||(yl=CI(t)),yl}let _l;function PI(){const t=Vt(),e=mv();let n=!1;function s(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(s()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[u,c]=a.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=u<16||u===16&&c<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=s(),o=i||r&&e.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:o,isWebView:r}}function gv(){return _l||(_l=PI()),_l}function RI(t){let{swiper:e,on:n,emit:s}=t;const r=Vt();let i=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(s("beforeResize"),s("resize"))},u=()=>{!e||e.destroyed||!e.initialized||(i=new ResizeObserver(f=>{o=r.requestAnimationFrame(()=>{const{width:p,height:g}=e;let w=p,I=g;f.forEach(C=>{let{contentBoxSize:V,contentRect:_,target:v}=C;v&&v!==e.el||(w=_?_.width:(V[0]||V).inlineSize,I=_?_.height:(V[0]||V).blockSize)}),(w!==p||I!==g)&&a()})}),i.observe(e.el))},c=()=>{o&&r.cancelAnimationFrame(o),i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null)},d=()=>{!e||e.destroyed||!e.initialized||s("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){u();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",d)}),n("destroy",()=>{c(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",d)})}function kI(t){let{swiper:e,extendParams:n,on:s,emit:r}=t;const i=[],o=Vt(),a=function(d,f){f===void 0&&(f={});const p=o.MutationObserver||o.WebkitMutationObserver,g=new p(w=>{if(e.__preventObserver__)return;if(w.length===1){r("observerUpdate",w[0]);return}const I=function(){r("observerUpdate",w[0])};o.requestAnimationFrame?o.requestAnimationFrame(I):o.setTimeout(I,0)});g.observe(d,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),i.push(g)},u=()=>{if(e.params.observer){if(e.params.observeParents){const d=hv(e.hostEl);for(let f=0;f<d.length;f+=1)a(d[f])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{i.forEach(d=>{d.disconnect()}),i.splice(0,i.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",u),s("destroy",c)}var VI={on(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const r=n?"unshift":"push";return t.split(" ").forEach(i=>{s.eventsListeners[i]||(s.eventsListeners[i]=[]),s.eventsListeners[i][r](e)}),s},once(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;function r(){s.off(t,r),r.__emitterProxy&&delete r.__emitterProxy;for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];e.apply(s,o)}return r.__emitterProxy=e,s.on(t,r,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const s=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[s](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(s=>{typeof e>"u"?n.eventsListeners[s]=[]:n.eventsListeners[s]&&n.eventsListeners[s].forEach((r,i)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[s].splice(i,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,s;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return typeof i[0]=="string"||Array.isArray(i[0])?(e=i[0],n=i.slice(1,i.length),s=t):(e=i[0].events,n=i[0].data,s=i[0].context||t),n.unshift(s),(Array.isArray(e)?e:e.split(" ")).forEach(u=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(s,[u,...n])}),t.eventsListeners&&t.eventsListeners[u]&&t.eventsListeners[u].forEach(c=>{c.apply(s,n)})}),t}};function DI(){const t=this;let e,n;const s=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=s.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=s.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Qn(s,"padding-left")||0,10)-parseInt(Qn(s,"padding-right")||0,10),n=n-parseInt(Qn(s,"padding-top")||0,10)-parseInt(Qn(s,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function MI(){const t=this;function e(A,R){return parseFloat(A.getPropertyValue(t.getDirectionLabel(R))||0)}const n=t.params,{wrapperEl:s,slidesEl:r,size:i,rtlTranslate:o,wrongRTL:a}=t,u=t.virtual&&n.virtual.enabled,c=u?t.virtual.slides.length:t.slides.length,d=hn(r,`.${t.params.slideClass}, swiper-slide`),f=u?t.virtual.slides.length:d.length;let p=[];const g=[],w=[];let I=n.slidesOffsetBefore;typeof I=="function"&&(I=n.slidesOffsetBefore.call(t));let C=n.slidesOffsetAfter;typeof C=="function"&&(C=n.slidesOffsetAfter.call(t));const V=t.snapGrid.length,_=t.slidesGrid.length;let v=n.spaceBetween,S=-I,M=0,$=0;if(typeof i>"u")return;typeof v=="string"&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*i:typeof v=="string"&&(v=parseFloat(v)),t.virtualSize=-v,d.forEach(A=>{o?A.style.marginLeft="":A.style.marginRight="",A.style.marginBottom="",A.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(oo(s,"--swiper-centered-offset-before",""),oo(s,"--swiper-centered-offset-after",""));const x=n.grid&&n.grid.rows>1&&t.grid;x?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let E;const b=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(A=>typeof n.breakpoints[A].slidesPerView<"u").length>0;for(let A=0;A<f;A+=1){E=0;let R;if(d[A]&&(R=d[A]),x&&t.grid.updateSlide(A,R,d),!(d[A]&&Qn(R,"display")==="none")){if(n.slidesPerView==="auto"){b&&(d[A].style[t.getDirectionLabel("width")]="");const O=getComputedStyle(R),P=R.style.transform,Te=R.style.webkitTransform;if(P&&(R.style.transform="none"),Te&&(R.style.webkitTransform="none"),n.roundLengths)E=t.isHorizontal()?lu(R,"width"):lu(R,"height");else{const Ie=e(O,"width"),se=e(O,"padding-left"),de=e(O,"padding-right"),fe=e(O,"margin-left"),Ke=e(O,"margin-right"),Dt=O.getPropertyValue("box-sizing");if(Dt&&Dt==="border-box")E=Ie+fe+Ke;else{const{clientWidth:Mt,offsetWidth:qe}=R;E=Ie+se+de+fe+Ke+(qe-Mt)}}P&&(R.style.transform=P),Te&&(R.style.webkitTransform=Te),n.roundLengths&&(E=Math.floor(E))}else E=(i-(n.slidesPerView-1)*v)/n.slidesPerView,n.roundLengths&&(E=Math.floor(E)),d[A]&&(d[A].style[t.getDirectionLabel("width")]=`${E}px`);d[A]&&(d[A].swiperSlideSize=E),w.push(E),n.centeredSlides?(S=S+E/2+M/2+v,M===0&&A!==0&&(S=S-i/2-v),A===0&&(S=S-i/2-v),Math.abs(S)<1/1e3&&(S=0),n.roundLengths&&(S=Math.floor(S)),$%n.slidesPerGroup===0&&p.push(S),g.push(S)):(n.roundLengths&&(S=Math.floor(S)),($-Math.min(t.params.slidesPerGroupSkip,$))%t.params.slidesPerGroup===0&&p.push(S),g.push(S),S=S+E+v),t.virtualSize+=E+v,M=E,$+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+C,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(s.style.width=`${t.virtualSize+v}px`),n.setWrapperSize&&(s.style[t.getDirectionLabel("width")]=`${t.virtualSize+v}px`),x&&t.grid.updateWrapperSize(E,p),!n.centeredSlides){const A=[];for(let R=0;R<p.length;R+=1){let O=p[R];n.roundLengths&&(O=Math.floor(O)),p[R]<=t.virtualSize-i&&A.push(O)}p=A,Math.floor(t.virtualSize-i)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-i)}if(u&&n.loop){const A=w[0]+v;if(n.slidesPerGroup>1){const R=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),O=A*n.slidesPerGroup;for(let P=0;P<R;P+=1)p.push(p[p.length-1]+O)}for(let R=0;R<t.virtual.slidesBefore+t.virtual.slidesAfter;R+=1)n.slidesPerGroup===1&&p.push(p[p.length-1]+A),g.push(g[g.length-1]+A),t.virtualSize+=A}if(p.length===0&&(p=[0]),v!==0){const A=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");d.filter((R,O)=>!n.cssMode||n.loop?!0:O!==d.length-1).forEach(R=>{R.style[A]=`${v}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let A=0;w.forEach(O=>{A+=O+(v||0)}),A-=v;const R=A>i?A-i:0;p=p.map(O=>O<=0?-I:O>R?R+C:O)}if(n.centerInsufficientSlides){let A=0;w.forEach(O=>{A+=O+(v||0)}),A-=v;const R=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(A+R<i){const O=(i-A-R)/2;p.forEach((P,Te)=>{p[Te]=P-O}),g.forEach((P,Te)=>{g[Te]=P+O})}}if(Object.assign(t,{slides:d,snapGrid:p,slidesGrid:g,slidesSizesGrid:w}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){oo(s,"--swiper-centered-offset-before",`${-p[0]}px`),oo(s,"--swiper-centered-offset-after",`${t.size/2-w[w.length-1]/2}px`);const A=-t.snapGrid[0],R=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(O=>O+A),t.slidesGrid=t.slidesGrid.map(O=>O+R)}if(f!==c&&t.emit("slidesLengthChange"),p.length!==V&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),g.length!==_&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!u&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const A=`${n.containerModifierClass}backface-hidden`,R=t.el.classList.contains(A);f<=n.maxBackfaceHiddenSlides?R||t.el.classList.add(A):R&&t.el.classList.remove(A)}}function OI(t){const e=this,n=[],s=e.virtual&&e.params.virtual.enabled;let r=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>s?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const a=e.activeIndex+i;if(a>e.slides.length&&!s)break;n.push(o(a))}else n.push(o(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const a=n[i].offsetHeight;r=a>r?a:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function NI(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=(t.isHorizontal()?e[s].offsetLeft:e[s].offsetTop)-n-t.cssOverflowAdjustment()}const hh=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function LI(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:s,rtlTranslate:r,snapGrid:i}=e;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;r&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let u=0;u<s.length;u+=1){const c=s[u];let d=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=s[0].swiperSlideOffset);const f=(o+(n.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),p=(o-i[0]+(n.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),g=-(o-d),w=g+e.slidesSizesGrid[u],I=g>=0&&g<=e.size-e.slidesSizesGrid[u],C=g>=0&&g<e.size-1||w>1&&w<=e.size||g<=0&&w>=e.size;C&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(u)),hh(c,C,n.slideVisibleClass),hh(c,I,n.slideFullyVisibleClass),c.progress=r?-f:f,c.originalProgress=r?-p:p}}function $I(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:i,isEnd:o,progressLoop:a}=e;const u=i,c=o;if(s===0)r=0,i=!0,o=!0;else{r=(t-e.minTranslate())/s;const d=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;i=d||r<=0,o=f||r>=1,d&&(r=0),f&&(r=1)}if(n.loop){const d=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[d],g=e.slidesGrid[f],w=e.slidesGrid[e.slidesGrid.length-1],I=Math.abs(t);I>=p?a=(I-p)/w:a=(I+w-g)/w,a>1&&(a-=1)}Object.assign(e,{progress:r,progressLoop:a,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!u&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(u&&!i||c&&!o)&&e.emit("fromEdge"),e.emit("progress",r)}const wl=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function FI(){const t=this,{slides:e,params:n,slidesEl:s,activeIndex:r}=t,i=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=f=>hn(s,`.${n.slideClass}${f}, swiper-slide${f}`)[0];let u,c,d;if(i)if(n.loop){let f=r-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),u=a(`[data-swiper-slide-index="${f}"]`)}else u=a(`[data-swiper-slide-index="${r}"]`);else o?(u=e.find(f=>f.column===r),d=e.find(f=>f.column===r+1),c=e.find(f=>f.column===r-1)):u=e[r];u&&(o||(d=II(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),c=SI(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(f=>{wl(f,f===u,n.slideActiveClass),wl(f,f===d,n.slideNextClass),wl(f,f===c,n.slidePrevClass)}),t.emitSlidesClasses()}const yo=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,s=e.closest(n());if(s){let r=s.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(s.shadowRoot?r=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(r=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},bl=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},uu=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const s=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=r,a=[o-e];a.push(...Array.from({length:e}).map((u,c)=>o+s+c)),t.slides.forEach((u,c)=>{a.includes(u.column)&&bl(t,c)});return}const i=r+s-1;if(t.params.rewind||t.params.loop)for(let o=r-e;o<=i+e;o+=1){const a=(o%n+n)%n;(a<r||a>i)&&bl(t,a)}else for(let o=Math.max(r-e,0);o<=Math.min(i+e,n-1);o+=1)o!==r&&(o>i||o<r)&&bl(t,o)};function BI(t){const{slidesGrid:e,params:n}=t,s=t.rtlTranslate?t.translate:-t.translate;let r;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?s>=e[i]&&s<e[i+1]-(e[i+1]-e[i])/2?r=i:s>=e[i]&&s<e[i+1]&&(r=i+1):s>=e[i]&&(r=i);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function jI(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:s,params:r,activeIndex:i,realIndex:o,snapIndex:a}=e;let u=t,c;const d=g=>{let w=g-e.virtual.slidesBefore;return w<0&&(w=e.virtual.slides.length+w),w>=e.virtual.slides.length&&(w-=e.virtual.slides.length),w};if(typeof u>"u"&&(u=BI(e)),s.indexOf(n)>=0)c=s.indexOf(n);else{const g=Math.min(r.slidesPerGroupSkip,u);c=g+Math.floor((u-g)/r.slidesPerGroup)}if(c>=s.length&&(c=s.length-1),u===i&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(u===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(u);return}const f=e.grid&&r.grid&&r.grid.rows>1;let p;if(e.virtual&&r.virtual.enabled&&r.loop)p=d(u);else if(f){const g=e.slides.find(I=>I.column===u);let w=parseInt(g.getAttribute("data-swiper-slide-index"),10);Number.isNaN(w)&&(w=Math.max(e.slides.indexOf(g),0)),p=Math.floor(w/r.grid.rows)}else if(e.slides[u]){const g=e.slides[u].getAttribute("data-swiper-slide-index");g?p=parseInt(g,10):p=u}else p=u;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:p,previousIndex:i,activeIndex:u}),e.initialized&&uu(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function UI(t,e){const n=this,s=n.params;let r=t.closest(`.${s.slideClass}, swiper-slide`);!r&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!r&&a.matches&&a.matches(`.${s.slideClass}, swiper-slide`)&&(r=a)});let i=!1,o;if(r){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===r){i=!0,o=a;break}}if(r&&i)n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}s.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var zI={updateSize:DI,updateSlides:MI,updateAutoHeight:OI,updateSlidesOffset:NI,updateSlidesProgress:LI,updateProgress:$I,updateSlidesClasses:FI,updateActiveIndex:jI,updateClickedSlide:UI};function qI(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:s,translate:r,wrapperEl:i}=e;if(n.virtualTranslate)return s?-r:r;if(n.cssMode)return r;let o=wI(i,t);return o+=e.cssOverflowAdjustment(),s&&(o=-o),o||0}function HI(t,e){const n=this,{rtlTranslate:s,params:r,wrapperEl:i,progress:o}=n;let a=0,u=0;const c=0;n.isHorizontal()?a=s?-t:t:u=t,r.roundLengths&&(a=Math.floor(a),u=Math.floor(u)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:u,r.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-u:r.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():u-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${a}px, ${u}px, ${c}px)`);let d;const f=n.maxTranslate()-n.minTranslate();f===0?d=0:d=(t-n.minTranslate())/f,d!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function GI(){return-this.snapGrid[0]}function KI(){return-this.snapGrid[this.snapGrid.length-1]}function WI(t,e,n,s,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),s===void 0&&(s=!0);const i=this,{params:o,wrapperEl:a}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const u=i.minTranslate(),c=i.maxTranslate();let d;if(s&&t>u?d=u:s&&t<c?d=c:d=t,i.updateProgress(d),o.cssMode){const f=i.isHorizontal();if(e===0)a[f?"scrollLeft":"scrollTop"]=-d;else{if(!i.support.smoothScroll)return fv({swiper:i,targetPosition:-d,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,r),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,r),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(p){!i||i.destroyed||p.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var QI={getTranslate:qI,setTranslate:HI,minTranslate:GI,maxTranslate:KI,translateTo:WI};function YI(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function vv(t){let{swiper:e,runCallbacks:n,direction:s,step:r}=t;const{activeIndex:i,previousIndex:o}=e;let a=s;if(a||(i>o?a="next":i<o?a="prev":a="reset"),e.emit(`transition${r}`),n&&i!==o){if(a==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),a==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function XI(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;s.cssMode||(s.autoHeight&&n.updateAutoHeight(),vv({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function JI(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;n.animating=!1,!s.cssMode&&(n.setTransition(0),vv({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var ZI={setTransition:YI,transitionStart:XI,transitionEnd:JI};function eA(t,e,n,s,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:u,slidesGrid:c,previousIndex:d,activeIndex:f,rtlTranslate:p,wrapperEl:g,enabled:w}=i;if(!w&&!s&&!r||i.destroyed||i.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=i.params.speed);const I=Math.min(i.params.slidesPerGroupSkip,o);let C=I+Math.floor((o-I)/i.params.slidesPerGroup);C>=u.length&&(C=u.length-1);const V=-u[C];if(a.normalizeSlideIndex)for(let x=0;x<c.length;x+=1){const E=-Math.floor(V*100),b=Math.floor(c[x]*100),A=Math.floor(c[x+1]*100);typeof c[x+1]<"u"?E>=b&&E<A-(A-b)/2?o=x:E>=b&&E<A&&(o=x+1):E>=b&&(o=x)}if(i.initialized&&o!==f&&(!i.allowSlideNext&&(p?V>i.translate&&V>i.minTranslate():V<i.translate&&V<i.minTranslate())||!i.allowSlidePrev&&V>i.translate&&V>i.maxTranslate()&&(f||0)!==o))return!1;o!==(d||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(V);let _;o>f?_="next":o<f?_="prev":_="reset";const v=i.virtual&&i.params.virtual.enabled;if(!(v&&r)&&(p&&-V===i.translate||!p&&V===i.translate))return i.updateActiveIndex(o),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),a.effect!=="slide"&&i.setTranslate(V),_!=="reset"&&(i.transitionStart(n,_),i.transitionEnd(n,_)),!1;if(a.cssMode){const x=i.isHorizontal(),E=p?V:-V;if(e===0)v&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),v&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{g[x?"scrollLeft":"scrollTop"]=E})):g[x?"scrollLeft":"scrollTop"]=E,v&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return fv({swiper:i,targetPosition:E,side:x?"left":"top"}),!0;g.scrollTo({[x?"left":"top"]:E,behavior:"smooth"})}return!0}const $=gv().isSafari;return v&&!r&&$&&i.isElement&&i.virtual.update(!1,!1,o),i.setTransition(e),i.setTranslate(V),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,s),i.transitionStart(n,_),e===0?i.transitionEnd(n,_):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(E){!i||i.destroyed||E.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,_))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function tA(t,e,n,s){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);const i=r.grid&&r.params.grid&&r.params.grid.rows>1;let o=t;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)o=o+r.virtual.slidesBefore;else{let a;if(i){const p=o*r.params.grid.rows;a=r.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===p).column}else a=r.getSlideIndexByData(o);const u=i?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:c}=r.params;let d=r.params.slidesPerView;d==="auto"?d=r.slidesPerViewDynamic():(d=Math.ceil(parseFloat(r.params.slidesPerView,10)),c&&d%2===0&&(d=d+1));let f=u-a<d;if(c&&(f=f||a<Math.ceil(d/2)),s&&c&&r.params.slidesPerView!=="auto"&&!i&&(f=!1),f){const p=c?a<r.activeIndex?"prev":"next":a-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?a+1:a-u+1,slideRealIndex:p==="next"?r.realIndex:void 0})}if(i){const p=o*r.params.grid.rows;o=r.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===p).column}else o=r.getSlideIndexByData(o)}return requestAnimationFrame(()=>{r.slideTo(o,e,n,s)}),r}function nA(t,e,n){e===void 0&&(e=!0);const s=this,{enabled:r,params:i,animating:o}=s;if(!r||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);let a=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(a=Math.max(s.slidesPerViewDynamic("current",!0),1));const u=s.activeIndex<i.slidesPerGroupSkip?1:a,c=s.virtual&&i.virtual.enabled;if(i.loop){if(o&&!c&&i.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+u,t,e,n)}),!0}return i.rewind&&s.isEnd?s.slideTo(0,t,e,n):s.slideTo(s.activeIndex+u,t,e,n)}function sA(t,e,n){e===void 0&&(e=!0);const s=this,{params:r,snapGrid:i,slidesGrid:o,rtlTranslate:a,enabled:u,animating:c}=s;if(!u||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);const d=s.virtual&&r.virtual.enabled;if(r.loop){if(c&&!d&&r.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const f=a?s.translate:-s.translate;function p(_){return _<0?-Math.floor(Math.abs(_)):Math.floor(_)}const g=p(f),w=i.map(_=>p(_)),I=r.freeMode&&r.freeMode.enabled;let C=i[w.indexOf(g)-1];if(typeof C>"u"&&(r.cssMode||I)){let _;i.forEach((v,S)=>{g>=v&&(_=S)}),typeof _<"u"&&(C=I?i[_]:i[_>0?_-1:_])}let V=0;if(typeof C<"u"&&(V=o.indexOf(C),V<0&&(V=s.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(V=V-s.slidesPerViewDynamic("previous",!0)+1,V=Math.max(V,0))),r.rewind&&s.isBeginning){const _=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(_,t,e,n)}else if(r.loop&&s.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{s.slideTo(V,t,e,n)}),!0;return s.slideTo(V,t,e,n)}function rA(t,e,n){e===void 0&&(e=!0);const s=this;if(!s.destroyed)return typeof t>"u"&&(t=s.params.speed),s.slideTo(s.activeIndex,t,e,n)}function iA(t,e,n,s){e===void 0&&(e=!0),s===void 0&&(s=.5);const r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);let i=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,i),a=o+Math.floor((i-o)/r.params.slidesPerGroup),u=r.rtlTranslate?r.translate:-r.translate;if(u>=r.snapGrid[a]){const c=r.snapGrid[a],d=r.snapGrid[a+1];u-c>(d-c)*s&&(i+=r.params.slidesPerGroup)}else{const c=r.snapGrid[a-1],d=r.snapGrid[a];u-c<=(d-c)*s&&(i-=r.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,r.slidesGrid.length-1),r.slideTo(i,t,e,n)}function oA(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,s=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let r=t.clickedIndex,i;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<t.loopedSlides-s/2||r>t.slides.length-t.loopedSlides+s/2?(t.loopFix(),r=t.getSlideIndex(hn(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),Ho(()=>{t.slideTo(r)})):t.slideTo(r):r>t.slides.length-s?(t.loopFix(),r=t.getSlideIndex(hn(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),Ho(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var aA={slideTo:eA,slideToLoop:tA,slideNext:nA,slidePrev:sA,slideReset:rA,slideToClosest:iA,slideToClickedSlide:oA};function lA(t,e){const n=this,{params:s,slidesEl:r}=n;if(!s.loop||n.virtual&&n.params.virtual.enabled)return;const i=()=>{hn(r,`.${s.slideClass}, swiper-slide`).forEach((p,g)=>{p.setAttribute("data-swiper-slide-index",g)})},o=n.grid&&s.grid&&s.grid.rows>1,a=s.slidesPerGroup*(o?s.grid.rows:1),u=n.slides.length%a!==0,c=o&&n.slides.length%s.grid.rows!==0,d=f=>{for(let p=0;p<f;p+=1){const g=n.isElement?Wo("swiper-slide",[s.slideBlankClass]):Wo("div",[s.slideClass,s.slideBlankClass]);n.slidesEl.append(g)}};if(u){if(s.loopAddBlankSlides){const f=a-n.slides.length%a;d(f),n.recalcSlides(),n.updateSlides()}else Ko("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(c){if(s.loopAddBlankSlides){const f=s.grid.rows-n.slides.length%s.grid.rows;d(f),n.recalcSlides(),n.updateSlides()}else Ko("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();n.loopFix({slideRealIndex:t,direction:s.centeredSlides?void 0:"next",initial:e})}function uA(t){let{slideRealIndex:e,slideTo:n=!0,direction:s,setTranslate:r,activeSlideIndex:i,initial:o,byController:a,byMousewheel:u}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:d,allowSlidePrev:f,allowSlideNext:p,slidesEl:g,params:w}=c,{centeredSlides:I,initialSlide:C}=w;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&w.virtual.enabled){n&&(!w.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):w.centeredSlides&&c.snapIndex<w.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=f,c.allowSlideNext=p,c.emit("loopFix");return}let V=w.slidesPerView;V==="auto"?V=c.slidesPerViewDynamic():(V=Math.ceil(parseFloat(w.slidesPerView,10)),I&&V%2===0&&(V=V+1));const _=w.slidesPerGroupAuto?V:w.slidesPerGroup;let v=_;v%_!==0&&(v+=_-v%_),v+=w.loopAdditionalSlides,c.loopedSlides=v;const S=c.grid&&w.grid&&w.grid.rows>1;d.length<V+v||c.params.effect==="cards"&&d.length<V+v*2?Ko("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):S&&w.grid.fill==="row"&&Ko("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const M=[],$=[],x=S?Math.ceil(d.length/w.grid.rows):d.length,E=o&&x-C<V&&!I;let b=E?C:c.activeIndex;typeof i>"u"?i=c.getSlideIndex(d.find(se=>se.classList.contains(w.slideActiveClass))):b=i;const A=s==="next"||!s,R=s==="prev"||!s;let O=0,P=0;const Ie=(S?d[i].column:i)+(I&&typeof r>"u"?-V/2+.5:0);if(Ie<v){O=Math.max(v-Ie,_);for(let se=0;se<v-Ie;se+=1){const de=se-Math.floor(se/x)*x;if(S){const fe=x-de-1;for(let Ke=d.length-1;Ke>=0;Ke-=1)d[Ke].column===fe&&M.push(Ke)}else M.push(x-de-1)}}else if(Ie+V>x-v){P=Math.max(Ie-(x-v*2),_),E&&(P=Math.max(P,V-x+C+1));for(let se=0;se<P;se+=1){const de=se-Math.floor(se/x)*x;S?d.forEach((fe,Ke)=>{fe.column===de&&$.push(Ke)}):$.push(de)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&d.length<V+v*2&&($.includes(i)&&$.splice($.indexOf(i),1),M.includes(i)&&M.splice(M.indexOf(i),1)),R&&M.forEach(se=>{d[se].swiperLoopMoveDOM=!0,g.prepend(d[se]),d[se].swiperLoopMoveDOM=!1}),A&&$.forEach(se=>{d[se].swiperLoopMoveDOM=!0,g.append(d[se]),d[se].swiperLoopMoveDOM=!1}),c.recalcSlides(),w.slidesPerView==="auto"?c.updateSlides():S&&(M.length>0&&R||$.length>0&&A)&&c.slides.forEach((se,de)=>{c.grid.updateSlide(de,se,c.slides)}),w.watchSlidesProgress&&c.updateSlidesOffset(),n){if(M.length>0&&R){if(typeof e>"u"){const se=c.slidesGrid[b],fe=c.slidesGrid[b+O]-se;u?c.setTranslate(c.translate-fe):(c.slideTo(b+Math.ceil(O),0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-fe,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-fe))}else if(r){const se=S?M.length/w.grid.rows:M.length;c.slideTo(c.activeIndex+se,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if($.length>0&&A)if(typeof e>"u"){const se=c.slidesGrid[b],fe=c.slidesGrid[b-P]-se;u?c.setTranslate(c.translate-fe):(c.slideTo(b-P,0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-fe,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-fe))}else{const se=S?$.length/w.grid.rows:$.length;c.slideTo(c.activeIndex-se,0,!1,!0)}}if(c.allowSlidePrev=f,c.allowSlideNext=p,c.controller&&c.controller.control&&!a){const se={slideRealIndex:e,direction:s,setTranslate:r,activeSlideIndex:i,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(de=>{!de.destroyed&&de.params.loop&&de.loopFix({...se,slideTo:de.params.slidesPerView===w.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...se,slideTo:c.controller.control.params.slidesPerView===w.slidesPerView?n:!1})}c.emit("loopFix")}function cA(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const s=[];t.slides.forEach(r=>{const i=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;s[i]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),s.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var dA={loopCreate:lA,loopFix:uA,loopDestroy:cA};function fA(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function hA(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var pA={setGrabCursor:fA,unsetGrabCursor:hA};function mA(t,e){e===void 0&&(e=this);function n(s){if(!s||s===$s()||s===Vt())return null;s.assignedSlot&&(s=s.assignedSlot);const r=s.closest(t);return!r&&!s.getRootNode?null:r||n(s.getRootNode().host)}return n(e)}function ph(t,e,n){const s=Vt(),{params:r}=t,i=r.edgeSwipeDetection,o=r.edgeSwipeThreshold;return i&&(n<=o||n>=s.innerWidth-o)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function gA(t){const e=this,n=$s();let s=t;s.originalEvent&&(s=s.originalEvent);const r=e.touchEventsData;if(s.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==s.pointerId)return;r.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(r.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){ph(e,s,s.targetTouches[0].pageX);return}const{params:i,touches:o,enabled:a}=e;if(!a||!i.simulateTouch&&s.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let u=s.target;if(i.touchEventsTarget==="wrapper"&&!TI(u,e.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||r.isTouched&&r.isMoved)return;const c=!!i.noSwipingClass&&i.noSwipingClass!=="",d=s.composedPath?s.composedPath():s.path;c&&s.target&&s.target.shadowRoot&&d&&(u=d[0]);const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,p=!!(s.target&&s.target.shadowRoot);if(i.noSwiping&&(p?mA(f,u):u.closest(f))){e.allowClick=!0;return}if(i.swipeHandler&&!u.closest(i.swipeHandler))return;o.currentX=s.pageX,o.currentY=s.pageY;const g=o.currentX,w=o.currentY;if(!ph(e,s,g))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=g,o.startY=w,r.touchStartTime=Go(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(r.allowThresholdMove=!1);let I=!0;u.matches(r.focusableElements)&&(I=!1,u.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==u&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!u.matches(r.focusableElements))&&n.activeElement.blur();const C=I&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||C)&&!u.isContentEditable&&s.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",s)}function vA(t){const e=$s(),n=this,s=n.touchEventsData,{params:r,touches:i,rtlTranslate:o,enabled:a}=n;if(!a||!r.simulateTouch&&t.pointerType==="mouse")return;let u=t;if(u.originalEvent&&(u=u.originalEvent),u.type==="pointermove"&&(s.touchId!==null||u.pointerId!==s.pointerId))return;let c;if(u.type==="touchmove"){if(c=[...u.changedTouches].find(M=>M.identifier===s.touchId),!c||c.identifier!==s.touchId)return}else c=u;if(!s.isTouched){s.startMoving&&s.isScrolling&&n.emit("touchMoveOpposite",u);return}const d=c.pageX,f=c.pageY;if(u.preventedByNestedSwiper){i.startX=d,i.startY=f;return}if(!n.allowTouchMove){u.target.matches(s.focusableElements)||(n.allowClick=!1),s.isTouched&&(Object.assign(i,{startX:d,startY:f,currentX:d,currentY:f}),s.touchStartTime=Go());return}if(r.touchReleaseOnEdges&&!r.loop)if(n.isVertical()){if(f<i.startY&&n.translate<=n.maxTranslate()||f>i.startY&&n.translate>=n.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else{if(o&&(d>i.startX&&-n.translate<=n.maxTranslate()||d<i.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(d<i.startX&&n.translate<=n.maxTranslate()||d>i.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(s.focusableElements)&&e.activeElement!==u.target&&u.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&u.target===e.activeElement&&u.target.matches(s.focusableElements)){s.isMoved=!0,n.allowClick=!1;return}s.allowTouchCallbacks&&n.emit("touchMove",u),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=d,i.currentY=f;const p=i.currentX-i.startX,g=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(p**2+g**2)<n.params.threshold)return;if(typeof s.isScrolling>"u"){let M;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?s.isScrolling=!1:p*p+g*g>=25&&(M=Math.atan2(Math.abs(g),Math.abs(p))*180/Math.PI,s.isScrolling=n.isHorizontal()?M>r.touchAngle:90-M>r.touchAngle)}if(s.isScrolling&&n.emit("touchMoveOpposite",u),typeof s.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(s.startMoving=!0),s.isScrolling||u.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;n.allowClick=!1,!r.cssMode&&u.cancelable&&u.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&u.stopPropagation();let w=n.isHorizontal()?p:g,I=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;r.oneWayMovement&&(w=Math.abs(w)*(o?1:-1),I=Math.abs(I)*(o?1:-1)),i.diff=w,w*=r.touchRatio,o&&(w=-w,I=-I);const C=n.touchesDirection;n.swipeDirection=w>0?"prev":"next",n.touchesDirection=I>0?"prev":"next";const V=n.params.loop&&!r.cssMode,_=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!s.isMoved){if(V&&_&&n.loopFix({direction:n.swipeDirection}),s.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const M=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(M)}s.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",u)}if(new Date().getTime(),r._loopSwapReset!==!1&&s.isMoved&&s.allowThresholdMove&&C!==n.touchesDirection&&V&&_&&Math.abs(w)>=1){Object.assign(i,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}n.emit("sliderMove",u),s.isMoved=!0,s.currentTranslate=w+s.startTranslate;let v=!0,S=r.resistanceRatio;if(r.touchReleaseOnEdges&&(S=0),w>0?(V&&_&&s.allowThresholdMove&&s.currentTranslate>(r.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>n.minTranslate()&&(v=!1,r.resistance&&(s.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+s.startTranslate+w)**S))):w<0&&(V&&_&&s.allowThresholdMove&&s.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),s.currentTranslate<n.maxTranslate()&&(v=!1,r.resistance&&(s.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-s.startTranslate-w)**S))),v&&(u.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(s.currentTranslate=s.startTranslate),r.threshold>0)if(Math.abs(w)>r.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,s.currentTranslate=s.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{s.currentTranslate=s.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(s.currentTranslate),n.setTranslate(s.currentTranslate))}function yA(t){const e=this,n=e.touchEventsData;let s=t;s.originalEvent&&(s=s.originalEvent);let r;if(s.type==="touchend"||s.type==="touchcancel"){if(r=[...s.changedTouches].find(M=>M.identifier===n.touchId),!r||r.identifier!==n.touchId)return}else{if(n.touchId!==null||s.pointerId!==n.pointerId)return;r=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:u,slidesGrid:c,enabled:d}=e;if(!d||!o.simulateTouch&&s.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=Go(),p=f-n.touchStartTime;if(e.allowClick){const M=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(M&&M[0]||s.target,M),e.emit("tap click",s),p<300&&f-n.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(n.lastClickTime=Go(),Ho(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let g;if(o.followFinger?g=u?e.translate:-e.translate:g=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:g});return}const w=g>=-e.maxTranslate()&&!e.params.loop;let I=0,C=e.slidesSizesGrid[0];for(let M=0;M<c.length;M+=M<o.slidesPerGroupSkip?1:o.slidesPerGroup){const $=M<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[M+$]<"u"?(w||g>=c[M]&&g<c[M+$])&&(I=M,C=c[M+$]-c[M]):(w||g>=c[M])&&(I=M,C=c[c.length-1]-c[c.length-2])}let V=null,_=null;o.rewind&&(e.isBeginning?_=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(V=0));const v=(g-c[I])/C,S=I<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(p>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(v>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?V:I+S):e.slideTo(I)),e.swipeDirection==="prev"&&(v>1-o.longSwipesRatio?e.slideTo(I+S):_!==null&&v<0&&Math.abs(v)>o.longSwipesRatio?e.slideTo(_):e.slideTo(I))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(s.target===e.navigation.nextEl||s.target===e.navigation.prevEl)?s.target===e.navigation.nextEl?e.slideTo(I+S):e.slideTo(I):(e.swipeDirection==="next"&&e.slideTo(V!==null?V:I+S),e.swipeDirection==="prev"&&e.slideTo(_!==null?_:I))}}function mh(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:r,snapGrid:i}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=s,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function _A(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function wA(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:s}=t;if(!s)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r;const i=t.maxTranslate()-t.minTranslate();i===0?r=0:r=(t.translate-t.minTranslate())/i,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function bA(t){const e=this;yo(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function EA(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const yv=(t,e)=>{const n=$s(),{params:s,el:r,wrapperEl:i,device:o}=t,a=!!s.nested,u=e==="on"?"addEventListener":"removeEventListener",c=e;!r||typeof r=="string"||(n[u]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),r[u]("touchstart",t.onTouchStart,{passive:!1}),r[u]("pointerdown",t.onTouchStart,{passive:!1}),n[u]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[u]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[u]("touchend",t.onTouchEnd,{passive:!0}),n[u]("pointerup",t.onTouchEnd,{passive:!0}),n[u]("pointercancel",t.onTouchEnd,{passive:!0}),n[u]("touchcancel",t.onTouchEnd,{passive:!0}),n[u]("pointerout",t.onTouchEnd,{passive:!0}),n[u]("pointerleave",t.onTouchEnd,{passive:!0}),n[u]("contextmenu",t.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&r[u]("click",t.onClick,!0),s.cssMode&&i[u]("scroll",t.onScroll),s.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",mh,!0):t[c]("observerUpdate",mh,!0),r[u]("load",t.onLoad,{capture:!0}))};function TA(){const t=this,{params:e}=t;t.onTouchStart=gA.bind(t),t.onTouchMove=vA.bind(t),t.onTouchEnd=yA.bind(t),t.onDocumentTouchStart=EA.bind(t),e.cssMode&&(t.onScroll=wA.bind(t)),t.onClick=_A.bind(t),t.onLoad=bA.bind(t),yv(t,"on")}function SA(){yv(this,"off")}var IA={attachEvents:TA,detachEvents:SA};const gh=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function AA(){const t=this,{realIndex:e,initialized:n,params:s,el:r}=t,i=s.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const o=$s(),a=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",u=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?t.el:o.querySelector(s.breakpointsBase),c=t.getBreakpoint(i,a,u);if(!c||t.currentBreakpoint===c)return;const f=(c in i?i[c]:void 0)||t.originalParams,p=gh(t,s),g=gh(t,f),w=t.params.grabCursor,I=f.grabCursor,C=s.enabled;p&&!g?(r.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!p&&g&&(r.classList.add(`${s.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&s.grid.fill==="column")&&r.classList.add(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),w&&!I?t.unsetGrabCursor():!w&&I&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach($=>{if(typeof f[$]>"u")return;const x=s[$]&&s[$].enabled,E=f[$]&&f[$].enabled;x&&!E&&t[$].disable(),!x&&E&&t[$].enable()});const V=f.direction&&f.direction!==s.direction,_=s.loop&&(f.slidesPerView!==s.slidesPerView||V),v=s.loop;V&&n&&t.changeDirection(),qt(t.params,f);const S=t.params.enabled,M=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),C&&!S?t.disable():!C&&S&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",f),n&&(_?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!v&&M?(t.loopCreate(e),t.updateSlides()):v&&!M&&t.loopDestroy()),t.emit("breakpoint",f)}function xA(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let s=!1;const r=Vt(),i=e==="window"?r.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const u=parseFloat(a.substr(1));return{value:i*u,point:a}}return{value:a,point:a}});o.sort((a,u)=>parseInt(a.value,10)-parseInt(u.value,10));for(let a=0;a<o.length;a+=1){const{point:u,value:c}=o[a];e==="window"?r.matchMedia(`(min-width: ${c}px)`).matches&&(s=u):c<=n.clientWidth&&(s=u)}return s||"max"}var CA={setBreakpoint:AA,getBreakpoint:xA};function PA(t,e){const n=[];return t.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(r=>{s[r]&&n.push(e+r)}):typeof s=="string"&&n.push(e+s)}),n}function RA(){const t=this,{classNames:e,params:n,rtl:s,el:r,device:i}=t,o=PA(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:s},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),r.classList.add(...e),t.emitContainerClasses()}function kA(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var VA={addClasses:RA,removeClasses:kA};function DA(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:s}=n;if(s){const r=t.slides.length-1,i=t.slidesGrid[r]+t.slidesSizesGrid[r]+s*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var MA={checkOverflow:DA},cu={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function OA(t,e){return function(s){s===void 0&&(s={});const r=Object.keys(s)[0],i=s[r];if(typeof i!="object"||i===null){qt(e,s);return}if(t[r]===!0&&(t[r]={enabled:!0}),r==="navigation"&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),!(r in t&&"enabled"in i)){qt(e,s);return}typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),qt(e,s)}}const El={eventsEmitter:VI,update:zI,translate:QI,transition:ZI,slide:aA,loop:dA,grabCursor:pA,events:IA,breakpoints:CA,checkOverflow:MA,classes:VA},Tl={};let Ec=class Cn{constructor(){let e,n;for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?n=r[0]:[e,n]=r,n||(n={}),n=qt({},n),e&&!n.el&&(n.el=e);const o=$s();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const d=[];return o.querySelectorAll(n.el).forEach(f=>{const p=qt({},n,{el:f});d.push(new Cn(p))}),d}const a=this;a.__swiper__=!0,a.support=pv(),a.device=mv({userAgent:n.userAgent}),a.browser=gv(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const u={};a.modules.forEach(d=>{d({params:n,swiper:a,extendParams:OA(n,u),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=qt({},cu,u);return a.params=qt({},c,Tl,n),a.originalParams=qt({},a.params),a.passedParams=qt({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(d=>{a.on(d,a.params.on[d])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:s}=this,r=hn(n,`.${s.slideClass}, swiper-slide`),i=Qo(r[0]);return Qo(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:s}=e;e.slides=hn(n,`.${s.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const s=this;e=Math.min(Math.max(e,0),1);const r=s.minTranslate(),o=(s.maxTranslate()-r)*e+r;s.translateTo(o,typeof n>"u"?0:n),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(s=>{const r=e.getSlideClasses(s);n.push({slideEl:s,classNames:r}),e.emit("_slideClass",s,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const s=this,{params:r,slides:i,slidesGrid:o,slidesSizesGrid:a,size:u,activeIndex:c}=s;let d=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let f=i[c]?Math.ceil(i[c].swiperSlideSize):0,p;for(let g=c+1;g<i.length;g+=1)i[g]&&!p&&(f+=Math.ceil(i[g].swiperSlideSize),d+=1,f>u&&(p=!0));for(let g=c-1;g>=0;g-=1)i[g]&&!p&&(f+=i[g].swiperSlideSize,d+=1,f>u&&(p=!0))}else if(e==="current")for(let f=c+1;f<i.length;f+=1)(n?o[f]+a[f]-o[c]<u:o[f]-o[c]<u)&&(d+=1);else for(let f=c-1;f>=0;f-=1)o[c]-o[f]<u&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:s}=e;s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&yo(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)r(),s.autoHeight&&e.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const o=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(o.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||r()}s.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const s=this,r=s.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${r}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),s.emit("changeDirection"),n&&s.update()),s}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let s=e||n.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=n,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(r()):hn(s,r())[0];return!o&&n.params.createElements&&(o=Wo("div",n.params.wrapperClass),s.append(o),hn(s,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:s,wrapperEl:o,slidesEl:n.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:o,hostEl:n.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||Qn(s,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||Qn(s,"direction")==="rtl"),wrongRTL:Qn(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(i=>{i.complete?yo(n,i):i.addEventListener("load",o=>{yo(n,o.target)})}),uu(n),n.initialized=!0,uu(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const s=this,{params:r,el:i,wrapperEl:o,slides:a}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),r.loop&&s.loopDestroy(),n&&(s.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(u=>{u.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),u.removeAttribute("style"),u.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(u=>{s.off(u)}),e!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),yI(s)),s.destroyed=!0),null}static extendDefaults(e){qt(Tl,e)}static get extendedDefaults(){return Tl}static get defaults(){return cu}static installModule(e){Cn.prototype.__modules__||(Cn.prototype.__modules__=[]);const n=Cn.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Cn.installModule(n)),Cn):(Cn.installModule(e),Cn)}};Object.keys(El).forEach(t=>{Object.keys(El[t]).forEach(e=>{Ec.prototype[e]=El[t][e]})});Ec.use([RI,kI]);const _v=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Vs(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function or(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=e[s]:Vs(e[s])&&Vs(t[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?t[s]=e[s]:or(t[s],e[s]):t[s]=e[s]})}function wv(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function bv(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Ev(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function Tv(t){t===void 0&&(t="");const e=t.split(" ").map(s=>s.trim()).filter(s=>!!s),n=[];return e.forEach(s=>{n.indexOf(s)<0&&n.push(s)}),n.join(" ")}function NA(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function LA(t){let{swiper:e,slides:n,passedParams:s,changedParams:r,nextEl:i,prevEl:o,scrollbarEl:a,paginationEl:u}=t;const c=r.filter(b=>b!=="children"&&b!=="direction"&&b!=="wrapperClass"),{params:d,pagination:f,navigation:p,scrollbar:g,virtual:w,thumbs:I}=e;let C,V,_,v,S,M,$,x;r.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&!s.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(C=!0),r.includes("controller")&&s.controller&&s.controller.control&&d.controller&&!d.controller.control&&(V=!0),r.includes("pagination")&&s.pagination&&(s.pagination.el||u)&&(d.pagination||d.pagination===!1)&&f&&!f.el&&(_=!0),r.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||a)&&(d.scrollbar||d.scrollbar===!1)&&g&&!g.el&&(v=!0),r.includes("navigation")&&s.navigation&&(s.navigation.prevEl||o)&&(s.navigation.nextEl||i)&&(d.navigation||d.navigation===!1)&&p&&!p.prevEl&&!p.nextEl&&(S=!0);const E=b=>{e[b]&&(e[b].destroy(),b==="navigation"?(e.isElement&&(e[b].prevEl.remove(),e[b].nextEl.remove()),d[b].prevEl=void 0,d[b].nextEl=void 0,e[b].prevEl=void 0,e[b].nextEl=void 0):(e.isElement&&e[b].el.remove(),d[b].el=void 0,e[b].el=void 0))};r.includes("loop")&&e.isElement&&(d.loop&&!s.loop?M=!0:!d.loop&&s.loop?$=!0:x=!0),c.forEach(b=>{if(Vs(d[b])&&Vs(s[b]))Object.assign(d[b],s[b]),(b==="navigation"||b==="pagination"||b==="scrollbar")&&"enabled"in s[b]&&!s[b].enabled&&E(b);else{const A=s[b];(A===!0||A===!1)&&(b==="navigation"||b==="pagination"||b==="scrollbar")?A===!1&&E(b):d[b]=s[b]}}),c.includes("controller")&&!V&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),r.includes("children")&&n&&w&&d.virtual.enabled?(w.slides=n,w.update(!0)):r.includes("virtual")&&w&&d.virtual.enabled&&(n&&(w.slides=n),w.update(!0)),r.includes("children")&&n&&d.loop&&(x=!0),C&&I.init()&&I.update(!0),V&&(e.controller.control=d.controller.control),_&&(e.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-pagination"),u.part.add("pagination"),e.el.appendChild(u)),u&&(d.pagination.el=u),f.init(),f.render(),f.update()),v&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(d.scrollbar.el=a),g.init(),g.updateSize(),g.setTranslate()),S&&(e.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),i.innerHTML=e.hostEl.constructor.nextButtonSvg,i.part.add("button-next"),e.el.appendChild(i)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),i&&(d.navigation.nextEl=i),o&&(d.navigation.prevEl=o),p.init(),p.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=s.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=s.allowSlidePrev),r.includes("direction")&&e.changeDirection(s.direction,!1),(M||x)&&e.loopDestroy(),($||x)&&e.loopCreate(),e.update()}function vh(t,e){t===void 0&&(t={});const n={on:{}},s={},r={};or(n,cu),n._emitClasses=!0,n.init=!1;const i={},o=_v.map(u=>u.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(u=>{typeof t[u]>"u"||(o.indexOf(u)>=0?Vs(t[u])?(n[u]={},r[u]={},or(n[u],t[u]),or(r[u],t[u])):(n[u]=t[u],r[u]=t[u]):u.search(/on[A-Z]/)===0&&typeof t[u]=="function"?n.on[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:i[u]=t[u])}),["navigation","pagination","scrollbar"].forEach(u=>{n[u]===!0&&(n[u]={}),n[u]===!1&&delete n[u]}),{params:n,passedParams:r,rest:i,events:s}}function $A(t,e){let{el:n,nextEl:s,prevEl:r,paginationEl:i,scrollbarEl:o,swiper:a}=t;wv(e)&&s&&r&&(a.params.navigation.nextEl=s,a.originalParams.navigation.nextEl=s,a.params.navigation.prevEl=r,a.originalParams.navigation.prevEl=r),bv(e)&&i&&(a.params.pagination.el=i,a.originalParams.pagination.el=i),Ev(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function FA(t,e,n,s,r){const i=[];if(!e)return i;const o=u=>{i.indexOf(u)<0&&i.push(u)};if(n&&s){const u=s.map(r),c=n.map(r);u.join("")!==c.join("")&&o("children"),s.length!==n.length&&o("children")}return _v.filter(u=>u[0]==="_").map(u=>u.replace(/_/,"")).forEach(u=>{if(u in t&&u in e)if(Vs(t[u])&&Vs(e[u])){const c=Object.keys(t[u]),d=Object.keys(e[u]);c.length!==d.length?o(u):(c.forEach(f=>{t[u][f]!==e[u][f]&&o(u)}),d.forEach(f=>{t[u][f]!==e[u][f]&&o(u)}))}else t[u]!==e[u]&&o(u)}),i}const BA=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Sl(t,e,n){t===void 0&&(t={});const s=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},i=(o,a)=>{Array.isArray(o)&&o.forEach(u=>{const c=typeof u.type=="symbol";a==="default"&&(a="container-end"),c&&u.children?i(u.children,a):u.type&&(u.type.name==="SwiperSlide"||u.type.name==="AsyncComponentWrapper")||u.componentOptions&&u.componentOptions.tag==="SwiperSlide"?s.push(u):r[a]&&r[a].push(u)})};return Object.keys(t).forEach(o=>{if(typeof t[o]!="function")return;const a=t[o]();i(a,o)}),n.value=e.value,e.value=s,{slides:s,slots:r}}function jA(t,e,n){if(!n)return null;const s=d=>{let f=d;return d<0?f=e.length+d:f>=e.length&&(f=f-e.length),f},r=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:o}=n,a=t.value.params.loop?-e.length:0,u=t.value.params.loop?e.length*2:e.length,c=[];for(let d=a;d<u;d+=1)d>=i&&d<=o&&c.length<e.length&&c.push(e[s(d)]);return c.map(d=>{if(d.props||(d.props={}),d.props.style||(d.props.style={}),d.props.swiperRef=t,d.props.style=r,d.type)return Lt(d.type,{...d.props},d.children);if(d.componentOptions)return Lt(d.componentOptions.Ctor,{...d.props},d.componentOptions.children)})}const Tc={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:n,emit:s}=e;const{tag:r,wrapperTag:i}=t,o=le("swiper"),a=le(null),u=le(!1),c=le(!1),d=le(null),f=le(null),p=le(null),g={value:[]},w={value:[]},I=le(null),C=le(null),V=le(null),_=le(null),{params:v,passedParams:S}=vh(t);Sl(n,g,w),p.value=S,w.value=g.value;const M=()=>{Sl(n,g,w),u.value=!0};v.onAny=function(E){for(var b=arguments.length,A=new Array(b>1?b-1:0),R=1;R<b;R++)A[R-1]=arguments[R];s(E,...A)},Object.assign(v.on,{_beforeBreakpoint:M,_containerClasses(E,b){o.value=b}});const $={...v};if(delete $.wrapperClass,f.value=new Ec($),f.value.virtual&&f.value.params.virtual.enabled){f.value.virtual.slides=g.value;const E={cache:!1,slides:g.value,renderExternal:b=>{a.value=b},renderExternalUpdate:!1};or(f.value.params.virtual,E),or(f.value.originalParams.virtual,E)}xu(()=>{!c.value&&f.value&&(f.value.emitSlidesClasses(),c.value=!0);const{passedParams:E}=vh(t),b=FA(E,p.value,g.value,w.value,A=>A.props&&A.props.key);p.value=E,(b.length||u.value)&&f.value&&!f.value.destroyed&&LA({swiper:f.value,slides:g.value,passedParams:E,changedParams:b,nextEl:I.value,prevEl:C.value,scrollbarEl:_.value,paginationEl:V.value}),u.value=!1}),nr("swiper",f),sr(a,()=>{ia(()=>{BA(f.value)})}),gt(()=>{d.value&&($A({el:d.value,nextEl:I.value,prevEl:C.value,paginationEl:V.value,scrollbarEl:_.value,swiper:f.value},v),s("swiper",f.value))}),aa(()=>{f.value&&!f.value.destroyed&&f.value.destroy(!0,!1)});function x(E){return v.virtual?jA(f,E,a.value):(E.forEach((b,A)=>{b.props||(b.props={}),b.props.swiperRef=f,b.props.swiperSlideIndex=A}),E)}return()=>{const{slides:E,slots:b}=Sl(n,g,w);return Lt(r,{ref:d,class:Tv(o.value)},[b["container-start"],Lt(i,{class:NA(v.wrapperClass)},[b["wrapper-start"],x(E),b["wrapper-end"]]),wv(t)&&[Lt("div",{ref:C,class:"swiper-button-prev"}),Lt("div",{ref:I,class:"swiper-button-next"})],Ev(t)&&Lt("div",{ref:_,class:"swiper-scrollbar"}),bv(t)&&Lt("div",{ref:V,class:"swiper-pagination"}),b["container-end"]])}}},Sc={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:n}=e,s=!1;const{swiperRef:r}=t,i=le(null),o=le("swiper-slide"),a=le(!1);function u(f,p,g){p===i.value&&(o.value=g)}gt(()=>{!r||!r.value||(r.value.on("_slideClass",u),s=!0)}),mp(()=>{s||!r||!r.value||(r.value.on("_slideClass",u),s=!0)}),xu(()=>{!i.value||!r||!r.value||(typeof t.swiperSlideIndex<"u"&&(i.value.swiperSlideIndex=t.swiperSlideIndex),r.value.destroyed&&o.value!=="swiper-slide"&&(o.value="swiper-slide"))}),aa(()=>{!r||!r.value||r.value.off("_slideClass",u)});const c=nt(()=>({isActive:o.value.indexOf("swiper-slide-active")>=0,isVisible:o.value.indexOf("swiper-slide-visible")>=0,isPrev:o.value.indexOf("swiper-slide-prev")>=0,isNext:o.value.indexOf("swiper-slide-next")>=0}));nr("swiperSlide",c);const d=()=>{a.value=!0};return()=>Lt(t.tag,{class:Tv(`${o.value}`),ref:i,"data-swiper-slide-index":typeof t.virtualIndex>"u"&&r&&r.value&&r.value.params.loop?t.swiperSlideIndex:t.virtualIndex,onLoadCapture:d},t.zoom?Lt("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},[n.default&&n.default(c.value),t.lazy&&!a.value&&Lt("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(c.value),t.lazy&&!a.value&&Lt("div",{class:"swiper-lazy-preloader"})])}};function Sv(t,e,n,s){return t.params.createElements&&Object.keys(s).forEach(r=>{if(!n[r]&&n.auto===!0){let i=hn(t.el,`.${s[r]}`)[0];i||(i=Wo("div",s[r]),i.className=s[r],t.el.append(i)),n[r]=i,e[r]=i}}),n}function Iv(t){let{swiper:e,extendParams:n,on:s,emit:r}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function i(w){let I;return w&&typeof w=="string"&&e.isElement&&(I=e.el.querySelector(w)||e.hostEl.querySelector(w),I)?I:(w&&(typeof w=="string"&&(I=[...document.querySelectorAll(w)]),e.params.uniqueNavElements&&typeof w=="string"&&I&&I.length>1&&e.el.querySelectorAll(w).length===1?I=e.el.querySelector(w):I&&I.length===1&&(I=I[0])),w&&!I?w:I)}function o(w,I){const C=e.params.navigation;w=at(w),w.forEach(V=>{V&&(V.classList[I?"add":"remove"](...C.disabledClass.split(" ")),V.tagName==="BUTTON"&&(V.disabled=I),e.params.watchOverflow&&e.enabled&&V.classList[e.isLocked?"add":"remove"](C.lockClass))})}function a(){const{nextEl:w,prevEl:I}=e.navigation;if(e.params.loop){o(I,!1),o(w,!1);return}o(I,e.isBeginning&&!e.params.rewind),o(w,e.isEnd&&!e.params.rewind)}function u(w){w.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function c(w){w.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function d(){const w=e.params.navigation;if(e.params.navigation=Sv(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(w.nextEl||w.prevEl))return;let I=i(w.nextEl),C=i(w.prevEl);Object.assign(e.navigation,{nextEl:I,prevEl:C}),I=at(I),C=at(C);const V=(_,v)=>{_&&_.addEventListener("click",v==="next"?c:u),!e.enabled&&_&&_.classList.add(...w.lockClass.split(" "))};I.forEach(_=>V(_,"next")),C.forEach(_=>V(_,"prev"))}function f(){let{nextEl:w,prevEl:I}=e.navigation;w=at(w),I=at(I);const C=(V,_)=>{V.removeEventListener("click",_==="next"?c:u),V.classList.remove(...e.params.navigation.disabledClass.split(" "))};w.forEach(V=>C(V,"next")),I.forEach(V=>C(V,"prev"))}s("init",()=>{e.params.navigation.enabled===!1?g():(d(),a())}),s("toEdge fromEdge lock unlock",()=>{a()}),s("destroy",()=>{f()}),s("enable disable",()=>{let{nextEl:w,prevEl:I}=e.navigation;if(w=at(w),I=at(I),e.enabled){a();return}[...w,...I].filter(C=>!!C).forEach(C=>C.classList.add(e.params.navigation.lockClass))}),s("click",(w,I)=>{let{nextEl:C,prevEl:V}=e.navigation;C=at(C),V=at(V);const _=I.target;let v=V.includes(_)||C.includes(_);if(e.isElement&&!v){const S=I.path||I.composedPath&&I.composedPath();S&&(v=S.find(M=>C.includes(M)||V.includes(M)))}if(e.params.navigation.hideOnClick&&!v){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===_||e.pagination.el.contains(_)))return;let S;C.length?S=C[0].classList.contains(e.params.navigation.hiddenClass):V.length&&(S=V[0].classList.contains(e.params.navigation.hiddenClass)),r(S===!0?"navigationShow":"navigationHide"),[...C,...V].filter(M=>!!M).forEach(M=>M.classList.toggle(e.params.navigation.hiddenClass))}});const p=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),a()},g=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:p,disable:g,update:a,init:d,destroy:f})}function Br(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Av(t){let{swiper:e,extendParams:n,on:s,emit:r}=t;const i="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:_=>_,formatFractionTotal:_=>_,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function u(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(_,v){const{bulletActiveClass:S}=e.params.pagination;_&&(_=_[`${v==="prev"?"previous":"next"}ElementSibling`],_&&(_.classList.add(`${S}-${v}`),_=_[`${v==="prev"?"previous":"next"}ElementSibling`],_&&_.classList.add(`${S}-${v}-${v}`)))}function d(_,v,S){if(_=_%S,v=v%S,v===_+1)return"next";if(v===_-1)return"previous"}function f(_){const v=_.target.closest(Br(e.params.pagination.bulletClass));if(!v)return;_.preventDefault();const S=Qo(v)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===S)return;const M=d(e.realIndex,S,e.slides.length);M==="next"?e.slideNext():M==="previous"?e.slidePrev():e.slideToLoop(S)}else e.slideTo(S)}function p(){const _=e.rtl,v=e.params.pagination;if(u())return;let S=e.pagination.el;S=at(S);let M,$;const x=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,E=e.params.loop?Math.ceil(x/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?($=e.previousRealIndex||0,M=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(M=e.snapIndex,$=e.previousSnapIndex):($=e.previousIndex||0,M=e.activeIndex||0),v.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const b=e.pagination.bullets;let A,R,O;if(v.dynamicBullets&&(o=lu(b[0],e.isHorizontal()?"width":"height"),S.forEach(P=>{P.style[e.isHorizontal()?"width":"height"]=`${o*(v.dynamicMainBullets+4)}px`}),v.dynamicMainBullets>1&&$!==void 0&&(a+=M-($||0),a>v.dynamicMainBullets-1?a=v.dynamicMainBullets-1:a<0&&(a=0)),A=Math.max(M-a,0),R=A+(Math.min(b.length,v.dynamicMainBullets)-1),O=(R+A)/2),b.forEach(P=>{const Te=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(Ie=>`${v.bulletActiveClass}${Ie}`)].map(Ie=>typeof Ie=="string"&&Ie.includes(" ")?Ie.split(" "):Ie).flat();P.classList.remove(...Te)}),S.length>1)b.forEach(P=>{const Te=Qo(P);Te===M?P.classList.add(...v.bulletActiveClass.split(" ")):e.isElement&&P.setAttribute("part","bullet"),v.dynamicBullets&&(Te>=A&&Te<=R&&P.classList.add(...`${v.bulletActiveClass}-main`.split(" ")),Te===A&&c(P,"prev"),Te===R&&c(P,"next"))});else{const P=b[M];if(P&&P.classList.add(...v.bulletActiveClass.split(" ")),e.isElement&&b.forEach((Te,Ie)=>{Te.setAttribute("part",Ie===M?"bullet-active":"bullet")}),v.dynamicBullets){const Te=b[A],Ie=b[R];for(let se=A;se<=R;se+=1)b[se]&&b[se].classList.add(...`${v.bulletActiveClass}-main`.split(" "));c(Te,"prev"),c(Ie,"next")}}if(v.dynamicBullets){const P=Math.min(b.length,v.dynamicMainBullets+4),Te=(o*P-o)/2-O*o,Ie=_?"right":"left";b.forEach(se=>{se.style[e.isHorizontal()?Ie:"top"]=`${Te}px`})}}S.forEach((b,A)=>{if(v.type==="fraction"&&(b.querySelectorAll(Br(v.currentClass)).forEach(R=>{R.textContent=v.formatFractionCurrent(M+1)}),b.querySelectorAll(Br(v.totalClass)).forEach(R=>{R.textContent=v.formatFractionTotal(E)})),v.type==="progressbar"){let R;v.progressbarOpposite?R=e.isHorizontal()?"vertical":"horizontal":R=e.isHorizontal()?"horizontal":"vertical";const O=(M+1)/E;let P=1,Te=1;R==="horizontal"?P=O:Te=O,b.querySelectorAll(Br(v.progressbarFillClass)).forEach(Ie=>{Ie.style.transform=`translate3d(0,0,0) scaleX(${P}) scaleY(${Te})`,Ie.style.transitionDuration=`${e.params.speed}ms`})}v.type==="custom"&&v.renderCustom?(b.innerHTML=v.renderCustom(e,M+1,E),A===0&&r("paginationRender",b)):(A===0&&r("paginationRender",b),r("paginationUpdate",b)),e.params.watchOverflow&&e.enabled&&b.classList[e.isLocked?"add":"remove"](v.lockClass)})}function g(){const _=e.params.pagination;if(u())return;const v=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let S=e.pagination.el;S=at(S);let M="";if(_.type==="bullets"){let $=e.params.loop?Math.ceil(v/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&$>v&&($=v);for(let x=0;x<$;x+=1)_.renderBullet?M+=_.renderBullet.call(e,x,_.bulletClass):M+=`<${_.bulletElement} ${e.isElement?'part="bullet"':""} class="${_.bulletClass}"></${_.bulletElement}>`}_.type==="fraction"&&(_.renderFraction?M=_.renderFraction.call(e,_.currentClass,_.totalClass):M=`<span class="${_.currentClass}"></span> / <span class="${_.totalClass}"></span>`),_.type==="progressbar"&&(_.renderProgressbar?M=_.renderProgressbar.call(e,_.progressbarFillClass):M=`<span class="${_.progressbarFillClass}"></span>`),e.pagination.bullets=[],S.forEach($=>{_.type!=="custom"&&($.innerHTML=M||""),_.type==="bullets"&&e.pagination.bullets.push(...$.querySelectorAll(Br(_.bulletClass)))}),_.type!=="custom"&&r("paginationRender",S[0])}function w(){e.params.pagination=Sv(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const _=e.params.pagination;if(!_.el)return;let v;typeof _.el=="string"&&e.isElement&&(v=e.el.querySelector(_.el)),!v&&typeof _.el=="string"&&(v=[...document.querySelectorAll(_.el)]),v||(v=_.el),!(!v||v.length===0)&&(e.params.uniqueNavElements&&typeof _.el=="string"&&Array.isArray(v)&&v.length>1&&(v=[...e.el.querySelectorAll(_.el)],v.length>1&&(v=v.find(S=>hv(S,".swiper")[0]===e.el))),Array.isArray(v)&&v.length===1&&(v=v[0]),Object.assign(e.pagination,{el:v}),v=at(v),v.forEach(S=>{_.type==="bullets"&&_.clickable&&S.classList.add(...(_.clickableClass||"").split(" ")),S.classList.add(_.modifierClass+_.type),S.classList.add(e.isHorizontal()?_.horizontalClass:_.verticalClass),_.type==="bullets"&&_.dynamicBullets&&(S.classList.add(`${_.modifierClass}${_.type}-dynamic`),a=0,_.dynamicMainBullets<1&&(_.dynamicMainBullets=1)),_.type==="progressbar"&&_.progressbarOpposite&&S.classList.add(_.progressbarOppositeClass),_.clickable&&S.addEventListener("click",f),e.enabled||S.classList.add(_.lockClass)}))}function I(){const _=e.params.pagination;if(u())return;let v=e.pagination.el;v&&(v=at(v),v.forEach(S=>{S.classList.remove(_.hiddenClass),S.classList.remove(_.modifierClass+_.type),S.classList.remove(e.isHorizontal()?_.horizontalClass:_.verticalClass),_.clickable&&(S.classList.remove(...(_.clickableClass||"").split(" ")),S.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(S=>S.classList.remove(..._.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const _=e.params.pagination;let{el:v}=e.pagination;v=at(v),v.forEach(S=>{S.classList.remove(_.horizontalClass,_.verticalClass),S.classList.add(e.isHorizontal()?_.horizontalClass:_.verticalClass)})}),s("init",()=>{e.params.pagination.enabled===!1?V():(w(),g(),p())}),s("activeIndexChange",()=>{typeof e.snapIndex>"u"&&p()}),s("snapIndexChange",()=>{p()}),s("snapGridLengthChange",()=>{g(),p()}),s("destroy",()=>{I()}),s("enable disable",()=>{let{el:_}=e.pagination;_&&(_=at(_),_.forEach(v=>v.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),s("lock unlock",()=>{p()}),s("click",(_,v)=>{const S=v.target,M=at(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&M&&M.length>0&&!S.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&S===e.navigation.nextEl||e.navigation.prevEl&&S===e.navigation.prevEl))return;const $=M[0].classList.contains(e.params.pagination.hiddenClass);r($===!0?"paginationShow":"paginationHide"),M.forEach(x=>x.classList.toggle(e.params.pagination.hiddenClass))}});const C=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:_}=e.pagination;_&&(_=at(_),_.forEach(v=>v.classList.remove(e.params.pagination.paginationDisabledClass))),w(),g(),p()},V=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:_}=e.pagination;_&&(_=at(_),_.forEach(v=>v.classList.add(e.params.pagination.paginationDisabledClass))),I()};Object.assign(e.pagination,{enable:C,disable:V,render:g,update:p,init:w,destroy:I})}function xv(t){let{swiper:e,extendParams:n,on:s}=t;n({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0};function r(c,d){const f=function(){let I,C,V;return(_,v)=>{for(C=-1,I=_.length;I-C>1;)V=I+C>>1,_[V]<=v?C=V:I=V;return I}}();this.x=c,this.y=d,this.lastIndex=c.length-1;let p,g;return this.interpolate=function(I){return I?(g=f(this.x,I),p=g-1,(I-this.x[p])*(this.y[g]-this.y[p])/(this.x[g]-this.x[p])+this.y[p]):0},this}function i(c){e.controller.spline=e.params.loop?new r(e.slidesGrid,c.slidesGrid):new r(e.snapGrid,c.snapGrid)}function o(c,d){const f=e.controller.control;let p,g;const w=e.constructor;function I(C){if(C.destroyed)return;const V=e.rtlTranslate?-e.translate:e.translate;e.params.controller.by==="slide"&&(i(C),g=-e.controller.spline.interpolate(-V)),(!g||e.params.controller.by==="container")&&(p=(C.maxTranslate()-C.minTranslate())/(e.maxTranslate()-e.minTranslate()),(Number.isNaN(p)||!Number.isFinite(p))&&(p=1),g=(V-e.minTranslate())*p+C.minTranslate()),e.params.controller.inverse&&(g=C.maxTranslate()-g),C.updateProgress(g),C.setTranslate(g,e),C.updateActiveIndex(),C.updateSlidesClasses()}if(Array.isArray(f))for(let C=0;C<f.length;C+=1)f[C]!==d&&f[C]instanceof w&&I(f[C]);else f instanceof w&&d!==f&&I(f)}function a(c,d){const f=e.constructor,p=e.controller.control;let g;function w(I){I.destroyed||(I.setTransition(c,e),c!==0&&(I.transitionStart(),I.params.autoHeight&&Ho(()=>{I.updateAutoHeight()}),AI(I.wrapperEl,()=>{p&&I.transitionEnd()})))}if(Array.isArray(p))for(g=0;g<p.length;g+=1)p[g]!==d&&p[g]instanceof f&&w(p[g]);else p instanceof f&&d!==p&&w(p)}function u(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}s("beforeInit",()=>{if(typeof window<"u"&&(typeof e.params.controller.control=="string"||e.params.controller.control instanceof HTMLElement)){(typeof e.params.controller.control=="string"?[...document.querySelectorAll(e.params.controller.control)]:[e.params.controller.control]).forEach(d=>{if(e.controller.control||(e.controller.control=[]),d&&d.swiper)e.controller.control.push(d.swiper);else if(d){const f=`${e.params.eventsPrefix}init`,p=g=>{e.controller.control.push(g.detail[0]),e.update(),d.removeEventListener(f,p)};d.addEventListener(f,p)}});return}e.controller.control=e.params.controller.control}),s("update",()=>{u()}),s("resize",()=>{u()}),s("observerUpdate",()=>{u()}),s("setTranslate",(c,d,f)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTranslate(d,f)}),s("setTransition",(c,d,f)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTransition(d,f)}),Object.assign(e.controller,{setTranslate:o,setTransition:a})}const UA={class:"day-menu-swiper-container bg-[#eaeaea] p-4 sticky top-0 z-40 border-b border-gray-300"},zA=["onClick"],qA={__name:"DayMenu",props:{days:{type:Array,required:!0},controlledSwiper:{type:Object,default:null},activeIndex:{type:Number,default:0}},emits:["goToDay","swiper"],setup(t,{emit:e}){const n=t,s=e;function r(u){if(!u||!u.id)return"Dia";const c=u.id.replace("day-",""),d=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];let f=null,p,g,w;if(u.date)[p,g,w]=u.date.split("-").map(Number),f=new Date(p,g-1,w,12,0,0);else if(u.data){const _=u.data.match(/(\d{2})\/(\d{2})\/(\d{4})/);_&&(w=parseInt(_[1]),g=parseInt(_[2]),p=parseInt(_[3]),f=new Date(p,g-1,w,12,0,0))}if(!f||isNaN(f.getTime()))return`Dia ${c}`;const I=new Date;I.setHours(12,0,0,0),I.setHours(0,0,0,0);const C=new Date(I);C.setDate(I.getDate()+1);let V="";if(f.getDate()===I.getDate()&&f.getMonth()===I.getMonth()&&f.getFullYear()===I.getFullYear())V="Hoje";else if(f.getDate()===C.getDate()&&f.getMonth()===C.getMonth()&&f.getFullYear()===C.getFullYear())V="Amanh";else{const _=f.getDate(),v=d[f.getMonth()];V=`${_} de ${v}`}return`Dia ${c} - ${V}`}function i(u){s("goToDay",u)}function o(u){s("swiper",u)}const a=[xv];return(u,c)=>(F(),z("nav",UA,[ae(Jt(Tc),{modules:a,"slides-per-view":"auto","space-between":10,"centered-slides":!0,"grab-cursor":!0,onSwiper:o,class:"day-menu-swiper"},{default:Fe(()=>[(F(!0),z(we,null,$e(n.days,(d,f)=>(F(),Je(Jt(Sc),{key:d.id,class:"day-menu-slide"},{default:Fe(()=>[y("button",{onClick:p=>i(f),class:en(["px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ease-in-out cursor-pointer whitespace-nowrap",f===n.activeIndex?"bg-blue-600 text-white font-semibold":"bg-blue-100 text-blue-700 hover:bg-blue-200"])},ue(r(d)),11,zA)]),_:2},1024))),128))]),_:1})]))}},HA=Tn(qA,[["__scopeId","data-v-fdd8d238"]]),GA={class:"bg-blue-900 text-white py-12 px-4 sm:px-6 lg:px-8"},KA={class:"container mx-auto"},WA={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},QA={class:"text-xl font-bold mb-4"},YA={class:"mb-4"},XA={class:"md:text-right"},JA={key:0,class:"text-sm"},ZA={key:1,class:"text-sm"},ex=["href"],tx={class:"border-t border-blue-700 mt-8 pt-8 text-center"},nx={__name:"FooterSection",setup(t){const e=le({titulo:"Santiago Trip",descricao:"Seu guia de viagem para Santiago",data:"2023-2024",contatos_importantes:[{id:1,nome:"Emergncia",telefone:"133"},{id:2,nome:"Polcia",telefone:"134"},{id:3,nome:"Ambulncia",telefone:"131"}],copyright:" 2023 Santiago Trip. Todos os direitos reservados."});return gt(async()=>{try{const n=await cv();n&&(e.value=n)}catch(n){console.error("Erro ao carregar os dados do footer:",n)}}),(n,s)=>(F(),z("footer",GA,[y("div",KA,[y("div",WA,[y("div",null,[y("h3",QA,ue(e.value.titulo),1),y("p",YA,ue(e.value.descricao),1),y("p",null,ue(e.value.data),1)]),y("div",XA,[s[0]||(s[0]=y("h3",{class:"text-xl font-bold mb-4"},"Contatos Importantes",-1)),(F(!0),z(we,null,$e(e.value.contatos_importantes,r=>(F(),z("div",{key:r.id,class:"mb-2"},[y("p",null,ue(r.nome)+": "+ue(r.contato),1),r.instagram?(F(),z("p",JA,"Instagram: "+ue(r.instagram),1)):xe("",!0),r.rota?(F(),z("p",ZA,"Rota: "+ue(r.rota),1)):xe("",!0),r.link?(F(),z("a",{key:2,href:r.link.url,target:"_blank",class:"text-blue-300 hover:text-blue-100"},ue(r.link.titulo),9,ex)):xe("",!0)]))),128))])]),y("div",tx,[y("p",null,ue(e.value.copyright),1)])])]))}},sx=Tn(nx,[["__scopeId","data-v-9fb427b3"]]),rx={class:"activity-item"},ix={class:"font-medium"},ox={class:"text-gray-600"},ax={class:"mt-1 flex gap-2 flex-wrap"},lx=["href"],ux=["href"],cx=["href"],dx={__name:"ActivityItem",props:{atividade:{type:Object,required:!0}},setup(t){return(e,n)=>(F(),z("div",rx,[y("p",ix,ue(t.atividade.titulo),1),y("p",ox,ue(t.atividade.descricao),1),y("div",ax,[t.atividade.location?(F(),z("a",{key:0,href:t.atividade.location,target:"_blank",class:"inline-flex items-center text-blue-600 hover:text-blue-800 text-sm"},n[0]||(n[0]=[y("i",{class:"fas fa-map-marker-alt mr-1"},null,-1),De(" Como chegar ")]),8,lx)):xe("",!0),t.atividade.links&&t.atividade.links.site?(F(),z("a",{key:1,href:t.atividade.links.site,target:"_blank",class:"inline-flex items-center text-blue-600 hover:text-blue-800 text-sm"},n[1]||(n[1]=[y("i",{class:"fas fa-globe mr-1"},null,-1),De(" Site ")]),8,ux)):xe("",!0),t.atividade.links&&t.atividade.links.instagram?(F(),z("a",{key:2,href:t.atividade.links.instagram,target:"_blank",class:"inline-flex items-center text-blue-600 hover:text-blue-800 text-sm"},n[2]||(n[2]=[y("i",{class:"fab fa-instagram mr-1"},null,-1),De(" Instagram ")]),8,cx)):xe("",!0)])]))}},jr=Tn(dx,[["__scopeId","data-v-8b70a161"]]),fx=["id"],hx={class:"flex flex-wrap items-center mb-1"},px={class:"text-2xl sm:text-3xl font-bold text-blue-800 mr-4 mb-1 sm:mb-0"},mx={class:"mb-5"},gx={class:"text-sm text-gray-700"},vx={class:"mb-8"},yx={key:0,class:"photo-container h-60 sm:h-80 mb-8"},_x=["src","alt"],wx={class:"photo-container h-60 sm:h-72"},bx=["src","alt"],Ex={class:"bg-white rounded-lg shadow-md p-6"},Tx={key:0,class:"mb-4"},Sx={key:1,class:"mb-4"},Ix={key:2},Ax={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},xx={key:0},Cx={key:1},Px={class:"font-semibold text-blue-600 mb-2"},Rx={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6"},kx={key:0},Vx={key:1},Dx={key:0,class:"mt-6"},Mx={key:3,class:"mt-6 bg-blue-50 p-4 rounded-lg"},Ox={class:"text-gray-700 space-y-2"},Nx={key:0,class:"text-xl font-bold text-blue-700 mb-4"},Lx={key:1,class:"font-bold text-blue-800 mb-2"},$x={class:"text-gray-700 mb-4"},Fx={key:1,class:"bg-white rounded-lg shadow-md p-6"},Bx={class:"text-xl font-bold text-blue-700 mb-4"},jx={class:"text-gray-700"},Ux={__name:"DayCard",props:{day:{type:Object,required:!0}},setup(t){const e=t,n=le(0),s=[Iv,Av],r=le([]),i=le(!0),o=nt(()=>{const f=[];return Object.values(d.value).forEach(p=>{p.forEach(g=>{g.images&&g.images.length&&f.push(...g.images)})}),[...new Set(f)]}),a=f=>{if(!f)return"";const p=new Date;p.setHours(0,0,0,0);const g=new Date(p);g.setDate(g.getDate()+1);let w;if(f.includes("/"))w=f.split("/");else if(f.includes("-"))w=f.split("-");else return f;if(w.length<3)return f;const I=parseInt(w[0],10),C=parseInt(w[1],10)-1,V=w[2].length===2?2e3+parseInt(w[2],10):parseInt(w[2],10),_=new Date(V,C,I),v=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],S=["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"];let M=`${I} de ${v[C]}`;if(_.getTime()===p.getTime()?M+=" (hoje)":_.getTime()===g.getTime()&&(M+=" (amanh)"),M+=` - ${S[_.getDay()]}`,e.day.id&&e.day.id.includes("day-")){const $=e.day.id.replace("day-","");isNaN(parseInt($,10))||(M+=` - ${$} dia`)}return M},u=f=>{n.value=f.activeIndex},c=async()=>{try{i.value=!0,r.value=await _c()}catch(f){console.error("Erro ao carregar atividades:",f),r.value=[]}finally{i.value=!1}};gt(async()=>{await c()});const d=nt(()=>{if(!e.day.schedule||r.value.length===0)return{morning:[],lunch:[],midDay:[],afternoon:[],evening:[],night:[]};const f=g=>!g||g.length===0||!g.map?[]:g.map(w=>{if(typeof w=="string"){const I=r.value.find(C=>C.id===w);return I?{...I,titulo:I.title,descricao:I.description}:{id:w,titulo:w,descricao:"",title:w,description:""}}return w});return{morning:f(e.day.schedule.morning),lunch:f(e.day.schedule.lunch),midDay:f(e.day.schedule.midDay),afternoon:f(e.day.schedule.afternoon),evening:f(e.day.schedule.evening),night:f(e.day.schedule.night)}});return(f,p)=>(F(),z("section",{id:t.day.id,class:"mb-20"},[y("div",hx,[y("h2",px,ue(t.day.title),1)]),y("div",mx,[y("h3",gx,ue(a(t.day.date)),1)]),y("div",vx,[o.value.length===1?(F(),z("div",yx,[y("img",{src:o.value[0],alt:t.day.title,class:"w-full h-full object-cover rounded-lg shadow-md"},null,8,_x)])):xe("",!0),o.value.length>1?(F(),Je(Jt(Tc),{key:1,modules:s,"slides-per-view":3,"space-between":20,loop:!0,pagination:{clickable:!0},navigation:!1,nested:!0,activeIndex:n.value,"onUpdate:activeIndex":p[0]||(p[0]=g=>n.value=g),onSlideChange:u,class:"photo-swiper mb-8",breakpoints:{320:{slidesPerView:1,spaceBetween:10},768:{slidesPerView:2,spaceBetween:15},1024:{slidesPerView:3,spaceBetween:20}}},{default:Fe(()=>[(F(!0),z(we,null,$e(o.value,(g,w)=>(F(),Je(Jt(Sc),{key:w},{default:Fe(()=>[y("div",wx,[y("img",{src:g,alt:`${t.day.title} ${w+1}`,class:"w-full h-full object-cover rounded-lg shadow-md"},null,8,bx)])]),_:2},1024))),128))]),_:1},8,["activeIndex"])):xe("",!0),y("div",Ex,[p[7]||(p[7]=y("h3",{class:"text-xl font-bold text-blue-700 mb-4"}," Atividades Planejadas ",-1)),i.value?(F(),z("div",Tx,p[1]||(p[1]=[y("p",{class:"text-gray-600 italic"},"Carregando atividades...",-1)]))):d.value.morning.length+d.value.lunch.length+d.value.midDay.length+d.value.afternoon.length+d.value.evening.length+d.value.night.length>0?(F(),z("div",Sx)):xe("",!0),i.value?xe("",!0):(F(),z("div",Ix,[y("div",Ax,[d.value.morning.length>0?(F(),z("div",xx,[p[2]||(p[2]=y("h4",{class:"font-semibold text-blue-600 mb-2"},"Manh",-1)),(F(!0),z(we,null,$e(d.value.morning,(g,w)=>(F(),Je(jr,{key:"manha-"+w,atividade:g},null,8,["atividade"]))),128))])):xe("",!0),d.value.lunch.length>0||d.value.midDay.length>0?(F(),z("div",Cx,[y("h4",Px,ue(d.value.lunch.length>0?"Almoo":"Meio-dia"),1),(F(!0),z(we,null,$e(d.value.lunch.length>0?d.value.lunch:d.value.midDay,(g,w)=>(F(),Je(jr,{key:"almoco-"+w,atividade:g},null,8,["atividade"]))),128))])):xe("",!0)]),y("div",Rx,[d.value.afternoon.length>0?(F(),z("div",kx,[p[3]||(p[3]=y("h4",{class:"font-semibold text-blue-600 mb-2"},"Tarde",-1)),(F(!0),z(we,null,$e(d.value.afternoon,(g,w)=>(F(),Je(jr,{key:"tarde-"+w,atividade:g},null,8,["atividade"]))),128))])):xe("",!0),d.value.evening.length>0?(F(),z("div",Vx,[p[4]||(p[4]=y("h4",{class:"font-semibold text-blue-600 mb-2"},"Fim de tarde",-1)),(F(!0),z(we,null,$e(d.value.evening,(g,w)=>(F(),Je(jr,{key:"fimtarde-"+w,atividade:g},null,8,["atividade"]))),128))])):xe("",!0)]),d.value.night.length>0?(F(),z("div",Dx,[p[5]||(p[5]=y("h4",{class:"font-semibold text-blue-600 mb-2"},"Noite",-1)),(F(!0),z(we,null,$e(d.value.night,(g,w)=>(F(),Je(jr,{key:"noite-"+w,atividade:g},null,8,["atividade"]))),128))])):xe("",!0)])),t.day.tips&&t.day.tips.length>0?(F(),z("div",Mx,[p[6]||(p[6]=y("h4",{class:"font-bold text-blue-800 mb-2"},[y("i",{class:"fas fa-lightbulb text-yellow-500 mr-2"}),De(" Dicas para o dia:")],-1)),y("ul",Ox,[(F(!0),z(we,null,$e(t.day.tips,(g,w)=>(F(),z("li",{key:w}," "+ue(g),1))),128))])])):xe("",!0)])]),t.day.additionalDetails&&t.day.additionalDetails.length>0?(F(),z("div",{key:0,class:en([{"bg-white":!t.day.about,"bg-blue-50":t.day.about},"rounded-lg shadow-md p-6 mb-8"])},[(F(!0),z(we,null,$e(t.day.additionalDetails,(g,w)=>(F(),z("div",{key:w},[w===0?(F(),z("h3",Nx,ue(g.title),1)):(F(),z("h4",Lx,ue(g.title),1)),y("p",$x,ue(g.content),1)]))),128))],2)):xe("",!0),t.day.about&&!t.day.additionalDetails?(F(),z("div",Fx,[y("h3",Bx,"Sobre "+ue(t.day.title.split(" - ")[1]||t.day.title),1),y("p",jx,ue(t.day.about),1)])):xe("",!0)],8,fx))}},zx=Tn(Ux,[["__scopeId","data-v-38214951"]]),qx={id:"tips",class:"mb-20"},Hx={class:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8"},Gx={class:"text-xl font-bold text-blue-700 mb-4"},Kx={class:"flex-shrink-0 h-6 w-6 text-blue-600 mr-2"},Wx={class:"font-medium"},Qx={class:"text-gray-600"},Yx={key:0,class:"bg-blue-50 rounded-lg shadow-md p-6"},Xx={class:"text-gray-700 mb-4"},Jx={__name:"Recommendations",props:{recommendations:{type:Object,required:!0}},setup(t){return(e,n)=>(F(),z("section",qx,[n[1]||(n[1]=y("h2",{class:"text-3xl font-bold text-blue-800 mb-6 pb-2 border-b-2 border-blue-300"},"Dicas e Recomendaes",-1)),y("div",Hx,[(F(!0),z(we,null,$e(t.recommendations.categories,(s,r)=>(F(),z("div",{key:r,class:"bg-white rounded-lg shadow-md p-6"},[y("h3",Gx,ue(s.title),1),(F(!0),z(we,null,$e(s.items,(i,o)=>(F(),z("div",{key:o,class:"flex items-start mb-4"},[y("div",Kx,[y("i",{class:en(i.icon)},null,2)]),y("div",null,[y("p",Wx,ue(i.title),1),y("p",Qx,ue(i.description),1)])]))),128))]))),128))]),t.recommendations.observations?(F(),z("div",Yx,[n[0]||(n[0]=y("h3",{class:"text-xl font-bold text-blue-700 mb-4"},"Observaes Finais",-1)),y("p",Xx,ue(t.recommendations.observations),1)])):xe("",!0)]))}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Qs=typeof document<"u";function Cv(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Zx(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Cv(t.default)}const Me=Object.assign;function Il(t,e){const n={};for(const s in e){const r=e[s];n[s]=an(r)?r.map(t):t(r)}return n}const ri=()=>{},an=Array.isArray,Pv=/#/g,eC=/&/g,tC=/\//g,nC=/=/g,sC=/\?/g,Rv=/\+/g,rC=/%5B/g,iC=/%5D/g,kv=/%5E/g,oC=/%60/g,Vv=/%7B/g,aC=/%7C/g,Dv=/%7D/g,lC=/%20/g;function Ic(t){return encodeURI(""+t).replace(aC,"|").replace(rC,"[").replace(iC,"]")}function uC(t){return Ic(t).replace(Vv,"{").replace(Dv,"}").replace(kv,"^")}function du(t){return Ic(t).replace(Rv,"%2B").replace(lC,"+").replace(Pv,"%23").replace(eC,"%26").replace(oC,"`").replace(Vv,"{").replace(Dv,"}").replace(kv,"^")}function cC(t){return du(t).replace(nC,"%3D")}function dC(t){return Ic(t).replace(Pv,"%23").replace(sC,"%3F")}function fC(t){return t==null?"":dC(t).replace(tC,"%2F")}function wi(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const hC=/\/$/,pC=t=>t.replace(hC,"");function Al(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let u=e.indexOf("?");return a<u&&a>=0&&(u=-1),u>-1&&(s=e.slice(0,u),i=e.slice(u+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=yC(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:wi(o)}}function mC(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function yh(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function gC(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&mr(e.matched[s],n.matched[r])&&Mv(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function mr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Mv(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!vC(t[n],e[n]))return!1;return!0}function vC(t,e){return an(t)?_h(t,e):an(e)?_h(e,t):t===e}function _h(t,e){return an(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function yC(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const qn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var bi;(function(t){t.pop="pop",t.push="push"})(bi||(bi={}));var ii;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ii||(ii={}));function _C(t){if(!t)if(Qs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),pC(t)}const wC=/^[^#]+#/;function bC(t,e){return t.replace(wC,"#")+e}function EC(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const ka=()=>({left:window.scrollX,top:window.scrollY});function TC(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=EC(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function wh(t,e){return(history.state?history.state.position-e:-1)+t}const fu=new Map;function SC(t,e){fu.set(t,e)}function IC(t){const e=fu.get(t);return fu.delete(t),e}let AC=()=>location.protocol+"//"+location.host;function Ov(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,u=r.slice(a);return u[0]!=="/"&&(u="/"+u),yh(u,"")}return yh(n,t)+s+r}function xC(t,e,n,s){let r=[],i=[],o=null;const a=({state:p})=>{const g=Ov(t,location),w=n.value,I=e.value;let C=0;if(p){if(n.value=g,e.value=p,o&&o===w){o=null;return}C=I?p.position-I.position:0}else s(g);r.forEach(V=>{V(n.value,w,{delta:C,type:bi.pop,direction:C?C>0?ii.forward:ii.back:ii.unknown})})};function u(){o=n.value}function c(p){r.push(p);const g=()=>{const w=r.indexOf(p);w>-1&&r.splice(w,1)};return i.push(g),g}function d(){const{history:p}=window;p.state&&p.replaceState(Me({},p.state,{scroll:ka()}),"")}function f(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:u,listen:c,destroy:f}}function bh(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?ka():null}}function CC(t){const{history:e,location:n}=window,s={value:Ov(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,c,d){const f=t.indexOf("#"),p=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+u:AC()+t+u;try{e[d?"replaceState":"pushState"](c,"",p),r.value=c}catch(g){console.error(g),n[d?"replace":"assign"](p)}}function o(u,c){const d=Me({},e.state,bh(r.value.back,u,r.value.forward,!0),c,{position:r.value.position});i(u,d,!0),s.value=u}function a(u,c){const d=Me({},r.value,e.state,{forward:u,scroll:ka()});i(d.current,d,!0);const f=Me({},bh(s.value,u,null),{position:d.position+1},c);i(u,f,!1),s.value=u}return{location:s,state:r,push:a,replace:o}}function PC(t){t=_C(t);const e=CC(t),n=xC(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=Me({location:"",base:t,go:s,createHref:bC.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function RC(t){return typeof t=="string"||t&&typeof t=="object"}function Nv(t){return typeof t=="string"||typeof t=="symbol"}const Lv=Symbol("");var Eh;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Eh||(Eh={}));function gr(t,e){return Me(new Error,{type:t,[Lv]:!0},e)}function xn(t,e){return t instanceof Error&&Lv in t&&(e==null||!!(t.type&e))}const Th="[^/]+?",kC={sensitive:!1,strict:!1,start:!0,end:!0},VC=/[.+*?^${}()[\]/\\]/g;function DC(t,e){const n=Me({},kC,e),s=[];let r=n.start?"^":"";const i=[];for(const c of t){const d=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const p=c[f];let g=40+(n.sensitive?.25:0);if(p.type===0)f||(r+="/"),r+=p.value.replace(VC,"\\$&"),g+=40;else if(p.type===1){const{value:w,repeatable:I,optional:C,regexp:V}=p;i.push({name:w,repeatable:I,optional:C});const _=V||Th;if(_!==Th){g+=10;try{new RegExp(`(${_})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${w}" (${_}): `+S.message)}}let v=I?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;f||(v=C&&c.length<2?`(?:/${v})`:"/"+v),C&&(v+="?"),r+=v,g+=20,C&&(g+=-8),I&&(g+=-20),_===".*"&&(g+=-50)}d.push(g)}s.push(d)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const d=c.match(o),f={};if(!d)return null;for(let p=1;p<d.length;p++){const g=d[p]||"",w=i[p-1];f[w.name]=g&&w.repeatable?g.split("/"):g}return f}function u(c){let d="",f=!1;for(const p of t){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const g of p)if(g.type===0)d+=g.value;else if(g.type===1){const{value:w,repeatable:I,optional:C}=g,V=w in c?c[w]:"";if(an(V)&&!I)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const _=an(V)?V.join("/"):V;if(!_)if(C)p.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${w}"`);d+=_}}return d||"/"}return{re:o,score:s,keys:i,parse:a,stringify:u}}function MC(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function $v(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=MC(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Sh(s))return 1;if(Sh(r))return-1}return r.length-s.length}function Sh(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const OC={type:0,value:""},NC=/[a-zA-Z0-9_]/;function LC(t){if(!t)return[[]];if(t==="/")return[[OC]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${c}": ${g}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,u,c="",d="";function f(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),c="")}function p(){c+=u}for(;a<t.length;){if(u=t[a++],u==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:u==="/"?(c&&f(),o()):u===":"?(f(),n=1):p();break;case 4:p(),n=s;break;case 1:u==="("?n=2:NC.test(u)?p():(f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:n=3:d+=u;break;case 3:f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),o(),r}function $C(t,e,n){const s=DC(LC(t.path),n),r=Me(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function FC(t,e){const n=[],s=new Map;e=Ch({strict:!1,end:!0,sensitive:!1},e);function r(f){return s.get(f)}function i(f,p,g){const w=!g,I=Ah(f);I.aliasOf=g&&g.record;const C=Ch(e,f),V=[I];if("alias"in f){const S=typeof f.alias=="string"?[f.alias]:f.alias;for(const M of S)V.push(Ah(Me({},I,{components:g?g.record.components:I.components,path:M,aliasOf:g?g.record:I})))}let _,v;for(const S of V){const{path:M}=S;if(p&&M[0]!=="/"){const $=p.record.path,x=$[$.length-1]==="/"?"":"/";S.path=p.record.path+(M&&x+M)}if(_=$C(S,p,C),g?g.alias.push(_):(v=v||_,v!==_&&v.alias.push(_),w&&f.name&&!xh(_)&&o(f.name)),Fv(_)&&u(_),I.children){const $=I.children;for(let x=0;x<$.length;x++)i($[x],_,g&&g.children[x])}g=g||_}return v?()=>{o(v)}:ri}function o(f){if(Nv(f)){const p=s.get(f);p&&(s.delete(f),n.splice(n.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=n.indexOf(f);p>-1&&(n.splice(p,1),f.record.name&&s.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function u(f){const p=UC(f,n);n.splice(p,0,f),f.record.name&&!xh(f)&&s.set(f.record.name,f)}function c(f,p){let g,w={},I,C;if("name"in f&&f.name){if(g=s.get(f.name),!g)throw gr(1,{location:f});C=g.record.name,w=Me(Ih(p.params,g.keys.filter(v=>!v.optional).concat(g.parent?g.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),f.params&&Ih(f.params,g.keys.map(v=>v.name))),I=g.stringify(w)}else if(f.path!=null)I=f.path,g=n.find(v=>v.re.test(I)),g&&(w=g.parse(I),C=g.record.name);else{if(g=p.name?s.get(p.name):n.find(v=>v.re.test(p.path)),!g)throw gr(1,{location:f,currentLocation:p});C=g.record.name,w=Me({},p.params,f.params),I=g.stringify(w)}const V=[];let _=g;for(;_;)V.unshift(_.record),_=_.parent;return{name:C,path:I,params:w,matched:V,meta:jC(V)}}t.forEach(f=>i(f));function d(){n.length=0,s.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:r}}function Ih(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Ah(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:BC(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function BC(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function xh(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function jC(t){return t.reduce((e,n)=>Me(e,n.meta),{})}function Ch(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function UC(t,e){let n=0,s=e.length;for(;n!==s;){const i=n+s>>1;$v(t,e[i])<0?s=i:n=i+1}const r=zC(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function zC(t){let e=t;for(;e=e.parent;)if(Fv(e)&&$v(t,e)===0)return e}function Fv({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function qC(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Rv," "),o=i.indexOf("="),a=wi(o<0?i:i.slice(0,o)),u=o<0?null:wi(i.slice(o+1));if(a in e){let c=e[a];an(c)||(c=e[a]=[c]),c.push(u)}else e[a]=u}return e}function Ph(t){let e="";for(let n in t){const s=t[n];if(n=cC(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(an(s)?s.map(i=>i&&du(i)):[s&&du(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function HC(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=an(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const GC=Symbol(""),Rh=Symbol(""),Va=Symbol(""),Ac=Symbol(""),hu=Symbol("");function Ur(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Kn(t,e,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,u)=>{const c=p=>{p===!1?u(gr(4,{from:n,to:e})):p instanceof Error?u(p):RC(p)?u(gr(2,{from:e,to:p})):(o&&s.enterCallbacks[r]===o&&typeof p=="function"&&o.push(p),a())},d=i(()=>t.call(s&&s.instances[r],e,n,c));let f=Promise.resolve(d);t.length<3&&(f=f.then(c)),f.catch(p=>u(p))})}function xl(t,e,n,s,r=i=>i()){const i=[];for(const o of t)for(const a in o.components){let u=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Cv(u)){const d=(u.__vccOpts||u)[e];d&&i.push(Kn(d,n,s,o,a,r))}else{let c=u();i.push(()=>c.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=Zx(d)?d.default:d;o.mods[a]=d,o.components[a]=f;const g=(f.__vccOpts||f)[e];return g&&Kn(g,n,s,o,a,r)()}))}}return i}function kh(t){const e=sn(Va),n=sn(Ac),s=nt(()=>{const u=Jt(t.to);return e.resolve(u)}),r=nt(()=>{const{matched:u}=s.value,{length:c}=u,d=u[c-1],f=n.matched;if(!d||!f.length)return-1;const p=f.findIndex(mr.bind(null,d));if(p>-1)return p;const g=Vh(u[c-2]);return c>1&&Vh(d)===g&&f[f.length-1].path!==g?f.findIndex(mr.bind(null,u[c-2])):p}),i=nt(()=>r.value>-1&&XC(n.params,s.value.params)),o=nt(()=>r.value>-1&&r.value===n.matched.length-1&&Mv(n.params,s.value.params));function a(u={}){if(YC(u)){const c=e[Jt(t.replace)?"replace":"push"](Jt(t.to)).catch(ri);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:nt(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function KC(t){return t.length===1?t[0]:t}const WC=dp({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:kh,setup(t,{slots:e}){const n=Ti(kh(t)),{options:s}=sn(Va),r=nt(()=>({[Dh(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Dh(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&KC(e.default(n));return t.custom?i:Lt("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),QC=WC;function YC(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function XC(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!an(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function Vh(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Dh=(t,e,n)=>t??e??n,JC=dp({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=sn(hu),r=nt(()=>t.route||s.value),i=sn(Rh,0),o=nt(()=>{let c=Jt(i);const{matched:d}=r.value;let f;for(;(f=d[c])&&!f.components;)c++;return c}),a=nt(()=>r.value.matched[o.value]);nr(Rh,nt(()=>o.value+1)),nr(GC,a),nr(hu,r);const u=le();return sr(()=>[u.value,a.value,t.name],([c,d,f],[p,g,w])=>{d&&(d.instances[f]=c,g&&g!==d&&c&&c===p&&(d.leaveGuards.size||(d.leaveGuards=g.leaveGuards),d.updateGuards.size||(d.updateGuards=g.updateGuards))),c&&d&&(!g||!mr(d,g)||!p)&&(d.enterCallbacks[f]||[]).forEach(I=>I(c))},{flush:"post"}),()=>{const c=r.value,d=t.name,f=a.value,p=f&&f.components[d];if(!p)return Mh(n.default,{Component:p,route:c});const g=f.props[d],w=g?g===!0?c.params:typeof g=="function"?g(c):g:null,C=Lt(p,Me({},w,e,{onVnodeUnmounted:V=>{V.component.isUnmounted&&(f.instances[d]=null)},ref:u}));return Mh(n.default,{Component:C,route:c})||C}}});function Mh(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const ZC=JC;function eP(t){const e=FC(t.routes,t),n=t.parseQuery||qC,s=t.stringifyQuery||Ph,r=t.history,i=Ur(),o=Ur(),a=Ur(),u=zy(qn);let c=qn;Qs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Il.bind(null,j=>""+j),f=Il.bind(null,fC),p=Il.bind(null,wi);function g(j,te){let Z,re;return Nv(j)?(Z=e.getRecordMatcher(j),re=te):re=j,e.addRoute(re,Z)}function w(j){const te=e.getRecordMatcher(j);te&&e.removeRoute(te)}function I(){return e.getRoutes().map(j=>j.record)}function C(j){return!!e.getRecordMatcher(j)}function V(j,te){if(te=Me({},te||u.value),typeof j=="string"){const N=Al(n,j,te.path),U=e.resolve({path:N.path},te),G=r.createHref(N.fullPath);return Me(N,U,{params:p(U.params),hash:wi(N.hash),redirectedFrom:void 0,href:G})}let Z;if(j.path!=null)Z=Me({},j,{path:Al(n,j.path,te.path).path});else{const N=Me({},j.params);for(const U in N)N[U]==null&&delete N[U];Z=Me({},j,{params:f(N)}),te.params=f(te.params)}const re=e.resolve(Z,te),ke=j.hash||"";re.params=d(p(re.params));const k=mC(s,Me({},j,{hash:uC(ke),path:re.path})),D=r.createHref(k);return Me({fullPath:k,hash:ke,query:s===Ph?HC(j.query):j.query||{}},re,{redirectedFrom:void 0,href:D})}function _(j){return typeof j=="string"?Al(n,j,u.value.path):Me({},j)}function v(j,te){if(c!==j)return gr(8,{from:te,to:j})}function S(j){return x(j)}function M(j){return S(Me(_(j),{replace:!0}))}function $(j){const te=j.matched[j.matched.length-1];if(te&&te.redirect){const{redirect:Z}=te;let re=typeof Z=="function"?Z(j):Z;return typeof re=="string"&&(re=re.includes("?")||re.includes("#")?re=_(re):{path:re},re.params={}),Me({query:j.query,hash:j.hash,params:re.path!=null?{}:j.params},re)}}function x(j,te){const Z=c=V(j),re=u.value,ke=j.state,k=j.force,D=j.replace===!0,N=$(Z);if(N)return x(Me(_(N),{state:typeof N=="object"?Me({},ke,N.state):ke,force:k,replace:D}),te||Z);const U=Z;U.redirectedFrom=te;let G;return!k&&gC(s,re,Z)&&(G=gr(16,{to:U,from:re}),Mt(re,re,!0,!1)),(G?Promise.resolve(G):A(U,re)).catch(q=>xn(q)?xn(q,2)?q:Dt(q):fe(q,U,re)).then(q=>{if(q){if(xn(q,2))return x(Me({replace:D},_(q.to),{state:typeof q.to=="object"?Me({},ke,q.to.state):ke,force:k}),te||U)}else q=O(U,re,!0,D,ke);return R(U,re,q),q})}function E(j,te){const Z=v(j,te);return Z?Promise.reject(Z):Promise.resolve()}function b(j){const te=Fn.values().next().value;return te&&typeof te.runWithContext=="function"?te.runWithContext(j):j()}function A(j,te){let Z;const[re,ke,k]=tP(j,te);Z=xl(re.reverse(),"beforeRouteLeave",j,te);for(const N of re)N.leaveGuards.forEach(U=>{Z.push(Kn(U,j,te))});const D=E.bind(null,j,te);return Z.push(D),Ot(Z).then(()=>{Z=[];for(const N of i.list())Z.push(Kn(N,j,te));return Z.push(D),Ot(Z)}).then(()=>{Z=xl(ke,"beforeRouteUpdate",j,te);for(const N of ke)N.updateGuards.forEach(U=>{Z.push(Kn(U,j,te))});return Z.push(D),Ot(Z)}).then(()=>{Z=[];for(const N of k)if(N.beforeEnter)if(an(N.beforeEnter))for(const U of N.beforeEnter)Z.push(Kn(U,j,te));else Z.push(Kn(N.beforeEnter,j,te));return Z.push(D),Ot(Z)}).then(()=>(j.matched.forEach(N=>N.enterCallbacks={}),Z=xl(k,"beforeRouteEnter",j,te,b),Z.push(D),Ot(Z))).then(()=>{Z=[];for(const N of o.list())Z.push(Kn(N,j,te));return Z.push(D),Ot(Z)}).catch(N=>xn(N,8)?N:Promise.reject(N))}function R(j,te,Z){a.list().forEach(re=>b(()=>re(j,te,Z)))}function O(j,te,Z,re,ke){const k=v(j,te);if(k)return k;const D=te===qn,N=Qs?history.state:{};Z&&(re||D?r.replace(j.fullPath,Me({scroll:D&&N&&N.scroll},ke)):r.push(j.fullPath,ke)),u.value=j,Mt(j,te,Z,D),Dt()}let P;function Te(){P||(P=r.listen((j,te,Z)=>{if(!ln.listening)return;const re=V(j),ke=$(re);if(ke){x(Me(ke,{replace:!0,force:!0}),re).catch(ri);return}c=re;const k=u.value;Qs&&SC(wh(k.fullPath,Z.delta),ka()),A(re,k).catch(D=>xn(D,12)?D:xn(D,2)?(x(Me(_(D.to),{force:!0}),re).then(N=>{xn(N,20)&&!Z.delta&&Z.type===bi.pop&&r.go(-1,!1)}).catch(ri),Promise.reject()):(Z.delta&&r.go(-Z.delta,!1),fe(D,re,k))).then(D=>{D=D||O(re,k,!1),D&&(Z.delta&&!xn(D,8)?r.go(-Z.delta,!1):Z.type===bi.pop&&xn(D,20)&&r.go(-1,!1)),R(re,k,D)}).catch(ri)}))}let Ie=Ur(),se=Ur(),de;function fe(j,te,Z){Dt(j);const re=se.list();return re.length?re.forEach(ke=>ke(j,te,Z)):console.error(j),Promise.reject(j)}function Ke(){return de&&u.value!==qn?Promise.resolve():new Promise((j,te)=>{Ie.add([j,te])})}function Dt(j){return de||(de=!j,Te(),Ie.list().forEach(([te,Z])=>j?Z(j):te()),Ie.reset()),j}function Mt(j,te,Z,re){const{scrollBehavior:ke}=t;if(!Qs||!ke)return Promise.resolve();const k=!Z&&IC(wh(j.fullPath,0))||(re||!Z)&&history.state&&history.state.scroll||null;return ia().then(()=>ke(j,te,k)).then(D=>D&&TC(D)).catch(D=>fe(D,j,te))}const qe=j=>r.go(j);let We;const Fn=new Set,ln={currentRoute:u,listening:!0,addRoute:g,removeRoute:w,clearRoutes:e.clearRoutes,hasRoute:C,getRoutes:I,resolve:V,options:t,push:S,replace:M,go:qe,back:()=>qe(-1),forward:()=>qe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:se.add,isReady:Ke,install(j){const te=this;j.component("RouterLink",QC),j.component("RouterView",ZC),j.config.globalProperties.$router=te,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>Jt(u)}),Qs&&!We&&u.value===qn&&(We=!0,S(r.location).catch(ke=>{}));const Z={};for(const ke in qn)Object.defineProperty(Z,ke,{get:()=>u.value[ke],enumerable:!0});j.provide(Va,te),j.provide(Ac,np(Z)),j.provide(hu,u);const re=j.unmount;Fn.add(j),j.unmount=function(){Fn.delete(j),Fn.size<1&&(c=qn,P&&P(),P=null,u.value=qn,We=!1,de=!1),re()}}};function Ot(j){return j.reduce((te,Z)=>te.then(()=>b(Z)),Promise.resolve())}return ln}function tP(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>mr(c,a))?s.push(a):n.push(a));const u=t.matched[o];u&&(e.matched.find(c=>mr(c,u))||r.push(u))}return[n,s,r]}function Tr(){return sn(Va)}function Da(t){return sn(Ac)}const nP={key:1},sP={key:0,class:"container container-swiper mx-auto px-4 sm:px-6 lg:px-8"},rP={key:1,class:"container"},iP={__name:"App",setup(t){const e=Da(),n=nt(()=>{const g=e.path.startsWith("/admin");return console.log("Current route:",e.path,"isAdmin:",g),g}),s=le([]),r=le(null);gt(async()=>{if(!n.value)try{const g=await yc();g&&(s.value=g.filter(I=>I.id.startsWith("day")));const w=await wc();w&&(r.value=w)}catch(g){console.error("Erro ao carregar dados:",g)}});const i=[Iv,Av,xv],o=le(null),a=le(null),u=le(0),c=g=>{o.value=g,u.value=g.activeIndex},d=g=>{a.value=g},f=g=>{var w;(w=o.value)==null||w.slideTo(g)},p=g=>{u.value=g.activeIndex,a.value&&a.value.slideTo(g.activeIndex)};return(g,w)=>{const I=vr("router-view");return n.value?(F(),Je(I,{key:0})):(F(),z("div",nP,[ae(fI),ae(mI),s.value.length>0?(F(),z("main",sP,[ae(HA,{days:s.value,onGoToDay:f,onSwiper:d,"controlled-swiper":o.value,"active-index":u.value},null,8,["days","controlled-swiper","active-index"]),ae(Jt(Tc),{modules:i,"slides-per-view":1,"space-between":50,navigation:!1,pagination:{el:".main-swiper-pagination",clickable:!0},"auto-height":!0,onSwiper:c,onSlideChange:p,class:"main-day-swiper"},{default:Fe(()=>[(F(!0),z(we,null,$e(s.value,(C,V)=>(F(),Je(Jt(Sc),{key:C.id},{default:Fe(()=>[ae(zx,{day:C},null,8,["day"])]),_:2},1024))),128))]),_:1}),w[0]||(w[0]=y("div",{class:"main-swiper-pagination"},null,-1))])):xe("",!0),r.value?(F(),z("div",rP,[ae(Jx,{recommendations:r.value},null,8,["recommendations"])])):xe("",!0),ae(sx)]))}}},oP={class:"flex items-center"},aP={key:0,class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},lP={key:1,class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},uP={key:2,class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},cP={key:3,class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},dP={__name:"AlertNotification",props:{show:{type:Boolean,default:!1},message:{type:String,default:""},type:{type:String,default:"success",validator:t=>["success","error","warning","info"].includes(t)},autoClose:{type:Boolean,default:!0},duration:{type:Number,default:5e3}},emits:["update:show","close"],setup(t,{emit:e}){const n=t,s=e;let r=null;sr(()=>n.show,a=>{a&&n.autoClose?i():!a&&r&&(clearTimeout(r),r=null)});const i=()=>{r&&clearTimeout(r),r=setTimeout(()=>{o()},n.duration)},o=()=>{r&&(clearTimeout(r),r=null),s("update:show",!1),s("close")};return gt(()=>{n.show&&n.autoClose&&i()}),aa(()=>{r&&clearTimeout(r)}),(a,u)=>t.show?(F(),z("div",{key:0,class:en(["fixed top-4 left-0 right-0 mx-auto max-w-md z-50 p-4 rounded-md flex items-center justify-between transition-all duration-300 shadow-lg",t.type==="success"?"bg-green-100 text-green-800 border border-green-200":t.type==="error"?"bg-red-100 text-red-800 border border-red-200":t.type==="warning"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-blue-100 text-blue-800 border border-blue-200"])},[y("div",oP,[t.type==="success"?(F(),z("svg",aP,u[0]||(u[0]=[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))):t.type==="error"?(F(),z("svg",lP,u[1]||(u[1]=[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):t.type==="warning"?(F(),z("svg",uP,u[2]||(u[2]=[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)]))):(F(),z("svg",cP,u[3]||(u[3]=[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))),y("span",null,ue(t.message),1)]),y("button",{onClick:o,class:"text-gray-500 hover:text-gray-700"},u[4]||(u[4]=[y("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))],2)):xe("",!0)}},fP=Tn(dP,[["__scopeId","data-v-95b4fa06"]]),hP={class:"bg-white rounded-lg shadow-md p-6"},pP={class:"flex items-center mb-6"},mP={class:"text-xl font-semibold"},gP={__name:"AdminFormLayout",props:{title:{type:String,required:!0},alert:{type:Object,required:!0}},emits:["update:alert","close-alert"],setup(t,{emit:e}){const n=e,s=Tr(),r=()=>{n("close-alert")},i=()=>{s.back()};return(o,a)=>(F(),z("div",hP,[ae(fP,{show:t.alert.show,"onUpdate:show":a[0]||(a[0]=u=>t.alert.show=u),message:t.alert.message,type:t.alert.type,onClose:r},null,8,["show","message","type"]),y("div",pP,[y("button",{class:"mr-3 flex items-center text-gray-700",onClick:i},a[1]||(a[1]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])),y("h2",mP,ue(t.title),1)]),c_(o.$slots,"default",{},void 0)]))}},ps=Tn(gP,[["__scopeId","data-v-5bc89c54"]]),vP={class:"mb-4"},yP=["for"],_P=["type","id","value"],Ht={__name:"FormField",props:{id:{type:String,required:!0},label:{type:String,required:!0},modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"}},emits:["update:modelValue"],setup(t){return(e,n)=>(F(),z("div",vP,[y("label",{for:t.id,class:"block text-sm font-medium text-gray-700 mb-1"},ue(t.label),9,yP),y("input",{type:t.type,id:t.id,value:t.modelValue,onInput:n[0]||(n[0]=s=>e.$emit("update:modelValue",s.target.value)),class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,40,_P)]))}},wP={class:"flex justify-end space-x-3"},bP={type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},Ma={__name:"FormActions",props:{submitLabel:{type:String,default:"Salvar"},cancelLabel:{type:String,default:"Cancelar"}},emits:["cancel"],setup(t){return(e,n)=>(F(),z("div",wP,[y("button",{type:"button",class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",onClick:n[0]||(n[0]=s=>e.$emit("cancel"))},ue(t.cancelLabel),1),y("button",bP,ue(t.submitLabel),1)]))}},EP={class:"mb-2"},TP={__name:"SiteHeaderForm",setup(t){const e=Tr(),n=le({title:"",subtitle:"",backgroundImage:"",period:{start:"",end:""}}),s=le({show:!1,message:"",type:"success"}),r=(d,f="success")=>{s.value={show:!0,message:d,type:f}},i=()=>{s.value.show=!1};function o(d){if(!d)return"";const f=d.split("/");return f.length!==3?"":`${f[2]}-${f[1]}-${f[0]}`}function a(d){if(!d)return"";const f=d.split("-");return f.length!==3?"":`${f[2]}/${f[1]}/${f[0]}`}gt(async()=>{var f,p;const d=await uv();d&&(n.value={title:d.title||"",subtitle:d.subtitle||"",backgroundImage:d.backgroundImage||"",period:{start:o((f=d.period)==null?void 0:f.start)||"",end:o((p=d.period)==null?void 0:p.end)||""}})});const u=async()=>{const d={...n.value,period:{start:a(n.value.period.start),end:a(n.value.period.end)}};(await XS(d)).success?r("Cabealho salvo com sucesso!","success"):r("Erro ao salvar cabealho!","error")},c=()=>{e.back()};return(d,f)=>(F(),Je(ps,{title:"Configurao de Cabealho",alert:s.value,onCloseAlert:i},{default:Fe(()=>[y("form",{onSubmit:Ai(u,["prevent"])},[ae(Ht,{id:"title",label:"Ttulo",modelValue:n.value.title,"onUpdate:modelValue":f[0]||(f[0]=p=>n.value.title=p)},null,8,["modelValue"]),ae(Ht,{id:"subtitle",label:"Subttulo",modelValue:n.value.subtitle,"onUpdate:modelValue":f[1]||(f[1]=p=>n.value.subtitle=p)},null,8,["modelValue"]),ae(Ht,{id:"backgroundImage",label:"Imagem de Fundo (URL)",modelValue:n.value.backgroundImage,"onUpdate:modelValue":f[2]||(f[2]=p=>n.value.backgroundImage=p)},null,8,["modelValue"]),ae(Ht,{id:"periodStart",label:"Data de Incio",type:"date",modelValue:n.value.period.start,"onUpdate:modelValue":f[3]||(f[3]=p=>n.value.period.start=p)},null,8,["modelValue"]),y("div",EP,[ae(Ht,{id:"periodEnd",label:"Data de Trmino",type:"date",modelValue:n.value.period.end,"onUpdate:modelValue":f[4]||(f[4]=p=>n.value.period.end=p)},null,8,["modelValue"])]),ae(Ma,{onCancel:c})],32)]),_:1},8,["alert"]))}},SP=Tn(TP,[["__scopeId","data-v-267f41f8"]]),IP={class:"mb-4"},AP={class:"flex justify-between mb-2"},xP={class:"flex items-center"},CP=["onClick"],PP={class:"font-medium"},RP={class:"flex"},kP=["onClick","disabled"],VP=["onClick","disabled"],DP={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},MP=["for"],OP=["id","onUpdate:modelValue"],NP=["for"],LP=["id","onUpdate:modelValue"],$P=["for"],FP=["id","onUpdate:modelValue"],BP=["for"],jP=["id","onUpdate:modelValue"],UP=["for"],zP=["id","onUpdate:modelValue"],qP={key:0,class:"mt-3 border-t border-gray-100 pt-3"},HP={class:"flex justify-between items-center mb-2"},GP=["onClick"],KP=["onClick"],WP={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-3"},QP=["for"],YP=["id","value","onInput"],XP=["for"],JP=["id","value","onInput"],ZP={__name:"SiteFooterForm",setup(t){const e=Tr(),n=le({titulo:"",descricao:"",data:"",contatos_importantes:[],copyright:""}),s=Ti({}),r=le({show:!1,message:"",type:"success"}),i=(C,V="success")=>{r.value={show:!0,message:C,type:V}},o=()=>{r.value.show=!1},a=()=>{const C={id:`contato-${n.value.contatos_importantes.length+1}`,nome:"",contato:"",instagram:"",rota:""};n.value.contatos_importantes.push(C)},u=C=>{n.value.contatos_importantes.splice(C,1)},c=(C,V)=>{const _=n.value.contatos_importantes;V==="up"&&C>0?[_[C],_[C-1]]=[_[C-1],_[C]]:V==="down"&&C<_.length-1&&([_[C],_[C+1]]=[_[C+1],_[C]])},d=(C,V)=>{C.link||(C.link={titulo:"",url:""}),C.link.titulo=V.target.value},f=(C,V)=>{C.link||(C.link={titulo:"",url:""}),C.link.url=V.target.value},p=C=>{const V=n.value.contatos_importantes[C];V.link||(V.link={titulo:"",url:""}),s[C]=!0},g=C=>{const V=n.value.contatos_importantes[C];delete V.link,s[C]=!1};gt(async()=>{try{const C=await cv();C&&(n.value={titulo:C.titulo||"",descricao:C.descricao||"",data:C.data||"",contatos_importantes:Array.isArray(C.contatos_importantes)?C.contatos_importantes:[],copyright:C.copyright||""},n.value.contatos_importantes.forEach((V,_)=>{V.id||(V.id=`contato-${_+1}`),s[_]=!!V.link,V.link&&typeof V.link!="object"&&(V.link={titulo:"",url:""})}))}catch(C){console.error("Erro ao carregar dados do rodap:",C),i("Erro ao carregar dados do rodap!","error")}});const w=async()=>{try{(await JS(n.value)).success?i("Rodap salvo com sucesso!","success"):i("Erro ao salvar rodap!","error")}catch(C){console.error("Erro ao salvar rodap:",C),i("Erro ao salvar rodap!","error")}},I=()=>{e.back()};return(C,V)=>(F(),Je(ps,{title:"Configurao de Rodap",alert:r.value,onCloseAlert:o},{default:Fe(()=>[y("form",{onSubmit:Ai(w,["prevent"])},[ae(Ht,{id:"titulo",label:"Ttulo",modelValue:n.value.titulo,"onUpdate:modelValue":V[0]||(V[0]=_=>n.value.titulo=_)},null,8,["modelValue"]),ae(Ht,{id:"descricao",label:"Descrio",modelValue:n.value.descricao,"onUpdate:modelValue":V[1]||(V[1]=_=>n.value.descricao=_)},null,8,["modelValue"]),ae(Ht,{id:"data",label:"Data",modelValue:n.value.data,"onUpdate:modelValue":V[2]||(V[2]=_=>n.value.data=_)},null,8,["modelValue"]),y("div",IP,[V[9]||(V[9]=y("div",{class:"flex justify-between items-center mb-2"},[y("label",{class:"block text-sm font-medium text-gray-700"},"Contatos Importantes")],-1)),(F(!0),z(we,null,$e(n.value.contatos_importantes,(_,v)=>(F(),z("div",{key:v,class:"border border-gray-200 rounded-md p-4 mb-3"},[y("div",AP,[y("div",xP,[y("button",{type:"button",class:"text-red-600 hover:text-red-800 mr-3",onClick:S=>u(v)},V[4]||(V[4]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,CP),y("h3",PP,"Contato #"+ue(v+1),1)]),y("div",RP,[y("button",{type:"button",class:en(["text-gray-600 hover:text-gray-800 mr-1",{"opacity-50 cursor-not-allowed":v===0}]),onClick:S=>c(v,"up"),disabled:v===0},V[5]||(V[5]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"})],-1)]),10,kP),y("button",{type:"button",class:en(["text-gray-600 hover:text-gray-800",{"opacity-50 cursor-not-allowed":v===n.value.contatos_importantes.length-1}]),onClick:S=>c(v,"down"),disabled:v===n.value.contatos_importantes.length-1},V[6]||(V[6]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]),10,VP)])]),y("div",DP,[y("div",null,[y("label",{for:`contato-id-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"ID",8,MP),Xe(y("input",{type:"text",id:`contato-id-${v}`,"onUpdate:modelValue":S=>_.id=S,class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,8,OP),[[ft,_.id]])]),y("div",null,[y("label",{for:`contato-nome-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Nome",8,NP),Xe(y("input",{type:"text",id:`contato-nome-${v}`,"onUpdate:modelValue":S=>_.nome=S,class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,8,LP),[[ft,_.nome]])]),y("div",null,[y("label",{for:`contato-contato-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Contato",8,$P),Xe(y("input",{type:"text",id:`contato-contato-${v}`,"onUpdate:modelValue":S=>_.contato=S,class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,8,FP),[[ft,_.contato]])]),y("div",null,[y("label",{for:`contato-instagram-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Instagram",8,BP),Xe(y("input",{type:"text",id:`contato-instagram-${v}`,"onUpdate:modelValue":S=>_.instagram=S,class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,8,jP),[[ft,_.instagram]])]),y("div",null,[y("label",{for:`contato-rota-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Rota",8,UP),Xe(y("input",{type:"text",id:`contato-rota-${v}`,"onUpdate:modelValue":S=>_.rota=S,class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,8,zP),[[ft,_.rota]])])]),_.link||s[v]?(F(),z("div",qP,[y("div",HP,[V[7]||(V[7]=y("h4",{class:"text-sm font-medium"},"Link",-1)),!_.link&&s[v]?(F(),z("button",{key:0,type:"button",class:"text-red-600 hover:text-red-800 text-sm",onClick:S=>g(v)}," Remover Link ",8,GP)):xe("",!0),!_.link&&!s[v]?(F(),z("button",{key:1,type:"button",class:"text-blue-600 hover:text-blue-800 text-sm",onClick:S=>p(v)}," Adicionar Link ",8,KP)):xe("",!0)]),_.link||s[v]?(F(),z("div",WP,[y("div",null,[y("label",{for:`contato-link-titulo-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Ttulo do Link",8,QP),y("input",{type:"text",id:`contato-link-titulo-${v}`,value:_.link?_.link.titulo:"",onInput:S=>d(_,S),class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,40,YP)]),y("div",null,[y("label",{for:`contato-link-url-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"URL do Link",8,XP),y("input",{type:"text",id:`contato-link-url-${v}`,value:_.link?_.link.url:"",onInput:S=>f(_,S),class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,40,JP)])])):xe("",!0)])):xe("",!0)]))),128)),y("button",{type:"button",class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm flex items-center justify-center",onClick:a},V[8]||(V[8]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),De(" Adicionar Contato ")]))]),ae(Ht,{id:"copyright",label:"Copyright",modelValue:n.value.copyright,"onUpdate:modelValue":V[3]||(V[3]=_=>n.value.copyright=_),class:"mb-6"},null,8,["modelValue"]),ae(Ma,{onCancel:I})],32)]),_:1},8,["alert"]))}},e2=Tn(ZP,[["__scopeId","data-v-80d5c8d1"]]),t2={class:"mb-6"},n2={class:"flex justify-end mb-4"},s2={key:0,class:"text-center py-8"},r2={key:1,class:"bg-gray-50 rounded-lg p-8 text-center"},i2={key:2,class:"bg-white shadow rounded-lg overflow-hidden"},o2={class:"divide-y divide-gray-200"},a2={class:"flex items-center justify-between"},l2={class:"text-lg font-medium text-gray-900"},u2={key:0,class:"text-sm text-gray-500 mt-1"},c2={__name:"ActivitiesList",setup(t){const e=le([]),n=le(!0),s=le({show:!1,message:"",type:"success"}),r=(o,a="success")=>{s.value={show:!0,message:o,type:a}},i=()=>{s.value.show=!1};return gt(async()=>{try{n.value=!0,e.value=await _c(),e.value.sort((o,a)=>o.title&&a.title?o.title.localeCompare(a.title):0)}catch(o){console.error("Erro ao carregar atividades:",o),r("Erro ao carregar lista de atividades!","error")}finally{n.value=!1}}),(o,a)=>{const u=vr("router-link");return F(),Je(ps,{title:"Gesto de Atividades",alert:s.value,onCloseAlert:i},{default:Fe(()=>[y("div",t2,[a[7]||(a[7]=y("p",{class:"text-sm text-gray-600 mb-4"}," Gerencie as atividades disponveis no sistema. Clique em uma atividade para edit-la ou adicione uma nova atividade. ",-1)),y("div",n2,[ae(u,{to:"/admin/atividades/novo",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center text-sm"},{default:Fe(()=>a[0]||(a[0]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),De(" Nova Atividade ")])),_:1})]),n.value?(F(),z("div",s2,a[1]||(a[1]=[y("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-600"},null,-1),y("p",{class:"mt-2 text-gray-500"},"Carregando atividades...",-1)]))):e.value.length===0?(F(),z("div",r2,[a[3]||(a[3]=y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})],-1)),a[4]||(a[4]=y("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Nenhuma atividade cadastrada",-1)),a[5]||(a[5]=y("p",{class:"text-gray-500 mb-4"},"Comece adicionando sua primeira atividade ao sistema.",-1)),ae(u,{to:"/admin/atividades/novo",class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},{default:Fe(()=>a[2]||(a[2]=[De(" Adicionar Nova Atividade ")])),_:1})])):(F(),z("div",i2,[y("ul",o2,[(F(!0),z(we,null,$e(e.value,c=>(F(),z("li",{key:c.id,class:"hover:bg-gray-50"},[ae(u,{to:`/admin/atividades/${c.id}`,class:"block p-4"},{default:Fe(()=>[y("div",a2,[y("div",null,[y("h3",l2,ue(c.title),1),c.location?(F(),z("p",u2,ue(c.description),1)):xe("",!0)]),a[6]||(a[6]=y("div",{class:"text-gray-400"},[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))])]),_:2},1032,["to"])]))),128))])]))])]),_:1},8,["alert"])}}},d2={class:"mb-4"},f2={class:"mb-4"},h2={class:"mb-4"},p2={class:"flex justify-between mb-2"},m2={class:"flex items-center"},g2=["onClick"],v2={class:"font-medium"},y2={class:"flex"},_2=["onClick","disabled"],w2=["onClick","disabled"],b2={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},E2={class:"col-span-2"},T2=["for"],S2=["id","onUpdate:modelValue"],I2={key:0,class:"mt-3"},A2=["src","alt"],x2={class:"mb-6"},C2={class:"flex justify-between mb-2"},P2={class:"flex items-center"},R2=["onClick"],k2={class:"font-medium"},V2={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},D2=["for"],M2=["id","onUpdate:modelValue"],O2=["for"],N2=["id","onUpdate:modelValue"],L2={class:"flex gap-3 mt-8"},$2={key:0,class:"fixed inset-0 flex items-center justify-center z-50"},F2={class:"bg-white rounded-lg p-6 max-w-md w-full z-10"},B2={class:"mb-4 text-gray-600"},j2={class:"flex justify-end gap-3"},U2={__name:"ActivityForm",setup(t){const e=Tr(),n=Da(),s=le(!1),r=nt(()=>n.params.id==="novo"),i=le({title:"",location:"",description:"",type:"",images:[],links:[]}),o=le({show:!1,message:"",type:"success"}),a=(_,v="success")=>{o.value={show:!0,message:_,type:v}},u=()=>{o.value.show=!1};gt(async()=>{if(!r.value)try{const _=n.params.id,v=await nI(_);v?(console.log("Dados da atividade carregados:",v),i.value={title:v.title||"",location:v.location||"",description:v.description||"",type:v.type||"",images:[],links:[]},v.images&&(Array.isArray(v.images)?i.value.images=v.images.map(S=>({url:typeof S=="object"?S.url||"":S,alt:typeof S=="object"&&S.alt||""})):typeof v.images=="string"&&(i.value.images=[{url:v.images,alt:""}])),v.links&&typeof v.links=="object"&&!Array.isArray(v.links)&&(i.value.links=Object.entries(v.links).map(([S,M])=>({title:S,url:M}))),console.log("Formulrio preenchido:",i.value)):(a("Atividade no encontrada!","error"),e.push("/admin/atividades"))}catch(_){console.error("Erro ao carregar dados da atividade:",_),a("Erro ao carregar dados da atividade!","error")}});const c=()=>{i.value.images.push({url:""})},d=_=>{i.value.images.splice(_,1)},f=(_,v)=>{const S=i.value.images;v==="up"&&_>0?[S[_],S[_-1]]=[S[_-1],S[_]]:v==="down"&&_<S.length-1&&([S[_],S[_+1]]=[S[_+1],S[_]])},p=()=>{i.value.links.push({title:"",url:""})},g=_=>{i.value.links.splice(_,1)},w=async()=>{try{if(!i.value.title.trim()){a("O nome da atividade  obrigatrio!","error");return}const _=r.value?i.value.title.toLowerCase().replace(/\s+/g,"-").normalize("NFD").replace(/[\u0300-\u036f]/g,""):n.params.id,v={...i.value};v.images=v.images.filter(M=>M.url.trim()!=="").map(M=>M.url),v.links=v.links.filter(M=>M.url.trim()!=="").reduce((M,$)=>{const x=$.title.trim()||"link";return M[x]=$.url,M},{}),console.log("Dados a serem salvos:",v),(await eI("santiago",_,v)).success?(a("Atividade salva com sucesso!","success"),r.value&&e.push(`/admin/atividades/${_}`)):a("Erro ao salvar atividade!","error")}catch(_){console.error("Erro ao salvar atividade:",_),a("Erro ao salvar atividade!","error")}},I=()=>{s.value=!0},C=async()=>{try{const _=n.params.id;(await lv("trips/santiago/activities",_)).success?(a("Atividade excluda com sucesso!","success"),e.push("/admin/atividades")):a("Erro ao excluir atividade!","error"),s.value=!1}catch(_){console.error("Erro ao excluir atividade:",_),a("Erro ao excluir atividade!","error"),s.value=!1}},V=()=>{e.push("/admin/atividades")};return(_,v)=>(F(),Je(ps,{title:r.value?"Nova Atividade":`Editar Atividade: ${i.value.title}`,alert:o.value,onCloseAlert:u},{default:Fe(()=>[y("form",{onSubmit:Ai(w,["prevent"])},[ae(Ht,{id:"title",label:"Nome da Atividade",modelValue:i.value.title,"onUpdate:modelValue":v[0]||(v[0]=S=>i.value.title=S),required:""},null,8,["modelValue"]),y("div",d2,[v[5]||(v[5]=y("label",{for:"location",class:"block text-sm font-medium text-gray-700 mb-1"},"Local (URL do Google Maps)",-1)),Xe(y("input",{type:"text",id:"location","onUpdate:modelValue":v[1]||(v[1]=S=>i.value.location=S),class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://maps.app.goo.gl/..."},null,512),[[ft,i.value.location]]),v[6]||(v[6]=y("p",{class:"text-xs text-gray-500 mt-1"},"Cole aqui a URL do Google Maps para o local da atividade",-1))]),y("div",f2,[v[7]||(v[7]=y("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-1"},"Descrio",-1)),Xe(y("textarea",{id:"description","onUpdate:modelValue":v[2]||(v[2]=S=>i.value.description=S),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Descreva esta atividade"},null,512),[[ft,i.value.description]])]),ae(Ht,{id:"type",label:"Tipo",modelValue:i.value.type,"onUpdate:modelValue":v[3]||(v[3]=S=>i.value.type=S),class:"mb-4"},null,8,["modelValue"]),y("div",h2,[v[12]||(v[12]=y("div",{class:"flex justify-between items-center mb-2"},[y("label",{class:"block text-sm font-medium text-gray-700"},"Imagens")],-1)),(F(!0),z(we,null,$e(i.value.images,(S,M)=>(F(),z("div",{key:M,class:"border border-gray-200 rounded-md p-4 mb-3"},[y("div",p2,[y("div",m2,[y("button",{type:"button",class:"text-red-600 hover:text-red-800 mr-3",onClick:$=>d(M)},v[8]||(v[8]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,g2),y("h3",v2,"Imagem #"+ue(M+1),1)]),y("div",y2,[y("button",{type:"button",class:en(["text-gray-600 hover:text-gray-800 mr-1",{"opacity-50 cursor-not-allowed":M===0}]),onClick:$=>f(M,"up"),disabled:M===0},v[9]||(v[9]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"})],-1)]),10,_2),y("button",{type:"button",class:en(["text-gray-600 hover:text-gray-800",{"opacity-50 cursor-not-allowed":M===i.value.images.length-1}]),onClick:$=>f(M,"down"),disabled:M===i.value.images.length-1},v[10]||(v[10]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]),10,w2)])]),y("div",b2,[y("div",E2,[y("label",{for:`imagem-url-${M}`,class:"block text-sm font-medium text-gray-700 mb-1"},"URL da Imagem",8,T2),Xe(y("input",{type:"text",id:`imagem-url-${M}`,"onUpdate:modelValue":$=>S.url=$,class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://exemplo.com/imagem.jpg"},null,8,S2),[[ft,S.url]])])]),S.url?(F(),z("div",I2,[y("img",{src:S.url,alt:S.name||"Imagem da atividade",class:"h-32 object-cover rounded-md"},null,8,A2)])):xe("",!0)]))),128)),y("button",{type:"button",class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm flex items-center justify-center",onClick:c},v[11]||(v[11]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),De(" Adicionar Imagem ")]))]),y("div",x2,[v[15]||(v[15]=y("div",{class:"flex justify-between items-center mb-2"},[y("label",{class:"block text-sm font-medium text-gray-700"},"Links Relacionados")],-1)),(F(!0),z(we,null,$e(i.value.links,(S,M)=>(F(),z("div",{key:M,class:"border border-gray-200 rounded-md p-4 mb-3"},[y("div",C2,[y("div",P2,[y("button",{type:"button",class:"text-red-600 hover:text-red-800 mr-3",onClick:$=>g(M)},v[13]||(v[13]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,R2),y("h3",k2,"Link #"+ue(M+1),1)])]),y("div",V2,[y("div",null,[y("label",{for:`link-titulo-${M}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Ttulo",8,D2),Xe(y("input",{type:"text",id:`link-titulo-${M}`,"onUpdate:modelValue":$=>S.title=$,class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: Site Oficial"},null,8,M2),[[ft,S.title]])]),y("div",null,[y("label",{for:`link-url-${M}`,class:"block text-sm font-medium text-gray-700 mb-1"},"URL",8,O2),Xe(y("input",{type:"text",id:`link-url-${M}`,"onUpdate:modelValue":$=>S.url=$,class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://exemplo.com"},null,8,N2),[[ft,S.url]])])])]))),128)),y("button",{type:"button",class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm flex items-center justify-center",onClick:p},v[14]||(v[14]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),De(" Adicionar Link ")]))]),y("div",L2,[r.value?xe("",!0):(F(),z("button",{key:0,type:"button",onClick:I,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700"}," Excluir ")),v[16]||(v[16]=y("div",{class:"flex-grow"},null,-1)),ae(Ma,{onCancel:V})])],32),s.value?(F(),z("div",$2,[v[18]||(v[18]=y("div",{class:"fixed inset-0 bg-black opacity-50"},null,-1)),y("div",F2,[v[17]||(v[17]=y("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Confirmar Excluso",-1)),y("p",B2,' Tem certeza de que deseja excluir a atividade "'+ue(i.value.title)+'"? Esta ao no pode ser desfeita. ',1),y("div",j2,[y("button",{onClick:v[4]||(v[4]=S=>s.value=!1),class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300"}," Cancelar "),y("button",{onClick:C,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700"}," Excluir ")])])])):xe("",!0)]),_:1},8,["title","alert"]))}},z2={class:"mb-6"},q2={class:"flex justify-end mb-4"},H2={key:0,class:"text-center py-8"},G2={key:1,class:"bg-gray-50 rounded-lg p-8 text-center"},K2={key:2,class:"bg-white shadow rounded-lg overflow-hidden"},W2={class:"divide-y divide-gray-200"},Q2={class:"flex items-center justify-between"},Y2={class:"text-lg font-medium text-gray-900"},X2={class:"text-sm text-gray-500 mt-1 flex items-center"},J2={class:"mr-3"},Z2={key:0,class:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded"},eR={__name:"ItineraryList",setup(t){const e=le([]),n=le(!0),s=le({show:!1,message:"",type:"success"}),r=(u,c="success")=>{s.value={show:!0,message:u,type:c}},i=()=>{s.value.show=!1},o=u=>{if(!u)return"";const c={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(u).toLocaleDateString("pt-BR",c)},a=u=>{if(!u)return 0;let c=0;return["morning","lunch","midDay","afternoon","evening","night"].forEach(f=>{u[f]&&Array.isArray(u[f])&&(c+=u[f].length)}),c};return gt(async()=>{try{n.value=!0;const u=await yc();e.value=u.filter(c=>c.id.startsWith("day")),e.value.sort((c,d)=>c.date&&d.date?new Date(c.date)-new Date(d.date):c.id.localeCompare(d.id))}catch(u){console.error("Erro ao carregar itinerrio:",u),r("Erro ao carregar lista de dias do itinerrio!","error")}finally{n.value=!1}}),(u,c)=>{const d=vr("router-link");return F(),Je(ps,{title:"Gesto de Itinerrio",alert:s.value,onCloseAlert:i},{default:Fe(()=>[y("div",z2,[c[7]||(c[7]=y("p",{class:"text-sm text-gray-600 mb-4"}," Gerencie os dias do roteiro de viagem. Clique em um dia para edit-lo ou adicione um novo dia. ",-1)),y("div",q2,[ae(d,{to:"/admin/itinerario/novo",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center text-sm"},{default:Fe(()=>c[0]||(c[0]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),De(" Novo Dia ")])),_:1})]),n.value?(F(),z("div",H2,c[1]||(c[1]=[y("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-600"},null,-1),y("p",{class:"mt-2 text-gray-500"},"Carregando itinerrio...",-1)]))):e.value.length===0?(F(),z("div",G2,[c[3]||(c[3]=y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),c[4]||(c[4]=y("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Nenhum dia no itinerrio",-1)),c[5]||(c[5]=y("p",{class:"text-gray-500 mb-4"},"Comece adicionando o primeiro dia ao roteiro da viagem.",-1)),ae(d,{to:"/admin/itinerario/novo",class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},{default:Fe(()=>c[2]||(c[2]=[De(" Adicionar Primeiro Dia ")])),_:1})])):(F(),z("div",K2,[y("ul",W2,[(F(!0),z(we,null,$e(e.value,f=>(F(),z("li",{key:f.id,class:"hover:bg-gray-50"},[ae(d,{to:`/admin/itinerario/${f.id}`,class:"block p-4"},{default:Fe(()=>[y("div",Q2,[y("div",null,[y("h3",Y2,ue(f.title),1),y("p",X2,[y("span",J2,ue(o(f.date)),1),f.schedule?(F(),z("span",Z2,ue(a(f.schedule))+" atividades ",1)):xe("",!0)])]),c[6]||(c[6]=y("div",{class:"text-gray-400"},[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))])]),_:2},1032,["to"])]))),128))])]))])]),_:1},8,["alert"])}}},tR={class:"mb-4"},nR={class:"mb-4"},sR={class:"mt-8 mb-4"},rR={class:"mb-6"},iR={class:"bg-gray-50 p-3 rounded-md"},oR={class:"flex-grow"},aR=["onUpdate:modelValue"],lR=["value"],uR=["onClick"],cR={class:"mb-6"},dR={class:"bg-gray-50 p-3 rounded-md"},fR={class:"flex-grow"},hR=["onUpdate:modelValue"],pR=["value"],mR=["onClick"],gR={class:"mb-6"},vR={class:"bg-gray-50 p-3 rounded-md"},yR={class:"flex-grow"},_R=["onUpdate:modelValue"],wR=["value"],bR=["onClick"],ER={class:"mb-6"},TR={class:"bg-gray-50 p-3 rounded-md"},SR={class:"flex-grow"},IR=["onUpdate:modelValue"],AR=["value"],xR=["onClick"],CR={class:"mb-6 mt-8"},PR=["onUpdate:modelValue"],RR=["onClick"],kR={class:"flex gap-3 mt-8"},VR={key:0,class:"fixed inset-0 flex items-center justify-center z-50"},DR={class:"bg-white rounded-lg p-6 max-w-md w-full z-10"},MR={class:"mb-4 text-gray-600"},OR={class:"flex justify-end gap-3"},NR={__name:"ItineraryDayForm",setup(t){const e=Tr(),n=Da(),s=le(!1),r=le([]),i=nt(()=>n.params.id==="novo"),o=le({title:"",date:new Date().toISOString().split("T")[0],description:"",transport:"",schedule:{morning:[],lunch:[],afternoon:[],night:[]},tips:[]}),a=le({show:!1,message:"",type:"success"}),u=(_,v="success")=>{a.value={show:!0,message:_,type:v}},c=()=>{a.value.show=!1};gt(async()=>{var _,v,S,M,$,x;try{if(r.value=await _c(),!i.value){const E=n.params.id,b=await sI(E);b?o.value={title:b.title||"",date:b.date?new Date(b.date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],description:b.description||"",transport:b.transport||"",schedule:{morning:Array.isArray((_=b.schedule)==null?void 0:_.morning)?[...b.schedule.morning]:[],lunch:Array.isArray((v=b.schedule)==null?void 0:v.lunch)?[...b.schedule.lunch]:Array.isArray((S=b.schedule)==null?void 0:S.midDay)?[...b.schedule.midDay]:[],afternoon:Array.isArray((M=b.schedule)==null?void 0:M.afternoon)?[...b.schedule.afternoon]:[],night:Array.isArray(($=b.schedule)==null?void 0:$.night)?[...b.schedule.night]:Array.isArray((x=b.schedule)==null?void 0:x.evening)?[...b.schedule.evening]:[]},tips:Array.isArray(b.tips)?[...b.tips]:[]}:(u("Dia no encontrado!","error"),e.push("/admin/itinerario"))}}catch(E){console.error("Erro ao carregar dados:",E),u("Erro ao carregar dados!","error")}});const d=_=>{o.value.schedule[_].push("")},f=(_,v)=>{o.value.schedule[_].splice(v,1)},p=()=>{o.value.tips.push("")},g=_=>{o.value.tips.splice(_,1)},w=async()=>{try{if(!o.value.title.trim()){u("O ttulo do dia  obrigatrio!","error");return}if(!o.value.date){u("A data  obrigatria!","error");return}let _=i.value?null:n.params.id;if(i.value){const $=(await yc()).filter(E=>E.id.startsWith("day-")).map(E=>{const b=E.id.match(/day-(\d+)/);return b?parseInt(b[1]):0});_=`day-${$.length>0?Math.max(...$)+1:1}`}const v={title:o.value.title.trim(),date:o.value.date,description:o.value.description.trim(),transport:o.value.transport.trim(),schedule:{morning:o.value.schedule.morning.filter(M=>M.trim()!==""),lunch:o.value.schedule.lunch.filter(M=>M.trim()!==""),afternoon:o.value.schedule.afternoon.filter(M=>M.trim()!==""),night:o.value.schedule.night.filter(M=>M.trim()!=="")},tips:o.value.tips.filter(M=>M.trim()!=="")};if(_){const M=_.match(/day-(\d+)/);M&&(v.dayNumber=parseInt(M[1]))}(await tI("santiago",_,v)).success?(u("Dia salvo com sucesso!","success"),i.value&&e.push(`/admin/itinerario/${_}`)):u("Erro ao salvar dia!","error")}catch(_){console.error("Erro ao salvar dia:",_),u("Erro ao salvar dia!","error")}},I=()=>{s.value=!0},C=async()=>{try{const _=n.params.id;(await lv("trips/santiago/itinerary",_)).success?(u("Dia excludo com sucesso!","success"),e.push("/admin/itinerario")):u("Erro ao excluir dia!","error"),s.value=!1}catch(_){console.error("Erro ao excluir dia:",_),u("Erro ao excluir dia!","error"),s.value=!1}},V=()=>{e.push("/admin/itinerario")};return(_,v)=>(F(),Je(ps,{title:i.value?"Novo Dia":`Editar Dia: ${o.value.title}`,alert:a.value,onCloseAlert:c},{default:Fe(()=>[y("form",{onSubmit:Ai(w,["prevent"])},[ae(Ht,{id:"title",label:"Ttulo",modelValue:o.value.title,"onUpdate:modelValue":v[0]||(v[0]=S=>o.value.title=S),required:""},null,8,["modelValue"]),y("div",tR,[v[9]||(v[9]=y("label",{for:"date",class:"block text-sm font-medium text-gray-700 mb-1"},"Data",-1)),Xe(y("input",{type:"date",id:"date","onUpdate:modelValue":v[1]||(v[1]=S=>o.value.date=S),class:"w-full px-3 py-2 border border-gray-300 rounded-md",required:""},null,512),[[ft,o.value.date]])]),y("div",nR,[v[10]||(v[10]=y("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-1"},"Descrio",-1)),Xe(y("textarea",{id:"description","onUpdate:modelValue":v[2]||(v[2]=S=>o.value.description=S),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Descreva o dia brevemente"},null,512),[[ft,o.value.description]])]),ae(Ht,{id:"transport",label:"Transporte",modelValue:o.value.transport,"onUpdate:modelValue":v[3]||(v[3]=S=>o.value.transport=S),placeholder:"Ex: Carro alugado, Transporte pblico, etc."},null,8,["modelValue"]),y("div",sR,[v[27]||(v[27]=y("h3",{class:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200"},"Programao do Dia",-1)),y("div",rR,[v[14]||(v[14]=y("h4",{class:"font-medium text-gray-800 mb-2 flex items-center"},[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1 text-yellow-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})]),De(" Manh ")],-1)),y("div",iR,[(F(!0),z(we,null,$e(o.value.schedule.morning,(S,M)=>(F(),z("div",{key:`morning-${M}`,class:"flex items-center mb-2 p-2 bg-white rounded border border-gray-200"},[y("div",oR,[Xe(y("select",{"onUpdate:modelValue":$=>o.value.schedule.morning[M]=$,class:"w-full p-2 border-0 focus:ring-0"},[v[11]||(v[11]=y("option",{value:""},"Selecione uma atividade",-1)),(F(!0),z(we,null,$e(r.value,$=>(F(),z("option",{key:$.id,value:$.id},ue($.title),9,lR))),128))],8,aR),[[Zi,o.value.schedule.morning[M]]])]),y("button",{type:"button",onClick:$=>f("morning",M),class:"ml-2 text-red-600 hover:text-red-800"},v[12]||(v[12]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,uR)]))),128)),y("button",{type:"button",onClick:v[4]||(v[4]=S=>d("morning")),class:"w-full mt-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 text-sm flex items-center justify-center"},v[13]||(v[13]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),De(" Adicionar Atividade ")]))])]),y("div",cR,[v[18]||(v[18]=y("h4",{class:"font-medium text-gray-800 mb-2 flex items-center"},[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),De(" Almoo ")],-1)),y("div",dR,[(F(!0),z(we,null,$e(o.value.schedule.lunch,(S,M)=>(F(),z("div",{key:`lunch-${M}`,class:"flex items-center mb-2 p-2 bg-white rounded border border-gray-200"},[y("div",fR,[Xe(y("select",{"onUpdate:modelValue":$=>o.value.schedule.lunch[M]=$,class:"w-full p-2 border-0 focus:ring-0"},[v[15]||(v[15]=y("option",{value:""},"Selecione uma atividade",-1)),(F(!0),z(we,null,$e(r.value,$=>(F(),z("option",{key:$.id,value:$.id},ue($.title),9,pR))),128))],8,hR),[[Zi,o.value.schedule.lunch[M]]])]),y("button",{type:"button",onClick:$=>f("lunch",M),class:"ml-2 text-red-600 hover:text-red-800"},v[16]||(v[16]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,mR)]))),128)),y("button",{type:"button",onClick:v[5]||(v[5]=S=>d("lunch")),class:"w-full mt-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 text-sm flex items-center justify-center"},v[17]||(v[17]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),De(" Adicionar Atividade ")]))])]),y("div",gR,[v[22]||(v[22]=y("h4",{class:"font-medium text-gray-800 mb-2 flex items-center"},[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"}),y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z"})]),De(" Tarde ")],-1)),y("div",vR,[(F(!0),z(we,null,$e(o.value.schedule.afternoon,(S,M)=>(F(),z("div",{key:`afternoon-${M}`,class:"flex items-center mb-2 p-2 bg-white rounded border border-gray-200"},[y("div",yR,[Xe(y("select",{"onUpdate:modelValue":$=>o.value.schedule.afternoon[M]=$,class:"w-full p-2 border-0 focus:ring-0"},[v[19]||(v[19]=y("option",{value:""},"Selecione uma atividade",-1)),(F(!0),z(we,null,$e(r.value,$=>(F(),z("option",{key:$.id,value:$.id},ue($.title),9,wR))),128))],8,_R),[[Zi,o.value.schedule.afternoon[M]]])]),y("button",{type:"button",onClick:$=>f("afternoon",M),class:"ml-2 text-red-600 hover:text-red-800"},v[20]||(v[20]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,bR)]))),128)),y("button",{type:"button",onClick:v[6]||(v[6]=S=>d("afternoon")),class:"w-full mt-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 text-sm flex items-center justify-center"},v[21]||(v[21]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),De(" Adicionar Atividade ")]))])]),y("div",ER,[v[26]||(v[26]=y("h4",{class:"font-medium text-gray-800 mb-2 flex items-center"},[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})]),De(" Noite ")],-1)),y("div",TR,[(F(!0),z(we,null,$e(o.value.schedule.night,(S,M)=>(F(),z("div",{key:`night-${M}`,class:"flex items-center mb-2 p-2 bg-white rounded border border-gray-200"},[y("div",SR,[Xe(y("select",{"onUpdate:modelValue":$=>o.value.schedule.night[M]=$,class:"w-full p-2 border-0 focus:ring-0"},[v[23]||(v[23]=y("option",{value:""},"Selecione uma atividade",-1)),(F(!0),z(we,null,$e(r.value,$=>(F(),z("option",{key:$.id,value:$.id},ue($.title),9,AR))),128))],8,IR),[[Zi,o.value.schedule.night[M]]])]),y("button",{type:"button",onClick:$=>f("night",M),class:"ml-2 text-red-600 hover:text-red-800"},v[24]||(v[24]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,xR)]))),128)),y("button",{type:"button",onClick:v[7]||(v[7]=S=>d("night")),class:"w-full mt-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 text-sm flex items-center justify-center"},v[25]||(v[25]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),De(" Adicionar Atividade ")]))])])]),y("div",CR,[v[30]||(v[30]=y("h3",{class:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200"},"Dicas do Dia",-1)),(F(!0),z(we,null,$e(o.value.tips,(S,M)=>(F(),z("div",{key:`tip-${M}`,class:"flex items-start mb-2"},[Xe(y("textarea",{"onUpdate:modelValue":$=>o.value.tips[M]=$,rows:"6",class:"flex-grow p-2 border border-gray-300 rounded-md",placeholder:"Dica ou recomendao para este dia"},null,8,PR),[[ft,o.value.tips[M]]]),y("button",{type:"button",onClick:$=>g(M),class:"ml-2 mt-1 text-red-600 hover:text-red-800"},v[28]||(v[28]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,RR)]))),128)),y("button",{type:"button",onClick:p,class:"w-full mt-3 px-3 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 text-sm flex items-center justify-center"},v[29]||(v[29]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),De(" Adicionar Dica ")]))]),y("div",kR,[i.value?xe("",!0):(F(),z("button",{key:0,type:"button",onClick:I,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700"}," Excluir ")),v[31]||(v[31]=y("div",{class:"flex-grow"},null,-1)),ae(Ma,{onCancel:V})])],32),s.value?(F(),z("div",VR,[v[33]||(v[33]=y("div",{class:"fixed inset-0 bg-black opacity-50"},null,-1)),y("div",DR,[v[32]||(v[32]=y("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Confirmar Excluso",-1)),y("p",MR,' Tem certeza de que deseja excluir o dia "'+ue(o.value.title)+'"? Esta ao no pode ser desfeita. ',1),y("div",OR,[y("button",{onClick:v[8]||(v[8]=S=>s.value=!1),class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300"}," Cancelar "),y("button",{onClick:C,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700"}," Excluir ")])])])):xe("",!0)]),_:1},8,["title","alert"]))}},LR={class:"mb-6"},$R={key:0,class:"text-center py-8"},FR={key:1,class:"bg-white shadow rounded-lg overflow-hidden"},BR={class:"divide-y divide-gray-200"},jR={class:"flex items-center justify-between"},UR={class:"text-lg font-medium text-gray-900"},zR={class:"text-sm text-gray-500 mt-1 flex items-center"},qR={class:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded"},HR={class:"hover:bg-gray-50 bg-gray-50"},GR={class:"flex items-center justify-between"},KR={class:"text-sm text-gray-500 mt-1 flex items-center"},WR={class:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded"},QR={__name:"TipsForm",setup(t){const e=le({observations:"",categories:[]}),n=le(!0),s=le({show:!1,message:"",type:"success"}),r=(o,a="success")=>{s.value={show:!0,message:o,type:a}},i=()=>{s.value.show=!1};return gt(async()=>{try{n.value=!0;const o=await wc("santiago");o&&(console.clear(),console.log("data"),console.log(JSON.stringify(o)),e.value={observations:o.observations||"",categories:Array.isArray(o.categories)?o.categories:[]})}catch(o){console.error("Erro ao carregar dados:",o),r("Erro ao carregar dados!","error")}finally{n.value=!1}}),(o,a)=>{const u=vr("router-link");return F(),Je(ps,{title:"Gesto de Dicas e Observaes",alert:s.value,onCloseAlert:i},{default:Fe(()=>[y("div",LR,[a[4]||(a[4]=y("p",{class:"text-sm text-gray-600 mb-4"}," Gerencie as dicas e observaes disponveis no sistema. Selecione uma categoria para editar suas dicas. ",-1)),n.value?(F(),z("div",$R,a[0]||(a[0]=[y("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-600"},null,-1),y("p",{class:"mt-2 text-gray-500"},"Carregando dicas...",-1)]))):(F(),z("div",FR,[y("ul",BR,[(F(!0),z(we,null,$e(e.value.categories,c=>(F(),z("li",{key:c.id,class:"hover:bg-gray-50"},[ae(u,{to:`/admin/dicas/${c.id}`,class:"block p-4"},{default:Fe(()=>[y("div",jR,[y("div",null,[y("h3",UR,ue(c.title),1),y("p",zR,[y("span",qR,ue(c.items?c.items.length:0)+" dicas ",1)])]),a[1]||(a[1]=y("div",{class:"text-gray-400"},[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))])]),_:2},1032,["to"])]))),128)),y("li",HR,[ae(u,{to:"/admin/dicas/observations",class:"block p-4"},{default:Fe(()=>[y("div",GR,[y("div",null,[a[2]||(a[2]=y("h3",{class:"text-lg font-medium text-gray-900"},"Observaes Gerais",-1)),y("p",KR,[y("span",WR,ue(e.value.observations?"Disponvel":"No definido"),1)])]),a[3]||(a[3]=y("div",{class:"text-gray-400"},[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))])]),_:1})])])]))])]),_:1},8,["alert"])}}},YR={class:"mb-6"},XR={class:"text-sm text-gray-600 mb-4"},JR={key:0,class:"text-center py-8"},ZR={key:1,class:"mt-4"},ek={key:2},tk={class:"mb-3"},nk=["for"],sk=["id","onUpdate:modelValue"],rk={class:"mb-3"},ik=["for"],ok=["id","onUpdate:modelValue"],ak={class:"mb-3"},lk=["for"],uk=["id","onUpdate:modelValue"],ck={class:"flex justify-end"},dk=["onClick"],fk={__name:"TipDetailForm",setup(t){const e=Tr(),n=Da(),s=nt(()=>n.params.category),r=le([]),i=le(""),o=le({observations:"",categories:[]}),a=le(null),u=le(!0),c=le({show:!1,message:"",type:"success"}),d={observations:"Observaes gerais e importantes sobre a viagem."},f=()=>s.value==="observations",p=()=>{var S;return f()?"Editar Observaes Gerais":`Editar ${((S=a.value)==null?void 0:S.title)||"Categoria"}`},g=()=>f()?d.observations:"Edite os itens desta categoria. Cada item deve ter um ttulo, descrio e cone.",w=(S,M="success")=>{c.value={show:!0,message:S,type:M}},I=()=>{c.value.show=!1},C=()=>{r.value.push({title:"",description:"",icon:"fas fa-info-circle"})},V=S=>{r.value.splice(S,1)};gt(async()=>{var S;try{u.value=!0;const M=await wc("santiago");if(M)if(o.value=M,f())i.value=M.observations||"";else{const $=(S=M.categories)==null?void 0:S.find(x=>x.id===s.value);$?(a.value={id:$.id,title:$.title},r.value=Array.isArray($.items)?JSON.parse(JSON.stringify($.items)):[]):w("Categoria no encontrada!","error")}}catch(M){console.error("Erro ao carregar dados:",M),w("Erro ao carregar dados!","error")}finally{u.value=!1}});const _=async()=>{try{const S=JSON.parse(JSON.stringify(o.value));if(f())S.observations=i.value;else{const $=S.categories.findIndex(x=>x.id===s.value);if($!==-1){const x=r.value.filter(E=>E.title.trim()!==""||E.description.trim()!=="");S.categories[$].items=x}else{w("Categoria no encontrada para atualizao!","error");return}}(await ZS("santiago",S)).success?(w("Dados salvos com sucesso!","success"),setTimeout(()=>{v()},1500)):w("Erro ao salvar dados!","error")}catch(S){console.error("Erro ao salvar dados:",S),w("Erro ao salvar dados!","error")}},v=()=>{e.push("/admin/dicas")};return(S,M)=>(F(),Je(ps,{title:p(),alert:c.value,onCloseAlert:I},{default:Fe(()=>[y("form",{onSubmit:Ai(_,["prevent"])},[y("div",YR,[y("p",XR,ue(g()),1),u.value?(F(),z("div",JR,M[1]||(M[1]=[y("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-600"},null,-1),y("p",{class:"mt-2 text-gray-500"},"Carregando dados...",-1)]))):f()?(F(),z("div",ZR,[Xe(y("textarea",{"onUpdate:modelValue":M[0]||(M[0]=$=>i.value=$),rows:"8",class:"w-full p-3 border border-gray-300 rounded-md",placeholder:"Digite aqui as observaes gerais sobre a viagem"},null,512),[[ft,i.value]])])):(F(),z("div",ek,[(F(!0),z(we,null,$e(r.value,($,x)=>(F(),z("div",{key:`item-${x}`,class:"mb-6 p-4 border border-gray-200 rounded-md bg-gray-50"},[y("div",tk,[y("label",{for:`item-title-${x}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Ttulo",8,nk),Xe(y("input",{id:`item-title-${x}`,"onUpdate:modelValue":E=>r.value[x].title=E,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ttulo da dica"},null,8,sk),[[ft,r.value[x].title]])]),y("div",rk,[y("label",{for:`item-description-${x}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Descrio",8,ik),Xe(y("textarea",{id:`item-description-${x}`,"onUpdate:modelValue":E=>r.value[x].description=E,rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Descrio detalhada da dica"},null,8,ok),[[ft,r.value[x].description]])]),y("div",ak,[y("label",{for:`item-icon-${x}`,class:"block text-sm font-medium text-gray-700 mb-1"},"cone (FontAwesome)",8,lk),Xe(y("input",{id:`item-icon-${x}`,"onUpdate:modelValue":E=>r.value[x].icon=E,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: fas fa-thermometer-half"},null,8,uk),[[ft,r.value[x].icon]])]),y("div",ck,[y("button",{type:"button",onClick:E=>V(x),class:"px-3 py-1 bg-red-100 text-red-700 rounded-md hover:bg-red-200 text-sm flex items-center"},M[2]||(M[2]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),De(" Remover Item ")]),8,dk)])]))),128)),y("button",{type:"button",onClick:C,class:"w-full mt-3 px-3 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 text-sm flex items-center justify-center"},M[3]||(M[3]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),De(" Adicionar Novo Item ")]))]))]),y("div",{class:"flex justify-end gap-3 mt-8"},[y("button",{type:"button",onClick:v,class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300"}," Cancelar "),M[4]||(M[4]=y("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," Salvar ",-1))])],32)]),_:1},8,["title","alert"]))}},hk={class:"admin-layout p-6 max-w-7xl mx-auto"},pk={key:1,class:"text-red-500"},mk={__name:"AdminLayout",setup(t){return gt(()=>{console.log("AdminLayout component mounted")}),(e,n)=>{const s=vr("router-view");return F(),z("div",hk,[ae(s,null,{default:Fe(({Component:r})=>[r?(F(),Je(u_(r),{key:0})):(F(),z("p",pk," Nenhum componente carregado para esta rota. Verifique o console para erros. "))]),_:1})])}}},gk=[{path:"/",name:"home"},{path:"/admin",component:mk,children:[{path:"header",name:"admin-header",component:SP,meta:{requiresAuth:!0}},{path:"footer",name:"admin-footer",component:e2,meta:{requiresAuth:!0}},{path:"atividades",name:"admin-atividades",component:c2,meta:{requiresAuth:!0}},{path:"atividades/:id",name:"admin-atividades-detalhes",component:U2,meta:{requiresAuth:!0}},{path:"itinerario",name:"admin-itinerario",component:eR,meta:{requiresAuth:!0}},{path:"itinerario/:id",name:"admin-itinerario-detalhes",component:NR,meta:{requiresAuth:!0}},{path:"dicas",name:"admin-dicas",component:QR,meta:{requiresAuth:!0}},{path:"dicas/:category",name:"admin-dicas-categoria",component:fk,meta:{requiresAuth:!0}}]}],Oa=eP({history:PC("/santiago/"),routes:gk});Oa.beforeEach((t,e,n)=>{console.log(`Navegando para: ${t.fullPath}`),t.matched.some(s=>s.meta.requiresAuth),n()});Oa.afterEach(t=>{console.log(`Navegao concluda: ${t.fullPath}`)});console.log("Starting Vue application");console.log("Routes registered:",Oa.getRoutes());const xc=S0(iP);xc.config.errorHandler=(t,e,n)=>{console.error("Vue error:",t),console.error("Component:",e),console.error("Info:",n)};xc.use(Oa);xc.mount("#app");console.log("Vue app mounted");
