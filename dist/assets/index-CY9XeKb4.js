(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function hu(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Fe={},Ys=[],pn=()=>{},ly=()=>!1,Qo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),pu=t=>t.startsWith("onUpdate:"),Ct=Object.assign,mu=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},uy=Object.prototype.hasOwnProperty,Oe=(t,e)=>uy.call(t,e),ge=Array.isArray,Xs=t=>Ei(t)==="[object Map]",Yo=t=>Ei(t)==="[object Set]",yd=t=>Ei(t)==="[object Date]",we=t=>typeof t=="function",et=t=>typeof t=="string",on=t=>typeof t=="symbol",je=t=>t!==null&&typeof t=="object",Mh=t=>(je(t)||we(t))&&we(t.then)&&we(t.catch),Oh=Object.prototype.toString,Ei=t=>Oh.call(t),cy=t=>Ei(t).slice(8,-1),Nh=t=>Ei(t)==="[object Object]",gu=t=>et(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Kr=hu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Xo=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},dy=/-(\w)/g,en=Xo(t=>t.replace(dy,(e,n)=>n?n.toUpperCase():"")),fy=/\B([A-Z])/g,Ds=Xo(t=>t.replace(fy,"-$1").toLowerCase()),Jo=Xo(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ya=Xo(t=>t?`on${Jo(t)}`:""),Yn=(t,e)=>!Object.is(t,e),oo=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Lh=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},yo=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let _d;const Zo=()=>_d||(_d=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ea(t){if(ge(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=et(s)?gy(s):ea(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(et(t)||je(t))return t}const hy=/;(?![^(]*\))/g,py=/:([^]+)/,my=/\/\*[^]*?\*\//g;function gy(t){const e={};return t.replace(my,"").split(hy).forEach(n=>{if(n){const s=n.split(py);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Qt(t){let e="";if(et(t))e=t;else if(ge(t))for(let n=0;n<t.length;n++){const s=Qt(t[n]);s&&(e+=s+" ")}else if(je(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const vy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yy=hu(vy);function $h(t){return!!t||t===""}function _y(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=ta(t[s],e[s]);return n}function ta(t,e){if(t===e)return!0;let n=yd(t),s=yd(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=on(t),s=on(e),n||s)return t===e;if(n=ge(t),s=ge(e),n||s)return n&&s?_y(t,e):!1;if(n=je(t),s=je(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),u=e.hasOwnProperty(o);if(a&&!u||!a&&u||!ta(t[o],e[o]))return!1}}return String(t)===String(e)}function wy(t,e){return t.findIndex(n=>ta(n,e))}const Fh=t=>!!(t&&t.__v_isRef===!0),ye=t=>et(t)?t:t==null?"":ge(t)||je(t)&&(t.toString===Oh||!we(t.toString))?Fh(t)?ye(t.value):JSON.stringify(t,Bh,2):String(t),Bh=(t,e)=>Fh(e)?Bh(t,e.value):Xs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[Xa(s,i)+" =>"]=r,n),{})}:Yo(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Xa(n))}:on(e)?Xa(e):je(e)&&!ge(e)&&!Nh(e)?String(e):e,Xa=(t,e="")=>{var n;return on(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zt;class by{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=zt,!e&&zt&&(this.index=(zt.scopes||(zt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=zt;try{return zt=this,e()}finally{zt=n}}}on(){zt=this}off(){zt=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Ey(){return zt}let Be;const Ja=new WeakSet;class jh{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,zt&&zt.active&&zt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ja.has(this)&&(Ja.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||zh(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,wd(this),qh(this);const e=Be,n=nn;Be=this,nn=!0;try{return this.fn()}finally{Hh(this),Be=e,nn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)_u(e);this.deps=this.depsTail=void 0,wd(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ja.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){xl(this)&&this.run()}get dirty(){return xl(this)}}let Uh=0,Qr,Yr;function zh(t,e=!1){if(t.flags|=8,e){t.next=Yr,Yr=t;return}t.next=Qr,Qr=t}function vu(){Uh++}function yu(){if(--Uh>0)return;if(Yr){let e=Yr;for(Yr=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Qr;){let e=Qr;for(Qr=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function qh(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Hh(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),_u(s),Ty(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function xl(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Gh(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Gh(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===oi))return;t.globalVersion=oi;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!xl(t)){t.flags&=-3;return}const n=Be,s=nn;Be=t,nn=!0;try{qh(t);const r=t.fn(t._value);(e.version===0||Yn(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Be=n,nn=s,Hh(t),t.flags&=-3}}function _u(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)_u(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ty(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let nn=!0;const Wh=[];function us(){Wh.push(nn),nn=!1}function cs(){const t=Wh.pop();nn=t===void 0?!0:t}function wd(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Be;Be=void 0;try{e()}finally{Be=n}}}let oi=0;class Iy{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class wu{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Be||!nn||Be===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Be)n=this.activeLink=new Iy(Be,this),Be.deps?(n.prevDep=Be.depsTail,Be.depsTail.nextDep=n,Be.depsTail=n):Be.deps=Be.depsTail=n,Kh(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Be.depsTail,n.nextDep=void 0,Be.depsTail.nextDep=n,Be.depsTail=n,Be.deps===n&&(Be.deps=s)}return n}trigger(e){this.version++,oi++,this.notify(e)}notify(e){vu();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{yu()}}}function Kh(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Kh(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Cl=new WeakMap,As=Symbol(""),Pl=Symbol(""),ai=Symbol("");function Tt(t,e,n){if(nn&&Be){let s=Cl.get(t);s||Cl.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new wu),r.map=s,r.key=n),r.track()}}function Rn(t,e,n,s,r,i){const o=Cl.get(t);if(!o){oi++;return}const a=u=>{u&&u.trigger()};if(vu(),e==="clear")o.forEach(a);else{const u=ge(t),c=u&&gu(n);if(u&&n==="length"){const d=Number(s);o.forEach((f,p)=>{(p==="length"||p===ai||!on(p)&&p>=d)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(ai)),e){case"add":u?c&&a(o.get("length")):(a(o.get(As)),Xs(t)&&a(o.get(Pl)));break;case"delete":u||(a(o.get(As)),Xs(t)&&a(o.get(Pl)));break;case"set":Xs(t)&&a(o.get(As));break}}yu()}function zs(t){const e=Me(t);return e===t?e:(Tt(e,"iterate",ai),Jt(t)?e:e.map(It))}function na(t){return Tt(t=Me(t),"iterate",ai),t}const Sy={__proto__:null,[Symbol.iterator](){return Za(this,Symbol.iterator,It)},concat(...t){return zs(this).concat(...t.map(e=>ge(e)?zs(e):e))},entries(){return Za(this,"entries",t=>(t[1]=It(t[1]),t))},every(t,e){return An(this,"every",t,e,void 0,arguments)},filter(t,e){return An(this,"filter",t,e,n=>n.map(It),arguments)},find(t,e){return An(this,"find",t,e,It,arguments)},findIndex(t,e){return An(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return An(this,"findLast",t,e,It,arguments)},findLastIndex(t,e){return An(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return An(this,"forEach",t,e,void 0,arguments)},includes(...t){return el(this,"includes",t)},indexOf(...t){return el(this,"indexOf",t)},join(t){return zs(this).join(t)},lastIndexOf(...t){return el(this,"lastIndexOf",t)},map(t,e){return An(this,"map",t,e,void 0,arguments)},pop(){return Lr(this,"pop")},push(...t){return Lr(this,"push",t)},reduce(t,...e){return bd(this,"reduce",t,e)},reduceRight(t,...e){return bd(this,"reduceRight",t,e)},shift(){return Lr(this,"shift")},some(t,e){return An(this,"some",t,e,void 0,arguments)},splice(...t){return Lr(this,"splice",t)},toReversed(){return zs(this).toReversed()},toSorted(t){return zs(this).toSorted(t)},toSpliced(...t){return zs(this).toSpliced(...t)},unshift(...t){return Lr(this,"unshift",t)},values(){return Za(this,"values",It)}};function Za(t,e,n){const s=na(t),r=s[e]();return s!==t&&!Jt(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const Ay=Array.prototype;function An(t,e,n,s,r,i){const o=na(t),a=o!==t&&!Jt(t),u=o[e];if(u!==Ay[e]){const f=u.apply(t,i);return a?It(f):f}let c=n;o!==t&&(a?c=function(f,p){return n.call(this,It(f),p,t)}:n.length>2&&(c=function(f,p){return n.call(this,f,p,t)}));const d=u.call(o,c,s);return a&&r?r(d):d}function bd(t,e,n,s){const r=na(t);let i=n;return r!==t&&(Jt(t)?n.length>3&&(i=function(o,a,u){return n.call(this,o,a,u,t)}):i=function(o,a,u){return n.call(this,o,It(a),u,t)}),r[e](i,...s)}function el(t,e,n){const s=Me(t);Tt(s,"iterate",ai);const r=s[e](...n);return(r===-1||r===!1)&&Tu(n[0])?(n[0]=Me(n[0]),s[e](...n)):r}function Lr(t,e,n=[]){us(),vu();const s=Me(t)[e].apply(t,n);return yu(),cs(),s}const xy=hu("__proto__,__v_isRef,__isVue"),Qh=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(on));function Cy(t){on(t)||(t=String(t));const e=Me(this);return Tt(e,"has",t),e.hasOwnProperty(t)}class Yh{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?$y:ep:i?Zh:Jh).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=ge(e);if(!r){let u;if(o&&(u=Sy[n]))return u;if(n==="hasOwnProperty")return Cy}const a=Reflect.get(e,n,xt(e)?e:s);return(on(n)?Qh.has(n):xy(n))||(r||Tt(e,"get",n),i)?a:xt(a)?o&&gu(n)?a:a.value:je(a)?r?np(a):Ti(a):a}}class Xh extends Yh{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const u=xs(i);if(!Jt(s)&&!xs(s)&&(i=Me(i),s=Me(s)),!ge(e)&&xt(i)&&!xt(s))return u?!1:(i.value=s,!0)}const o=ge(e)&&gu(n)?Number(n)<e.length:Oe(e,n),a=Reflect.set(e,n,s,xt(e)?e:r);return e===Me(r)&&(o?Yn(s,i)&&Rn(e,"set",n,s):Rn(e,"add",n,s)),a}deleteProperty(e,n){const s=Oe(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&Rn(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!on(n)||!Qh.has(n))&&Tt(e,"has",n),s}ownKeys(e){return Tt(e,"iterate",ge(e)?"length":As),Reflect.ownKeys(e)}}class Py extends Yh{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Ry=new Xh,ky=new Py,Vy=new Xh(!0);const Rl=t=>t,Yi=t=>Reflect.getPrototypeOf(t);function Dy(t,e,n){return function(...s){const r=this.__v_raw,i=Me(r),o=Xs(i),a=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,c=r[t](...s),d=n?Rl:e?kl:It;return!e&&Tt(i,"iterate",u?Pl:As),{next(){const{value:f,done:p}=c.next();return p?{value:f,done:p}:{value:a?[d(f[0]),d(f[1])]:d(f),done:p}},[Symbol.iterator](){return this}}}}function Xi(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function My(t,e){const n={get(r){const i=this.__v_raw,o=Me(i),a=Me(r);t||(Yn(r,a)&&Tt(o,"get",r),Tt(o,"get",a));const{has:u}=Yi(o),c=e?Rl:t?kl:It;if(u.call(o,r))return c(i.get(r));if(u.call(o,a))return c(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&Tt(Me(r),"iterate",As),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=Me(i),a=Me(r);return t||(Yn(r,a)&&Tt(o,"has",r),Tt(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,u=Me(a),c=e?Rl:t?kl:It;return!t&&Tt(u,"iterate",As),a.forEach((d,f)=>r.call(i,c(d),c(f),o))}};return Ct(n,t?{add:Xi("add"),set:Xi("set"),delete:Xi("delete"),clear:Xi("clear")}:{add(r){!e&&!Jt(r)&&!xs(r)&&(r=Me(r));const i=Me(this);return Yi(i).has.call(i,r)||(i.add(r),Rn(i,"add",r,r)),this},set(r,i){!e&&!Jt(i)&&!xs(i)&&(i=Me(i));const o=Me(this),{has:a,get:u}=Yi(o);let c=a.call(o,r);c||(r=Me(r),c=a.call(o,r));const d=u.call(o,r);return o.set(r,i),c?Yn(i,d)&&Rn(o,"set",r,i):Rn(o,"add",r,i),this},delete(r){const i=Me(this),{has:o,get:a}=Yi(i);let u=o.call(i,r);u||(r=Me(r),u=o.call(i,r)),a&&a.call(i,r);const c=i.delete(r);return u&&Rn(i,"delete",r,void 0),c},clear(){const r=Me(this),i=r.size!==0,o=r.clear();return i&&Rn(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Dy(r,t,e)}),n}function bu(t,e){const n=My(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Oe(n,r)&&r in s?n:s,r,i)}const Oy={get:bu(!1,!1)},Ny={get:bu(!1,!0)},Ly={get:bu(!0,!1)};const Jh=new WeakMap,Zh=new WeakMap,ep=new WeakMap,$y=new WeakMap;function Fy(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function By(t){return t.__v_skip||!Object.isExtensible(t)?0:Fy(cy(t))}function Ti(t){return xs(t)?t:Eu(t,!1,Ry,Oy,Jh)}function tp(t){return Eu(t,!1,Vy,Ny,Zh)}function np(t){return Eu(t,!0,ky,Ly,ep)}function Eu(t,e,n,s,r){if(!je(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=By(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function Js(t){return xs(t)?Js(t.__v_raw):!!(t&&t.__v_isReactive)}function xs(t){return!!(t&&t.__v_isReadonly)}function Jt(t){return!!(t&&t.__v_isShallow)}function Tu(t){return t?!!t.__v_raw:!1}function Me(t){const e=t&&t.__v_raw;return e?Me(e):t}function jy(t){return!Oe(t,"__v_skip")&&Object.isExtensible(t)&&Lh(t,"__v_skip",!0),t}const It=t=>je(t)?Ti(t):t,kl=t=>je(t)?np(t):t;function xt(t){return t?t.__v_isRef===!0:!1}function le(t){return sp(t,!1)}function Uy(t){return sp(t,!0)}function sp(t,e){return xt(t)?t:new zy(t,e)}class zy{constructor(e,n){this.dep=new wu,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Me(e),this._value=n?e:It(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Jt(e)||xs(e);e=s?e:Me(e),Yn(e,n)&&(this._rawValue=e,this._value=s?e:It(e),this.dep.trigger())}}function Zt(t){return xt(t)?t.value:t}const qy={get:(t,e,n)=>e==="__v_raw"?t:Zt(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return xt(r)&&!xt(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function rp(t){return Js(t)?t:new Proxy(t,qy)}class Hy{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new wu(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=oi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Be!==this)return zh(this,!0),!0}get value(){const e=this.dep.track();return Gh(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Gy(t,e,n=!1){let s,r;return we(t)?s=t:(s=t.get,r=t.set),new Hy(s,r,n)}const Ji={},_o=new WeakMap;let bs;function Wy(t,e=!1,n=bs){if(n){let s=_o.get(n);s||_o.set(n,s=[]),s.push(t)}}function Ky(t,e,n=Fe){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:u}=n,c=I=>r?I:Jt(I)||r===!1||r===0?kn(I,1):kn(I);let d,f,p,g,_=!1,x=!1;if(xt(t)?(f=()=>t.value,_=Jt(t)):Js(t)?(f=()=>c(t),_=!0):ge(t)?(x=!0,_=t.some(I=>Js(I)||Jt(I)),f=()=>t.map(I=>{if(xt(I))return I.value;if(Js(I))return c(I);if(we(I))return u?u(I,2):I()})):we(t)?e?f=u?()=>u(t,2):t:f=()=>{if(p){us();try{p()}finally{cs()}}const I=bs;bs=d;try{return u?u(t,3,[g]):t(g)}finally{bs=I}}:f=pn,e&&r){const I=f,M=r===!0?1/0:r;f=()=>kn(I(),M)}const C=Ey(),k=()=>{d.stop(),C&&C.active&&mu(C.effects,d)};if(i&&e){const I=e;e=(...M)=>{I(...M),k()}}let y=x?new Array(t.length).fill(Ji):Ji;const v=I=>{if(!(!(d.flags&1)||!d.dirty&&!I))if(e){const M=d.run();if(r||_||(x?M.some(($,A)=>Yn($,y[A])):Yn(M,y))){p&&p();const $=bs;bs=d;try{const A=[M,y===Ji?void 0:x&&y[0]===Ji?[]:y,g];u?u(e,3,A):e(...A),y=M}finally{bs=$}}}else d.run()};return a&&a(v),d=new jh(f),d.scheduler=o?()=>o(v,!1):v,g=I=>Wy(I,!1,d),p=d.onStop=()=>{const I=_o.get(d);if(I){if(u)u(I,4);else for(const M of I)M();_o.delete(d)}},e?s?v(!0):y=d.run():o?o(v.bind(null,!0),!0):d.run(),k.pause=d.pause.bind(d),k.resume=d.resume.bind(d),k.stop=k,k}function kn(t,e=1/0,n){if(e<=0||!je(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,xt(t))kn(t.value,e,n);else if(ge(t))for(let s=0;s<t.length;s++)kn(t[s],e,n);else if(Yo(t)||Xs(t))t.forEach(s=>{kn(s,e,n)});else if(Nh(t)){for(const s in t)kn(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&kn(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ii(t,e,n,s){try{return s?t(...s):t()}catch(r){sa(r,e,n)}}function yn(t,e,n,s){if(we(t)){const r=Ii(t,e,n,s);return r&&Mh(r)&&r.catch(i=>{sa(i,e,n)}),r}if(ge(t)){const r=[];for(let i=0;i<t.length;i++)r.push(yn(t[i],e,n,s));return r}}function sa(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Fe;if(e){let a=e.parent;const u=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](t,u,c)===!1)return}a=a.parent}if(i){us(),Ii(i,null,10,[t,u,c]),cs();return}}Qy(t,n,r,s,o)}function Qy(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const kt=[];let cn=-1;const Zs=[];let Hn=null,qs=0;const ip=Promise.resolve();let wo=null;function ra(t){const e=wo||ip;return t?e.then(this?t.bind(this):t):e}function Yy(t){let e=cn+1,n=kt.length;for(;e<n;){const s=e+n>>>1,r=kt[s],i=li(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function Iu(t){if(!(t.flags&1)){const e=li(t),n=kt[kt.length-1];!n||!(t.flags&2)&&e>=li(n)?kt.push(t):kt.splice(Yy(e),0,t),t.flags|=1,op()}}function op(){wo||(wo=ip.then(lp))}function Xy(t){ge(t)?Zs.push(...t):Hn&&t.id===-1?Hn.splice(qs+1,0,t):t.flags&1||(Zs.push(t),t.flags|=1),op()}function Ed(t,e,n=cn+1){for(;n<kt.length;n++){const s=kt[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;kt.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function ap(t){if(Zs.length){const e=[...new Set(Zs)].sort((n,s)=>li(n)-li(s));if(Zs.length=0,Hn){Hn.push(...e);return}for(Hn=e,qs=0;qs<Hn.length;qs++){const n=Hn[qs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Hn=null,qs=0}}const li=t=>t.id==null?t.flags&2?-1:1/0:t.id;function lp(t){try{for(cn=0;cn<kt.length;cn++){const e=kt[cn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ii(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;cn<kt.length;cn++){const e=kt[cn];e&&(e.flags&=-2)}cn=-1,kt.length=0,ap(),wo=null,(kt.length||Zs.length)&&lp()}}let pt=null,up=null;function bo(t){const e=pt;return pt=t,up=t&&t.type.__scopeId||null,e}function Le(t,e=pt,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Vd(-1);const i=bo(e);let o;try{o=t(...r)}finally{bo(i),s._d&&Vd(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Je(t,e){if(pt===null)return t;const n=ua(pt),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,u=Fe]=e[r];i&&(we(i)&&(i={mounted:i,updated:i}),i.deep&&kn(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:u}))}return t}function _s(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let u=a.dir[s];u&&(us(),yn(u,n,8,[t.el,a,t,e]),cs())}}const Jy=Symbol("_vte"),Zy=t=>t.__isTeleport;function Su(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Su(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function cp(t,e){return we(t)?Ct({name:t.name},e,{setup:t}):t}function dp(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Eo(t,e,n,s,r=!1){if(ge(t)){t.forEach((_,x)=>Eo(_,e&&(ge(e)?e[x]:e),n,s,r));return}if(er(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Eo(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?ua(s.component):s.el,o=r?null:i,{i:a,r:u}=t,c=e&&e.r,d=a.refs===Fe?a.refs={}:a.refs,f=a.setupState,p=Me(f),g=f===Fe?()=>!1:_=>Oe(p,_);if(c!=null&&c!==u&&(et(c)?(d[c]=null,g(c)&&(f[c]=null)):xt(c)&&(c.value=null)),we(u))Ii(u,a,12,[o,d]);else{const _=et(u),x=xt(u);if(_||x){const C=()=>{if(t.f){const k=_?g(u)?f[u]:d[u]:u.value;r?ge(k)&&mu(k,i):ge(k)?k.includes(i)||k.push(i):_?(d[u]=[i],g(u)&&(f[u]=d[u])):(u.value=[i],t.k&&(d[t.k]=u.value))}else _?(d[u]=o,g(u)&&(f[u]=o)):x&&(u.value=o,t.k&&(d[t.k]=o))};o?(C.id=-1,Ut(C,n)):C()}}}Zo().requestIdleCallback;Zo().cancelIdleCallback;const er=t=>!!t.type.__asyncLoader,fp=t=>t.type.__isKeepAlive;function e_(t,e){hp(t,"a",e)}function t_(t,e){hp(t,"da",e)}function hp(t,e,n=At){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(ia(e,s,n),n){let r=n.parent;for(;r&&r.parent;)fp(r.parent.vnode)&&n_(s,e,n,r),r=r.parent}}function n_(t,e,n,s){const r=ia(e,t,s,!0);mp(()=>{mu(s[e],r)},n)}function ia(t,e,n=At,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{us();const a=Si(n),u=yn(e,n,t,o);return a(),cs(),u});return s?r.unshift(i):r.push(i),i}}const Ln=t=>(e,n=At)=>{(!di||t==="sp")&&ia(t,(...s)=>e(...s),n)},s_=Ln("bm"),gt=Ln("m"),pp=Ln("bu"),Au=Ln("u"),oa=Ln("bum"),mp=Ln("um"),r_=Ln("sp"),i_=Ln("rtg"),o_=Ln("rtc");function a_(t,e=At){ia("ec",t,e)}const gp="components";function vr(t,e){return yp(gp,t,!0,e)||t}const vp=Symbol.for("v-ndc");function l_(t){return et(t)?yp(gp,t,!1)||t:t||vp}function yp(t,e,n=!0,s=!1){const r=pt||At;if(r){const i=r.type;{const a=Y_(i,!1);if(a&&(a===e||a===en(e)||a===Jo(en(e))))return i}const o=Td(r[t]||i[t],e)||Td(r.appContext[t],e);return!o&&s?i:o}}function Td(t,e){return t&&(t[e]||t[en(e)]||t[Jo(en(e))])}function qe(t,e,n,s){let r;const i=n,o=ge(t);if(o||et(t)){const a=o&&Js(t);let u=!1;a&&(u=!Jt(t),t=na(t)),r=new Array(t.length);for(let c=0,d=t.length;c<d;c++)r[c]=e(u?It(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(je(t))if(t[Symbol.iterator])r=Array.from(t,(a,u)=>e(a,u,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let u=0,c=a.length;u<c;u++){const d=a[u];r[u]=e(t[d],d,u,i)}}else r=[];return r}function u_(t,e,n={},s,r){if(pt.ce||pt.parent&&er(pt.parent)&&pt.parent.ce)return B(),Ye(Se,null,[ae("slot",n,s)],64);let i=t[e];i&&i._c&&(i._d=!1),B();const o=i&&_p(i(n)),a=n.key||o&&o.key,u=Ye(Se,{key:(a&&!on(a)?a:`_${e}`)+""},o||[],o&&t._===1?64:-2);return i&&i._c&&(i._d=!0),u}function _p(t){return t.some(e=>ci(e)?!(e.type===ts||e.type===Se&&!_p(e.children)):!0)?t:null}const Vl=t=>t?Bp(t)?ua(t):Vl(t.parent):null,Xr=Ct(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Vl(t.parent),$root:t=>Vl(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>bp(t),$forceUpdate:t=>t.f||(t.f=()=>{Iu(t.update)}),$nextTick:t=>t.n||(t.n=ra.bind(t.proxy)),$watch:t=>R_.bind(t)}),tl=(t,e)=>t!==Fe&&!t.__isScriptSetup&&Oe(t,e),c_={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:u}=t;let c;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(tl(s,e))return o[e]=1,s[e];if(r!==Fe&&Oe(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&Oe(c,e))return o[e]=3,i[e];if(n!==Fe&&Oe(n,e))return o[e]=4,n[e];Dl&&(o[e]=0)}}const d=Xr[e];let f,p;if(d)return e==="$attrs"&&Tt(t.attrs,"get",""),d(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Fe&&Oe(n,e))return o[e]=4,n[e];if(p=u.config.globalProperties,Oe(p,e))return p[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return tl(r,e)?(r[e]=n,!0):s!==Fe&&Oe(s,e)?(s[e]=n,!0):Oe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==Fe&&Oe(t,o)||tl(e,o)||(a=i[0])&&Oe(a,o)||Oe(s,o)||Oe(Xr,o)||Oe(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Oe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Id(t){return ge(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Dl=!0;function d_(t){const e=bp(t),n=t.proxy,s=t.ctx;Dl=!1,e.beforeCreate&&Sd(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:u,inject:c,created:d,beforeMount:f,mounted:p,beforeUpdate:g,updated:_,activated:x,deactivated:C,beforeDestroy:k,beforeUnmount:y,destroyed:v,unmounted:I,render:M,renderTracked:$,renderTriggered:A,errorCaptured:b,serverPrefetch:E,expose:S,inheritAttrs:R,components:O,directives:P,filters:Ee}=e;if(c&&f_(c,s,null),o)for(const ce in o){const de=o[ce];we(de)&&(s[ce]=de.bind(n))}if(r){const ce=r.call(n,n);je(ce)&&(t.data=Ti(ce))}if(Dl=!0,i)for(const ce in i){const de=i[ce],Ge=we(de)?de.bind(n,n):we(de.get)?de.get.bind(n,n):pn,Dt=!we(de)&&we(de.set)?de.set.bind(n):pn,Mt=st({get:Ge,set:Dt});Object.defineProperty(s,ce,{enumerable:!0,configurable:!0,get:()=>Mt.value,set:Ue=>Mt.value=Ue})}if(a)for(const ce in a)wp(a[ce],s,n,ce);if(u){const ce=we(u)?u.call(n):u;Reflect.ownKeys(ce).forEach(de=>{nr(de,ce[de])})}d&&Sd(d,t,"c");function se(ce,de){ge(de)?de.forEach(Ge=>ce(Ge.bind(n))):de&&ce(de.bind(n))}if(se(s_,f),se(gt,p),se(pp,g),se(Au,_),se(e_,x),se(t_,C),se(a_,b),se(o_,$),se(i_,A),se(oa,y),se(mp,I),se(r_,E),ge(S))if(S.length){const ce=t.exposed||(t.exposed={});S.forEach(de=>{Object.defineProperty(ce,de,{get:()=>n[de],set:Ge=>n[de]=Ge})})}else t.exposed||(t.exposed={});M&&t.render===pn&&(t.render=M),R!=null&&(t.inheritAttrs=R),O&&(t.components=O),P&&(t.directives=P),E&&dp(t)}function f_(t,e,n=pn){ge(t)&&(t=Ml(t));for(const s in t){const r=t[s];let i;je(r)?"default"in r?i=sn(r.from||s,r.default,!0):i=sn(r.from||s):i=sn(r),xt(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Sd(t,e,n){yn(ge(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function wp(t,e,n,s){let r=s.includes(".")?Op(n,s):()=>n[s];if(et(t)){const i=e[t];we(i)&&sr(r,i)}else if(we(t))sr(r,t.bind(n));else if(je(t))if(ge(t))t.forEach(i=>wp(i,e,n,s));else{const i=we(t.handler)?t.handler.bind(n):e[t.handler];we(i)&&sr(r,i,t)}}function bp(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let u;return a?u=a:!r.length&&!n&&!s?u=e:(u={},r.length&&r.forEach(c=>To(u,c,o,!0)),To(u,e,o)),je(e)&&i.set(e,u),u}function To(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&To(t,i,n,!0),r&&r.forEach(o=>To(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=h_[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const h_={data:Ad,props:xd,emits:xd,methods:zr,computed:zr,beforeCreate:Rt,created:Rt,beforeMount:Rt,mounted:Rt,beforeUpdate:Rt,updated:Rt,beforeDestroy:Rt,beforeUnmount:Rt,destroyed:Rt,unmounted:Rt,activated:Rt,deactivated:Rt,errorCaptured:Rt,serverPrefetch:Rt,components:zr,directives:zr,watch:m_,provide:Ad,inject:p_};function Ad(t,e){return e?t?function(){return Ct(we(t)?t.call(this,this):t,we(e)?e.call(this,this):e)}:e:t}function p_(t,e){return zr(Ml(t),Ml(e))}function Ml(t){if(ge(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Rt(t,e){return t?[...new Set([].concat(t,e))]:e}function zr(t,e){return t?Ct(Object.create(null),t,e):e}function xd(t,e){return t?ge(t)&&ge(e)?[...new Set([...t,...e])]:Ct(Object.create(null),Id(t),Id(e??{})):e}function m_(t,e){if(!t)return e;if(!e)return t;const n=Ct(Object.create(null),t);for(const s in e)n[s]=Rt(t[s],e[s]);return n}function Ep(){return{app:null,config:{isNativeTag:ly,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let g_=0;function v_(t,e){return function(s,r=null){we(s)||(s=Ct({},s)),r!=null&&!je(r)&&(r=null);const i=Ep(),o=new WeakSet,a=[];let u=!1;const c=i.app={_uid:g_++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:J_,get config(){return i.config},set config(d){},use(d,...f){return o.has(d)||(d&&we(d.install)?(o.add(d),d.install(c,...f)):we(d)&&(o.add(d),d(c,...f))),c},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),c},component(d,f){return f?(i.components[d]=f,c):i.components[d]},directive(d,f){return f?(i.directives[d]=f,c):i.directives[d]},mount(d,f,p){if(!u){const g=c._ceVNode||ae(s,r);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),t(g,d,p),u=!0,c._container=d,d.__vue_app__=c,ua(g.component)}},onUnmount(d){a.push(d)},unmount(){u&&(yn(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(d,f){return i.provides[d]=f,c},runWithContext(d){const f=tr;tr=c;try{return d()}finally{tr=f}}};return c}}let tr=null;function nr(t,e){if(At){let n=At.provides;const s=At.parent&&At.parent.provides;s===n&&(n=At.provides=Object.create(s)),n[t]=e}}function sn(t,e,n=!1){const s=At||pt;if(s||tr){const r=tr?tr._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&we(e)?e.call(s&&s.proxy):e}}const Tp={},Ip=()=>Object.create(Tp),Sp=t=>Object.getPrototypeOf(t)===Tp;function y_(t,e,n,s=!1){const r={},i=Ip();t.propsDefaults=Object.create(null),Ap(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:tp(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function __(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=Me(r),[u]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let p=d[f];if(aa(t.emitsOptions,p))continue;const g=e[p];if(u)if(Oe(i,p))g!==i[p]&&(i[p]=g,c=!0);else{const _=en(p);r[_]=Ol(u,a,_,g,t,!1)}else g!==i[p]&&(i[p]=g,c=!0)}}}else{Ap(t,e,r,i)&&(c=!0);let d;for(const f in a)(!e||!Oe(e,f)&&((d=Ds(f))===f||!Oe(e,d)))&&(u?n&&(n[f]!==void 0||n[d]!==void 0)&&(r[f]=Ol(u,a,f,void 0,t,!0)):delete r[f]);if(i!==a)for(const f in i)(!e||!Oe(e,f))&&(delete i[f],c=!0)}c&&Rn(t.attrs,"set","")}function Ap(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let u in e){if(Kr(u))continue;const c=e[u];let d;r&&Oe(r,d=en(u))?!i||!i.includes(d)?n[d]=c:(a||(a={}))[d]=c:aa(t.emitsOptions,u)||(!(u in s)||c!==s[u])&&(s[u]=c,o=!0)}if(i){const u=Me(n),c=a||Fe;for(let d=0;d<i.length;d++){const f=i[d];n[f]=Ol(r,u,f,c[f],t,!Oe(c,f))}}return o}function Ol(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=Oe(o,"default");if(a&&s===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&we(u)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const d=Si(r);s=c[n]=u.call(null,e),d()}}else s=u;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Ds(n))&&(s=!0))}return s}const w_=new WeakMap;function xp(t,e,n=!1){const s=n?w_:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let u=!1;if(!we(t)){const d=f=>{u=!0;const[p,g]=xp(f,e,!0);Ct(o,p),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!u)return je(t)&&s.set(t,Ys),Ys;if(ge(i))for(let d=0;d<i.length;d++){const f=en(i[d]);Cd(f)&&(o[f]=Fe)}else if(i)for(const d in i){const f=en(d);if(Cd(f)){const p=i[d],g=o[f]=ge(p)||we(p)?{type:p}:Ct({},p),_=g.type;let x=!1,C=!0;if(ge(_))for(let k=0;k<_.length;++k){const y=_[k],v=we(y)&&y.name;if(v==="Boolean"){x=!0;break}else v==="String"&&(C=!1)}else x=we(_)&&_.name==="Boolean";g[0]=x,g[1]=C,(x||Oe(g,"default"))&&a.push(f)}}const c=[o,a];return je(t)&&s.set(t,c),c}function Cd(t){return t[0]!=="$"&&!Kr(t)}const Cp=t=>t[0]==="_"||t==="$stable",xu=t=>ge(t)?t.map(fn):[fn(t)],b_=(t,e,n)=>{if(e._n)return e;const s=Le((...r)=>xu(e(...r)),n);return s._c=!1,s},Pp=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Cp(r))continue;const i=t[r];if(we(i))e[r]=b_(r,i,s);else if(i!=null){const o=xu(i);e[r]=()=>o}}},Rp=(t,e)=>{const n=xu(e);t.slots.default=()=>n},kp=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},E_=(t,e,n)=>{const s=t.slots=Ip();if(t.vnode.shapeFlag&32){const r=e._;r?(kp(s,e,n),n&&Lh(s,"_",r,!0)):Pp(e,s)}else e&&Rp(t,e)},T_=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Fe;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:kp(r,e,n):(i=!e.$stable,Pp(e,r)),o=e}else e&&(Rp(t,e),o={default:1});if(i)for(const a in r)!Cp(a)&&o[a]==null&&delete r[a]},Ut=L_;function I_(t){return S_(t)}function S_(t,e){const n=Zo();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:u,setText:c,setElementText:d,parentNode:f,nextSibling:p,setScopeId:g=pn,insertStaticContent:_}=t,x=(V,D,N,U=null,G=null,z=null,J=void 0,Y=null,Q=!!D.dynamicChildren)=>{if(V===D)return;V&&!$r(V,D)&&(U=j(V),Ue(V,G,z,!0),V=null),D.patchFlag===-2&&(Q=!1,D.dynamicChildren=null);const{type:K,ref:fe,shapeFlag:ee}=D;switch(K){case la:C(V,D,N,U);break;case ts:k(V,D,N,U);break;case ao:V==null&&y(D,N,U,J);break;case Se:O(V,D,N,U,G,z,J,Y,Q);break;default:ee&1?M(V,D,N,U,G,z,J,Y,Q):ee&6?P(V,D,N,U,G,z,J,Y,Q):(ee&64||ee&128)&&K.process(V,D,N,U,G,z,J,Y,Q,re)}fe!=null&&G&&Eo(fe,V&&V.ref,z,D||V,!D)},C=(V,D,N,U)=>{if(V==null)s(D.el=a(D.children),N,U);else{const G=D.el=V.el;D.children!==V.children&&c(G,D.children)}},k=(V,D,N,U)=>{V==null?s(D.el=u(D.children||""),N,U):D.el=V.el},y=(V,D,N,U)=>{[V.el,V.anchor]=_(V.children,D,N,U,V.el,V.anchor)},v=({el:V,anchor:D},N,U)=>{let G;for(;V&&V!==D;)G=p(V),s(V,N,U),V=G;s(D,N,U)},I=({el:V,anchor:D})=>{let N;for(;V&&V!==D;)N=p(V),r(V),V=N;r(D)},M=(V,D,N,U,G,z,J,Y,Q)=>{D.type==="svg"?J="svg":D.type==="math"&&(J="mathml"),V==null?$(D,N,U,G,z,J,Y,Q):E(V,D,G,z,J,Y,Q)},$=(V,D,N,U,G,z,J,Y)=>{let Q,K;const{props:fe,shapeFlag:ee,transition:oe,dirs:me}=V;if(Q=V.el=o(V.type,z,fe&&fe.is,fe),ee&8?d(Q,V.children):ee&16&&b(V.children,Q,null,U,G,nl(V,z),J,Y),me&&_s(V,null,U,"created"),A(Q,V,V.scopeId,J,U),fe){for(const be in fe)be!=="value"&&!Kr(be)&&i(Q,be,null,fe[be],z,U);"value"in fe&&i(Q,"value",null,fe.value,z),(K=fe.onVnodeBeforeMount)&&un(K,U,V)}me&&_s(V,null,U,"beforeMount");const he=A_(G,oe);he&&oe.beforeEnter(Q),s(Q,D,N),((K=fe&&fe.onVnodeMounted)||he||me)&&Ut(()=>{K&&un(K,U,V),he&&oe.enter(Q),me&&_s(V,null,U,"mounted")},G)},A=(V,D,N,U,G)=>{if(N&&g(V,N),U)for(let z=0;z<U.length;z++)g(V,U[z]);if(G){let z=G.subTree;if(D===z||Lp(z.type)&&(z.ssContent===D||z.ssFallback===D)){const J=G.vnode;A(V,J,J.scopeId,J.slotScopeIds,G.parent)}}},b=(V,D,N,U,G,z,J,Y,Q=0)=>{for(let K=Q;K<V.length;K++){const fe=V[K]=Y?Gn(V[K]):fn(V[K]);x(null,fe,D,N,U,G,z,J,Y)}},E=(V,D,N,U,G,z,J)=>{const Y=D.el=V.el;let{patchFlag:Q,dynamicChildren:K,dirs:fe}=D;Q|=V.patchFlag&16;const ee=V.props||Fe,oe=D.props||Fe;let me;if(N&&ws(N,!1),(me=oe.onVnodeBeforeUpdate)&&un(me,N,D,V),fe&&_s(D,V,N,"beforeUpdate"),N&&ws(N,!0),(ee.innerHTML&&oe.innerHTML==null||ee.textContent&&oe.textContent==null)&&d(Y,""),K?S(V.dynamicChildren,K,Y,N,U,nl(D,G),z):J||de(V,D,Y,null,N,U,nl(D,G),z,!1),Q>0){if(Q&16)R(Y,ee,oe,N,G);else if(Q&2&&ee.class!==oe.class&&i(Y,"class",null,oe.class,G),Q&4&&i(Y,"style",ee.style,oe.style,G),Q&8){const he=D.dynamicProps;for(let be=0;be<he.length;be++){const Ce=he[be],vt=ee[Ce],ut=oe[Ce];(ut!==vt||Ce==="value")&&i(Y,Ce,vt,ut,G,N)}}Q&1&&V.children!==D.children&&d(Y,D.children)}else!J&&K==null&&R(Y,ee,oe,N,G);((me=oe.onVnodeUpdated)||fe)&&Ut(()=>{me&&un(me,N,D,V),fe&&_s(D,V,N,"updated")},U)},S=(V,D,N,U,G,z,J)=>{for(let Y=0;Y<D.length;Y++){const Q=V[Y],K=D[Y],fe=Q.el&&(Q.type===Se||!$r(Q,K)||Q.shapeFlag&70)?f(Q.el):N;x(Q,K,fe,null,U,G,z,J,!0)}},R=(V,D,N,U,G)=>{if(D!==N){if(D!==Fe)for(const z in D)!Kr(z)&&!(z in N)&&i(V,z,D[z],null,G,U);for(const z in N){if(Kr(z))continue;const J=N[z],Y=D[z];J!==Y&&z!=="value"&&i(V,z,Y,J,G,U)}"value"in N&&i(V,"value",D.value,N.value,G)}},O=(V,D,N,U,G,z,J,Y,Q)=>{const K=D.el=V?V.el:a(""),fe=D.anchor=V?V.anchor:a("");let{patchFlag:ee,dynamicChildren:oe,slotScopeIds:me}=D;me&&(Y=Y?Y.concat(me):me),V==null?(s(K,N,U),s(fe,N,U),b(D.children||[],N,fe,G,z,J,Y,Q)):ee>0&&ee&64&&oe&&V.dynamicChildren?(S(V.dynamicChildren,oe,N,G,z,J,Y),(D.key!=null||G&&D===G.subTree)&&Vp(V,D,!0)):de(V,D,N,fe,G,z,J,Y,Q)},P=(V,D,N,U,G,z,J,Y,Q)=>{D.slotScopeIds=Y,V==null?D.shapeFlag&512?G.ctx.activate(D,N,U,J,Q):Ee(D,N,U,G,z,J,Q):Ae(V,D,Q)},Ee=(V,D,N,U,G,z,J)=>{const Y=V.component=H_(V,U,G);if(fp(V)&&(Y.ctx.renderer=re),G_(Y,!1,J),Y.asyncDep){if(G&&G.registerDep(Y,se,J),!V.el){const Q=Y.subTree=ae(ts);k(null,Q,D,N)}}else se(Y,V,D,N,G,z,J)},Ae=(V,D,N)=>{const U=D.component=V.component;if(O_(V,D,N))if(U.asyncDep&&!U.asyncResolved){ce(U,D,N);return}else U.next=D,U.update();else D.el=V.el,U.vnode=D},se=(V,D,N,U,G,z,J)=>{const Y=()=>{if(V.isMounted){let{next:ee,bu:oe,u:me,parent:he,vnode:be}=V;{const yt=Dp(V);if(yt){ee&&(ee.el=be.el,ce(V,ee,J)),yt.asyncDep.then(()=>{V.isUnmounted||Y()});return}}let Ce=ee,vt;ws(V,!1),ee?(ee.el=be.el,ce(V,ee,J)):ee=be,oe&&oo(oe),(vt=ee.props&&ee.props.onVnodeBeforeUpdate)&&un(vt,he,ee,be),ws(V,!0);const ut=Rd(V),Yt=V.subTree;V.subTree=ut,x(Yt,ut,f(Yt.el),j(Yt),V,G,z),ee.el=ut.el,Ce===null&&N_(V,ut.el),me&&Ut(me,G),(vt=ee.props&&ee.props.onVnodeUpdated)&&Ut(()=>un(vt,he,ee,be),G)}else{let ee;const{el:oe,props:me}=D,{bm:he,m:be,parent:Ce,root:vt,type:ut}=V,Yt=er(D);ws(V,!1),he&&oo(he),!Yt&&(ee=me&&me.onVnodeBeforeMount)&&un(ee,Ce,D),ws(V,!0);{vt.ce&&vt.ce._injectChildStyle(ut);const yt=V.subTree=Rd(V);x(null,yt,N,U,V,G,z),D.el=yt.el}if(be&&Ut(be,G),!Yt&&(ee=me&&me.onVnodeMounted)){const yt=D;Ut(()=>un(ee,Ce,yt),G)}(D.shapeFlag&256||Ce&&er(Ce.vnode)&&Ce.vnode.shapeFlag&256)&&V.a&&Ut(V.a,G),V.isMounted=!0,D=N=U=null}};V.scope.on();const Q=V.effect=new jh(Y);V.scope.off();const K=V.update=Q.run.bind(Q),fe=V.job=Q.runIfDirty.bind(Q);fe.i=V,fe.id=V.uid,Q.scheduler=()=>Iu(fe),ws(V,!0),K()},ce=(V,D,N)=>{D.component=V;const U=V.vnode.props;V.vnode=D,V.next=null,__(V,D.props,U,N),T_(V,D.children,N),us(),Ed(V),cs()},de=(V,D,N,U,G,z,J,Y,Q=!1)=>{const K=V&&V.children,fe=V?V.shapeFlag:0,ee=D.children,{patchFlag:oe,shapeFlag:me}=D;if(oe>0){if(oe&128){Dt(K,ee,N,U,G,z,J,Y,Q);return}else if(oe&256){Ge(K,ee,N,U,G,z,J,Y,Q);return}}me&8?(fe&16&&Ot(K,G,z),ee!==K&&d(N,ee)):fe&16?me&16?Dt(K,ee,N,U,G,z,J,Y,Q):Ot(K,G,z,!0):(fe&8&&d(N,""),me&16&&b(ee,N,U,G,z,J,Y,Q))},Ge=(V,D,N,U,G,z,J,Y,Q)=>{V=V||Ys,D=D||Ys;const K=V.length,fe=D.length,ee=Math.min(K,fe);let oe;for(oe=0;oe<ee;oe++){const me=D[oe]=Q?Gn(D[oe]):fn(D[oe]);x(V[oe],me,N,null,G,z,J,Y,Q)}K>fe?Ot(V,G,z,!0,!1,ee):b(D,N,U,G,z,J,Y,Q,ee)},Dt=(V,D,N,U,G,z,J,Y,Q)=>{let K=0;const fe=D.length;let ee=V.length-1,oe=fe-1;for(;K<=ee&&K<=oe;){const me=V[K],he=D[K]=Q?Gn(D[K]):fn(D[K]);if($r(me,he))x(me,he,N,null,G,z,J,Y,Q);else break;K++}for(;K<=ee&&K<=oe;){const me=V[ee],he=D[oe]=Q?Gn(D[oe]):fn(D[oe]);if($r(me,he))x(me,he,N,null,G,z,J,Y,Q);else break;ee--,oe--}if(K>ee){if(K<=oe){const me=oe+1,he=me<fe?D[me].el:U;for(;K<=oe;)x(null,D[K]=Q?Gn(D[K]):fn(D[K]),N,he,G,z,J,Y,Q),K++}}else if(K>oe)for(;K<=ee;)Ue(V[K],G,z,!0),K++;else{const me=K,he=K,be=new Map;for(K=he;K<=oe;K++){const ct=D[K]=Q?Gn(D[K]):fn(D[K]);ct.key!=null&&be.set(ct.key,K)}let Ce,vt=0;const ut=oe-he+1;let Yt=!1,yt=0;const Bn=new Array(ut);for(K=0;K<ut;K++)Bn[K]=0;for(K=me;K<=ee;K++){const ct=V[K];if(vt>=ut){Ue(ct,G,z,!0);continue}let Xt;if(ct.key!=null)Xt=be.get(ct.key);else for(Ce=he;Ce<=oe;Ce++)if(Bn[Ce-he]===0&&$r(ct,D[Ce])){Xt=Ce;break}Xt===void 0?Ue(ct,G,z,!0):(Bn[Xt-he]=K+1,Xt>=yt?yt=Xt:Yt=!0,x(ct,D[Xt],N,null,G,z,J,Y,Q),vt++)}const Ir=Yt?x_(Bn):Ys;for(Ce=Ir.length-1,K=ut-1;K>=0;K--){const ct=he+K,Xt=D[ct],Mi=ct+1<fe?D[ct+1].el:U;Bn[K]===0?x(null,Xt,N,Mi,G,z,J,Y,Q):Yt&&(Ce<0||K!==Ir[Ce]?Mt(Xt,N,Mi,2):Ce--)}}},Mt=(V,D,N,U,G=null)=>{const{el:z,type:J,transition:Y,children:Q,shapeFlag:K}=V;if(K&6){Mt(V.component.subTree,D,N,U);return}if(K&128){V.suspense.move(D,N,U);return}if(K&64){J.move(V,D,N,re);return}if(J===Se){s(z,D,N);for(let ee=0;ee<Q.length;ee++)Mt(Q[ee],D,N,U);s(V.anchor,D,N);return}if(J===ao){v(V,D,N);return}if(U!==2&&K&1&&Y)if(U===0)Y.beforeEnter(z),s(z,D,N),Ut(()=>Y.enter(z),G);else{const{leave:ee,delayLeave:oe,afterLeave:me}=Y,he=()=>s(z,D,N),be=()=>{ee(z,()=>{he(),me&&me()})};oe?oe(z,he,be):be()}else s(z,D,N)},Ue=(V,D,N,U=!1,G=!1)=>{const{type:z,props:J,ref:Y,children:Q,dynamicChildren:K,shapeFlag:fe,patchFlag:ee,dirs:oe,cacheIndex:me}=V;if(ee===-2&&(G=!1),Y!=null&&Eo(Y,null,N,V,!0),me!=null&&(D.renderCache[me]=void 0),fe&256){D.ctx.deactivate(V);return}const he=fe&1&&oe,be=!er(V);let Ce;if(be&&(Ce=J&&J.onVnodeBeforeUnmount)&&un(Ce,D,V),fe&6)ln(V.component,N,U);else{if(fe&128){V.suspense.unmount(N,U);return}he&&_s(V,null,D,"beforeUnmount"),fe&64?V.type.remove(V,D,N,re,U):K&&!K.hasOnce&&(z!==Se||ee>0&&ee&64)?Ot(K,D,N,!1,!0):(z===Se&&ee&384||!G&&fe&16)&&Ot(Q,D,N),U&&We(V)}(be&&(Ce=J&&J.onVnodeUnmounted)||he)&&Ut(()=>{Ce&&un(Ce,D,V),he&&_s(V,null,D,"unmounted")},N)},We=V=>{const{type:D,el:N,anchor:U,transition:G}=V;if(D===Se){Fn(N,U);return}if(D===ao){I(V);return}const z=()=>{r(N),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(V.shapeFlag&1&&G&&!G.persisted){const{leave:J,delayLeave:Y}=G,Q=()=>J(N,z);Y?Y(V.el,z,Q):Q()}else z()},Fn=(V,D)=>{let N;for(;V!==D;)N=p(V),r(V),V=N;r(D)},ln=(V,D,N)=>{const{bum:U,scope:G,job:z,subTree:J,um:Y,m:Q,a:K}=V;Pd(Q),Pd(K),U&&oo(U),G.stop(),z&&(z.flags|=8,Ue(J,V,D,N)),Y&&Ut(Y,D),Ut(()=>{V.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&V.asyncDep&&!V.asyncResolved&&V.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},Ot=(V,D,N,U=!1,G=!1,z=0)=>{for(let J=z;J<V.length;J++)Ue(V[J],D,N,U,G)},j=V=>{if(V.shapeFlag&6)return j(V.component.subTree);if(V.shapeFlag&128)return V.suspense.next();const D=p(V.anchor||V.el),N=D&&D[Jy];return N?p(N):D};let te=!1;const Z=(V,D,N)=>{V==null?D._vnode&&Ue(D._vnode,null,null,!0):x(D._vnode||null,V,D,null,null,null,N),D._vnode=V,te||(te=!0,Ed(),ap(),te=!1)},re={p:x,um:Ue,m:Mt,r:We,mt:Ee,mc:b,pc:de,pbc:S,n:j,o:t};return{render:Z,hydrate:void 0,createApp:v_(Z)}}function nl({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ws({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function A_(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Vp(t,e,n=!1){const s=t.children,r=e.children;if(ge(s)&&ge(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Gn(r[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Vp(o,a)),a.type===la&&(a.el=o.el)}}function x_(t){const e=t.slice(),n=[0];let s,r,i,o,a;const u=t.length;for(s=0;s<u;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Dp(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Dp(e)}function Pd(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const C_=Symbol.for("v-scx"),P_=()=>sn(C_);function sr(t,e,n){return Mp(t,e,n)}function Mp(t,e,n=Fe){const{immediate:s,deep:r,flush:i,once:o}=n,a=Ct({},n),u=e&&s||!e&&i!=="post";let c;if(di){if(i==="sync"){const g=P_();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!u){const g=()=>{};return g.stop=pn,g.resume=pn,g.pause=pn,g}}const d=At;a.call=(g,_,x)=>yn(g,d,_,x);let f=!1;i==="post"?a.scheduler=g=>{Ut(g,d&&d.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(g,_)=>{_?g():Iu(g)}),a.augmentJob=g=>{e&&(g.flags|=4),f&&(g.flags|=2,d&&(g.id=d.uid,g.i=d))};const p=Ky(t,e,a);return di&&(c?c.push(p):u&&p()),p}function R_(t,e,n){const s=this.proxy,r=et(t)?t.includes(".")?Op(s,t):()=>s[t]:t.bind(s,s);let i;we(e)?i=e:(i=e.handler,n=e);const o=Si(this),a=Mp(r,i.bind(s),n);return o(),a}function Op(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const k_=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${en(e)}Modifiers`]||t[`${Ds(e)}Modifiers`];function V_(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Fe;let r=n;const i=e.startsWith("update:"),o=i&&k_(s,e.slice(7));o&&(o.trim&&(r=n.map(d=>et(d)?d.trim():d)),o.number&&(r=n.map(yo)));let a,u=s[a=Ya(e)]||s[a=Ya(en(e))];!u&&i&&(u=s[a=Ya(Ds(e))]),u&&yn(u,t,6,r);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,yn(c,t,6,r)}}function Np(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!we(t)){const u=c=>{const d=Np(c,e,!0);d&&(a=!0,Ct(o,d))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!a?(je(t)&&s.set(t,null),null):(ge(i)?i.forEach(u=>o[u]=null):Ct(o,i),je(t)&&s.set(t,o),o)}function aa(t,e){return!t||!Qo(e)?!1:(e=e.slice(2).replace(/Once$/,""),Oe(t,e[0].toLowerCase()+e.slice(1))||Oe(t,Ds(e))||Oe(t,e))}function Rd(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:u,render:c,renderCache:d,props:f,data:p,setupState:g,ctx:_,inheritAttrs:x}=t,C=bo(t);let k,y;try{if(n.shapeFlag&4){const I=r||s,M=I;k=fn(c.call(M,I,d,f,g,p,_)),y=a}else{const I=e;k=fn(I.length>1?I(f,{attrs:a,slots:o,emit:u}):I(f,null)),y=e.props?a:D_(a)}}catch(I){Jr.length=0,sa(I,t,1),k=ae(ts)}let v=k;if(y&&x!==!1){const I=Object.keys(y),{shapeFlag:M}=v;I.length&&M&7&&(i&&I.some(pu)&&(y=M_(y,i)),v=ar(v,y,!1,!0))}return n.dirs&&(v=ar(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&Su(v,n.transition),k=v,bo(C),k}const D_=t=>{let e;for(const n in t)(n==="class"||n==="style"||Qo(n))&&((e||(e={}))[n]=t[n]);return e},M_=(t,e)=>{const n={};for(const s in t)(!pu(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function O_(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:u}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return s?kd(s,o,c):!!o;if(u&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const p=d[f];if(o[p]!==s[p]&&!aa(c,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?kd(s,o,c):!0:!!o;return!1}function kd(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!aa(n,i))return!0}return!1}function N_({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Lp=t=>t.__isSuspense;function L_(t,e){e&&e.pendingBranch?ge(t)?e.effects.push(...t):e.effects.push(t):Xy(t)}const Se=Symbol.for("v-fgt"),la=Symbol.for("v-txt"),ts=Symbol.for("v-cmt"),ao=Symbol.for("v-stc"),Jr=[];let Gt=null;function B(t=!1){Jr.push(Gt=t?null:[])}function $_(){Jr.pop(),Gt=Jr[Jr.length-1]||null}let ui=1;function Vd(t,e=!1){ui+=t,t<0&&Gt&&e&&(Gt.hasOnce=!0)}function $p(t){return t.dynamicChildren=ui>0?Gt||Ys:null,$_(),ui>0&&Gt&&Gt.push(t),t}function H(t,e,n,s,r,i){return $p(w(t,e,n,s,r,i,!0))}function Ye(t,e,n,s,r){return $p(ae(t,e,n,s,r,!0))}function ci(t){return t?t.__v_isVNode===!0:!1}function $r(t,e){return t.type===e.type&&t.key===e.key}const Fp=({key:t})=>t??null,lo=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?et(t)||xt(t)||we(t)?{i:pt,r:t,k:e,f:!!n}:t:null);function w(t,e=null,n=null,s=0,r=null,i=t===Se?0:1,o=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Fp(e),ref:e&&lo(e),scopeId:up,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:pt};return a?(Cu(u,n),i&128&&t.normalize(u)):n&&(u.shapeFlag|=et(n)?8:16),ui>0&&!o&&Gt&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&Gt.push(u),u}const ae=F_;function F_(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===vp)&&(t=ts),ci(t)){const a=ar(t,e,!0);return n&&Cu(a,n),ui>0&&!i&&Gt&&(a.shapeFlag&6?Gt[Gt.indexOf(t)]=a:Gt.push(a)),a.patchFlag=-2,a}if(X_(t)&&(t=t.__vccOpts),e){e=B_(e);let{class:a,style:u}=e;a&&!et(a)&&(e.class=Qt(a)),je(u)&&(Tu(u)&&!ge(u)&&(u=Ct({},u)),e.style=ea(u))}const o=et(t)?1:Lp(t)?128:Zy(t)?64:je(t)?4:we(t)?2:0;return w(t,e,n,s,r,o,i,!0)}function B_(t){return t?Tu(t)||Sp(t)?Ct({},t):t:null}function ar(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:u}=t,c=e?U_(r||{},e):r,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Fp(c),ref:e&&e.ref?n&&i?ge(i)?i.concat(lo(e)):[i,lo(e)]:lo(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Se?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ar(t.ssContent),ssFallback:t.ssFallback&&ar(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&s&&Su(d,u.clone(d)),d}function Ze(t=" ",e=0){return ae(la,null,t,e)}function j_(t,e){const n=ae(ao,null,t);return n.staticCount=e,n}function Ie(t="",e=!1){return e?(B(),Ye(ts,null,t)):ae(ts,null,t)}function fn(t){return t==null||typeof t=="boolean"?ae(ts):ge(t)?ae(Se,null,t.slice()):ci(t)?Gn(t):ae(la,null,String(t))}function Gn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ar(t)}function Cu(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ge(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Cu(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!Sp(e)?e._ctx=pt:r===3&&pt&&(pt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else we(e)?(e={default:e,_ctx:pt},n=32):(e=String(e),s&64?(n=16,e=[Ze(e)]):n=8);t.children=e,t.shapeFlag|=n}function U_(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Qt([e.class,s.class]));else if(r==="style")e.style=ea([e.style,s.style]);else if(Qo(r)){const i=e[r],o=s[r];o&&i!==o&&!(ge(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function un(t,e,n,s=null){yn(t,e,7,[n,s])}const z_=Ep();let q_=0;function H_(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||z_,i={uid:q_++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new by(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xp(s,r),emitsOptions:Np(s,r),emit:null,emitted:null,propsDefaults:Fe,inheritAttrs:s.inheritAttrs,ctx:Fe,data:Fe,props:Fe,attrs:Fe,slots:Fe,refs:Fe,setupState:Fe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=V_.bind(null,i),t.ce&&t.ce(i),i}let At=null,Io,Nl;{const t=Zo(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Io=e("__VUE_INSTANCE_SETTERS__",n=>At=n),Nl=e("__VUE_SSR_SETTERS__",n=>di=n)}const Si=t=>{const e=At;return Io(t),t.scope.on(),()=>{t.scope.off(),Io(e)}},Dd=()=>{At&&At.scope.off(),Io(null)};function Bp(t){return t.vnode.shapeFlag&4}let di=!1;function G_(t,e=!1,n=!1){e&&Nl(e);const{props:s,children:r}=t.vnode,i=Bp(t);y_(t,s,i,e),E_(t,r,n);const o=i?W_(t,e):void 0;return e&&Nl(!1),o}function W_(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,c_);const{setup:s}=n;if(s){us();const r=t.setupContext=s.length>1?Q_(t):null,i=Si(t),o=Ii(s,t,0,[t.props,r]),a=Mh(o);if(cs(),i(),(a||t.sp)&&!er(t)&&dp(t),a){if(o.then(Dd,Dd),e)return o.then(u=>{Md(t,u)}).catch(u=>{sa(u,t,0)});t.asyncDep=o}else Md(t,o)}else jp(t)}function Md(t,e,n){we(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:je(e)&&(t.setupState=rp(e)),jp(t)}function jp(t,e,n){const s=t.type;t.render||(t.render=s.render||pn);{const r=Si(t);us();try{d_(t)}finally{cs(),r()}}}const K_={get(t,e){return Tt(t,"get",""),t[e]}};function Q_(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,K_),slots:t.slots,emit:t.emit,expose:e}}function ua(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(rp(jy(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Xr)return Xr[n](t)},has(e,n){return n in e||n in Xr}})):t.proxy}function Y_(t,e=!0){return we(t)?t.displayName||t.name:t.name||e&&t.__name}function X_(t){return we(t)&&"__vccOpts"in t}const st=(t,e)=>Gy(t,e,di);function Lt(t,e,n){const s=arguments.length;return s===2?je(e)&&!ge(e)?ci(e)?ae(t,null,[e]):ae(t,e):ae(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&ci(n)&&(n=[n]),ae(t,e,n))}const J_="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ll;const Od=typeof window<"u"&&window.trustedTypes;if(Od)try{Ll=Od.createPolicy("vue",{createHTML:t=>t})}catch{}const Up=Ll?t=>Ll.createHTML(t):t=>t,Z_="http://www.w3.org/2000/svg",e0="http://www.w3.org/1998/Math/MathML",Pn=typeof document<"u"?document:null,Nd=Pn&&Pn.createElement("template"),t0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?Pn.createElementNS(Z_,t):e==="mathml"?Pn.createElementNS(e0,t):n?Pn.createElement(t,{is:n}):Pn.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Pn.createTextNode(t),createComment:t=>Pn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Pn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Nd.innerHTML=Up(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=Nd.content;if(s==="svg"||s==="mathml"){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},n0=Symbol("_vtc");function s0(t,e,n){const s=t[n0];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const So=Symbol("_vod"),zp=Symbol("_vsh"),r0={beforeMount(t,{value:e},{transition:n}){t[So]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Fr(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),Fr(t,!0),s.enter(t)):s.leave(t,()=>{Fr(t,!1)}):Fr(t,e))},beforeUnmount(t,{value:e}){Fr(t,e)}};function Fr(t,e){t.style.display=e?t[So]:"none",t[zp]=!e}const i0=Symbol(""),o0=/(^|;)\s*display\s*:/;function a0(t,e,n){const s=t.style,r=et(n);let i=!1;if(n&&!r){if(e)if(et(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&uo(s,a,"")}else for(const o in e)n[o]==null&&uo(s,o,"");for(const o in n)o==="display"&&(i=!0),uo(s,o,n[o])}else if(r){if(e!==n){const o=s[i0];o&&(n+=";"+o),s.cssText=n,i=o0.test(n)}}else e&&t.removeAttribute("style");So in t&&(t[So]=i?s.display:"",t[zp]&&(s.display="none"))}const Ld=/\s*!important$/;function uo(t,e,n){if(ge(n))n.forEach(s=>uo(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=l0(t,e);Ld.test(n)?t.setProperty(Ds(s),n.replace(Ld,""),"important"):t[s]=n}}const $d=["Webkit","Moz","ms"],sl={};function l0(t,e){const n=sl[e];if(n)return n;let s=en(e);if(s!=="filter"&&s in t)return sl[e]=s;s=Jo(s);for(let r=0;r<$d.length;r++){const i=$d[r]+s;if(i in t)return sl[e]=i}return e}const Fd="http://www.w3.org/1999/xlink";function Bd(t,e,n,s,r,i=yy(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Fd,e.slice(6,e.length)):t.setAttributeNS(Fd,e,n):n==null||i&&!$h(n)?t.removeAttribute(e):t.setAttribute(e,i?"":on(n)?String(n):n)}function jd(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Up(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,u=n==null?t.type==="checkbox"?"on":"":String(n);(a!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=$h(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function Ts(t,e,n,s){t.addEventListener(e,n,s)}function u0(t,e,n,s){t.removeEventListener(e,n,s)}const Ud=Symbol("_vei");function c0(t,e,n,s,r=null){const i=t[Ud]||(t[Ud]={}),o=i[e];if(s&&o)o.value=s;else{const[a,u]=d0(e);if(s){const c=i[e]=p0(s,r);Ts(t,a,c,u)}else o&&(u0(t,a,o,u),i[e]=void 0)}}const zd=/(?:Once|Passive|Capture)$/;function d0(t){let e;if(zd.test(t)){e={};let s;for(;s=t.match(zd);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ds(t.slice(2)),e]}let rl=0;const f0=Promise.resolve(),h0=()=>rl||(f0.then(()=>rl=0),rl=Date.now());function p0(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;yn(m0(s,n.value),e,5,[s])};return n.value=t,n.attached=h0(),n}function m0(t,e){if(ge(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const qd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,g0=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?s0(t,s,o):e==="style"?a0(t,n,s):Qo(e)?pu(e)||c0(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):v0(t,e,s,o))?(jd(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Bd(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!et(s))?jd(t,en(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Bd(t,e,s,o))};function v0(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&qd(e)&&we(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return qd(e)&&et(n)?!1:e in t}const Ao=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ge(e)?n=>oo(e,n):e};function y0(t){t.target.composing=!0}function Hd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const rr=Symbol("_assign"),nt={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[rr]=Ao(r);const i=s||r.props&&r.props.type==="number";Ts(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=yo(a)),t[rr](a)}),n&&Ts(t,"change",()=>{t.value=t.value.trim()}),e||(Ts(t,"compositionstart",y0),Ts(t,"compositionend",Hd),Ts(t,"change",Hd))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[rr]=Ao(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?yo(t.value):t.value,u=e??"";a!==u&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===u)||(t.value=u))}},_0={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=Yo(e);Ts(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?yo(xo(o)):xo(o));t[rr](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,ra(()=>{t._assigning=!1})}),t[rr]=Ao(s)},mounted(t,{value:e}){Gd(t,e)},beforeUpdate(t,e,n){t[rr]=Ao(n)},updated(t,{value:e}){t._assigning||Gd(t,e)}};function Gd(t,e){const n=t.multiple,s=ge(e);if(!(n&&!s&&!Yo(e))){for(let r=0,i=t.options.length;r<i;r++){const o=t.options[r],a=xo(o);if(n)if(s){const u=typeof a;u==="string"||u==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=wy(e,a)>-1}else o.selected=e.has(a);else if(ta(xo(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function xo(t){return"_value"in t?t._value:t.value}const w0=["ctrl","shift","alt","meta"],b0={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>w0.some(n=>t[`${n}Key`]&&!e.includes(n))},Ai=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(r,...i)=>{for(let o=0;o<e.length;o++){const a=b0[e[o]];if(a&&a(r,e))return}return t(r,...i)})},E0=Ct({patchProp:g0},t0);let Wd;function T0(){return Wd||(Wd=I_(E0))}const I0=(...t)=>{const e=T0().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=A0(s);if(!r)return;const i=e._component;!we(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,S0(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function S0(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function A0(t){return et(t)?document.querySelector(t):t}const Ms={site:"site",trips:"trips"},x0=()=>{};var Kd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},C0=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],u=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Hp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;u||(g=64,o||(p=64)),s.push(n[d],n[f],n[p],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):C0(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const f=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||c==null||f==null)throw new P0;const p=i<<2|a>>4;if(s.push(p),c!==64){const g=a<<4&240|c>>2;if(s.push(g),f!==64){const _=c<<6&192|f;s.push(_)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class P0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const R0=function(t){const e=qp(t);return Hp.encodeByteArray(e,!0)},Co=function(t){return R0(t).replace(/\./g,"")},k0=function(t){try{return Hp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=()=>V0().__FIREBASE_DEFAULTS__,M0=()=>{if(typeof process>"u"||typeof Kd>"u")return;const t=Kd.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},O0=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&k0(t[1]);return e&&JSON.parse(e)},Pu=()=>{try{return x0()||D0()||M0()||O0()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},N0=t=>{var e,n;return(n=(e=Pu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},L0=t=>{const e=N0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Gp=()=>{var t;return(t=Pu())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Co(JSON.stringify(n)),Co(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function j0(){var t;const e=(t=Pu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function U0(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function z0(){return!j0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wp(){try{return typeof indexedDB=="object"}catch{return!1}}function Kp(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function q0(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="FirebaseError";class ds extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=H0,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ca.prototype.create)}}class ca{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?G0(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new ds(r,a,s)}}function G0(t,e){return t.replace(W0,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const W0=/\{\$([^}]+)}/g;function fi(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(Qd(i)&&Qd(o)){if(!fi(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Qd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=1e3,Q0=2,Y0=4*60*60*1e3,X0=.5;function Yd(t,e=K0,n=Q0){const s=e*Math.pow(n,t),r=Math.round(X0*s*(Math.random()-.5)*2);return Math.min(Y0,s+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t){return t&&t._delegate?t._delegate:t}class Dn{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new $0;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ew(e))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Es){return this.instances.has(e)}getOptions(e=Es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Z0(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Es){return this.component?this.component.multipleInstances?e:Es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Z0(t){return t===Es?void 0:t}function ew(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new J0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const nw={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},sw=Re.INFO,rw={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},iw=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=rw[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ru{constructor(e){this.name=e,this._logLevel=sw,this._logHandler=iw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const ow=(t,e)=>e.some(n=>t instanceof n);let Xd,Jd;function aw(){return Xd||(Xd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lw(){return Jd||(Jd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qp=new WeakMap,$l=new WeakMap,Yp=new WeakMap,il=new WeakMap,ku=new WeakMap;function uw(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Xn(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Qp.set(n,t)}).catch(()=>{}),ku.set(e,t),e}function cw(t){if($l.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});$l.set(t,e)}let Fl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $l.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Yp.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dw(t){Fl=t(Fl)}function fw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(ol(this),e,...n);return Yp.set(s,e.sort?e.sort():[e]),Xn(s)}:lw().includes(t)?function(...e){return t.apply(ol(this),e),Xn(Qp.get(this))}:function(...e){return Xn(t.apply(ol(this),e))}}function hw(t){return typeof t=="function"?fw(t):(t instanceof IDBTransaction&&cw(t),ow(t,aw())?new Proxy(t,Fl):t)}function Xn(t){if(t instanceof IDBRequest)return uw(t);if(il.has(t))return il.get(t);const e=hw(t);return e!==t&&(il.set(t,e),ku.set(e,t)),e}const ol=t=>ku.get(t);function Xp(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Xn(o);return s&&o.addEventListener("upgradeneeded",u=>{s(Xn(o.result),u.oldVersion,u.newVersion,Xn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),r&&u.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const pw=["get","getKey","getAll","getAllKeys","count"],mw=["put","add","delete","clear"],al=new Map;function Zd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(al.get(e))return al.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=mw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||pw.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,r?"readwrite":"readonly");let c=u.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&u.done]))[0]};return al.set(e,i),i}dw(t=>({...t,get:(e,n,s)=>Zd(e,n)||t.get(e,n,s),has:(e,n)=>!!Zd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function vw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bl="@firebase/app",ef="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn=new Ru("@firebase/app"),yw="@firebase/app-compat",_w="@firebase/analytics-compat",ww="@firebase/analytics",bw="@firebase/app-check-compat",Ew="@firebase/app-check",Tw="@firebase/auth",Iw="@firebase/auth-compat",Sw="@firebase/database",Aw="@firebase/data-connect",xw="@firebase/database-compat",Cw="@firebase/functions",Pw="@firebase/functions-compat",Rw="@firebase/installations",kw="@firebase/installations-compat",Vw="@firebase/messaging",Dw="@firebase/messaging-compat",Mw="@firebase/performance",Ow="@firebase/performance-compat",Nw="@firebase/remote-config",Lw="@firebase/remote-config-compat",$w="@firebase/storage",Fw="@firebase/storage-compat",Bw="@firebase/firestore",jw="@firebase/vertexai",Uw="@firebase/firestore-compat",zw="firebase",qw="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl="[DEFAULT]",Hw={[Bl]:"fire-core",[yw]:"fire-core-compat",[ww]:"fire-analytics",[_w]:"fire-analytics-compat",[Ew]:"fire-app-check",[bw]:"fire-app-check-compat",[Tw]:"fire-auth",[Iw]:"fire-auth-compat",[Sw]:"fire-rtdb",[Aw]:"fire-data-connect",[xw]:"fire-rtdb-compat",[Cw]:"fire-fn",[Pw]:"fire-fn-compat",[Rw]:"fire-iid",[kw]:"fire-iid-compat",[Vw]:"fire-fcm",[Dw]:"fire-fcm-compat",[Mw]:"fire-perf",[Ow]:"fire-perf-compat",[Nw]:"fire-rc",[Lw]:"fire-rc-compat",[$w]:"fire-gcs",[Fw]:"fire-gcs-compat",[Bw]:"fire-fst",[Uw]:"fire-fst-compat",[jw]:"fire-vertex","fire-js":"fire-js",[zw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new Map,Gw=new Map,Ul=new Map;function tf(t,e){try{t.container.addComponent(e)}catch(n){Mn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ns(t){const e=t.name;if(Ul.has(e))return Mn.debug(`There were multiple attempts to register component ${e}.`),!1;Ul.set(e,t);for(const n of Po.values())tf(n,t);for(const n of Gw.values())tf(n,t);return!0}function xi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ww(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jn=new ca("app","Firebase",Kw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Dn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=qw;function Jp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:jl,automaticDataCollectionEnabled:!1},e),r=s.name;if(typeof r!="string"||!r)throw Jn.create("bad-app-name",{appName:String(r)});if(n||(n=Gp()),!n)throw Jn.create("no-options");const i=Po.get(r);if(i){if(fi(n,i.options)&&fi(s,i.config))return i;throw Jn.create("duplicate-app",{appName:r})}const o=new tw(r);for(const u of Ul.values())o.addComponent(u);const a=new Qw(n,s,o);return Po.set(r,a),a}function Zp(t=jl){const e=Po.get(t);if(!e&&t===jl&&Gp())return Jp();if(!e)throw Jn.create("no-app",{appName:t});return e}function mn(t,e,n){var s;let r=(s=Hw[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mn.warn(a.join(" "));return}ns(new Dn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="firebase-heartbeat-database",Jw=1,hi="firebase-heartbeat-store";let ll=null;function em(){return ll||(ll=Xp(Xw,Jw,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hi)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jn.create("idb-open",{originalErrorMessage:t.message})})),ll}async function Zw(t){try{const n=(await em()).transaction(hi),s=await n.objectStore(hi).get(tm(t));return await n.done,s}catch(e){if(e instanceof ds)Mn.warn(e.message);else{const n=Jn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mn.warn(n.message)}}}async function nf(t,e){try{const s=(await em()).transaction(hi,"readwrite");await s.objectStore(hi).put(e,tm(t)),await s.done}catch(n){if(n instanceof ds)Mn.warn(n.message);else{const s=Jn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mn.warn(s.message)}}}function tm(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=1024,tb=30;class nb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rb(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=sf();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>tb){const o=ib(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Mn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sf(),{heartbeatsToSend:s,unsentEntries:r}=sb(this._heartbeatsCache.heartbeats),i=Co(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Mn.warn(n),""}}}function sf(){return new Date().toISOString().substring(0,10)}function sb(t,e=eb){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),rf(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),rf(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class rb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wp()?Kp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Zw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return nf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return nf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function rf(t){return Co(JSON.stringify({version:2,heartbeats:t})).length}function ib(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(t){ns(new Dn("platform-logger",e=>new gw(e),"PRIVATE")),ns(new Dn("heartbeat",e=>new nb(e),"PRIVATE")),mn(Bl,ef,t),mn(Bl,ef,"esm2017"),mn("fire-js","")}ob("");var ab="firebase",lb="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn(ab,lb,"app");var of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zn,nm;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,b){function E(){}E.prototype=b.prototype,A.D=b.prototype,A.prototype=new E,A.prototype.constructor=A,A.C=function(S,R,O){for(var P=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)P[Ee-2]=arguments[Ee];return b.prototype[R].apply(S,P)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(A,b,E){E||(E=0);var S=Array(16);if(typeof b=="string")for(var R=0;16>R;++R)S[R]=b.charCodeAt(E++)|b.charCodeAt(E++)<<8|b.charCodeAt(E++)<<16|b.charCodeAt(E++)<<24;else for(R=0;16>R;++R)S[R]=b[E++]|b[E++]<<8|b[E++]<<16|b[E++]<<24;b=A.g[0],E=A.g[1],R=A.g[2];var O=A.g[3],P=b+(O^E&(R^O))+S[0]+3614090360&4294967295;b=E+(P<<7&4294967295|P>>>25),P=O+(R^b&(E^R))+S[1]+3905402710&4294967295,O=b+(P<<12&4294967295|P>>>20),P=R+(E^O&(b^E))+S[2]+606105819&4294967295,R=O+(P<<17&4294967295|P>>>15),P=E+(b^R&(O^b))+S[3]+3250441966&4294967295,E=R+(P<<22&4294967295|P>>>10),P=b+(O^E&(R^O))+S[4]+4118548399&4294967295,b=E+(P<<7&4294967295|P>>>25),P=O+(R^b&(E^R))+S[5]+1200080426&4294967295,O=b+(P<<12&4294967295|P>>>20),P=R+(E^O&(b^E))+S[6]+2821735955&4294967295,R=O+(P<<17&4294967295|P>>>15),P=E+(b^R&(O^b))+S[7]+4249261313&4294967295,E=R+(P<<22&4294967295|P>>>10),P=b+(O^E&(R^O))+S[8]+1770035416&4294967295,b=E+(P<<7&4294967295|P>>>25),P=O+(R^b&(E^R))+S[9]+2336552879&4294967295,O=b+(P<<12&4294967295|P>>>20),P=R+(E^O&(b^E))+S[10]+4294925233&4294967295,R=O+(P<<17&4294967295|P>>>15),P=E+(b^R&(O^b))+S[11]+2304563134&4294967295,E=R+(P<<22&4294967295|P>>>10),P=b+(O^E&(R^O))+S[12]+1804603682&4294967295,b=E+(P<<7&4294967295|P>>>25),P=O+(R^b&(E^R))+S[13]+4254626195&4294967295,O=b+(P<<12&4294967295|P>>>20),P=R+(E^O&(b^E))+S[14]+2792965006&4294967295,R=O+(P<<17&4294967295|P>>>15),P=E+(b^R&(O^b))+S[15]+1236535329&4294967295,E=R+(P<<22&4294967295|P>>>10),P=b+(R^O&(E^R))+S[1]+4129170786&4294967295,b=E+(P<<5&4294967295|P>>>27),P=O+(E^R&(b^E))+S[6]+3225465664&4294967295,O=b+(P<<9&4294967295|P>>>23),P=R+(b^E&(O^b))+S[11]+643717713&4294967295,R=O+(P<<14&4294967295|P>>>18),P=E+(O^b&(R^O))+S[0]+3921069994&4294967295,E=R+(P<<20&4294967295|P>>>12),P=b+(R^O&(E^R))+S[5]+3593408605&4294967295,b=E+(P<<5&4294967295|P>>>27),P=O+(E^R&(b^E))+S[10]+38016083&4294967295,O=b+(P<<9&4294967295|P>>>23),P=R+(b^E&(O^b))+S[15]+3634488961&4294967295,R=O+(P<<14&4294967295|P>>>18),P=E+(O^b&(R^O))+S[4]+3889429448&4294967295,E=R+(P<<20&4294967295|P>>>12),P=b+(R^O&(E^R))+S[9]+568446438&4294967295,b=E+(P<<5&4294967295|P>>>27),P=O+(E^R&(b^E))+S[14]+3275163606&4294967295,O=b+(P<<9&4294967295|P>>>23),P=R+(b^E&(O^b))+S[3]+4107603335&4294967295,R=O+(P<<14&4294967295|P>>>18),P=E+(O^b&(R^O))+S[8]+1163531501&4294967295,E=R+(P<<20&4294967295|P>>>12),P=b+(R^O&(E^R))+S[13]+2850285829&4294967295,b=E+(P<<5&4294967295|P>>>27),P=O+(E^R&(b^E))+S[2]+4243563512&4294967295,O=b+(P<<9&4294967295|P>>>23),P=R+(b^E&(O^b))+S[7]+1735328473&4294967295,R=O+(P<<14&4294967295|P>>>18),P=E+(O^b&(R^O))+S[12]+2368359562&4294967295,E=R+(P<<20&4294967295|P>>>12),P=b+(E^R^O)+S[5]+4294588738&4294967295,b=E+(P<<4&4294967295|P>>>28),P=O+(b^E^R)+S[8]+2272392833&4294967295,O=b+(P<<11&4294967295|P>>>21),P=R+(O^b^E)+S[11]+1839030562&4294967295,R=O+(P<<16&4294967295|P>>>16),P=E+(R^O^b)+S[14]+4259657740&4294967295,E=R+(P<<23&4294967295|P>>>9),P=b+(E^R^O)+S[1]+2763975236&4294967295,b=E+(P<<4&4294967295|P>>>28),P=O+(b^E^R)+S[4]+1272893353&4294967295,O=b+(P<<11&4294967295|P>>>21),P=R+(O^b^E)+S[7]+4139469664&4294967295,R=O+(P<<16&4294967295|P>>>16),P=E+(R^O^b)+S[10]+3200236656&4294967295,E=R+(P<<23&4294967295|P>>>9),P=b+(E^R^O)+S[13]+681279174&4294967295,b=E+(P<<4&4294967295|P>>>28),P=O+(b^E^R)+S[0]+3936430074&4294967295,O=b+(P<<11&4294967295|P>>>21),P=R+(O^b^E)+S[3]+3572445317&4294967295,R=O+(P<<16&4294967295|P>>>16),P=E+(R^O^b)+S[6]+76029189&4294967295,E=R+(P<<23&4294967295|P>>>9),P=b+(E^R^O)+S[9]+3654602809&4294967295,b=E+(P<<4&4294967295|P>>>28),P=O+(b^E^R)+S[12]+3873151461&4294967295,O=b+(P<<11&4294967295|P>>>21),P=R+(O^b^E)+S[15]+530742520&4294967295,R=O+(P<<16&4294967295|P>>>16),P=E+(R^O^b)+S[2]+3299628645&4294967295,E=R+(P<<23&4294967295|P>>>9),P=b+(R^(E|~O))+S[0]+4096336452&4294967295,b=E+(P<<6&4294967295|P>>>26),P=O+(E^(b|~R))+S[7]+1126891415&4294967295,O=b+(P<<10&4294967295|P>>>22),P=R+(b^(O|~E))+S[14]+2878612391&4294967295,R=O+(P<<15&4294967295|P>>>17),P=E+(O^(R|~b))+S[5]+4237533241&4294967295,E=R+(P<<21&4294967295|P>>>11),P=b+(R^(E|~O))+S[12]+1700485571&4294967295,b=E+(P<<6&4294967295|P>>>26),P=O+(E^(b|~R))+S[3]+2399980690&4294967295,O=b+(P<<10&4294967295|P>>>22),P=R+(b^(O|~E))+S[10]+4293915773&4294967295,R=O+(P<<15&4294967295|P>>>17),P=E+(O^(R|~b))+S[1]+2240044497&4294967295,E=R+(P<<21&4294967295|P>>>11),P=b+(R^(E|~O))+S[8]+1873313359&4294967295,b=E+(P<<6&4294967295|P>>>26),P=O+(E^(b|~R))+S[15]+4264355552&4294967295,O=b+(P<<10&4294967295|P>>>22),P=R+(b^(O|~E))+S[6]+2734768916&4294967295,R=O+(P<<15&4294967295|P>>>17),P=E+(O^(R|~b))+S[13]+1309151649&4294967295,E=R+(P<<21&4294967295|P>>>11),P=b+(R^(E|~O))+S[4]+4149444226&4294967295,b=E+(P<<6&4294967295|P>>>26),P=O+(E^(b|~R))+S[11]+3174756917&4294967295,O=b+(P<<10&4294967295|P>>>22),P=R+(b^(O|~E))+S[2]+718787259&4294967295,R=O+(P<<15&4294967295|P>>>17),P=E+(O^(R|~b))+S[9]+3951481745&4294967295,A.g[0]=A.g[0]+b&4294967295,A.g[1]=A.g[1]+(R+(P<<21&4294967295|P>>>11))&4294967295,A.g[2]=A.g[2]+R&4294967295,A.g[3]=A.g[3]+O&4294967295}s.prototype.u=function(A,b){b===void 0&&(b=A.length);for(var E=b-this.blockSize,S=this.B,R=this.h,O=0;O<b;){if(R==0)for(;O<=E;)r(this,A,O),O+=this.blockSize;if(typeof A=="string"){for(;O<b;)if(S[R++]=A.charCodeAt(O++),R==this.blockSize){r(this,S),R=0;break}}else for(;O<b;)if(S[R++]=A[O++],R==this.blockSize){r(this,S),R=0;break}}this.h=R,this.o+=b},s.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var b=1;b<A.length-8;++b)A[b]=0;var E=8*this.o;for(b=A.length-8;b<A.length;++b)A[b]=E&255,E/=256;for(this.u(A),A=Array(16),b=E=0;4>b;++b)for(var S=0;32>S;S+=8)A[E++]=this.g[b]>>>S&255;return A};function i(A,b){var E=a;return Object.prototype.hasOwnProperty.call(E,A)?E[A]:E[A]=b(A)}function o(A,b){this.h=b;for(var E=[],S=!0,R=A.length-1;0<=R;R--){var O=A[R]|0;S&&O==b||(E[R]=O,S=!1)}this.g=E}var a={};function u(A){return-128<=A&&128>A?i(A,function(b){return new o([b|0],0>b?-1:0)}):new o([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return C(c(-A));for(var b=[],E=1,S=0;A>=E;S++)b[S]=A/E|0,E*=4294967296;return new o(b,0)}function d(A,b){if(A.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(A.charAt(0)=="-")return C(d(A.substring(1),b));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=c(Math.pow(b,8)),S=f,R=0;R<A.length;R+=8){var O=Math.min(8,A.length-R),P=parseInt(A.substring(R,R+O),b);8>O?(O=c(Math.pow(b,O)),S=S.j(O).add(c(P))):(S=S.j(E),S=S.add(c(P)))}return S}var f=u(0),p=u(1),g=u(16777216);t=o.prototype,t.m=function(){if(x(this))return-C(this).m();for(var A=0,b=1,E=0;E<this.g.length;E++){var S=this.i(E);A+=(0<=S?S:4294967296+S)*b,b*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(_(this))return"0";if(x(this))return"-"+C(this).toString(A);for(var b=c(Math.pow(A,6)),E=this,S="";;){var R=I(E,b).g;E=k(E,R.j(b));var O=((0<E.g.length?E.g[0]:E.h)>>>0).toString(A);if(E=R,_(E))return O+S;for(;6>O.length;)O="0"+O;S=O+S}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function _(A){if(A.h!=0)return!1;for(var b=0;b<A.g.length;b++)if(A.g[b]!=0)return!1;return!0}function x(A){return A.h==-1}t.l=function(A){return A=k(this,A),x(A)?-1:_(A)?0:1};function C(A){for(var b=A.g.length,E=[],S=0;S<b;S++)E[S]=~A.g[S];return new o(E,~A.h).add(p)}t.abs=function(){return x(this)?C(this):this},t.add=function(A){for(var b=Math.max(this.g.length,A.g.length),E=[],S=0,R=0;R<=b;R++){var O=S+(this.i(R)&65535)+(A.i(R)&65535),P=(O>>>16)+(this.i(R)>>>16)+(A.i(R)>>>16);S=P>>>16,O&=65535,P&=65535,E[R]=P<<16|O}return new o(E,E[E.length-1]&-2147483648?-1:0)};function k(A,b){return A.add(C(b))}t.j=function(A){if(_(this)||_(A))return f;if(x(this))return x(A)?C(this).j(C(A)):C(C(this).j(A));if(x(A))return C(this.j(C(A)));if(0>this.l(g)&&0>A.l(g))return c(this.m()*A.m());for(var b=this.g.length+A.g.length,E=[],S=0;S<2*b;S++)E[S]=0;for(S=0;S<this.g.length;S++)for(var R=0;R<A.g.length;R++){var O=this.i(S)>>>16,P=this.i(S)&65535,Ee=A.i(R)>>>16,Ae=A.i(R)&65535;E[2*S+2*R]+=P*Ae,y(E,2*S+2*R),E[2*S+2*R+1]+=O*Ae,y(E,2*S+2*R+1),E[2*S+2*R+1]+=P*Ee,y(E,2*S+2*R+1),E[2*S+2*R+2]+=O*Ee,y(E,2*S+2*R+2)}for(S=0;S<b;S++)E[S]=E[2*S+1]<<16|E[2*S];for(S=b;S<2*b;S++)E[S]=0;return new o(E,0)};function y(A,b){for(;(A[b]&65535)!=A[b];)A[b+1]+=A[b]>>>16,A[b]&=65535,b++}function v(A,b){this.g=A,this.h=b}function I(A,b){if(_(b))throw Error("division by zero");if(_(A))return new v(f,f);if(x(A))return b=I(C(A),b),new v(C(b.g),C(b.h));if(x(b))return b=I(A,C(b)),new v(C(b.g),b.h);if(30<A.g.length){if(x(A)||x(b))throw Error("slowDivide_ only works with positive integers.");for(var E=p,S=b;0>=S.l(A);)E=M(E),S=M(S);var R=$(E,1),O=$(S,1);for(S=$(S,2),E=$(E,2);!_(S);){var P=O.add(S);0>=P.l(A)&&(R=R.add(E),O=P),S=$(S,1),E=$(E,1)}return b=k(A,R.j(b)),new v(R,b)}for(R=f;0<=A.l(b);){for(E=Math.max(1,Math.floor(A.m()/b.m())),S=Math.ceil(Math.log(E)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),O=c(E),P=O.j(b);x(P)||0<P.l(A);)E-=S,O=c(E),P=O.j(b);_(O)&&(O=p),R=R.add(O),A=k(A,P)}return new v(R,A)}t.A=function(A){return I(this,A).h},t.and=function(A){for(var b=Math.max(this.g.length,A.g.length),E=[],S=0;S<b;S++)E[S]=this.i(S)&A.i(S);return new o(E,this.h&A.h)},t.or=function(A){for(var b=Math.max(this.g.length,A.g.length),E=[],S=0;S<b;S++)E[S]=this.i(S)|A.i(S);return new o(E,this.h|A.h)},t.xor=function(A){for(var b=Math.max(this.g.length,A.g.length),E=[],S=0;S<b;S++)E[S]=this.i(S)^A.i(S);return new o(E,this.h^A.h)};function M(A){for(var b=A.g.length+1,E=[],S=0;S<b;S++)E[S]=A.i(S)<<1|A.i(S-1)>>>31;return new o(E,A.h)}function $(A,b){var E=b>>5;b%=32;for(var S=A.g.length-E,R=[],O=0;O<S;O++)R[O]=0<b?A.i(O+E)>>>b|A.i(O+E+1)<<32-b:A.i(O+E);return new o(R,A.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,nm=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Zn=o}).apply(typeof of<"u"?of:typeof self<"u"?self:typeof window<"u"?window:{});var Zi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sm,qr,rm,co,zl,im,om,am;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,m){return l==Array.prototype||l==Object.prototype||(l[h]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zi=="object"&&Zi];for(var h=0;h<l.length;++h){var m=l[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var s=n(this);function r(l,h){if(h)e:{var m=s;l=l.split(".");for(var T=0;T<l.length-1;T++){var L=l[T];if(!(L in m))break e;m=m[L]}l=l[l.length-1],T=m[l],h=h(T),h!=T&&h!=null&&e(m,l,{configurable:!0,writable:!0,value:h})}}function i(l,h){l instanceof String&&(l+="");var m=0,T=!1,L={next:function(){if(!T&&m<l.length){var F=m++;return{value:h(F,l[F]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}r("Array.prototype.values",function(l){return l||function(){return i(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,m){return l.call.apply(l.bind,arguments)}function f(l,h,m){if(!l)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),l.apply(h,L)}}return function(){return l.apply(h,arguments)}}function p(l,h,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function g(l,h){var m=Array.prototype.slice.call(arguments,1);return function(){var T=m.slice();return T.push.apply(T,arguments),l.apply(this,T)}}function _(l,h){function m(){}m.prototype=h.prototype,l.aa=h.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(T,L,F){for(var X=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)X[$e-2]=arguments[$e];return h.prototype[L].apply(T,X)}}function x(l){const h=l.length;if(0<h){const m=Array(h);for(let T=0;T<h;T++)m[T]=l[T];return m}return[]}function C(l,h){for(let m=1;m<arguments.length;m++){const T=arguments[m];if(u(T)){const L=l.length||0,F=T.length||0;l.length=L+F;for(let X=0;X<F;X++)l[L+X]=T[X]}else l.push(T)}}class k{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(l){return/^[\s\xa0]*$/.test(l)}function v(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function I(l){return I[" "](l),l}I[" "]=function(){};var M=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function $(l,h,m){for(const T in l)h.call(m,l[T],T,l)}function A(l,h){for(const m in l)h.call(void 0,l[m],m,l)}function b(l){const h={};for(const m in l)h[m]=l[m];return h}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(l,h){let m,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(m in T)l[m]=T[m];for(let F=0;F<E.length;F++)m=E[F],Object.prototype.hasOwnProperty.call(T,m)&&(l[m]=T[m])}}function R(l){var h=1;l=l.split(":");const m=[];for(;0<h&&l.length;)m.push(l.shift()),h--;return l.length&&m.push(l.join(":")),m}function O(l){a.setTimeout(()=>{throw l},0)}function P(){var l=Ge;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Ee{constructor(){this.h=this.g=null}add(h,m){const T=Ae.get();T.set(h,m),this.h?this.h.next=T:this.g=T,this.h=T}}var Ae=new k(()=>new se,l=>l.reset());class se{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,de=!1,Ge=new Ee,Dt=()=>{const l=a.Promise.resolve(void 0);ce=()=>{l.then(Mt)}};var Mt=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(m){O(m)}var h=Ae;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}de=!1};function Ue(){this.s=this.s,this.C=this.C}Ue.prototype.s=!1,Ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function We(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}We.prototype.h=function(){this.defaultPrevented=!0};var Fn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return l}();function ln(l,h){if(We.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,T=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(M){e:{try{I(h.nodeName);var L=!0;break e}catch{}L=!1}L||(h=null)}}else m=="mouseover"?h=l.fromElement:m=="mouseout"&&(h=l.toElement);this.relatedTarget=h,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ot[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ln.aa.h.call(this)}}_(ln,We);var Ot={2:"touch",3:"pen",4:"mouse"};ln.prototype.h=function(){ln.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),te=0;function Z(l,h,m,T,L){this.listener=l,this.proxy=null,this.src=h,this.type=m,this.capture=!!T,this.ha=L,this.key=++te,this.da=this.fa=!1}function re(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ke(l){this.src=l,this.g={},this.h=0}ke.prototype.add=function(l,h,m,T,L){var F=l.toString();l=this.g[F],l||(l=this.g[F]=[],this.h++);var X=D(l,h,T,L);return-1<X?(h=l[X],m||(h.fa=!1)):(h=new Z(h,this.src,F,!!T,L),h.fa=m,l.push(h)),h};function V(l,h){var m=h.type;if(m in l.g){var T=l.g[m],L=Array.prototype.indexOf.call(T,h,void 0),F;(F=0<=L)&&Array.prototype.splice.call(T,L,1),F&&(re(h),l.g[m].length==0&&(delete l.g[m],l.h--))}}function D(l,h,m,T){for(var L=0;L<l.length;++L){var F=l[L];if(!F.da&&F.listener==h&&F.capture==!!m&&F.ha==T)return L}return-1}var N="closure_lm_"+(1e6*Math.random()|0),U={};function G(l,h,m,T,L){if(Array.isArray(h)){for(var F=0;F<h.length;F++)G(l,h[F],m,T,L);return null}return m=me(m),l&&l[j]?l.K(h,m,c(T)?!!T.capture:!1,L):z(l,h,m,!1,T,L)}function z(l,h,m,T,L,F){if(!h)throw Error("Invalid event type");var X=c(L)?!!L.capture:!!L,$e=ee(l);if($e||(l[N]=$e=new ke(l)),m=$e.add(h,m,T,X,F),m.proxy)return m;if(T=J(),m.proxy=T,T.src=l,T.listener=m,l.addEventListener)Fn||(L=X),L===void 0&&(L=!1),l.addEventListener(h.toString(),T,L);else if(l.attachEvent)l.attachEvent(K(h.toString()),T);else if(l.addListener&&l.removeListener)l.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return m}function J(){function l(m){return h.call(l.src,l.listener,m)}const h=fe;return l}function Y(l,h,m,T,L){if(Array.isArray(h))for(var F=0;F<h.length;F++)Y(l,h[F],m,T,L);else T=c(T)?!!T.capture:!!T,m=me(m),l&&l[j]?(l=l.i,h=String(h).toString(),h in l.g&&(F=l.g[h],m=D(F,m,T,L),-1<m&&(re(F[m]),Array.prototype.splice.call(F,m,1),F.length==0&&(delete l.g[h],l.h--)))):l&&(l=ee(l))&&(h=l.g[h.toString()],l=-1,h&&(l=D(h,m,T,L)),(m=-1<l?h[l]:null)&&Q(m))}function Q(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[j])V(h.i,l);else{var m=l.type,T=l.proxy;h.removeEventListener?h.removeEventListener(m,T,l.capture):h.detachEvent?h.detachEvent(K(m),T):h.addListener&&h.removeListener&&h.removeListener(T),(m=ee(h))?(V(m,l),m.h==0&&(m.src=null,h[N]=null)):re(l)}}}function K(l){return l in U?U[l]:U[l]="on"+l}function fe(l,h){if(l.da)l=!0;else{h=new ln(h,this);var m=l.listener,T=l.ha||l.src;l.fa&&Q(l),l=m.call(T,h)}return l}function ee(l){return l=l[N],l instanceof ke?l:null}var oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(l){return typeof l=="function"?l:(l[oe]||(l[oe]=function(h){return l.handleEvent(h)}),l[oe])}function he(){Ue.call(this),this.i=new ke(this),this.M=this,this.F=null}_(he,Ue),he.prototype[j]=!0,he.prototype.removeEventListener=function(l,h,m,T){Y(this,l,h,m,T)};function be(l,h){var m,T=l.F;if(T)for(m=[];T;T=T.F)m.push(T);if(l=l.M,T=h.type||h,typeof h=="string")h=new We(h,l);else if(h instanceof We)h.target=h.target||l;else{var L=h;h=new We(T,l),S(h,L)}if(L=!0,m)for(var F=m.length-1;0<=F;F--){var X=h.g=m[F];L=Ce(X,T,!0,h)&&L}if(X=h.g=l,L=Ce(X,T,!0,h)&&L,L=Ce(X,T,!1,h)&&L,m)for(F=0;F<m.length;F++)X=h.g=m[F],L=Ce(X,T,!1,h)&&L}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var m=l.g[h],T=0;T<m.length;T++)re(m[T]);delete l.g[h],l.h--}}this.F=null},he.prototype.K=function(l,h,m,T){return this.i.add(String(l),h,!1,m,T)},he.prototype.L=function(l,h,m,T){return this.i.add(String(l),h,!0,m,T)};function Ce(l,h,m,T){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var L=!0,F=0;F<h.length;++F){var X=h[F];if(X&&!X.da&&X.capture==m){var $e=X.listener,dt=X.ha||X.src;X.fa&&V(l.i,X),L=$e.call(dt,T)!==!1&&L}}return L&&!T.defaultPrevented}function vt(l,h,m){if(typeof l=="function")m&&(l=p(l,m));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function ut(l){l.g=vt(()=>{l.g=null,l.i&&(l.i=!1,ut(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class Yt extends Ue{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:ut(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yt(l){Ue.call(this),this.h=l,this.g={}}_(yt,Ue);var Bn=[];function Ir(l){$(l.g,function(h,m){this.g.hasOwnProperty(m)&&Q(h)},l),l.g={}}yt.prototype.N=function(){yt.aa.N.call(this),Ir(this)},yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ct=a.JSON.stringify,Xt=a.JSON.parse,Mi=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Oa(){}Oa.prototype.h=null;function xc(l){return l.h||(l.h=l.i())}function Cc(){}var Sr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Na(){We.call(this,"d")}_(Na,We);function La(){We.call(this,"c")}_(La,We);var ms={},Pc=null;function Oi(){return Pc=Pc||new he}ms.La="serverreachability";function Rc(l){We.call(this,ms.La,l)}_(Rc,We);function Ar(l){const h=Oi();be(h,new Rc(h))}ms.STAT_EVENT="statevent";function kc(l,h){We.call(this,ms.STAT_EVENT,l),this.stat=h}_(kc,We);function Pt(l){const h=Oi();be(h,new kc(h,l))}ms.Ma="timingevent";function Vc(l,h){We.call(this,ms.Ma,l),this.size=h}_(Vc,We);function xr(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Cr(){this.g=!0}Cr.prototype.xa=function(){this.g=!1};function Fv(l,h,m,T,L,F){l.info(function(){if(l.g)if(F)for(var X="",$e=F.split("&"),dt=0;dt<$e.length;dt++){var Ve=$e[dt].split("=");if(1<Ve.length){var _t=Ve[0];Ve=Ve[1];var wt=_t.split("_");X=2<=wt.length&&wt[1]=="type"?X+(_t+"="+Ve+"&"):X+(_t+"=redacted&")}}else X=null;else X=F;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+h+`
`+m+`
`+X})}function Bv(l,h,m,T,L,F,X){l.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+h+`
`+m+`
`+F+" "+X})}function Fs(l,h,m,T){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+Uv(l,m)+(T?" "+T:"")})}function jv(l,h){l.info(function(){return"TIMEOUT: "+h})}Cr.prototype.info=function(){};function Uv(l,h){if(!l.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var T=m[l];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var X=1;X<L.length;X++)L[X]=""}}}}return ct(m)}catch{return h}}var Ni={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$a;function Li(){}_(Li,Oa),Li.prototype.g=function(){return new XMLHttpRequest},Li.prototype.i=function(){return{}},$a=new Li;function jn(l,h,m,T){this.j=l,this.i=h,this.l=m,this.R=T||1,this.U=new yt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mc}function Mc(){this.i=null,this.g="",this.h=!1}var Oc={},Fa={};function Ba(l,h,m){l.L=1,l.v=ji(In(h)),l.m=m,l.P=!0,Nc(l,null)}function Nc(l,h){l.F=Date.now(),$i(l),l.A=In(l.v);var m=l.A,T=l.R;Array.isArray(T)||(T=[String(T)]),Yc(m.i,"t",T),l.C=0,m=l.j.J,l.h=new Mc,l.g=pd(l.j,m?h:null,!l.m),0<l.O&&(l.M=new Yt(p(l.Y,l,l.g),l.O)),h=l.U,m=l.g,T=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(Bn[0]=L.toString()),L=Bn);for(var F=0;F<L.length;F++){var X=G(m,L[F],T||h.handleEvent,!1,h.h||h);if(!X)break;h.g[X.key]=X}h=l.H?b(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Ar(),Fv(l.i,l.u,l.A,l.l,l.R,l.m)}jn.prototype.ca=function(l){l=l.target;const h=this.M;h&&Sn(l)==3?h.j():this.Y(l)},jn.prototype.Y=function(l){try{if(l==this.g)e:{const wt=Sn(this.g);var h=this.g.Ba();const Us=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||sd(this.g)))){this.J||wt!=4||h==7||(h==8||0>=Us?Ar(3):Ar(2)),ja(this);var m=this.g.Z();this.X=m;t:if(Lc(this)){var T=sd(this.g);l="";var L=T.length,F=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gs(this),Pr(this);var X="";break t}this.h.i=new a.TextDecoder}for(h=0;h<L;h++)this.h.h=!0,l+=this.h.i.decode(T[h],{stream:!(F&&h==L-1)});T.length=0,this.h.g+=l,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=m==200,Bv(this.i,this.u,this.A,this.l,this.R,wt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,dt=this.g;if(($e=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y($e)){var Ve=$e;break t}}Ve=null}if(m=Ve)Fs(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ua(this,m);else{this.o=!1,this.s=3,Pt(12),gs(this),Pr(this);break e}}if(this.P){m=!0;let tn;for(;!this.J&&this.C<X.length;)if(tn=zv(this,X),tn==Fa){wt==4&&(this.s=4,Pt(14),m=!1),Fs(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==Oc){this.s=4,Pt(15),Fs(this.i,this.l,X,"[Invalid Chunk]"),m=!1;break}else Fs(this.i,this.l,tn,null),Ua(this,tn);if(Lc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||X.length!=0||this.h.h||(this.s=1,Pt(16),m=!1),this.o=this.o&&m,!m)Fs(this.i,this.l,X,"[Invalid Chunked Response]"),gs(this),Pr(this);else if(0<X.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Ka(_t),_t.M=!0,Pt(11))}}else Fs(this.i,this.l,X,null),Ua(this,X);wt==4&&gs(this),this.o&&!this.J&&(wt==4?cd(this.j,this):(this.o=!1,$i(this)))}else oy(this.g),m==400&&0<X.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),gs(this),Pr(this)}}}catch{}finally{}};function Lc(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function zv(l,h){var m=l.C,T=h.indexOf(`
`,m);return T==-1?Fa:(m=Number(h.substring(m,T)),isNaN(m)?Oc:(T+=1,T+m>h.length?Fa:(h=h.slice(T,T+m),l.C=T+m,h)))}jn.prototype.cancel=function(){this.J=!0,gs(this)};function $i(l){l.S=Date.now()+l.I,$c(l,l.I)}function $c(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=xr(p(l.ba,l),h)}function ja(l){l.B&&(a.clearTimeout(l.B),l.B=null)}jn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(jv(this.i,this.A),this.L!=2&&(Ar(),Pt(17)),gs(this),this.s=2,Pr(this)):$c(this,this.S-l)};function Pr(l){l.j.G==0||l.J||cd(l.j,l)}function gs(l){ja(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,Ir(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Ua(l,h){try{var m=l.j;if(m.G!=0&&(m.g==l||za(m.h,l))){if(!l.K&&za(m.h,l)&&m.G==3){try{var T=m.Da.g.parse(h)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)Wi(m),Hi(m);else break e;Wa(m),Pt(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=xr(p(m.Za,m),6e3));if(1>=jc(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ys(m,11)}else if((l.K||m.g==l)&&Wi(m),!y(h))for(L=m.Da.g.parse(h),h=0;h<L.length;h++){let Ve=L[h];if(m.T=Ve[0],Ve=Ve[1],m.G==2)if(Ve[0]=="c"){m.K=Ve[1],m.ia=Ve[2];const _t=Ve[3];_t!=null&&(m.la=_t,m.j.info("VER="+m.la));const wt=Ve[4];wt!=null&&(m.Aa=wt,m.j.info("SVER="+m.Aa));const Us=Ve[5];Us!=null&&typeof Us=="number"&&0<Us&&(T=1.5*Us,m.L=T,m.j.info("backChannelRequestTimeoutMs_="+T)),T=m;const tn=l.g;if(tn){const Qi=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qi){var F=T.h;F.g||Qi.indexOf("spdy")==-1&&Qi.indexOf("quic")==-1&&Qi.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(qa(F,F.h),F.h=null))}if(T.D){const Qa=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qa&&(T.ya=Qa,ze(T.I,T.D,Qa))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),T=m;var X=l;if(T.qa=hd(T,T.J?T.ia:null,T.W),X.K){Uc(T.h,X);var $e=X,dt=T.L;dt&&($e.I=dt),$e.B&&(ja($e),$i($e)),T.g=X}else ld(T);0<m.i.length&&Gi(m)}else Ve[0]!="stop"&&Ve[0]!="close"||ys(m,7);else m.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?ys(m,7):Ga(m):Ve[0]!="noop"&&m.l&&m.l.ta(Ve),m.v=0)}}Ar(4)}catch{}}var qv=class{constructor(l,h){this.g=l,this.map=h}};function Fc(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bc(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function jc(l){return l.h?1:l.g?l.g.size:0}function za(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function qa(l,h){l.g?l.g.add(h):l.h=h}function Uc(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Fc.prototype.cancel=function(){if(this.i=zc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function zc(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const m of l.g.values())h=h.concat(m.D);return h}return x(l.i)}function Hv(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],m=l.length,T=0;T<m;T++)h.push(l[T]);return h}h=[],m=0;for(T in l)h[m++]=l[T];return h}function Gv(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var m=0;m<l;m++)h.push(m);return h}h=[],m=0;for(const T in l)h[m++]=T;return h}}}function qc(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var m=Gv(l),T=Hv(l),L=T.length,F=0;F<L;F++)h.call(void 0,T[F],m&&m[F],l)}var Hc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wv(l,h){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var T=l[m].indexOf("="),L=null;if(0<=T){var F=l[m].substring(0,T);L=l[m].substring(T+1)}else F=l[m];h(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function vs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof vs){this.h=l.h,Fi(this,l.j),this.o=l.o,this.g=l.g,Bi(this,l.s),this.l=l.l;var h=l.i,m=new Vr;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),Gc(this,m),this.m=l.m}else l&&(h=String(l).match(Hc))?(this.h=!1,Fi(this,h[1]||"",!0),this.o=Rr(h[2]||""),this.g=Rr(h[3]||"",!0),Bi(this,h[4]),this.l=Rr(h[5]||"",!0),Gc(this,h[6]||"",!0),this.m=Rr(h[7]||"")):(this.h=!1,this.i=new Vr(null,this.h))}vs.prototype.toString=function(){var l=[],h=this.j;h&&l.push(kr(h,Wc,!0),":");var m=this.g;return(m||h=="file")&&(l.push("//"),(h=this.o)&&l.push(kr(h,Wc,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(kr(m,m.charAt(0)=="/"?Yv:Qv,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",kr(m,Jv)),l.join("")};function In(l){return new vs(l)}function Fi(l,h,m){l.j=m?Rr(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Bi(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function Gc(l,h,m){h instanceof Vr?(l.i=h,Zv(l.i,l.h)):(m||(h=kr(h,Xv)),l.i=new Vr(h,l.h))}function ze(l,h,m){l.i.set(h,m)}function ji(l){return ze(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Rr(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function kr(l,h,m){return typeof l=="string"?(l=encodeURI(l).replace(h,Kv),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Kv(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Wc=/[#\/\?@]/g,Qv=/[#\?:]/g,Yv=/[#\?]/g,Xv=/[#\?@]/g,Jv=/#/g;function Vr(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Un(l){l.g||(l.g=new Map,l.h=0,l.i&&Wv(l.i,function(h,m){l.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=Vr.prototype,t.add=function(l,h){Un(this),this.i=null,l=Bs(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(h),this.h+=1,this};function Kc(l,h){Un(l),h=Bs(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Qc(l,h){return Un(l),h=Bs(l,h),l.g.has(h)}t.forEach=function(l,h){Un(this),this.g.forEach(function(m,T){m.forEach(function(L){l.call(h,L,T,this)},this)},this)},t.na=function(){Un(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let T=0;T<h.length;T++){const L=l[T];for(let F=0;F<L.length;F++)m.push(h[T])}return m},t.V=function(l){Un(this);let h=[];if(typeof l=="string")Qc(this,l)&&(h=h.concat(this.g.get(Bs(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)h=h.concat(l[m])}return h},t.set=function(l,h){return Un(this),this.i=null,l=Bs(this,l),Qc(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Yc(l,h,m){Kc(l,h),0<m.length&&(l.i=null,l.g.set(Bs(l,h),x(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var T=h[m];const F=encodeURIComponent(String(T)),X=this.V(T);for(T=0;T<X.length;T++){var L=F;X[T]!==""&&(L+="="+encodeURIComponent(String(X[T]))),l.push(L)}}return this.i=l.join("&")};function Bs(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function Zv(l,h){h&&!l.j&&(Un(l),l.i=null,l.g.forEach(function(m,T){var L=T.toLowerCase();T!=L&&(Kc(this,T),Yc(this,L,m))},l)),l.j=h}function ey(l,h){const m=new Cr;if(a.Image){const T=new Image;T.onload=g(zn,m,"TestLoadImage: loaded",!0,h,T),T.onerror=g(zn,m,"TestLoadImage: error",!1,h,T),T.onabort=g(zn,m,"TestLoadImage: abort",!1,h,T),T.ontimeout=g(zn,m,"TestLoadImage: timeout",!1,h,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=l}else h(!1)}function ty(l,h){const m=new Cr,T=new AbortController,L=setTimeout(()=>{T.abort(),zn(m,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:T.signal}).then(F=>{clearTimeout(L),F.ok?zn(m,"TestPingServer: ok",!0,h):zn(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(L),zn(m,"TestPingServer: error",!1,h)})}function zn(l,h,m,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(m)}catch{}}function ny(){this.g=new Mi}function sy(l,h,m){const T=m||"";try{qc(l,function(L,F){let X=L;c(L)&&(X=ct(L)),h.push(T+F+"="+encodeURIComponent(X))})}catch(L){throw h.push(T+"type="+encodeURIComponent("_badmap")),L}}function Ui(l){this.l=l.Ub||null,this.j=l.eb||!1}_(Ui,Oa),Ui.prototype.g=function(){return new zi(this.l,this.j)},Ui.prototype.i=function(l){return function(){return l}}({});function zi(l,h){he.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(zi,he),t=zi.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Mr(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Mr(this)),this.g&&(this.readyState=3,Mr(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xc(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xc(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Dr(this):Mr(this),this.readyState==3&&Xc(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Dr(this))},t.Qa=function(l){this.g&&(this.response=l,Dr(this))},t.ga=function(){this.g&&Dr(this)};function Dr(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Mr(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=h.next();return l.join(`\r
`)};function Mr(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Jc(l){let h="";return $(l,function(m,T){h+=T,h+=":",h+=m,h+=`\r
`}),h}function Ha(l,h,m){e:{for(T in m){var T=!1;break e}T=!0}T||(m=Jc(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):ze(l,h,m))}function Qe(l){he.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Qe,he);var ry=/^https?$/i,iy=["POST","PUT"];t=Qe.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,m,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$a.g(),this.v=this.o?xc(this.o):xc($a),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(F){Zc(this,F);return}if(l=m||"",m=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)m.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const F of T.keys())m.set(F,T.get(F));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(m.keys()).find(F=>F.toLowerCase()=="content-type"),L=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(iy,h,void 0))||T||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,X]of m)this.g.setRequestHeader(F,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nd(this),this.u=!0,this.g.send(l),this.u=!1}catch(F){Zc(this,F)}};function Zc(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,ed(l),qi(l)}function ed(l){l.A||(l.A=!0,be(l,"complete"),be(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,be(this,"complete"),be(this,"abort"),qi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),Qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?td(this):this.bb())},t.bb=function(){td(this)};function td(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Sn(l)!=4||l.Z()!=2)){if(l.u&&Sn(l)==4)vt(l.Ea,0,l);else if(be(l,"readystatechange"),Sn(l)==4){l.h=!1;try{const X=l.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var T;if(T=X===0){var L=String(l.D).match(Hc)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),T=!ry.test(L?L.toLowerCase():"")}m=T}if(m)be(l,"complete"),be(l,"success");else{l.m=6;try{var F=2<Sn(l)?l.g.statusText:""}catch{F=""}l.l=F+" ["+l.Z()+"]",ed(l)}}finally{qi(l)}}}}function qi(l,h){if(l.g){nd(l);const m=l.g,T=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||be(l,"ready");try{m.onreadystatechange=T}catch{}}}function nd(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Sn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Xt(h)}};function sd(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function oy(l){const h={};l=(l.g&&2<=Sn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<l.length;T++){if(y(l[T]))continue;var m=R(l[T]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const F=h[L]||[];h[L]=F,F.push(m)}A(h,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Or(l,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||h}function rd(l){this.Aa=0,this.i=[],this.j=new Cr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Or("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Or("baseRetryDelayMs",5e3,l),this.cb=Or("retryDelaySeedMs",1e4,l),this.Wa=Or("forwardChannelMaxRetries",2,l),this.wa=Or("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Fc(l&&l.concurrentRequestLimit),this.Da=new ny,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=rd.prototype,t.la=8,t.G=1,t.connect=function(l,h,m,T){Pt(0),this.W=l,this.H=h||{},m&&T!==void 0&&(this.H.OSID=m,this.H.OAID=T),this.F=this.X,this.I=hd(this,null,this.W),Gi(this)};function Ga(l){if(id(l),l.G==3){var h=l.U++,m=In(l.I);if(ze(m,"SID",l.K),ze(m,"RID",h),ze(m,"TYPE","terminate"),Nr(l,m),h=new jn(l,l.j,h),h.L=2,h.v=ji(In(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.v,m=!0),m||(h.g=pd(h.j,null),h.g.ea(h.v)),h.F=Date.now(),$i(h)}fd(l)}function Hi(l){l.g&&(Ka(l),l.g.cancel(),l.g=null)}function id(l){Hi(l),l.u&&(a.clearTimeout(l.u),l.u=null),Wi(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Gi(l){if(!Bc(l.h)&&!l.s){l.s=!0;var h=l.Ga;ce||Dt(),de||(ce(),de=!0),Ge.add(h,l),l.B=0}}function ay(l,h){return jc(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=xr(p(l.Ga,l,h),dd(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new jn(this,this.j,l);let F=this.o;if(this.S&&(F?(F=b(F),S(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var T=this.i[m];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(h+=T,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=ad(this,L,h),m=In(this.I),ze(m,"RID",l),ze(m,"CVER",22),this.D&&ze(m,"X-HTTP-Session-Id",this.D),Nr(this,m),F&&(this.O?h="headers="+encodeURIComponent(String(Jc(F)))+"&"+h:this.m&&Ha(m,this.m,F)),qa(this.h,L),this.Ua&&ze(m,"TYPE","init"),this.P?(ze(m,"$req",h),ze(m,"SID","null"),L.T=!0,Ba(L,m,null)):Ba(L,m,h),this.G=2}}else this.G==3&&(l?od(this,l):this.i.length==0||Bc(this.h)||od(this))};function od(l,h){var m;h?m=h.l:m=l.U++;const T=In(l.I);ze(T,"SID",l.K),ze(T,"RID",m),ze(T,"AID",l.T),Nr(l,T),l.m&&l.o&&Ha(T,l.m,l.o),m=new jn(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),h&&(l.i=h.D.concat(l.i)),h=ad(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),qa(l.h,m),Ba(m,T,h)}function Nr(l,h){l.H&&$(l.H,function(m,T){ze(h,T,m)}),l.l&&qc({},function(m,T){ze(h,T,m)})}function ad(l,h,m){m=Math.min(l.i.length,m);var T=l.l?p(l.l.Na,l.l,l):null;e:{var L=l.i;let F=-1;for(;;){const X=["count="+m];F==-1?0<m?(F=L[0].g,X.push("ofs="+F)):F=0:X.push("ofs="+F);let $e=!0;for(let dt=0;dt<m;dt++){let Ve=L[dt].g;const _t=L[dt].map;if(Ve-=F,0>Ve)F=Math.max(0,L[dt].g-100),$e=!1;else try{sy(_t,X,"req"+Ve+"_")}catch{T&&T(_t)}}if($e){T=X.join("&");break e}}}return l=l.i.splice(0,m),h.D=l,T}function ld(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;ce||Dt(),de||(ce(),de=!0),Ge.add(h,l),l.v=0}}function Wa(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=xr(p(l.Fa,l),dd(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,ud(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=xr(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),Hi(this),ud(this))};function Ka(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function ud(l){l.g=new jn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=In(l.qa);ze(h,"RID","rpc"),ze(h,"SID",l.K),ze(h,"AID",l.T),ze(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&ze(h,"TO",l.ja),ze(h,"TYPE","xmlhttp"),Nr(l,h),l.m&&l.o&&Ha(h,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=ji(In(h)),m.m=null,m.P=!0,Nc(m,l)}t.Za=function(){this.C!=null&&(this.C=null,Hi(this),Wa(this),Pt(19))};function Wi(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function cd(l,h){var m=null;if(l.g==h){Wi(l),Ka(l),l.g=null;var T=2}else if(za(l.h,h))m=h.D,Uc(l.h,h),T=1;else return;if(l.G!=0){if(h.o)if(T==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var L=l.B;T=Oi(),be(T,new Vc(T,m)),Gi(l)}else ld(l);else if(L=h.s,L==3||L==0&&0<h.X||!(T==1&&ay(l,h)||T==2&&Wa(l)))switch(m&&0<m.length&&(h=l.h,h.i=h.i.concat(m)),L){case 1:ys(l,5);break;case 4:ys(l,10);break;case 3:ys(l,6);break;default:ys(l,2)}}}function dd(l,h){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*h}function ys(l,h){if(l.j.info("Error code "+h),h==2){var m=p(l.fb,l),T=l.Xa;const L=!T;T=new vs(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Fi(T,"https"),ji(T),L?ey(T.toString(),m):ty(T.toString(),m)}else Pt(2);l.G=0,l.l&&l.l.sa(h),fd(l),id(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function fd(l){if(l.G=0,l.ka=[],l.l){const h=zc(l.h);(h.length!=0||l.i.length!=0)&&(C(l.ka,h),C(l.ka,l.i),l.h.i.length=0,x(l.i),l.i.length=0),l.l.ra()}}function hd(l,h,m){var T=m instanceof vs?In(m):new vs(m);if(T.g!="")h&&(T.g=h+"."+T.g),Bi(T,T.s);else{var L=a.location;T=L.protocol,h=h?h+"."+L.hostname:L.hostname,L=+L.port;var F=new vs(null);T&&Fi(F,T),h&&(F.g=h),L&&Bi(F,L),m&&(F.l=m),T=F}return m=l.D,h=l.ya,m&&h&&ze(T,m,h),ze(T,"VER",l.la),Nr(l,T),T}function pd(l,h,m){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Qe(new Ui({eb:m})):new Qe(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function md(){}t=md.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ki(){}Ki.prototype.g=function(l,h){return new jt(l,h)};function jt(l,h){he.call(this),this.g=new rd(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!y(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!y(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new js(this)}_(jt,he),jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){Ga(this.g)},jt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=ct(l),l=m);h.i.push(new qv(h.Ya++,l)),h.G==3&&Gi(h)},jt.prototype.N=function(){this.g.l=null,delete this.j,Ga(this.g),delete this.g,jt.aa.N.call(this)};function gd(l){Na.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const m in h){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}_(gd,Na);function vd(){La.call(this),this.status=1}_(vd,La);function js(l){this.g=l}_(js,md),js.prototype.ua=function(){be(this.g,"a")},js.prototype.ta=function(l){be(this.g,new gd(l))},js.prototype.sa=function(l){be(this.g,new vd)},js.prototype.ra=function(){be(this.g,"b")},Ki.prototype.createWebChannel=Ki.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,am=function(){return new Ki},om=function(){return Oi()},im=ms,zl={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ni.NO_ERROR=0,Ni.TIMEOUT=8,Ni.HTTP_ERROR=6,co=Ni,Dc.COMPLETE="complete",rm=Dc,Cc.EventType=Sr,Sr.OPEN="a",Sr.CLOSE="b",Sr.ERROR="c",Sr.MESSAGE="d",he.prototype.listen=he.prototype.K,qr=Cc,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,sm=Qe}).apply(typeof Zi<"u"?Zi:typeof self<"u"?self:typeof window<"u"?window:{});const af="@firebase/firestore",lf="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yr="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new Ru("@firebase/firestore");function Hs(){return Cs.logLevel}function ne(t,...e){if(Cs.logLevel<=Re.DEBUG){const n=e.map(Vu);Cs.debug(`Firestore (${yr}): ${t}`,...n)}}function On(t,...e){if(Cs.logLevel<=Re.ERROR){const n=e.map(Vu);Cs.error(`Firestore (${yr}): ${t}`,...n)}}function lr(t,...e){if(Cs.logLevel<=Re.WARN){const n=e.map(Vu);Cs.warn(`Firestore (${yr}): ${t}`,...n)}}function Vu(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,lm(t,s,n)}function lm(t,e,n){let s=`FIRESTORE (${yr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw On(s),new Error(s)}function Ne(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||lm(e,r,s)}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends ds{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ub{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class cb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class db{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ne(this.o===void 0,42304);let s=this.i;const r=u=>this.i!==s?(s=this.i,n(u)):Promise.resolve();let i=new Vn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vn,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},a=u=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ne(typeof s.accessToken=="string",31837,{l:s}),new um(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string",2055,{h:e}),new Et(e)}}class fb{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hb{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new fb(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pb{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ww(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ne(this.o===void 0,3512);const s=i=>{i.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new uf(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new uf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=mb(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function Te(t,e){return t<e?-1:t>e?1:0}function ql(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=t.codePointAt(n),r=e.codePointAt(n);if(s!==r){if(s<128&&r<128)return Te(s,r);{const i=cm(),o=gb(i.encode(cf(t,n)),i.encode(cf(e,n)));return o!==0?o:Te(s,r)}}n+=s>65535?2:1}return Te(t.length,e.length)}function cf(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function gb(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Te(t[n],e[n]);return Te(t.length,e.length)}function ur(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=-62135596800,ff=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*ff);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<df)throw new ie(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ff}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-df;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new it(0,0))}static max(){return new ve(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="__name__";class dn{constructor(e,n,s){n===void 0?n=0:n>e.length&&pe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&pe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return dn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof dn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=dn.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return Te(e.length,n.length)}static compareSegments(e,n){const s=dn.isNumericId(e),r=dn.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?dn.extractNumericId(e).compare(dn.extractNumericId(n)):ql(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zn.fromString(e.substring(4,e.length-2))}}class He extends dn{construct(e,n,s){return new He(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ie(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new He(n)}static emptyPath(){return new He([])}}const vb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends dn{construct(e,n,s){return new ht(e,n,s)}static isValidIdentifier(e){return vb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hf}static keyField(){return new ht([hf])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new ie(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new ie(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ie(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new ie(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(He.fromString(e))}static fromName(e){return new ue(He.fromString(e).popFirst(5))}static empty(){return new ue(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new He(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=-1;function yb(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=ve.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new ss(r,ue.empty(),e)}function _b(t){return new ss(t.readTime,t.key,pi)}class ss{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ss(ve.min(),ue.empty(),pi)}static max(){return new ss(ve.max(),ue.empty(),pi)}}function wb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Eb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _r(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==bb)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,s)=>{n(e)})}static reject(e){return new q((n,s)=>{s(e)})}static waitFor(e){return new q((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},u=>s(u))}),o=!0,i===r&&n()})}static or(e){let n=q.resolve(!1);for(const s of e)n=n.next(r=>r?q.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new q((s,r)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===i&&s(o)},d=>r(d))}})}static doWhile(e,n){return new q((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function Tb(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wr(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}da.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=-1;function fa(t){return t==null}function Ro(t){return t===0&&1/t==-1/0}function Ib(t){return typeof t=="number"&&Number.isInteger(t)&&!Ro(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="";function Sb(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=pf(e)),e=Ab(t.get(n),e);return pf(e)}function Ab(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case fm:n+="";break;default:n+=i}}return n}function pf(t){return t+fm+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||ft.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eo(this.root,e,this.comparator,!1)}getReverseIterator(){return new eo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eo(this.root,e,this.comparator,!0)}}class eo{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??ft.RED,this.left=r??ft.EMPTY,this.right=i??ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new ft(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return ft.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pe(27949);return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1;ft.EMPTY=new class{constructor(){this.size=0}get key(){throw pe(57766)}get value(){throw pe(16141)}get color(){throw pe(16727)}get left(){throw pe(29726)}get right(){throw pe(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gf(this.data.getIterator())}getIteratorFrom(e){return new gf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ot(this.comparator);return n.data=e,n}}class gf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new Wt([])}unionWith(e){let n=new ot(ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Wt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ur(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new pm("Invalid base64 string: "+i):i}}(e);return new mt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mt.EMPTY_BYTE_STRING=new mt("");const xb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(t){if(Ne(!!t,39018),typeof t=="string"){let e=0;const n=xb.exec(t);if(Ne(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function is(t){return typeof t=="string"?mt.fromBase64String(t):mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="server_timestamp",gm="__type__",vm="__previous_value__",ym="__local_write_time__";function Mu(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[gm])===null||n===void 0?void 0:n.stringValue)===mm}function ha(t){const e=t.mapValue.fields[vm];return Mu(e)?ha(e):e}function mi(t){const e=rs(t.mapValue.fields[ym].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n,s,r,i,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}const ko="(default)";class gi{constructor(e,n){this.projectId=e,this.database=n||ko}static empty(){return new gi("","")}get isDefaultDatabase(){return this.database===ko}isEqual(e){return e instanceof gi&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="__type__",Pb="__max__",to={mapValue:{}},wm="__vector__",Vo="value";function os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mu(t)?4:kb(t)?9007199254740991:Rb(t)?10:11:pe(28295,{value:t})}function wn(t,e){if(t===e)return!0;const n=os(t);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mi(t).isEqual(mi(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=rs(r.timestampValue),a=rs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return is(r.bytesValue).isEqual(is(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Xe(r.geoPointValue.latitude)===Xe(i.geoPointValue.latitude)&&Xe(r.geoPointValue.longitude)===Xe(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Xe(r.integerValue)===Xe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Xe(r.doubleValue),a=Xe(i.doubleValue);return o===a?Ro(o)===Ro(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ur(t.arrayValue.values||[],e.arrayValue.values||[],wn);case 10:case 11:return function(r,i){const o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(mf(o)!==mf(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!wn(o[u],a[u])))return!1;return!0}(t,e);default:return pe(52216,{left:t})}}function vi(t,e){return(t.values||[]).find(n=>wn(n,e))!==void 0}function cr(t,e){if(t===e)return 0;const n=os(t),s=os(e);if(n!==s)return Te(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Xe(i.integerValue||i.doubleValue),u=Xe(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return vf(t.timestampValue,e.timestampValue);case 4:return vf(mi(t),mi(e));case 5:return ql(t.stringValue,e.stringValue);case 6:return function(i,o){const a=is(i),u=is(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=Te(a[c],u[c]);if(d!==0)return d}return Te(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Te(Xe(i.latitude),Xe(o.latitude));return a!==0?a:Te(Xe(i.longitude),Xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yf(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,u,c,d;const f=i.fields||{},p=o.fields||{},g=(a=f[Vo])===null||a===void 0?void 0:a.arrayValue,_=(u=p[Vo])===null||u===void 0?void 0:u.arrayValue,x=Te(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:yf(g,_)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===to.mapValue&&o===to.mapValue)return 0;if(i===to.mapValue)return 1;if(o===to.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const p=ql(u[f],d[f]);if(p!==0)return p;const g=cr(a[u[f]],c[d[f]]);if(g!==0)return g}return Te(u.length,d.length)}(t.mapValue,e.mapValue);default:throw pe(23264,{Pe:n})}}function vf(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=rs(t),s=rs(e),r=Te(n.seconds,s.seconds);return r!==0?r:Te(n.nanos,s.nanos)}function yf(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=cr(n[r],s[r]);if(i)return i}return Te(n.length,s.length)}function dr(t){return Hl(t)}function Hl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=rs(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return is(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=Hl(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const o of s)i?i=!1:r+=",",r+=`${o}:${Hl(n.fields[o])}`;return r+"}"}(t.mapValue):pe(61005,{value:t})}function fo(t){switch(os(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ha(t);return e?16+fo(e):16;case 5:return 2*t.stringValue.length;case 6:return is(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,i)=>r+fo(i),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return fs(s.fields,(i,o)=>{r+=i.length+fo(o)}),r}(t.mapValue);default:throw pe(13486,{value:t})}}function Gl(t){return!!t&&"integerValue"in t}function Ou(t){return!!t&&"arrayValue"in t}function _f(t){return!!t&&"nullValue"in t}function wf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ho(t){return!!t&&"mapValue"in t}function Rb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[_m])===null||n===void 0?void 0:n.stringValue)===wm}function Zr(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fs(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Zr(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zr(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Pb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ho(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zr(n)}setAll(e){let n=ht.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=Zr(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());ho(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];ho(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){fs(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new $t(Zr(this.value))}}function bm(t){const e=[];return fs(t.fields,(n,s)=>{const r=new ht([n]);if(ho(s)){const i=bm(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new Wt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,s,r,i,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new St(e,0,ve.min(),ve.min(),ve.min(),$t.empty(),0)}static newFoundDocument(e,n,s,r){return new St(e,1,n,ve.min(),s,r,0)}static newNoDocument(e,n){return new St(e,2,n,ve.min(),ve.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new St(e,3,n,ve.min(),ve.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n){this.position=e,this.inclusive=n}}function bf(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=ue.comparator(ue.fromName(o.referenceValue),n.key):s=cr(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ef(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n="asc"){this.field=e,this.dir=n}}function Vb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{}class rt extends Em{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Mb(e,n,s):n==="array-contains"?new Lb(e,s):n==="in"?new $b(e,s):n==="not-in"?new Fb(e,s):n==="array-contains-any"?new Bb(e,s):new rt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Ob(e,s):new Nb(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(cr(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(cr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bn extends Em{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new bn(e,n)}matches(e){return Tm(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Tm(t){return t.op==="and"}function Im(t){return Db(t)&&Tm(t)}function Db(t){for(const e of t.filters)if(e instanceof bn)return!1;return!0}function Wl(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+dr(t.value);if(Im(t))return t.filters.map(e=>Wl(e)).join(",");{const e=t.filters.map(n=>Wl(n)).join(",");return`${t.op}(${e})`}}function Sm(t,e){return t instanceof rt?function(s,r){return r instanceof rt&&s.op===r.op&&s.field.isEqual(r.field)&&wn(s.value,r.value)}(t,e):t instanceof bn?function(s,r){return r instanceof bn&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,o,a)=>i&&Sm(o,r.filters[a]),!0):!1}(t,e):void pe(19439)}function Am(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${dr(n.value)}`}(t):t instanceof bn?function(n){return n.op.toString()+" {"+n.getFilters().map(Am).join(" ,")+"}"}(t):"Filter"}class Mb extends rt{constructor(e,n,s){super(e,n,s),this.key=ue.fromName(s.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ob extends rt{constructor(e,n){super(e,"in",n),this.keys=xm("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Nb extends rt{constructor(e,n){super(e,"not-in",n),this.keys=xm("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xm(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ue.fromName(s.referenceValue))}class Lb extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ou(n)&&vi(n.arrayValue,this.value)}}class $b extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vi(this.value.arrayValue,n)}}class Fb extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(vi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vi(this.value.arrayValue,n)}}class Bb extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ou(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>vi(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function Tf(t,e=null,n=[],s=[],r=null,i=null,o=null){return new jb(t,e,n,s,r,i,o)}function Nu(t){const e=_e(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Wl(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),fa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>dr(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>dr(s)).join(",")),e.Ie=n}return e.Ie}function Lu(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Vb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Sm(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ef(t.startAt,e.startAt)&&Ef(t.endAt,e.endAt)}function Kl(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Ub(t,e,n,s,r,i,o,a){return new pa(t,e,n,s,r,i,o,a)}function $u(t){return new pa(t)}function If(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zb(t){return t.collectionGroup!==null}function ei(t){const e=_e(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ot(ht.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Mo(i,s))}),n.has(ht.keyField().canonicalString())||e.Ee.push(new Mo(ht.keyField(),s))}return e.Ee}function gn(t){const e=_e(t);return e.de||(e.de=qb(e,ei(t))),e.de}function qb(t,e){if(t.limitType==="F")return Tf(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new Mo(r.field,i)});const n=t.endAt?new Do(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Do(t.startAt.position,t.startAt.inclusive):null;return Tf(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Ql(t,e,n){return new pa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ma(t,e){return Lu(gn(t),gn(e))&&t.limitType===e.limitType}function Cm(t){return`${Nu(gn(t))}|lt:${t.limitType}`}function Gs(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>Am(r)).join(", ")}]`),fa(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>dr(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>dr(r)).join(",")),`Target(${s})`}(gn(t))}; limitType=${t.limitType})`}function ga(t,e){return e.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):ue.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(t,e)&&function(s,r){for(const i of ei(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(o,a,u){const c=bf(o,a,u);return o.inclusive?c<=0:c<0}(s.startAt,ei(s),r)||s.endAt&&!function(o,a,u){const c=bf(o,a,u);return o.inclusive?c>=0:c>0}(s.endAt,ei(s),r))}(t,e)}function Hb(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Pm(t){return(e,n)=>{let s=!1;for(const r of ei(t)){const i=Gb(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function Gb(t,e,n){const s=t.field.isKeyField()?ue.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?cr(u,c):pe(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return pe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return hm(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=new Ke(ue.comparator);function Nn(){return Wb}const Rm=new Ke(ue.comparator);function Hr(...t){let e=Rm;for(const n of t)e=e.insert(n.key,n);return e}function km(t){let e=Rm;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Is(){return ti()}function Vm(){return ti()}function ti(){return new Os(t=>t.toString(),(t,e)=>t.isEqual(e))}const Kb=new Ke(ue.comparator),Qb=new ot(ue.comparator);function xe(...t){let e=Qb;for(const n of t)e=e.add(n);return e}const Yb=new ot(Te);function Xb(){return Yb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ro(e)?"-0":e}}function Dm(t){return{integerValue:""+t}}function Jb(t,e){return Ib(e)?Dm(e):Fu(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this._=void 0}}function Zb(t,e,n){return t instanceof Oo?function(r,i){const o={fields:{[gm]:{stringValue:mm},[ym]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Mu(i)&&(i=ha(i)),i&&(o.fields[vm]=i),{mapValue:o}}(n,e):t instanceof yi?Om(t,e):t instanceof _i?Nm(t,e):function(r,i){const o=Mm(r,i),a=Sf(o)+Sf(r.Re);return Gl(o)&&Gl(r.Re)?Dm(a):Fu(r.serializer,a)}(t,e)}function eE(t,e,n){return t instanceof yi?Om(t,e):t instanceof _i?Nm(t,e):n}function Mm(t,e){return t instanceof No?function(s){return Gl(s)||function(i){return!!i&&"doubleValue"in i}(s)}(e)?e:{integerValue:0}:null}class Oo extends va{}class yi extends va{constructor(e){super(),this.elements=e}}function Om(t,e){const n=Lm(e);for(const s of t.elements)n.some(r=>wn(r,s))||n.push(s);return{arrayValue:{values:n}}}class _i extends va{constructor(e){super(),this.elements=e}}function Nm(t,e){let n=Lm(e);for(const s of t.elements)n=n.filter(r=>!wn(r,s));return{arrayValue:{values:n}}}class No extends va{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Sf(t){return Xe(t.integerValue||t.doubleValue)}function Lm(t){return Ou(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function tE(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof yi&&r instanceof yi||s instanceof _i&&r instanceof _i?ur(s.elements,r.elements,wn):s instanceof No&&r instanceof No?wn(s.Re,r.Re):s instanceof Oo&&r instanceof Oo}(t.transform,e.transform)}class nE{constructor(e,n){this.version=e,this.transformResults=n}}class rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rn}static exists(e){return new rn(void 0,e)}static updateTime(e){return new rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function po(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ya{}function $m(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bu(t.key,rn.none()):new Ci(t.key,t.data,rn.none());{const n=t.data,s=$t.empty();let r=new ot(ht.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new hs(t.key,s,new Wt(r.toArray()),rn.none())}}function sE(t,e,n){t instanceof Ci?function(r,i,o){const a=r.value.clone(),u=xf(r.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof hs?function(r,i,o){if(!po(r.precondition,i))return void i.convertToUnknownDocument(o.version);const a=xf(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(Fm(r)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ni(t,e,n,s){return t instanceof Ci?function(i,o,a,u){if(!po(i.precondition,o))return a;const c=i.value.clone(),d=Cf(i.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,s):t instanceof hs?function(i,o,a,u){if(!po(i.precondition,o))return a;const c=Cf(i.fieldTransforms,u,o),d=o.data;return d.setAll(Fm(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,s):function(i,o,a){return po(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function rE(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=Mm(s.transform,r||null);i!=null&&(n===null&&(n=$t.empty()),n.set(s.field,i))}return n||null}function Af(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&ur(s,r,(i,o)=>tE(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ci extends ya{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class hs extends ya{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Fm(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function xf(t,e,n){const s=new Map;Ne(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,eE(o,a,n[r]))}return s}function Cf(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,Zb(i,o,e))}return s}class Bu extends ya{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iE extends ya{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&sE(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ni(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ni(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Vm();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const u=$m(o,a);u!==null&&s.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(ve.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&ur(this.mutations,e.mutations,(n,s)=>Af(n,s))&&ur(this.baseMutations,e.baseMutations,(n,s)=>Af(n,s))}}class ju{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Ne(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let r=function(){return Kb}();const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new ju(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,Pe;function uE(t){switch(t){case W.OK:return pe(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return pe(15467,{code:t})}}function Bm(t){if(t===void 0)return On("GRPC error has no .code"),W.UNKNOWN;switch(t){case tt.OK:return W.OK;case tt.CANCELLED:return W.CANCELLED;case tt.UNKNOWN:return W.UNKNOWN;case tt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case tt.INTERNAL:return W.INTERNAL;case tt.UNAVAILABLE:return W.UNAVAILABLE;case tt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case tt.NOT_FOUND:return W.NOT_FOUND;case tt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case tt.ABORTED:return W.ABORTED;case tt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case tt.DATA_LOSS:return W.DATA_LOSS;default:return pe(39323,{code:t})}}(Pe=tt||(tt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Zn([4294967295,4294967295],0);function Pf(t){const e=cm().encode(t),n=new nm;return n.update(e),new Uint8Array(n.digest())}function Rf(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Zn([n,s],0),new Zn([r,i],0)]}class Uu{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Gr(`Invalid padding: ${n}`);if(s<0)throw new Gr(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gr(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Gr(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Zn.fromNumber(this.pe)}we(e,n,s){let r=e.add(n.multiply(Zn.fromNumber(s)));return r.compare(cE)===1&&(r=new Zn([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Pf(e),[s,r]=Rf(n);for(let i=0;i<this.hashCount;i++){const o=this.we(s,r,i);if(!this.be(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Uu(i,r,n);return s.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=Pf(e),[s,r]=Rf(n);for(let i=0;i<this.hashCount;i++){const o=this.we(s,r,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Gr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,Pi.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new _a(ve.min(),r,new Ke(Te),Nn(),xe())}}class Pi{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Pi(s,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n,s,r){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=r}}class jm{constructor(e,n){this.targetId=e,this.Ce=n}}class Um{constructor(e,n,s=mt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class kf{constructor(){this.Fe=0,this.Me=Vf(),this.xe=mt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=xe(),n=xe(),s=xe();return this.Me.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:pe(38017,{changeType:i})}}),new Pi(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=Vf()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ne(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class dE{constructor(e){this.ze=e,this.je=new Map,this.He=Nn(),this.Je=no(),this.Ye=no(),this.Ze=new Ke(Te)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,r)=>{this.it(r)&&n(r)})}ot(e){const n=e.targetId,s=e.Ce.count,r=this._t(n);if(r){const i=r.target;if(Kl(i))if(s===0){const o=new ue(i.path);this.tt(n,o,St.newNoDocument(o,ve.min()))}else Ne(s===1,20013,{expectedCount:s});else{const o=this.ut(n);if(o!==s){const a=this.ct(e),u=a?this.lt(a,e,o):1;if(u!==0){this.st(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let o,a;try{o=is(s).toUint8Array()}catch(u){if(u instanceof pm)return lr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Uu(o,r,i)}catch(u){return lr(u instanceof Gr?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let r=0;return s.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),r++)}),r}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&Kl(a.target)){const u=new ue(a.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,St.newNoDocument(u,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let s=xe();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this._t(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(s=s.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const r=new _a(e,n,this.Ze,this.He,s);return this.He=Nn(),this.Je=no(),this.Ye=no(),this.Ze=new Ke(Te),r}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const r=this.rt(e);this.dt(e,n)?r.$e(n,1):r.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new kf,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new ot(Te),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new ot(Te),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new kf),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function no(){return new Ke(ue.comparator)}function Vf(){return new Ke(ue.comparator)}const fE={asc:"ASCENDING",desc:"DESCENDING"},hE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pE={and:"AND",or:"OR"};class mE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yl(t,e){return t.useProto3Json||fa(e)?e:{value:e}}function Lo(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zm(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gE(t,e){return Lo(t,e.toTimestamp())}function vn(t){return Ne(!!t,49232),ve.fromTimestamp(function(n){const s=rs(n);return new it(s.seconds,s.nanos)}(t))}function zu(t,e){return Xl(t,e).canonicalString()}function Xl(t,e){const n=function(r){return new He(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function qm(t){const e=He.fromString(t);return Ne(Qm(e),10190,{key:e.toString()}),e}function Jl(t,e){return zu(t.databaseId,e.path)}function ul(t,e){const n=qm(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(Gm(n))}function Hm(t,e){return zu(t.databaseId,e)}function vE(t){const e=qm(t);return e.length===4?He.emptyPath():Gm(e)}function Zl(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Gm(t){return Ne(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Df(t,e,n){return{name:Jl(t,e),fields:n.value.mapValue.fields}}function yE(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:pe(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Ne(d===void 0||typeof d=="string",58123),mt.fromBase64String(d||"")):(Ne(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),mt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?W.UNKNOWN:Bm(c.code);return new ie(d,c.message||"")}(o);n=new Um(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=ul(t,s.document.name),i=vn(s.document.updateTime),o=s.document.createTime?vn(s.document.createTime):ve.min(),a=new $t({mapValue:{fields:s.document.fields}}),u=St.newFoundDocument(r,i,o,a),c=s.targetIds||[],d=s.removedTargetIds||[];n=new mo(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=ul(t,s.document),i=s.readTime?vn(s.readTime):ve.min(),o=St.newNoDocument(r,i),a=s.removedTargetIds||[];n=new mo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=ul(t,s.document),i=s.removedTargetIds||[];n=new mo([],i,r,null)}else{if(!("filter"in e))return pe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new lE(r,i),a=s.targetId;n=new jm(a,o)}}return n}function _E(t,e){let n;if(e instanceof Ci)n={update:Df(t,e.key,e.value)};else if(e instanceof Bu)n={delete:Jl(t,e.key)};else if(e instanceof hs)n={update:Df(t,e.key,e.data),updateMask:CE(e.fieldMask)};else{if(!(e instanceof iE))return pe(16599,{ft:e.type});n={verify:Jl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(i,o){const a=o.transform;if(a instanceof Oo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _i)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof No)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw pe(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:gE(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:pe(27497)}(t,e.precondition)),n}function wE(t,e){return t&&t.length>0?(Ne(e!==void 0,14353),t.map(n=>function(r,i){let o=r.updateTime?vn(r.updateTime):vn(i);return o.isEqual(ve.min())&&(o=vn(i)),new nE(o,r.transformResults||[])}(n,e))):[]}function bE(t,e){return{documents:[Hm(t,e.path)]}}function EE(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Hm(t,r);const i=function(c){if(c.length!==0)return Km(bn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Ws(p.field),direction:SE(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Yl(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:r}}function TE(t){let e=vE(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Ne(s===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=Wm(f);return p instanceof bn&&Im(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(_){return new Mo(Ks(_.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,fa(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,g=f.values||[];return new Do(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new Do(g,p)}(n.endAt)),Ub(e,r,o,i,a,"F",u,c)}function IE(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Wm(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ks(n.unaryFilter.field);return rt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=Ks(n.unaryFilter.field);return rt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ks(n.unaryFilter.field);return rt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ks(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pe(61313);default:return pe(60726)}}(t):t.fieldFilter!==void 0?function(n){return rt.create(Ks(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pe(58110);default:return pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return bn.create(n.compositeFilter.filters.map(s=>Wm(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return pe(1026)}}(n.compositeFilter.op))}(t):pe(30097,{filter:t})}function SE(t){return fE[t]}function AE(t){return hE[t]}function xE(t){return pE[t]}function Ws(t){return{fieldPath:t.canonicalString()}}function Ks(t){return ht.fromServerFormat(t.fieldPath)}function Km(t){return t instanceof rt?function(n){if(n.op==="=="){if(wf(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NAN"}};if(_f(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wf(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NOT_NAN"}};if(_f(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ws(n.field),op:AE(n.op),value:n.value}}}(t):t instanceof bn?function(n){const s=n.getFilters().map(r=>Km(r));return s.length===1?s[0]:{compositeFilter:{op:xE(n.op),filters:s}}}(t):pe(54877,{filter:t})}function CE(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Qm(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n,s,r,i=ve.min(),o=ve.min(),a=mt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Kn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e){this.wt=e}}function RE(t){const e=TE({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ql(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.yn=new VE}addToCollectionParentIndex(e,n){return this.yn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(ss.min())}updateCollectionGroup(e,n,s){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class VE{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new ot(He.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new ot(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ym=41943040;class Nt{static withCacheSize(e){return new Nt(e,Nt.DEFAULT_COLLECTION_PERCENTILE,Nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nt.DEFAULT_COLLECTION_PERCENTILE=10,Nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nt.DEFAULT=new Nt(Ym,Nt.DEFAULT_COLLECTION_PERCENTILE,Nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nt.DISABLED=new Nt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new fr(0)}static ir(){return new fr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="LruGarbageCollector",DE=1048576;function Nf([t,e],[n,s]){const r=Te(t,n);return r===0?Te(e,s):r}class ME{constructor(e){this.cr=e,this.buffer=new ot(Nf),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Nf(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OE{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ne(Of,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wr(n)?ne(Of,"Ignoring IndexedDB error during garbage collection: ",n):await _r(n)}await this.Ir(3e5)})}}class NE{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return q.resolve(da.le);const s=new ME(n);return this.Er.forEachTarget(e,r=>s.Pr(r.sequenceNumber)).next(()=>this.Er.Ar(e,r=>s.Pr(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Er.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(Mf)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mf):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let s,r,i,o,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,o=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(s=f,a=Date.now(),this.removeTargets(e,s,n))).next(f=>(i=f,u=Date.now(),this.removeOrphanedDocuments(e,s))).next(f=>(c=Date.now(),Hs()<=Re.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:f})))}}function LE(t,e){return new NE(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this.changes=new Os(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?q.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&ni(s.mutation,r,Wt.empty(),it.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,xe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=xe()){const r=Is();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=Hr();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=Is();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,xe()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,r){let i=Nn();const o=ti(),a=function(){return ti()}();return n.forEach((u,c)=>{const d=s.get(c.key);r.has(c.key)&&(d===void 0||d.mutation instanceof hs)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),ni(d.mutation,c,d.mutation.getFieldMask(),it.now())):o.set(c.key,Wt.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new FE(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const s=ti();let r=new Ke((o,a)=>o-a),i=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=s.get(u)||Wt.empty();d=a.applyToLocalView(c,d),s.set(u,d);const f=(r.get(a.batchId)||xe()).add(u);r=r.insert(a.batchId,f)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,f=Vm();d.forEach(p=>{if(!i.has(p)){const g=$m(n.get(p),s.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return q.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(o){return ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):q.resolve(Is());let a=pi,u=i;return o.next(c=>q.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?q.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,xe())).next(d=>({batchId:a,changes:km(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(s=>{let r=Hr();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let o=Hr();return this.indexManager.getCollectionParents(e,i).next(a=>q.forEach(a,u=>{const c=function(f,p){return new pa(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,s,r).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r))).next(o=>{i.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,St.newInvalidDocument(d)))});let a=Hr();return o.forEach((u,c)=>{const d=i.get(u);d!==void 0&&ni(d.mutation,c,Wt.empty(),it.now()),ga(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return q.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:vn(r.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(r){return{name:r.name,query:RE(r.bundledQuery),readTime:vn(r.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.overlays=new Ke(ue.comparator),this.Or=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Is();return q.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.St(e,n,i)}),q.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.Or.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(s)),q.resolve()}getOverlaysForCollection(e,n,s){const r=Is(),i=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>s&&r.set(u.getKey(),u)}return q.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new Ke((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>s){let d=i.get(c.largestBatchId);d===null&&(d=Is(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Is(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=r)););return q.resolve(a)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.Or.get(r.largestBatchId).delete(s.key);this.Or.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new aE(n,s));let i=this.Or.get(n);i===void 0&&(i=xe(),this.Or.set(n,i)),this.Or.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.sessionToken=mt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(){this.Nr=new ot(at.Br),this.Lr=new ot(at.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const s=new at(e,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Qr(new at(e,n))}$r(e,n){e.forEach(s=>this.removeReference(s,n))}Ur(e){const n=new ue(new He([])),s=new at(n,e),r=new at(n,e+1),i=[];return this.Lr.forEachInRange([s,r],o=>{this.Qr(o),i.push(o.key)}),i}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new ue(new He([])),s=new at(n,e),r=new at(n,e+1);let i=xe();return this.Lr.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new at(e,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class at{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return ue.comparator(e.key,n.key)||Te(e.Gr,n.Gr)}static kr(e,n){return Te(e.Gr,n.Gr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new ot(at.Br)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new oE(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.zr=this.zr.add(new at(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.Hr(s),i=r<0?0:r;return q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?Du:this.Jn-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new at(n,0),r=new at(n,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([s,r],o=>{const a=this.jr(o.Gr);i.push(a)}),q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ot(Te);return n.forEach(r=>{const i=new at(r,0),o=new at(r,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,o],a=>{s=s.add(a.Gr)})}),q.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;ue.isDocumentKey(i)||(i=i.child(""));const o=new at(new ue(i),0);let a=new ot(Te);return this.zr.forEachWhile(u=>{const c=u.key.path;return!!s.isPrefixOf(c)&&(c.length===r&&(a=a.add(u.Gr)),!0)},o),q.resolve(this.Jr(a))}Jr(e){const n=[];return e.forEach(s=>{const r=this.jr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ne(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return q.forEach(n.mutations,r=>{const i=new at(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,n){const s=new at(n,0),r=this.zr.firstAfterOrEqual(s);return q.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.Zr=e,this.docs=function(){return new Ke(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return q.resolve(s?s.document.mutableCopy():St.newInvalidDocument(n))}getEntries(e,n){let s=Nn();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():St.newInvalidDocument(r))}),q.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=Nn();const o=n.path,a=new ue(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||wb(_b(d),s)<=0||(r.has(d.key)||ga(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return q.resolve(i)}getAllFromCollectionGroup(e,n,s,r){pe(9500)}Xr(e,n){return q.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new GE(this)}getSize(e){return q.resolve(this.size)}}class GE extends $E{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.vr.addEntry(e,r)):this.vr.removeEntry(s)}),q.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.persistence=e,this.ei=new Os(n=>Nu(n),Lu),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.ti=0,this.ni=new qu,this.targetCount=0,this.ri=fr.rr()}forEachTarget(e,n){return this.ei.forEach((s,r)=>n(r)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),q.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new fr(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.ar(n),q.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.ei.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),q.waitFor(i).next(()=>r)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const s=this.ei.get(n)||null;return q.resolve(s)}addMatchingKeys(e,n,s){return this.ni.qr(n,s),q.resolve()}removeMatchingKeys(e,n,s){this.ni.$r(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),q.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ni.Wr(n);return q.resolve(s)}containsKey(e,n){return q.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n){this.ii={},this.overlays={},this.si=new da(0),this.oi=!1,this.oi=!0,this._i=new zE,this.referenceDelegate=e(this),this.ai=new WE(this),this.indexManager=new kE,this.remoteDocumentCache=function(r){return new HE(r)}(s=>this.referenceDelegate.ui(s)),this.serializer=new PE(n),this.ci=new jE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ii[e.toKey()];return s||(s=new qE(n,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,s){ne("MemoryPersistence","Starting transaction:",e);const r=new KE(this.si.next());return this.referenceDelegate.li(),s(r).next(i=>this.referenceDelegate.hi(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Pi(e,n){return q.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,n)))}}class KE extends Eb{constructor(e){super(),this.currentSequenceNumber=e}}class Hu{constructor(e){this.persistence=e,this.Ti=new qu,this.Ii=null}static Ei(e){return new Hu(e)}get di(){if(this.Ii)return this.Ii;throw pe(60996)}addReference(e,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),q.resolve()}removeReference(e,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),q.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(r=>this.di.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.di.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.di,s=>{const r=ue.fromPath(s);return this.Ai(e,r).next(i=>{i||n.removeEntry(r,ve.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return q.or([()=>q.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class $o{constructor(e,n){this.persistence=e,this.Ri=new Os(s=>Sb(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=LE(this,n)}static Ei(e,n){return new $o(e,n)}li(){}hi(e){return q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}Vr(e){let n=0;return this.Ar(e,s=>{n++}).next(()=>n)}Ar(e,n){return q.forEach(this.Ri,(s,r)=>this.gr(e,s,r).next(i=>i?q.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Xr(e,o=>this.gr(e,o,n).next(a=>{a||(s++,i.removeEntry(o,ve.min()))})).next(()=>i.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),q.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),q.resolve()}removeReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),q.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fo(e.data.value)),n}gr(e,n,s){return q.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.Ri.get(n);return q.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.ls=s,this.hs=r}static Ps(e,n){let s=xe(),r=xe();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Gu(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return z0()?8:Tb(B0())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.Rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Vs(e,n,r,s).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new QE;return this.fs(e,n,o).next(a=>{if(i.result=a,this.Is)return this.gs(e,n,o,a.size)})}).next(()=>i.result)}gs(e,n,s,r){return s.documentReadCount<this.Es?(Hs()<=Re.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",Gs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),q.resolve()):(Hs()<=Re.DEBUG&&ne("QueryEngine","Query:",Gs(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.ds*r?(Hs()<=Re.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",Gs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gn(n))):q.resolve())}Rs(e,n){if(If(n))return q.resolve(null);let s=gn(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Ql(n,null,"F"),s=gn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=xe(...i);return this.As.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(u=>{const c=this.ps(n,a);return this.ys(n,c,o,u.readTime)?this.Rs(e,Ql(n,null,"F")):this.ws(e,c,n,u)}))})))}Vs(e,n,s,r){return If(n)||r.isEqual(ve.min())?q.resolve(null):this.As.getDocuments(e,s).next(i=>{const o=this.ps(n,i);return this.ys(n,o,s,r)?q.resolve(null):(Hs()<=Re.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gs(n)),this.ws(e,o,n,yb(r,pi)).next(a=>a))})}ps(e,n){let s=new ot(Pm(e));return n.forEach((r,i)=>{ga(e,i)&&(s=s.add(i))}),s}ys(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}fs(e,n,s){return Hs()<=Re.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Gs(n)),this.As.getDocumentsMatchingQuery(e,n,ss.min(),s)}ws(e,n,s,r){return this.As.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu="LocalStore",XE=3e8;class JE{constructor(e,n,s,r){this.persistence=e,this.bs=n,this.serializer=r,this.Ss=new Ke(Te),this.Ds=new Os(i=>Nu(i),Lu),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BE(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function ZE(t,e,n,s){return new JE(t,e,n,s)}async function Jm(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Fs(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let u=xe();for(const c of r){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(s,u).next(c=>({Ms:c,removedBatchIds:o,addedBatchIds:a}))})})}function eT(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const f=c.batch,p=f.keys();let g=q.resolve();return p.forEach(_=>{g=g.next(()=>d.getEntry(u,_)).next(x=>{const C=c.docVersions.get(_);Ne(C!==null,48541),x.version.compareTo(C)<0&&(f.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),d.addEntry(x)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(a){let u=xe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function Zm(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function tT(t,e){const n=_e(t),s=e.snapshotVersion;let r=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});r=n.Ss;const a=[];e.targetChanges.forEach((d,f)=>{const p=r.get(f);if(!p)return;a.push(n.ai.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.ai.addMatchingKeys(i,d.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(mt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,s)),r=r.insert(f,g),function(x,C,k){return x.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=XE?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(p,g,d)&&a.push(n.ai.updateTargetData(i,g))});let u=Nn(),c=xe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(nT(i,o,e.documentUpdates).next(d=>{u=d.xs,c=d.Os})),!s.isEqual(ve.min())){const d=n.ai.getLastRemoteSnapshotVersion(i).next(f=>n.ai.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(d)}return q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.Ss=r,i))}function nT(t,e,n){let s=xe(),r=xe();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=Nn();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),u.isNoDocument()&&u.version.isEqual(ve.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):ne(Wu,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{xs:o,Os:r}})}function sT(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Du),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function rT(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.ai.getTargetData(s,e).next(i=>i?(r=i,q.resolve(r)):n.ai.allocateTargetId(s).next(o=>(r=new Kn(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ss.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(e,s.targetId)),s})}async function eu(t,e,n){const s=_e(t),r=s.Ss.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!wr(o))throw o;ne(Wu,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(r.target)}function Lf(t,e,n){const s=_e(t);let r=ve.min(),i=xe();return s.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const f=_e(u),p=f.Ds.get(d);return p!==void 0?q.resolve(f.Ss.get(p)):f.ai.getTargetData(c,d)}(s,o,gn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>s.bs.getDocumentsMatchingQuery(o,e,n?r:ve.min(),n?i:xe())).next(a=>(iT(s,Hb(e),a),{documents:a,Ns:i})))}function iT(t,e,n){let s=t.vs.get(e)||ve.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.vs.set(e,s)}class $f{constructor(){this.activeTargetIds=Xb()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oT{constructor(){this.So=new $f,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,s){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new $f,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="ConnectivityMonitor";class Bf{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ne(Ff,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ne(Ff,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so=null;function tu(){return so===null?so=function(){return 268435456+Math.round(2147483648*Math.random())}():so++,"0x"+so.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl="RestConnection",lT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uT{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${s}/databases/${r}`,this.qo=this.databaseId.database===ko?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Qo(e,n,s,r,i){const o=tu(),a=this.$o(e,n.toUriEncodedString());ne(cl,`Sending RPC '${e}' ${o}:`,a,s);const u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(u,r,i),this.Ko(e,a,u,s).then(c=>(ne(cl,`Received RPC '${e}' ${o}: `,c),c),c=>{throw lr(cl,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",s),c})}Wo(e,n,s,r,i,o){return this.Qo(e,n,s,r,i)}Uo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yr}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}$o(e,n){const s=lT[e];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="WebChannelConnection";class dT extends uT{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,s,r){const i=tu();return new Promise((o,a)=>{const u=new sm;u.setWithCredentials(!0),u.listenOnce(rm.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case co.NO_ERROR:const d=u.getResponseJson();ne(bt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case co.TIMEOUT:ne(bt,`RPC '${e}' ${i} timed out`),a(new ie(W.DEADLINE_EXCEEDED,"Request time out"));break;case co.HTTP_ERROR:const f=u.getStatus();if(ne(bt,`RPC '${e}' ${i} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const _=function(C){const k=C.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(k)>=0?k:W.UNKNOWN}(g.status);a(new ie(_,g.message))}else a(new ie(W.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ie(W.UNAVAILABLE,"Connection failed."));break;default:pe(9055,{s_:e,streamId:i,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{ne(bt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(r);ne(bt,`RPC '${e}' ${i} sending request:`,r),u.send(n,"POST",c,s,15)})}a_(e,n,s){const r=tu(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=am(),a=om(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,n,s),u.encodeInitMessageHeaders=!0;const d=i.join("");ne(bt,`Creating RPC '${e}' stream ${r}: ${d}`,u);const f=o.createWebChannel(d,u);let p=!1,g=!1;const _=new cT({Go:C=>{g?ne(bt,`Not sending because RPC '${e}' stream ${r} is closed:`,C):(p||(ne(bt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),p=!0),ne(bt,`RPC '${e}' stream ${r} sending:`,C),f.send(C))},zo:()=>f.close()}),x=(C,k,y)=>{C.listen(k,v=>{try{y(v)}catch(I){setTimeout(()=>{throw I},0)}})};return x(f,qr.EventType.OPEN,()=>{g||(ne(bt,`RPC '${e}' stream ${r} transport opened.`),_.t_())}),x(f,qr.EventType.CLOSE,()=>{g||(g=!0,ne(bt,`RPC '${e}' stream ${r} transport closed`),_.r_())}),x(f,qr.EventType.ERROR,C=>{g||(g=!0,lr(bt,`RPC '${e}' stream ${r} transport errored. Name:`,C.name,"Message:",C.message),_.r_(new ie(W.UNAVAILABLE,"The operation could not be completed")))}),x(f,qr.EventType.MESSAGE,C=>{var k;if(!g){const y=C.data[0];Ne(!!y,16349);const v=y,I=(v==null?void 0:v.error)||((k=v[0])===null||k===void 0?void 0:k.error);if(I){ne(bt,`RPC '${e}' stream ${r} received error:`,I);const M=I.status;let $=function(E){const S=tt[E];if(S!==void 0)return Bm(S)}(M),A=I.message;$===void 0&&($=W.INTERNAL,A="Unknown error status: "+M+" with message "+I.message),g=!0,_.r_(new ie($,A)),f.close()}else ne(bt,`RPC '${e}' stream ${r} received:`,y),_.i_(y)}}),x(a,im.STAT_EVENT,C=>{C.stat===zl.PROXY?ne(bt,`RPC '${e}' stream ${r} detected buffering proxy`):C.stat===zl.NOPROXY&&ne(bt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{_.n_()},0),_}}function dl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t){return new mE(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,s=1e3,r=1.5,i=6e4){this.bi=e,this.timerId=n,this.u_=s,this.c_=r,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),r=Math.max(0,n-s);r>0&&ne("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,r,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="PersistentStream";class tg{constructor(e,n,s,r,i,o,a,u){this.bi=e,this.R_=s,this.V_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new eg(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(On(n.toString()),On("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.m_===n&&this.B_(s,r)},s=>{e(()=>{const r=new ie(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(r)})})}B_(e,n){const s=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(r=>{s(()=>this.L_(r))}),this.stream.onMessage(r=>{s(()=>++this.p_==1?this.q_(r):this.onNext(r))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ne(jf,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(ne(jf,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fT extends tg{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=yE(this.serializer,e),s=function(i){if(!("targetChange"in i))return ve.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?vn(o.readTime):ve.min()}(e);return this.listener.Q_(n,s)}U_(e){const n={};n.database=Zl(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=Kl(u)?{documents:bE(i,u)}:{query:EE(i,u).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=zm(i,o.resumeToken);const c=Yl(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ve.min())>0){a.readTime=Lo(i,o.snapshotVersion.toTimestamp());const c=Yl(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const s=IE(this.serializer,e);s&&(n.labels=s),this.F_(n)}K_(e){const n={};n.database=Zl(this.serializer),n.removeTarget=e,this.F_(n)}}class hT extends tg{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Ne(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ne(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=wE(e.writeResults,e.commitTime),s=vn(e.commitTime);return this.listener.j_(s,n)}H_(){const e={};e.database=Zl(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>_E(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{}class mT extends pT{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.J_=!1}Y_(){if(this.J_)throw new ie(W.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,s,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Qo(e,Xl(n,s),r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ie(W.UNKNOWN,i.toString())})}Wo(e,n,s,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,Xl(n,s),r,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(W.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class gT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(On(n),this.ea=!1):ne("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="RemoteStore";class vT{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(o=>{s.enqueueAndForget(async()=>{Ns(this)&&(ne(Ps,"Restarting streams for network reachability change."),await async function(u){const c=_e(u);c.aa.add(4),await Ri(c),c.la.set("Unknown"),c.aa.delete(4),await ba(c)}(this))})}),this.la=new gT(s,r)}}async function ba(t){if(Ns(t))for(const e of t.ua)await e(!0)}async function Ri(t){for(const e of t.ua)await e(!1)}function ng(t,e){const n=_e(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Xu(n)?Yu(n):br(n).b_()&&Qu(n,e))}function Ku(t,e){const n=_e(t),s=br(n);n._a.delete(e),s.b_()&&sg(n,e),n._a.size===0&&(s.b_()?s.v_():Ns(n)&&n.la.set("Unknown"))}function Qu(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}br(t).U_(e)}function sg(t,e){t.ha.Ke(e),br(t).K_(e)}function Yu(t){t.ha=new dE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),br(t).start(),t.la.ta()}function Xu(t){return Ns(t)&&!br(t).w_()&&t._a.size>0}function Ns(t){return _e(t).aa.size===0}function rg(t){t.ha=void 0}async function yT(t){t.la.set("Online")}async function _T(t){t._a.forEach((e,n)=>{Qu(t,e)})}async function wT(t,e){rg(t),Xu(t)?(t.la.ia(e),Yu(t)):t.la.set("Unknown")}async function bT(t,e,n){if(t.la.set("Online"),e instanceof Um&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const a of i.targetIds)r._a.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r._a.delete(a),r.ha.removeTarget(a))}(t,e)}catch(s){ne(Ps,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Fo(t,s)}else if(e instanceof mo?t.ha.Xe(e):e instanceof jm?t.ha.ot(e):t.ha.nt(e),!n.isEqual(ve.min()))try{const s=await Zm(t.localStore);n.compareTo(s)>=0&&await function(i,o){const a=i.ha.It(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=i._a.get(c);d&&i._a.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=i._a.get(u);if(!d)return;i._a.set(u,d.withResumeToken(mt.EMPTY_BYTE_STRING,d.snapshotVersion)),sg(i,u);const f=new Kn(d.target,u,c,d.sequenceNumber);Qu(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(s){ne(Ps,"Failed to raise snapshot:",s),await Fo(t,s)}}async function Fo(t,e,n){if(!wr(e))throw e;t.aa.add(1),await Ri(t),t.la.set("Offline"),n||(n=()=>Zm(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne(Ps,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await ba(t)})}function ig(t,e){return e().catch(n=>Fo(t,n,e))}async function Ea(t){const e=_e(t),n=as(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:Du;for(;ET(e);)try{const r=await sT(e.localStore,s);if(r===null){e.oa.length===0&&n.v_();break}s=r.batchId,TT(e,r)}catch(r){await Fo(e,r)}og(e)&&ag(e)}function ET(t){return Ns(t)&&t.oa.length<10}function TT(t,e){t.oa.push(e);const n=as(t);n.b_()&&n.W_&&n.G_(e.mutations)}function og(t){return Ns(t)&&!as(t).w_()&&t.oa.length>0}function ag(t){as(t).start()}async function IT(t){as(t).H_()}async function ST(t){const e=as(t);for(const n of t.oa)e.G_(n.mutations)}async function AT(t,e,n){const s=t.oa.shift(),r=ju.from(s,e,n);await ig(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Ea(t)}async function xT(t,e){e&&as(t).W_&&await async function(s,r){if(function(o){return uE(o)&&o!==W.ABORTED}(r.code)){const i=s.oa.shift();as(s).D_(),await ig(s,()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Ea(s)}}(t,e),og(t)&&ag(t)}async function Uf(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),ne(Ps,"RemoteStore received new credentials");const s=Ns(n);n.aa.add(3),await Ri(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await ba(n)}async function CT(t,e){const n=_e(t);e?(n.aa.delete(2),await ba(n)):e||(n.aa.add(2),await Ri(n),n.la.set("Unknown"))}function br(t){return t.Pa||(t.Pa=function(n,s,r){const i=_e(n);return i.Y_(),new fT(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{jo:yT.bind(null,t),Jo:_T.bind(null,t),Zo:wT.bind(null,t),Q_:bT.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),Xu(t)?Yu(t):t.la.set("Unknown")):(await t.Pa.stop(),rg(t))})),t.Pa}function as(t){return t.Ta||(t.Ta=function(n,s,r){const i=_e(n);return i.Y_(),new hT(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:IT.bind(null,t),Zo:xT.bind(null,t),z_:ST.bind(null,t),j_:AT.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await Ea(t)):(await t.Ta.stop(),t.oa.length>0&&(ne(Ps,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new Ju(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zu(t,e){if(On("AsyncQueue",`${e}: ${t}`),wr(t))return new ie(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{static emptySet(e){return new ir(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ue.comparator(n.key,s.key):(n,s)=>ue.comparator(n.key,s.key),this.keyedMap=Hr(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ir)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ir;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(){this.Ia=new Ke(ue.comparator)}track(e){const n=e.doc.key,s=this.Ia.get(n);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(n):e.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):pe(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,s)=>{e.push(s)}),e}}class hr{constructor(e,n,s,r,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new hr(e,n,ir.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ma(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class RT{constructor(){this.queries=qf(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const r=_e(n),i=r.queries;r.queries=qf(),i.forEach((o,a)=>{for(const u of a.Ra)u.onError(s)})})(this,new ie(W.ABORTED,"Firestore shutting down"))}}function qf(){return new Os(t=>Cm(t),ma)}async function lg(t,e){const n=_e(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.Va()&&e.ma()&&(s=2):(i=new PT,s=e.ma()?0:1);try{switch(s){case 0:i.Aa=await n.onListen(r,!0);break;case 1:i.Aa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=Zu(o,`Initialization of query '${Gs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.Ra.push(e),e.ga(n.onlineState),i.Aa&&e.pa(i.Aa)&&ec(n)}async function ug(t,e){const n=_e(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const o=i.Ra.indexOf(e);o>=0&&(i.Ra.splice(o,1),i.Ra.length===0?r=e.ma()?0:1:!i.Va()&&e.ma()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function kT(t,e){const n=_e(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.Ra)a.pa(r)&&(s=!0);o.Aa=r}}s&&ec(n)}function VT(t,e,n){const s=_e(t),r=s.queries.get(e);if(r)for(const i of r.Ra)i.onError(n);s.queries.delete(e)}function ec(t){t.fa.forEach(e=>{e.next()})}var nu,Hf;(Hf=nu||(nu={})).ya="default",Hf.Cache="cache";class cg{constructor(e,n,s){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new hr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=hr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==nu.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e){this.key=e}}class fg{constructor(e){this.key=e}}class DT{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=xe(),this.mutatedKeys=xe(),this.Ua=Pm(e),this.Ka=new ir(this.Ua)}get Wa(){return this.qa}Ga(e,n){const s=n?n.za:new zf,r=n?n.Ka:this.Ka;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,f)=>{const p=r.get(d),g=ga(this.query,f)?f:null,_=!!p&&this.mutatedKeys.has(p.key),x=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let C=!1;p&&g?p.data.isEqual(g.data)?_!==x&&(s.track({type:3,doc:g}),C=!0):this.ja(p,g)||(s.track({type:2,doc:g}),C=!0,(u&&this.Ua(g,u)>0||c&&this.Ua(g,c)<0)&&(a=!0)):!p&&g?(s.track({type:0,doc:g}),C=!0):p&&!g&&(s.track({type:1,doc:p}),C=!0,(u||c)&&(a=!0)),C&&(g?(o=o.add(g),i=x?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),s.track({type:1,doc:d})}return{Ka:o,za:s,ys:a,mutatedKeys:i}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((d,f)=>function(g,_){const x=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe(20277,{Vt:C})}};return x(g)-x(_)}(d.type,f.type)||this.Ua(d.doc,f.doc)),this.Ha(s),r=r!=null&&r;const a=n&&!r?this.Ja():[],u=this.$a.size===0&&this.current&&!r?1:0,c=u!==this.Qa;return this.Qa=u,o.length!==0||c?{snapshot:new hr(this.query,e.Ka,i,o,e.mutatedKeys,u===0,c,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new zf,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=xe(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return e.forEach(s=>{this.$a.has(s)||n.push(new fg(s))}),this.$a.forEach(s=>{e.has(s)||n.push(new dg(s))}),n}Xa(e){this.qa=e.Ns,this.$a=xe();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return hr.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const tc="SyncEngine";class MT{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class OT{constructor(e){this.key=e,this.tu=!1}}class NT{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new Os(a=>Cm(a),ma),this.iu=new Map,this.su=new Set,this.ou=new Ke(ue.comparator),this._u=new Map,this.au=new qu,this.uu={},this.cu=new Map,this.lu=fr.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function LT(t,e,n=!0){const s=yg(t);let r;const i=s.ru.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.eu()):r=await hg(s,e,n,!0),r}async function $T(t,e){const n=yg(t);await hg(n,e,!0,!1)}async function hg(t,e,n,s){const r=await rT(t.localStore,gn(e)),i=r.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return s&&(a=await FT(t,e,i,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&ng(t.remoteStore,r),a}async function FT(t,e,n,s,r){t.Pu=(f,p,g)=>async function(x,C,k,y){let v=C.view.Ga(k);v.ys&&(v=await Lf(x.localStore,C.query,!1).then(({documents:A})=>C.view.Ga(A,v)));const I=y&&y.targetChanges.get(C.targetId),M=y&&y.targetMismatches.get(C.targetId)!=null,$=C.view.applyChanges(v,x.isPrimaryClient,I,M);return Wf(x,C.targetId,$.Ya),$.snapshot}(t,f,p,g);const i=await Lf(t.localStore,e,!0),o=new DT(e,i.Ns),a=o.Ga(i.documents),u=Pi.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,u);Wf(t,n,c.Ya);const d=new MT(e,n,o);return t.ru.set(e,d),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),c.snapshot}async function BT(t,e,n){const s=_e(t),r=s.ru.get(e),i=s.iu.get(r.targetId);if(i.length>1)return s.iu.set(r.targetId,i.filter(o=>!ma(o,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await eu(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&Ku(s.remoteStore,r.targetId),su(s,r.targetId)}).catch(_r)):(su(s,r.targetId),await eu(s.localStore,r.targetId,!0))}async function jT(t,e){const n=_e(t),s=n.ru.get(e),r=n.iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ku(n.remoteStore,s.targetId))}async function UT(t,e,n){const s=QT(t);try{const r=await function(o,a){const u=_e(o),c=it.now(),d=a.reduce((g,_)=>g.add(_.key),xe());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=Nn(),x=xe();return u.Cs.getEntries(g,d).next(C=>{_=C,_.forEach((k,y)=>{y.isValidDocument()||(x=x.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,_)).next(C=>{f=C;const k=[];for(const y of a){const v=rE(y,f.get(y.key).overlayedDocument);v!=null&&k.push(new hs(y.key,v,bm(v.value.mapValue),rn.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,k,a)}).next(C=>{p=C;const k=C.applyToLocalDocumentSet(f,x);return u.documentOverlayCache.saveOverlays(g,C.batchId,k)})}).then(()=>({batchId:p.batchId,changes:km(f)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(o,a,u){let c=o.uu[o.currentUser.toKey()];c||(c=new Ke(Te)),c=c.insert(a,u),o.uu[o.currentUser.toKey()]=c}(s,r.batchId,n),await ki(s,r.changes),await Ea(s.remoteStore)}catch(r){const i=Zu(r,"Failed to persist write");n.reject(i)}}async function pg(t,e){const n=_e(t);try{const s=await tT(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n._u.get(i);o&&(Ne(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.tu=!0:r.modifiedDocuments.size>0?Ne(o.tu,14607):r.removedDocuments.size>0&&(Ne(o.tu,42227),o.tu=!1))}),await ki(n,s,e)}catch(s){await _r(s)}}function Gf(t,e,n){const s=_e(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.ru.forEach((i,o)=>{const a=o.view.ga(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const u=_e(o);u.onlineState=a;let c=!1;u.queries.forEach((d,f)=>{for(const p of f.Ra)p.ga(a)&&(c=!0)}),c&&ec(u)}(s.eventManager,e),r.length&&s.nu.Q_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function zT(t,e,n){const s=_e(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s._u.get(e),i=r&&r.key;if(i){let o=new Ke(ue.comparator);o=o.insert(i,St.newNoDocument(i,ve.min()));const a=xe().add(i),u=new _a(ve.min(),new Map,new Ke(Te),o,a);await pg(s,u),s.ou=s.ou.remove(i),s._u.delete(e),nc(s)}else await eu(s.localStore,e,!1).then(()=>su(s,e,n)).catch(_r)}async function qT(t,e){const n=_e(t),s=e.batch.batchId;try{const r=await eT(n.localStore,e);gg(n,s,null),mg(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ki(n,r)}catch(r){await _r(r)}}async function HT(t,e,n){const s=_e(t);try{const r=await function(o,a){const u=_e(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ne(f!==null,37113),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(s.localStore,e);gg(s,e,n),mg(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ki(s,r)}catch(r){await _r(r)}}function mg(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function gg(t,e,n){const s=_e(t);let r=s.uu[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.uu[s.currentUser.toKey()]=r}}function su(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.iu.get(e))t.ru.delete(s),n&&t.nu.Tu(s,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(s=>{t.au.containsKey(s)||vg(t,s)})}function vg(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(Ku(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),nc(t))}function Wf(t,e,n){for(const s of n)s instanceof dg?(t.au.addReference(s.key,e),GT(t,s)):s instanceof fg?(ne(tc,"Document no longer in limbo: "+s.key),t.au.removeReference(s.key,e),t.au.containsKey(s.key)||vg(t,s.key)):pe(19791,{Iu:s})}function GT(t,e){const n=e.key,s=n.path.canonicalString();t.ou.get(n)||t.su.has(s)||(ne(tc,"New document in limbo: "+n),t.su.add(s),nc(t))}function nc(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new ue(He.fromString(e)),s=t.lu.next();t._u.set(s,new OT(n)),t.ou=t.ou.insert(n,s),ng(t.remoteStore,new Kn(gn($u(n.path)),s,"TargetPurposeLimboResolution",da.le))}}async function ki(t,e,n){const s=_e(t),r=[],i=[],o=[];s.ru.isEmpty()||(s.ru.forEach((a,u)=>{o.push(s.Pu(u,e,n).then(c=>{var d;if((c||n)&&s.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;s.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){r.push(c);const f=Gu.Ps(u.targetId,c);i.push(f)}}))}),await Promise.all(o),s.nu.Q_(r),await async function(u,c){const d=_e(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>q.forEach(c,p=>q.forEach(p.ls,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>q.forEach(p.hs,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!wr(f))throw f;ne(Wu,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=d.Ss.get(p),_=g.snapshotVersion,x=g.withLastLimboFreeSnapshotVersion(_);d.Ss=d.Ss.insert(p,x)}}}(s.localStore,i))}async function WT(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){ne(tc,"User change. New user:",e.toKey());const s=await Jm(n.localStore,e);n.currentUser=e,function(i,o){i.cu.forEach(a=>{a.forEach(u=>{u.reject(new ie(W.CANCELLED,o))})}),i.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ki(n,s.Ms)}}function KT(t,e){const n=_e(t),s=n._u.get(e);if(s&&s.tu)return xe().add(s.key);{let r=xe();const i=n.iu.get(e);if(!i)return r;for(const o of i){const a=n.ru.get(o);r=r.unionWith(a.view.Wa)}return r}}function yg(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zT.bind(null,e),e.nu.Q_=kT.bind(null,e.eventManager),e.nu.Tu=VT.bind(null,e.eventManager),e}function QT(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HT.bind(null,e),e}class Bo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wa(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return ZE(this.persistence,new YE,e.initialUser,this.serializer)}Ru(e){return new Xm(Hu.Ei,this.serializer)}Au(e){return new oT}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bo.provider={build:()=>new Bo};class YT extends Bo{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Ne(this.persistence.referenceDelegate instanceof $o,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new OE(s,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Nt.withCacheSize(this.cacheSizeBytes):Nt.DEFAULT;return new Xm(s=>$o.Ei(s,n),this.serializer)}}class ru{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Gf(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=WT.bind(null,this.syncEngine),await CT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RT}()}createDatastore(e){const n=wa(e.databaseInfo.databaseId),s=function(i){return new dT(i)}(e.databaseInfo);return function(i,o,a,u){return new mT(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,i,o,a){return new vT(s,r,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Gf(this.syncEngine,n,0),function(){return Bf.C()?new Bf:new aT}())}createSyncEngine(e,n){return function(r,i,o,a,u,c,d){const f=new NT(r,i,o,a,u,c);return d&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const i=_e(r);ne(Ps,"RemoteStore shutting down."),i.aa.add(5),await Ri(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ru.provider={build:()=>new ru};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):On("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="FirestoreClient";class XT{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Et.UNAUTHENTICATED,this.clientId=dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async o=>{ne(ls,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(ne(ls,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Zu(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function fl(t,e){t.asyncQueue.verifyOperationInProgress(),ne(ls,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await Jm(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Kf(t,e){t.asyncQueue.verifyOperationInProgress();const n=await JT(t);ne(ls,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>Uf(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>Uf(e.remoteStore,r)),t._onlineComponents=e}async function JT(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne(ls,"Using user provided OfflineComponentProvider");try{await fl(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===W.FAILED_PRECONDITION||r.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;lr("Error using user provided cache. Falling back to memory cache: "+n),await fl(t,new Bo)}}else ne(ls,"Using default OfflineComponentProvider"),await fl(t,new YT(void 0));return t._offlineComponents}async function wg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne(ls,"Using user provided OnlineComponentProvider"),await Kf(t,t._uninitializedComponentsProvider._online)):(ne(ls,"Using default OnlineComponentProvider"),await Kf(t,new ru))),t._onlineComponents}function ZT(t){return wg(t).then(e=>e.syncEngine)}async function bg(t){const e=await wg(t),n=e.eventManager;return n.onListen=LT.bind(null,e.syncEngine),n.onUnlisten=BT.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$T.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jT.bind(null,e.syncEngine),n}function e1(t,e,n={}){const s=new Vn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new _g({next:p=>{d.yu(),o.enqueueAndForget(()=>ug(i,f));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new ie(W.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&u&&u.source==="server"?c.reject(new ie(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new cg($u(a.path),d,{includeMetadataChanges:!0,Fa:!0});return lg(i,f)}(await bg(t),t.asyncQueue,e,n,s)),s.promise}function t1(t,e,n={}){const s=new Vn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new _g({next:p=>{d.yu(),o.enqueueAndForget(()=>ug(i,f)),p.fromCache&&u.source==="server"?c.reject(new ie(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new cg(a,d,{includeMetadataChanges:!0,Fa:!0});return lg(i,f)}(await bg(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t,e,n){if(!n)throw new ie(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n1(t,e,n,s){if(e===!0&&s===!0)throw new ie(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Yf(t){if(!ue.isDocumentKey(t))throw new ie(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Xf(t){if(ue.isDocumentKey(t))throw new ie(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe(12329,{type:typeof t})}function En(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sc(t);throw new ie(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="firestore.googleapis.com",Jf=!0;class Zf{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ig,this.ssl=Jf}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Jf;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ym;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DE)throw new ie(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Eg((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ie(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ie(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ie(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ta{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new ub;switch(s.type){case"firstParty":return new hb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ie(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Qf.get(n);s&&(ne("ComponentProvider","Removing Datastore"),Qf.delete(n),s.terminate())}(this),Promise.resolve()}}function s1(t,e,n,s={}){var r;const i=(t=En(t,Ta))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i.host!==Ig&&i.host!==a&&lr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},i),{host:a,ssl:!1,emulatorOptions:s});if(!fi(u,o)&&(t._setSettings(u),s.mockUserToken)){let c,d;if(typeof s.mockUserToken=="string")c=s.mockUserToken,d=Et.MOCK_USER;else{c=F0(s.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const f=s.mockUserToken.sub||s.mockUserToken.user_id;if(!f)throw new ie(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Et(f)}t._authCredentials=new cb(new um(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ia(this.firestore,e,this._query)}}class Ft{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}}class es extends Ia{constructor(e,n,s){super(e,n,$u(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new ue(e))}withConverter(e){return new es(this.firestore,e,this._path)}}function Sg(t,e,...n){if(t=_n(t),Tg("collection","path",e),t instanceof Ta){const s=He.fromString(e,...n);return Xf(s),new es(t,null,s)}{if(!(t instanceof Ft||t instanceof es))throw new ie(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(He.fromString(e,...n));return Xf(s),new es(t.firestore,null,s)}}function Ls(t,e,...n){if(t=_n(t),arguments.length===1&&(e=dm.newId()),Tg("doc","path",e),t instanceof Ta){const s=He.fromString(e,...n);return Yf(s),new Ft(t,null,new ue(s))}{if(!(t instanceof Ft||t instanceof es))throw new ie(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(He.fromString(e,...n));return Yf(s),new Ft(t.firestore,t instanceof es?t.converter:null,new ue(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="AsyncQueue";class th{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new eg(this,"async_queue_retry"),this.ju=()=>{const s=dl();s&&ne(eh,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const n=dl();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=dl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Vn;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!wr(e))throw e;ne(eh,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,On("INTERNAL UNHANDLED ERROR: ",nh(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(e,n,s){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const r=Ju.createAndSchedule(this,e,n,s,i=>this.Xu(i));return this.Uu.push(r),r}Ju(){this.Ku&&pe(47125,{ec:nh(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function nh(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Er extends Ta{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new th,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new th(e),this._firestoreClient=void 0,await e}}}function r1(t,e){const n=typeof t=="object"?t:Zp(),s=typeof t=="string"?t:ko,r=xi(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=L0("firestore");i&&s1(r,...i)}return r}function rc(t){if(t._terminated)throw new ie(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||i1(t),t._firestoreClient}function i1(t){var e,n,s;const r=t._freezeSettings(),i=function(a,u,c,d){return new Cb(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Eg(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=r.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new XT(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pr(mt.fromBase64String(e))}catch(n){throw new ie(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pr(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=/^__.*__$/;class a1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ci(e,this.data,n,this.fieldTransforms)}}class Ag{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new hs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xg(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe(40011,{oc:t})}}class lc{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new lc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ac({path:s,cc:!1});return r.lc(e),r}hc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ac({path:s,cc:!1});return r._c(),r}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return jo(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(xg(this.oc)&&o1.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class l1{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||wa(e)}dc(e,n,s,r=!1){return new lc({oc:e,methodName:n,Ec:s,path:ht.emptyPath(),cc:!1,Ic:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cg(t){const e=t._freezeSettings(),n=wa(t._databaseId);return new l1(t._databaseId,!!e.ignoreUndefinedProperties,n)}function u1(t,e,n,s,r,i={}){const o=t.dc(i.merge||i.mergeFields?2:0,e,n,r);uc("Data must be an object, but it was:",o,s);const a=Pg(s,o);let u,c;if(i.merge)u=new Wt(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=iu(e,f,n);if(!o.contains(p))throw new ie(W.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);kg(d,p)||d.push(p)}u=new Wt(d),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new a1(new $t(a),u,c)}class Aa extends ic{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Aa}}function c1(t,e,n,s){const r=t.dc(1,e,n);uc("Data must be an object, but it was:",r,s);const i=[],o=$t.empty();fs(s,(u,c)=>{const d=cc(e,u,n);c=_n(c);const f=r.hc(d);if(c instanceof Aa)i.push(d);else{const p=xa(c,f);p!=null&&(i.push(d),o.set(d,p))}});const a=new Wt(i);return new Ag(o,a,r.fieldTransforms)}function d1(t,e,n,s,r,i){const o=t.dc(1,e,n),a=[iu(e,s,n)],u=[r];if(i.length%2!=0)throw new ie(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(iu(e,i[p])),u.push(i[p+1]);const c=[],d=$t.empty();for(let p=a.length-1;p>=0;--p)if(!kg(c,a[p])){const g=a[p];let _=u[p];_=_n(_);const x=o.hc(g);if(_ instanceof Aa)c.push(g);else{const C=xa(_,x);C!=null&&(c.push(g),d.set(g,C))}}const f=new Wt(c);return new Ag(d,f,o.fieldTransforms)}function xa(t,e){if(Rg(t=_n(t)))return uc("Unsupported field value:",e,t),Pg(t,e);if(t instanceof ic)return function(s,r){if(!xg(r.oc))throw r.Tc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Tc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,r){const i=[];let o=0;for(const a of s){let u=xa(a,r.Pc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(s,r){if((s=_n(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Jb(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=it.fromDate(s);return{timestampValue:Lo(r.serializer,i)}}if(s instanceof it){const i=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lo(r.serializer,i)}}if(s instanceof oc)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof pr)return{bytesValue:zm(r.serializer,s._byteString)};if(s instanceof Ft){const i=r.databaseId,o=s.firestore._databaseId;if(!o.isEqual(i))throw r.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zu(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof ac)return function(o,a){return{mapValue:{fields:{[_m]:{stringValue:wm},[Vo]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Tc("VectorValues must only contain numeric values.");return Fu(a.serializer,c)})}}}}}}(s,r);throw r.Tc(`Unsupported field value: ${sc(s)}`)}(t,e)}function Pg(t,e){const n={};return hm(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(t,(s,r)=>{const i=xa(r,e.uc(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function Rg(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof oc||t instanceof pr||t instanceof Ft||t instanceof ic||t instanceof ac)}function uc(t,e,n){if(!Rg(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const s=sc(n);throw s==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+s)}}function iu(t,e,n){if((e=_n(e))instanceof Sa)return e._internalPath;if(typeof e=="string")return cc(t,e);throw jo("Field path arguments must be of type string or ",t,!1,void 0,n)}const f1=new RegExp("[~\\*/\\[\\]]");function cc(t,e,n){if(e.search(f1)>=0)throw jo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sa(...e.split("."))._internalPath}catch{throw jo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jo(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${s}`),o&&(u+=` in document ${r}`),u+=")"),new ie(W.INVALID_ARGUMENT,a+t+u)}function kg(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new h1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class h1 extends Vg{data(){return super.data()}}function Dg(t,e){return typeof e=="string"?cc(t,e):e instanceof Sa?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class m1{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return fs(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(e){var n,s,r;const i=(r=(s=(n=e.fields)===null||n===void 0?void 0:n[Vo].arrayValue)===null||s===void 0?void 0:s.values)===null||r===void 0?void 0:r.map(o=>Xe(o.doubleValue));return new ac(i)}convertGeoPoint(e){return new oc(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ha(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(mi(e));default:return null}}convertTimestamp(e){const n=rs(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=He.fromString(e);Ne(Qm(s),9688,{name:e});const r=new gi(s.get(1),s.get(3)),i=new ue(s.popFirst(5));return r.isEqual(n)||On(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t,e,n){let s;return s=t?t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mg extends Vg{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new go(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Dg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class go extends Mg{data(e={}){return super.data(e)}}class v1{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Wr(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new go(this._firestore,this._userDataWriter,s.key,s,new Wr(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const u=new go(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Wr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new go(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Wr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:y1(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function y1(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t){t=En(t,Ft);const e=En(t.firestore,Er);return e1(rc(e),t._key).then(n=>E1(e,t,n))}class Og extends m1{constructor(e){super(),this.firestore=e}convertBytes(e){return new pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function Ng(t){t=En(t,Ia);const e=En(t.firestore,Er),n=rc(e),s=new Og(e);return p1(t._query),t1(n,t._query).then(r=>new v1(e,s,t,r))}function _1(t,e,n){t=En(t,Ft);const s=En(t.firestore,Er),r=g1(t.converter,e);return dc(s,[u1(Cg(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,rn.none())])}function w1(t,e,n,...s){t=En(t,Ft);const r=En(t.firestore,Er),i=Cg(r);let o;return o=typeof(e=_n(e))=="string"||e instanceof Sa?d1(i,"updateDoc",t._key,e,n,s):c1(i,"updateDoc",t._key,e),dc(r,[o.toMutation(t._key,rn.exists(!0))])}function b1(t){return dc(En(t.firestore,Er),[new Bu(t._key,rn.none())])}function dc(t,e){return function(s,r){const i=new Vn;return s.asyncQueue.enqueueAndForget(async()=>UT(await ZT(s),r,i)),i.promise}(rc(t),e)}function E1(t,e,n){const s=n.docs.get(e._key),r=new Og(t);return new Mg(t,r,e._key,s,new Wr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){yr=r})(Yw),ns(new Dn("firestore",(s,{instanceIdentifier:r,options:i})=>{const o=s.getProvider("app").getImmediate(),a=new Er(new db(s.getProvider("auth-internal")),new pb(o,s.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ie(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gi(c.options.projectId,d)}(o,r),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),mn(af,lf,e),mn(af,lf,"esm2017")})();const Lg="@firebase/installations",fc="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g=1e4,Fg=`w:${fc}`,Bg="FIS_v2",T1="https://firebaseinstallations.googleapis.com/v1",I1=60*60*1e3,S1="installations",A1="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Rs=new ca(S1,A1,x1);function jg(t){return t instanceof ds&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug({projectId:t}){return`${T1}/projects/${t}/installations`}function zg(t){return{token:t.token,requestStatus:2,expiresIn:P1(t.expiresIn),creationTime:Date.now()}}async function qg(t,e){const s=(await e.json()).error;return Rs.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Hg({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function C1(t,{refreshToken:e}){const n=Hg(t);return n.append("Authorization",R1(e)),n}async function Gg(t){const e=await t();return e.status>=500&&e.status<600?t():e}function P1(t){return Number(t.replace("s","000"))}function R1(t){return`${Bg} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=Ug(t),r=Hg(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={fid:n,authVersion:Bg,appId:t.appId,sdkVersion:Fg},a={method:"POST",headers:r,body:JSON.stringify(o)},u=await Gg(()=>fetch(s,a));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:zg(c.authToken)}}else throw await qg("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=/^[cdef][\w-]{21}$/,ou="";function M1(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=O1(t);return D1.test(n)?n:ou}catch{return ou}}function O1(t){return V1(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=new Map;function Qg(t,e){const n=Ca(t);Yg(n,e),N1(n,e)}function Yg(t,e){const n=Kg.get(t);if(n)for(const s of n)s(e)}function N1(t,e){const n=L1();n&&n.postMessage({key:t,fid:e}),$1()}let Ss=null;function L1(){return!Ss&&"BroadcastChannel"in self&&(Ss=new BroadcastChannel("[Firebase] FID Change"),Ss.onmessage=t=>{Yg(t.data.key,t.data.fid)}),Ss}function $1(){Kg.size===0&&Ss&&(Ss.close(),Ss=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="firebase-installations-database",B1=1,ks="firebase-installations-store";let hl=null;function hc(){return hl||(hl=Xp(F1,B1,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ks)}}})),hl}async function Uo(t,e){const n=Ca(t),r=(await hc()).transaction(ks,"readwrite"),i=r.objectStore(ks),o=await i.get(n);return await i.put(e,n),await r.done,(!o||o.fid!==e.fid)&&Qg(t,e.fid),e}async function Xg(t){const e=Ca(t),s=(await hc()).transaction(ks,"readwrite");await s.objectStore(ks).delete(e),await s.done}async function Pa(t,e){const n=Ca(t),r=(await hc()).transaction(ks,"readwrite"),i=r.objectStore(ks),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&Qg(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(t){let e;const n=await Pa(t.appConfig,s=>{const r=j1(s),i=U1(t,r);return e=i.registrationPromise,i.installationEntry});return n.fid===ou?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function j1(t){const e=t||{fid:M1(),registrationStatus:0};return Jg(e)}function U1(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Rs.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=z1(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:q1(t)}:{installationEntry:e}}async function z1(t,e){try{const n=await k1(t,e);return Uo(t.appConfig,n)}catch(n){throw jg(n)&&n.customData.serverCode===409?await Xg(t.appConfig):await Uo(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function q1(t){let e=await sh(t.appConfig);for(;e.registrationStatus===1;)await Wg(100),e=await sh(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await pc(t);return s||n}return e}function sh(t){return Pa(t,e=>{if(!e)throw Rs.create("installation-not-found");return Jg(e)})}function Jg(t){return H1(t)?{fid:t.fid,registrationStatus:0}:t}function H1(t){return t.registrationStatus===1&&t.registrationTime+$g<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1({appConfig:t,heartbeatServiceProvider:e},n){const s=W1(t,n),r=C1(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={installation:{sdkVersion:Fg,appId:t.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},u=await Gg(()=>fetch(s,a));if(u.ok){const c=await u.json();return zg(c)}else throw await qg("Generate Auth Token",u)}function W1(t,{fid:e}){return`${Ug(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(t,e=!1){let n;const s=await Pa(t.appConfig,i=>{if(!Zg(i))throw Rs.create("not-registered");const o=i.authToken;if(!e&&Y1(o))return i;if(o.requestStatus===1)return n=K1(t,e),i;{if(!navigator.onLine)throw Rs.create("app-offline");const a=J1(i);return n=Q1(t,a),a}});return n?await n:s.authToken}async function K1(t,e){let n=await rh(t.appConfig);for(;n.authToken.requestStatus===1;)await Wg(100),n=await rh(t.appConfig);const s=n.authToken;return s.requestStatus===0?mc(t,e):s}function rh(t){return Pa(t,e=>{if(!Zg(e))throw Rs.create("not-registered");const n=e.authToken;return Z1(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Q1(t,e){try{const n=await G1(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await Uo(t.appConfig,s),n}catch(n){if(jg(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Xg(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Uo(t.appConfig,s)}throw n}}function Zg(t){return t!==void 0&&t.registrationStatus===2}function Y1(t){return t.requestStatus===2&&!X1(t)}function X1(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+I1}function J1(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Z1(t){return t.requestStatus===1&&t.requestTime+$g<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(t){const e=t,{installationEntry:n,registrationPromise:s}=await pc(e);return s?s.catch(console.error):mc(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(t,e=!1){const n=t;return await nI(n),(await mc(n,e)).token}async function nI(t){const{registrationPromise:e}=await pc(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t){if(!t||!t.options)throw pl("App Configuration");if(!t.name)throw pl("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw pl(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function pl(t){return Rs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="installations",rI="installations-internal",iI=t=>{const e=t.getProvider("app").getImmediate(),n=sI(e),s=xi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},oI=t=>{const e=t.getProvider("app").getImmediate(),n=xi(e,ev).getImmediate();return{getId:()=>eI(n),getToken:r=>tI(n,r)}};function aI(){ns(new Dn(ev,iI,"PUBLIC")),ns(new Dn(rI,oI,"PRIVATE"))}aI();mn(Lg,fc);mn(Lg,fc,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="analytics",lI="firebase_id",uI="origin",cI=60*1e3,dI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gc="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt=new Ru("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Kt=new ca("analytics","Analytics",fI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t){if(!t.startsWith(gc)){const e=Kt.create("invalid-gtag-resource",{gtagURL:t});return Bt.warn(e.message),""}return t}function tv(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function pI(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function mI(t,e){const n=pI("firebase-js-sdk-policy",{createScriptURL:hI}),s=document.createElement("script"),r=`${gc}?l=${t}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function gI(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function vI(t,e,n,s,r,i){const o=s[r];try{if(o)await e[o];else{const u=(await tv(n)).find(c=>c.measurementId===r);u&&await e[u.appId]}}catch(a){Bt.error(a)}t("config",r,i)}async function yI(t,e,n,s,r){try{let i=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=await tv(n);for(const u of o){const c=a.find(f=>f.measurementId===u),d=c&&e[c.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",s,r||{})}catch(i){Bt.error(i)}}function _I(t,e,n,s){async function r(i,...o){try{if(i==="event"){const[a,u]=o;await yI(t,e,n,a,u)}else if(i==="config"){const[a,u]=o;await vI(t,e,n,s,a,u)}else if(i==="consent"){const[a,u]=o;t("consent",a,u)}else if(i==="get"){const[a,u,c]=o;t("get",a,u,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Bt.error(a)}}return r}function wI(t,e,n,s,r){let i=function(...o){window[s].push(arguments)};return window[r]&&typeof window[r]=="function"&&(i=window[r]),window[r]=_I(i,t,e,n),{gtagCore:i,wrappedGtag:window[r]}}function bI(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(gc)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=30,TI=1e3;class II{constructor(e={},n=TI){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const nv=new II;function SI(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function AI(t){var e;const{appId:n,apiKey:s}=t,r={method:"GET",headers:SI(s)},i=dI.replace("{app-id}",n),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let a="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw Kt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function xI(t,e=nv,n){const{appId:s,apiKey:r,measurementId:i}=t.options;if(!s)throw Kt.create("no-app-id");if(!r){if(i)return{measurementId:i,appId:s};throw Kt.create("no-api-key")}const o=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new RI;return setTimeout(async()=>{a.abort()},cI),sv({appId:s,apiKey:r,measurementId:i},o,a,e)}async function sv(t,{throttleEndTimeMillis:e,backoffCount:n},s,r=nv){var i;const{appId:o,measurementId:a}=t;try{await CI(s,e)}catch(u){if(a)return Bt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw u}try{const u=await AI(t);return r.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!PI(c)){if(r.deleteThrottleMetadata(o),a)return Bt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw u}const d=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?Yd(n,r.intervalMillis,EI):Yd(n,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return r.setThrottleMetadata(o,f),Bt.debug(`Calling attemptFetch again in ${d} millis`),sv(t,f,s,r)}}function CI(t,e){return new Promise((n,s)=>{const r=Math.max(e-Date.now(),0),i=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(i),s(Kt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function PI(t){if(!(t instanceof ds)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class RI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function kI(t,e,n,s,r){if(r&&r.global){t("event",n,s);return}else{const i=await e,o=Object.assign(Object.assign({},s),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(){if(Wp())try{await Kp()}catch(t){return Bt.warn(Kt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Bt.warn(Kt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function DI(t,e,n,s,r,i,o){var a;const u=xI(t);u.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&Bt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Bt.error(g)),e.push(u);const c=VI().then(g=>{if(g)return s.getId()}),[d,f]=await Promise.all([u,c]);bI(i)||mI(i,d.measurementId),r("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[uI]="firebase",p.update=!0,f!=null&&(p[lI]=f),r("config",d.measurementId,p),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.app=e}_delete(){return delete si[this.app.options.appId],Promise.resolve()}}let si={},ih=[];const oh={};let ml="dataLayer",OI="gtag",ah,rv,lh=!1;function NI(){const t=[];if(U0()&&t.push("This is a browser extension environment."),q0()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,r)=>`(${r+1}) ${s}`).join(" "),n=Kt.create("invalid-analytics-context",{errorInfo:e});Bt.warn(n.message)}}function LI(t,e,n){NI();const s=t.options.appId;if(!s)throw Kt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Bt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Kt.create("no-api-key");if(si[s]!=null)throw Kt.create("already-exists",{id:s});if(!lh){gI(ml);const{wrappedGtag:i,gtagCore:o}=wI(si,ih,oh,ml,OI);rv=i,ah=o,lh=!0}return si[s]=DI(t,ih,oh,e,ah,ml,n),new MI(t)}function $I(t=Zp()){t=_n(t);const e=xi(t,zo);return e.isInitialized()?e.getImmediate():FI(t)}function FI(t,e={}){const n=xi(t,zo);if(n.isInitialized()){const r=n.getImmediate();if(fi(e,n.getOptions()))return r;throw Kt.create("already-initialized")}return n.initialize({options:e})}function BI(t,e,n,s){t=_n(t),kI(rv,si[t.app.options.appId],e,n,s).catch(r=>Bt.error(r))}const uh="@firebase/analytics",ch="0.10.12";function jI(){ns(new Dn(zo,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return LI(s,r,n)},"PUBLIC")),ns(new Dn("analytics-internal",t,"PRIVATE")),mn(uh,ch),mn(uh,ch,"esm2017");function t(e){try{const n=e.getProvider(zo).getImmediate();return{logEvent:(s,r,i)=>BI(n,s,r,i)}}catch(n){throw Kt.create("interop-component-reg-failed",{reason:n})}}}jI();const UI={apiKey:"AIzaSyBLe2TOSDo7xeMZh4ARVXbd1FiPCVCUNGo",authDomain:"roteiroviagem-b5116.firebaseapp.com",projectId:"roteiroviagem-b5116",storageBucket:"roteiroviagem-b5116.firebasestorage.app",messagingSenderId:"872269638046",appId:"1:872269638046:web:2718740bd2eba8ba028e8f",measurementId:"G-EV395T3365"},iv=Jp(UI);$I(iv);const $n=r1(iv);async function zI(){try{const t=Ls($n,Ms.site,"header"),e=await Vi(t);return e.exists()?e.data():null}catch(t){return console.error("Erro ao buscar header do site:",t),null}}async function qI(){try{const t=Ls($n,Ms.site,"footer"),e=await Vi(t);return e.exists()?e.data():null}catch(t){return console.error("Erro ao buscar footer do site:",t),null}}async function HI(t="santiago"){try{return(await Ng(Sg($n,Ms.trips,t,"itinerary"))).docs.map(s=>({id:s.id,...s.data()})).sort((s,r)=>s.dayNumber-r.dayNumber)}catch(e){return console.error(`Erro ao buscar itinerário da viagem ${t}:`,e),[]}}async function GI(t="santiago"){try{return(await Ng(Sg($n,Ms.trips,t,"activities"))).docs.map(n=>({id:n.id,...n.data()}))}catch(e){return console.error(`Erro ao buscar atividades da viagem ${t}:`,e),[]}}async function WI(t="santiago"){try{const e=Ls($n,Ms.trips,t,"info","tips"),n=await Vi(e);return n.exists()?n.data():null}catch(e){return console.error(`Erro ao buscar dicas da viagem ${t}:`,e),null}}async function KI(t,e="santiago"){try{const n=Ls($n,Ms.trips,e,"activities",t),s=await Vi(n);return s.exists()?{id:s.id,...s.data()}:null}catch(n){return console.error(`Erro ao buscar atividade ${t}:`,n),null}}async function QI(t,e="santiago"){try{const n=Ls($n,Ms.trips,e,"itinerary",t),s=await Vi(n);return s.exists()?{id:s.id,...s.data()}:null}catch(n){return console.error(`Erro ao buscar dia ${t}:`,n),null}}const ov="Oxd3Xk7F7XTzfELkxS74",YI=t=>({...t,adminToken:ov}),Di=async(t,e,n)=>{try{const s=Ls($n,t,e);return await _1(s,YI(n)),{success:!0,id:e}}catch(s){return console.error(`Erro ao salvar documento ${e} em ${t}:`,s),{success:!1,error:s}}},av=async(t,e)=>{try{const n=Ls($n,t,e);return await w1(n,{adminToken:ov}),await b1(n),{success:!0}}catch(n){return console.error(`Erro ao excluir documento ${e} em ${t}:`,n),{success:!1,error:n}}},XI=async t=>await Di("site","header",t),JI=async t=>await Di("site","footer",t),ZI=async(t,e)=>await Di(`trips/${t}/info`,"tips",e),eS=async(t,e,n)=>await Di(`trips/${t}/activities`,e,n),tS=async(t,e,n)=>await Di(`trips/${t}/itinerary`,e,n);async function lv(){return zI()}async function uv(){return qI()}async function vc(t="santiago"){return HI(t)}async function yc(t="santiago"){return GI(t)}async function _c(t="santiago"){return WI(t)}async function nS(t,e="santiago"){return KI(t,e)}async function sS(t,e="santiago"){return QI(t,e)}const Tn=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},rS={class:"p-4 border-b border-gray-700"},iS={class:"flex items-center justify-between"},oS={class:"mt-4"},aS={__name:"AdminSidebar",props:{isOpen:{type:Boolean,default:!1}},emits:["close"],setup(t){return(e,n)=>{const s=vr("router-link");return B(),H(Se,null,[w("div",{class:Qt(["admin-sidebar fixed inset-y-0 left-0 z-50 w-64 bg-gray-800 text-white transform transition-transform duration-300 ease-in-out",t.isOpen?"translate-x-0":"-translate-x-full"])},[w("div",rS,[w("div",iS,[n[8]||(n[8]=w("h2",{class:"text-xl font-semibold"},"Administração",-1)),w("button",{onClick:n[0]||(n[0]=r=>e.$emit("close")),class:"text-white p-2 rounded-md hover:bg-gray-700"},n[7]||(n[7]=[w("i",{class:"fas fa-times"},null,-1)]))])]),w("nav",oS,[n[14]||(n[14]=w("div",{class:"px-4 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider"}," Configurações do Site ",-1)),w("ul",null,[w("li",null,[ae(s,{to:"/admin/header",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200",onClick:n[1]||(n[1]=r=>e.$emit("close"))},{default:Le(()=>n[9]||(n[9]=[w("i",{class:"fas fa-heading mr-2"},null,-1),Ze(" Header ")])),_:1})]),w("li",null,[ae(s,{to:"/admin/footer",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200",onClick:n[2]||(n[2]=r=>e.$emit("close"))},{default:Le(()=>n[10]||(n[10]=[w("i",{class:"fas fa-shoe-prints mr-2"},null,-1),Ze(" Footer ")])),_:1})])]),n[15]||(n[15]=w("div",{class:"mt-6 px-4 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider"}," Conteúdo da Viagem ",-1)),w("ul",null,[w("li",null,[ae(s,{to:"/admin/itinerario",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200",onClick:n[3]||(n[3]=r=>e.$emit("close"))},{default:Le(()=>n[11]||(n[11]=[w("i",{class:"fas fa-calendar-alt mr-2"},null,-1),Ze(" Itinerário ")])),_:1})]),w("li",null,[ae(s,{to:"/admin/atividades",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200",onClick:n[4]||(n[4]=r=>e.$emit("close"))},{default:Le(()=>n[12]||(n[12]=[w("i",{class:"fas fa-hiking mr-2"},null,-1),Ze(" Atividades ")])),_:1})]),w("li",null,[ae(s,{to:"/admin/dicas",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200",onClick:n[5]||(n[5]=r=>e.$emit("close"))},{default:Le(()=>n[13]||(n[13]=[w("i",{class:"fas fa-lightbulb mr-2"},null,-1),Ze(" Dicas ")])),_:1})])])]),n[16]||(n[16]=w("div",{class:"absolute bottom-0 w-full p-4 border-t border-gray-700"},[w("p",{class:"text-sm text-gray-400"},[Ze(" Logado como "),w("span",{class:"font-semibold"},"Administrador")])],-1))],2),t.isOpen?(B(),H("div",{key:0,onClick:n[6]||(n[6]=r=>e.$emit("close")),class:"fixed inset-0 bg-black bg-opacity-50 z-40"})):Ie("",!0)],64)}}},lS=Tn(aS,[["__scopeId","data-v-8fd32f79"]]),uS={class:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4"},cS={class:"text-lg sm:text-xl lg:text-2xl mb-8"},dS={class:"inline-flex bg-white text-blue-900 font-bold rounded-full px-6 py-2"},fS={__name:"header",setup(t){const e=le(null),n=le(!1),s=()=>{n.value=!n.value},r=()=>{n.value=!1},i=st(()=>!e.value||!e.value.backgroundImage?{}:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${e.value.backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center"}),o=(a,u)=>{const[c,d,f]=a.split("/"),[p,g,_]=u.split("/"),x=new Date(`${f}-${d}-${c}`),C=x.toLocaleString("pt-BR",{month:"long"}),k=x.getFullYear();return`${parseInt(c)} a ${parseInt(p)} de ${C} de ${k}`};return gt(async()=>{try{e.value=await lv()}catch(a){console.error("Erro ao carregar dados do header:",a)}}),(a,u)=>(B(),H(Se,null,[e.value?(B(),H("header",{key:0,class:"relative hero-bg text-white py-12 sm:py-16 lg:py-24 px-4 sm:px-6 lg:px-8 text-center",style:ea(i.value)},[w("button",{onClick:s,class:"absolute top-4 left-4 text-white p-2 bg-blue-900 bg-opacity-50 rounded-md hover:bg-opacity-70 transition-all"},u[0]||(u[0]=[w("i",{class:"fas fa-bars text-xl"},null,-1)])),w("h1",uS,ye(e.value.title),1),w("p",cS,ye(e.value.subtitle),1),w("div",dS,[u[1]||(u[1]=w("span",{class:"mr-2"},[w("i",{class:"fas fa-calendar-alt"})],-1)),Ze(" "+ye(o(e.value.period.start,e.value.period.end)),1)])],4)):Ie("",!0),ae(lS,{isOpen:n.value,onClose:r},null,8,["isOpen"])],64))}},hS={id:"visao-geral",class:"p-6"},pS={__name:"TripOverview",setup(t){return(e,n)=>(B(),H("section",hS,n[0]||(n[0]=[j_('<h2 class="text-3xl font-bold text-blue-800 mb-6 pb-2 border-b-2 border-blue-300" data-v-e4bae3b2>Visão Geral da Viagem</h2><div class="bg-white rounded-lg shadow-lg p-6 mb-8" data-v-e4bae3b2><p class="text-lg mb-4" data-v-e4bae3b2>Este roteiro inclui 8 dias no Chile, com base em Santiago, combinando experiências incríveis:</p><ul class="grid grid-cols-1 md:grid-cols-2 gap-4 my-6" data-v-e4bae3b2><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-snowflake" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Aventuras na neve (Valle Nevado e Portillo)</p></li><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-city" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Turismo urbano em Santiago</p></li><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-mountain" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Passeios a Valparaíso e Viña del Mar</p></li><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-wine-glass-alt" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Degustação em vinícolas</p></li><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-utensils" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Experiências gastronômicas</p></li><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-church" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Visitas culturais e religiosas</p></li></ul><div class="text-gray-700 italic" data-v-e4bae3b2><p data-v-e4bae3b2>A probabilidade de neve em Valle Nevado durante nossa visita é classificada como média a alta, o que promete uma experiência incrível com a neve andina.</p></div></div>',2)])))}},mS=Tn(pS,[["__scopeId","data-v-e4bae3b2"]]);function dh(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function wc(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=e[s]:dh(e[s])&&dh(t[s])&&Object.keys(e[s]).length>0&&wc(t[s],e[s])})}const cv={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function $s(){const t=typeof document<"u"?document:{};return wc(t,cv),t}const gS={document:cv,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Vt(){const t=typeof window<"u"?window:{};return wc(t,gS),t}function vS(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function yS(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function qo(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Ho(){return Date.now()}function _S(t){const e=Vt();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function wS(t,e){e===void 0&&(e="x");const n=Vt();let s,r,i;const o=_S(t);return n.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(r==="none"?"":r)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?r=i.m41:s.length===16?r=parseFloat(s[12]):r=parseFloat(s[4])),e==="y"&&(n.WebKitCSSMatrix?r=i.m42:s.length===16?r=parseFloat(s[13]):r=parseFloat(s[5])),r||0}function ro(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function bS(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function qt(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const s=n<0||arguments.length<=n?void 0:arguments[n];if(s!=null&&!bS(s)){const r=Object.keys(Object(s)).filter(i=>e.indexOf(i)<0);for(let i=0,o=r.length;i<o;i+=1){const a=r[i],u=Object.getOwnPropertyDescriptor(s,a);u!==void 0&&u.enumerable&&(ro(t[a])&&ro(s[a])?s[a].__swiper__?t[a]=s[a]:qt(t[a],s[a]):!ro(t[a])&&ro(s[a])?(t[a]={},s[a].__swiper__?t[a]=s[a]:qt(t[a],s[a])):t[a]=s[a])}}}return t}function io(t,e,n){t.style.setProperty(e,n)}function dv(t){let{swiper:e,targetPosition:n,side:s}=t;const r=Vt(),i=-e.translate;let o=null,a;const u=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const c=n>i?"next":"prev",d=(p,g)=>c==="next"&&p>=g||c==="prev"&&p<=g,f=()=>{a=new Date().getTime(),o===null&&(o=a);const p=Math.max(Math.min((a-o)/u,1),0),g=.5-Math.cos(p*Math.PI)/2;let _=i+g*(n-i);if(d(_,n)&&(_=n),e.wrapperEl.scrollTo({[s]:_}),d(_,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:_})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(f)};f()}function hn(t,e){e===void 0&&(e="");const n=Vt(),s=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&s.push(...t.assignedElements()),e?s.filter(r=>r.matches(e)):s}function ES(t,e){const n=[e];for(;n.length>0;){const s=n.shift();if(t===s)return!0;n.push(...s.children,...s.shadowRoot?s.shadowRoot.children:[],...s.assignedElements?s.assignedElements():[])}}function TS(t,e){const n=Vt();let s=e.contains(t);return!s&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(s=[...e.assignedElements()].includes(t),s||(s=ES(t,e))),s}function Go(t){try{console.warn(t);return}catch{}}function Wo(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:vS(e)),n}function IS(t,e){const n=[];for(;t.previousElementSibling;){const s=t.previousElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function SS(t,e){const n=[];for(;t.nextElementSibling;){const s=t.nextElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function Qn(t,e){return Vt().getComputedStyle(t,null).getPropertyValue(e)}function Ko(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function fv(t,e){const n=[];let s=t.parentElement;for(;s;)e?s.matches(e)&&n.push(s):n.push(s),s=s.parentElement;return n}function AS(t,e){function n(s){s.target===t&&(e.call(t,s),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function au(t,e,n){const s=Vt();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function lt(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let gl;function xS(){const t=Vt(),e=$s();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function hv(){return gl||(gl=xS()),gl}let vl;function CS(t){let{userAgent:e}=t===void 0?{}:t;const n=hv(),s=Vt(),r=s.navigator.platform,i=e||s.navigator.userAgent,o={ios:!1,android:!1},a=s.screen.width,u=s.screen.height,c=i.match(/(Android);?[\s\/]+([\d.]+)?/);let d=i.match(/(iPad).*OS\s([\d_]+)/);const f=i.match(/(iPod)(.*OS\s([\d_]+))?/),p=!d&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g=r==="Win32";let _=r==="MacIntel";const x=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&_&&n.touch&&x.indexOf(`${a}x${u}`)>=0&&(d=i.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),_=!1),c&&!g&&(o.os="android",o.android=!0),(d||p||f)&&(o.os="ios",o.ios=!0),o}function pv(t){return t===void 0&&(t={}),vl||(vl=CS(t)),vl}let yl;function PS(){const t=Vt(),e=pv();let n=!1;function s(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(s()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[u,c]=a.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=u<16||u===16&&c<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=s(),o=i||r&&e.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:o,isWebView:r}}function mv(){return yl||(yl=PS()),yl}function RS(t){let{swiper:e,on:n,emit:s}=t;const r=Vt();let i=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(s("beforeResize"),s("resize"))},u=()=>{!e||e.destroyed||!e.initialized||(i=new ResizeObserver(f=>{o=r.requestAnimationFrame(()=>{const{width:p,height:g}=e;let _=p,x=g;f.forEach(C=>{let{contentBoxSize:k,contentRect:y,target:v}=C;v&&v!==e.el||(_=y?y.width:(k[0]||k).inlineSize,x=y?y.height:(k[0]||k).blockSize)}),(_!==p||x!==g)&&a()})}),i.observe(e.el))},c=()=>{o&&r.cancelAnimationFrame(o),i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null)},d=()=>{!e||e.destroyed||!e.initialized||s("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){u();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",d)}),n("destroy",()=>{c(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",d)})}function kS(t){let{swiper:e,extendParams:n,on:s,emit:r}=t;const i=[],o=Vt(),a=function(d,f){f===void 0&&(f={});const p=o.MutationObserver||o.WebkitMutationObserver,g=new p(_=>{if(e.__preventObserver__)return;if(_.length===1){r("observerUpdate",_[0]);return}const x=function(){r("observerUpdate",_[0])};o.requestAnimationFrame?o.requestAnimationFrame(x):o.setTimeout(x,0)});g.observe(d,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),i.push(g)},u=()=>{if(e.params.observer){if(e.params.observeParents){const d=fv(e.hostEl);for(let f=0;f<d.length;f+=1)a(d[f])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{i.forEach(d=>{d.disconnect()}),i.splice(0,i.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",u),s("destroy",c)}var VS={on(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const r=n?"unshift":"push";return t.split(" ").forEach(i=>{s.eventsListeners[i]||(s.eventsListeners[i]=[]),s.eventsListeners[i][r](e)}),s},once(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;function r(){s.off(t,r),r.__emitterProxy&&delete r.__emitterProxy;for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];e.apply(s,o)}return r.__emitterProxy=e,s.on(t,r,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const s=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[s](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(s=>{typeof e>"u"?n.eventsListeners[s]=[]:n.eventsListeners[s]&&n.eventsListeners[s].forEach((r,i)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[s].splice(i,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,s;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return typeof i[0]=="string"||Array.isArray(i[0])?(e=i[0],n=i.slice(1,i.length),s=t):(e=i[0].events,n=i[0].data,s=i[0].context||t),n.unshift(s),(Array.isArray(e)?e:e.split(" ")).forEach(u=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(s,[u,...n])}),t.eventsListeners&&t.eventsListeners[u]&&t.eventsListeners[u].forEach(c=>{c.apply(s,n)})}),t}};function DS(){const t=this;let e,n;const s=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=s.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=s.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Qn(s,"padding-left")||0,10)-parseInt(Qn(s,"padding-right")||0,10),n=n-parseInt(Qn(s,"padding-top")||0,10)-parseInt(Qn(s,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function MS(){const t=this;function e(S,R){return parseFloat(S.getPropertyValue(t.getDirectionLabel(R))||0)}const n=t.params,{wrapperEl:s,slidesEl:r,size:i,rtlTranslate:o,wrongRTL:a}=t,u=t.virtual&&n.virtual.enabled,c=u?t.virtual.slides.length:t.slides.length,d=hn(r,`.${t.params.slideClass}, swiper-slide`),f=u?t.virtual.slides.length:d.length;let p=[];const g=[],_=[];let x=n.slidesOffsetBefore;typeof x=="function"&&(x=n.slidesOffsetBefore.call(t));let C=n.slidesOffsetAfter;typeof C=="function"&&(C=n.slidesOffsetAfter.call(t));const k=t.snapGrid.length,y=t.slidesGrid.length;let v=n.spaceBetween,I=-x,M=0,$=0;if(typeof i>"u")return;typeof v=="string"&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*i:typeof v=="string"&&(v=parseFloat(v)),t.virtualSize=-v,d.forEach(S=>{o?S.style.marginLeft="":S.style.marginRight="",S.style.marginBottom="",S.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(io(s,"--swiper-centered-offset-before",""),io(s,"--swiper-centered-offset-after",""));const A=n.grid&&n.grid.rows>1&&t.grid;A?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let b;const E=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(S=>typeof n.breakpoints[S].slidesPerView<"u").length>0;for(let S=0;S<f;S+=1){b=0;let R;if(d[S]&&(R=d[S]),A&&t.grid.updateSlide(S,R,d),!(d[S]&&Qn(R,"display")==="none")){if(n.slidesPerView==="auto"){E&&(d[S].style[t.getDirectionLabel("width")]="");const O=getComputedStyle(R),P=R.style.transform,Ee=R.style.webkitTransform;if(P&&(R.style.transform="none"),Ee&&(R.style.webkitTransform="none"),n.roundLengths)b=t.isHorizontal()?au(R,"width"):au(R,"height");else{const Ae=e(O,"width"),se=e(O,"padding-left"),ce=e(O,"padding-right"),de=e(O,"margin-left"),Ge=e(O,"margin-right"),Dt=O.getPropertyValue("box-sizing");if(Dt&&Dt==="border-box")b=Ae+de+Ge;else{const{clientWidth:Mt,offsetWidth:Ue}=R;b=Ae+se+ce+de+Ge+(Ue-Mt)}}P&&(R.style.transform=P),Ee&&(R.style.webkitTransform=Ee),n.roundLengths&&(b=Math.floor(b))}else b=(i-(n.slidesPerView-1)*v)/n.slidesPerView,n.roundLengths&&(b=Math.floor(b)),d[S]&&(d[S].style[t.getDirectionLabel("width")]=`${b}px`);d[S]&&(d[S].swiperSlideSize=b),_.push(b),n.centeredSlides?(I=I+b/2+M/2+v,M===0&&S!==0&&(I=I-i/2-v),S===0&&(I=I-i/2-v),Math.abs(I)<1/1e3&&(I=0),n.roundLengths&&(I=Math.floor(I)),$%n.slidesPerGroup===0&&p.push(I),g.push(I)):(n.roundLengths&&(I=Math.floor(I)),($-Math.min(t.params.slidesPerGroupSkip,$))%t.params.slidesPerGroup===0&&p.push(I),g.push(I),I=I+b+v),t.virtualSize+=b+v,M=b,$+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+C,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(s.style.width=`${t.virtualSize+v}px`),n.setWrapperSize&&(s.style[t.getDirectionLabel("width")]=`${t.virtualSize+v}px`),A&&t.grid.updateWrapperSize(b,p),!n.centeredSlides){const S=[];for(let R=0;R<p.length;R+=1){let O=p[R];n.roundLengths&&(O=Math.floor(O)),p[R]<=t.virtualSize-i&&S.push(O)}p=S,Math.floor(t.virtualSize-i)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-i)}if(u&&n.loop){const S=_[0]+v;if(n.slidesPerGroup>1){const R=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),O=S*n.slidesPerGroup;for(let P=0;P<R;P+=1)p.push(p[p.length-1]+O)}for(let R=0;R<t.virtual.slidesBefore+t.virtual.slidesAfter;R+=1)n.slidesPerGroup===1&&p.push(p[p.length-1]+S),g.push(g[g.length-1]+S),t.virtualSize+=S}if(p.length===0&&(p=[0]),v!==0){const S=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");d.filter((R,O)=>!n.cssMode||n.loop?!0:O!==d.length-1).forEach(R=>{R.style[S]=`${v}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let S=0;_.forEach(O=>{S+=O+(v||0)}),S-=v;const R=S>i?S-i:0;p=p.map(O=>O<=0?-x:O>R?R+C:O)}if(n.centerInsufficientSlides){let S=0;_.forEach(O=>{S+=O+(v||0)}),S-=v;const R=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(S+R<i){const O=(i-S-R)/2;p.forEach((P,Ee)=>{p[Ee]=P-O}),g.forEach((P,Ee)=>{g[Ee]=P+O})}}if(Object.assign(t,{slides:d,snapGrid:p,slidesGrid:g,slidesSizesGrid:_}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){io(s,"--swiper-centered-offset-before",`${-p[0]}px`),io(s,"--swiper-centered-offset-after",`${t.size/2-_[_.length-1]/2}px`);const S=-t.snapGrid[0],R=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(O=>O+S),t.slidesGrid=t.slidesGrid.map(O=>O+R)}if(f!==c&&t.emit("slidesLengthChange"),p.length!==k&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),g.length!==y&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!u&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const S=`${n.containerModifierClass}backface-hidden`,R=t.el.classList.contains(S);f<=n.maxBackfaceHiddenSlides?R||t.el.classList.add(S):R&&t.el.classList.remove(S)}}function OS(t){const e=this,n=[],s=e.virtual&&e.params.virtual.enabled;let r=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>s?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const a=e.activeIndex+i;if(a>e.slides.length&&!s)break;n.push(o(a))}else n.push(o(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const a=n[i].offsetHeight;r=a>r?a:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function NS(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=(t.isHorizontal()?e[s].offsetLeft:e[s].offsetTop)-n-t.cssOverflowAdjustment()}const fh=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function LS(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:s,rtlTranslate:r,snapGrid:i}=e;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;r&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let u=0;u<s.length;u+=1){const c=s[u];let d=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=s[0].swiperSlideOffset);const f=(o+(n.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),p=(o-i[0]+(n.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),g=-(o-d),_=g+e.slidesSizesGrid[u],x=g>=0&&g<=e.size-e.slidesSizesGrid[u],C=g>=0&&g<e.size-1||_>1&&_<=e.size||g<=0&&_>=e.size;C&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(u)),fh(c,C,n.slideVisibleClass),fh(c,x,n.slideFullyVisibleClass),c.progress=r?-f:f,c.originalProgress=r?-p:p}}function $S(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:i,isEnd:o,progressLoop:a}=e;const u=i,c=o;if(s===0)r=0,i=!0,o=!0;else{r=(t-e.minTranslate())/s;const d=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;i=d||r<=0,o=f||r>=1,d&&(r=0),f&&(r=1)}if(n.loop){const d=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[d],g=e.slidesGrid[f],_=e.slidesGrid[e.slidesGrid.length-1],x=Math.abs(t);x>=p?a=(x-p)/_:a=(x+_-g)/_,a>1&&(a-=1)}Object.assign(e,{progress:r,progressLoop:a,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!u&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(u&&!i||c&&!o)&&e.emit("fromEdge"),e.emit("progress",r)}const _l=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function FS(){const t=this,{slides:e,params:n,slidesEl:s,activeIndex:r}=t,i=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=f=>hn(s,`.${n.slideClass}${f}, swiper-slide${f}`)[0];let u,c,d;if(i)if(n.loop){let f=r-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),u=a(`[data-swiper-slide-index="${f}"]`)}else u=a(`[data-swiper-slide-index="${r}"]`);else o?(u=e.find(f=>f.column===r),d=e.find(f=>f.column===r+1),c=e.find(f=>f.column===r-1)):u=e[r];u&&(o||(d=SS(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),c=IS(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(f=>{_l(f,f===u,n.slideActiveClass),_l(f,f===d,n.slideNextClass),_l(f,f===c,n.slidePrevClass)}),t.emitSlidesClasses()}const vo=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,s=e.closest(n());if(s){let r=s.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(s.shadowRoot?r=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(r=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},wl=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},lu=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const s=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=r,a=[o-e];a.push(...Array.from({length:e}).map((u,c)=>o+s+c)),t.slides.forEach((u,c)=>{a.includes(u.column)&&wl(t,c)});return}const i=r+s-1;if(t.params.rewind||t.params.loop)for(let o=r-e;o<=i+e;o+=1){const a=(o%n+n)%n;(a<r||a>i)&&wl(t,a)}else for(let o=Math.max(r-e,0);o<=Math.min(i+e,n-1);o+=1)o!==r&&(o>i||o<r)&&wl(t,o)};function BS(t){const{slidesGrid:e,params:n}=t,s=t.rtlTranslate?t.translate:-t.translate;let r;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?s>=e[i]&&s<e[i+1]-(e[i+1]-e[i])/2?r=i:s>=e[i]&&s<e[i+1]&&(r=i+1):s>=e[i]&&(r=i);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function jS(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:s,params:r,activeIndex:i,realIndex:o,snapIndex:a}=e;let u=t,c;const d=g=>{let _=g-e.virtual.slidesBefore;return _<0&&(_=e.virtual.slides.length+_),_>=e.virtual.slides.length&&(_-=e.virtual.slides.length),_};if(typeof u>"u"&&(u=BS(e)),s.indexOf(n)>=0)c=s.indexOf(n);else{const g=Math.min(r.slidesPerGroupSkip,u);c=g+Math.floor((u-g)/r.slidesPerGroup)}if(c>=s.length&&(c=s.length-1),u===i&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(u===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(u);return}const f=e.grid&&r.grid&&r.grid.rows>1;let p;if(e.virtual&&r.virtual.enabled&&r.loop)p=d(u);else if(f){const g=e.slides.find(x=>x.column===u);let _=parseInt(g.getAttribute("data-swiper-slide-index"),10);Number.isNaN(_)&&(_=Math.max(e.slides.indexOf(g),0)),p=Math.floor(_/r.grid.rows)}else if(e.slides[u]){const g=e.slides[u].getAttribute("data-swiper-slide-index");g?p=parseInt(g,10):p=u}else p=u;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:p,previousIndex:i,activeIndex:u}),e.initialized&&lu(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function US(t,e){const n=this,s=n.params;let r=t.closest(`.${s.slideClass}, swiper-slide`);!r&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!r&&a.matches&&a.matches(`.${s.slideClass}, swiper-slide`)&&(r=a)});let i=!1,o;if(r){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===r){i=!0,o=a;break}}if(r&&i)n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}s.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var zS={updateSize:DS,updateSlides:MS,updateAutoHeight:OS,updateSlidesOffset:NS,updateSlidesProgress:LS,updateProgress:$S,updateSlidesClasses:FS,updateActiveIndex:jS,updateClickedSlide:US};function qS(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:s,translate:r,wrapperEl:i}=e;if(n.virtualTranslate)return s?-r:r;if(n.cssMode)return r;let o=wS(i,t);return o+=e.cssOverflowAdjustment(),s&&(o=-o),o||0}function HS(t,e){const n=this,{rtlTranslate:s,params:r,wrapperEl:i,progress:o}=n;let a=0,u=0;const c=0;n.isHorizontal()?a=s?-t:t:u=t,r.roundLengths&&(a=Math.floor(a),u=Math.floor(u)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:u,r.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-u:r.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():u-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${a}px, ${u}px, ${c}px)`);let d;const f=n.maxTranslate()-n.minTranslate();f===0?d=0:d=(t-n.minTranslate())/f,d!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function GS(){return-this.snapGrid[0]}function WS(){return-this.snapGrid[this.snapGrid.length-1]}function KS(t,e,n,s,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),s===void 0&&(s=!0);const i=this,{params:o,wrapperEl:a}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const u=i.minTranslate(),c=i.maxTranslate();let d;if(s&&t>u?d=u:s&&t<c?d=c:d=t,i.updateProgress(d),o.cssMode){const f=i.isHorizontal();if(e===0)a[f?"scrollLeft":"scrollTop"]=-d;else{if(!i.support.smoothScroll)return dv({swiper:i,targetPosition:-d,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,r),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,r),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(p){!i||i.destroyed||p.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var QS={getTranslate:qS,setTranslate:HS,minTranslate:GS,maxTranslate:WS,translateTo:KS};function YS(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function gv(t){let{swiper:e,runCallbacks:n,direction:s,step:r}=t;const{activeIndex:i,previousIndex:o}=e;let a=s;if(a||(i>o?a="next":i<o?a="prev":a="reset"),e.emit(`transition${r}`),n&&i!==o){if(a==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),a==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function XS(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;s.cssMode||(s.autoHeight&&n.updateAutoHeight(),gv({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function JS(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;n.animating=!1,!s.cssMode&&(n.setTransition(0),gv({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var ZS={setTransition:YS,transitionStart:XS,transitionEnd:JS};function eA(t,e,n,s,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:u,slidesGrid:c,previousIndex:d,activeIndex:f,rtlTranslate:p,wrapperEl:g,enabled:_}=i;if(!_&&!s&&!r||i.destroyed||i.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=i.params.speed);const x=Math.min(i.params.slidesPerGroupSkip,o);let C=x+Math.floor((o-x)/i.params.slidesPerGroup);C>=u.length&&(C=u.length-1);const k=-u[C];if(a.normalizeSlideIndex)for(let A=0;A<c.length;A+=1){const b=-Math.floor(k*100),E=Math.floor(c[A]*100),S=Math.floor(c[A+1]*100);typeof c[A+1]<"u"?b>=E&&b<S-(S-E)/2?o=A:b>=E&&b<S&&(o=A+1):b>=E&&(o=A)}if(i.initialized&&o!==f&&(!i.allowSlideNext&&(p?k>i.translate&&k>i.minTranslate():k<i.translate&&k<i.minTranslate())||!i.allowSlidePrev&&k>i.translate&&k>i.maxTranslate()&&(f||0)!==o))return!1;o!==(d||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(k);let y;o>f?y="next":o<f?y="prev":y="reset";const v=i.virtual&&i.params.virtual.enabled;if(!(v&&r)&&(p&&-k===i.translate||!p&&k===i.translate))return i.updateActiveIndex(o),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),a.effect!=="slide"&&i.setTranslate(k),y!=="reset"&&(i.transitionStart(n,y),i.transitionEnd(n,y)),!1;if(a.cssMode){const A=i.isHorizontal(),b=p?k:-k;if(e===0)v&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),v&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{g[A?"scrollLeft":"scrollTop"]=b})):g[A?"scrollLeft":"scrollTop"]=b,v&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return dv({swiper:i,targetPosition:b,side:A?"left":"top"}),!0;g.scrollTo({[A?"left":"top"]:b,behavior:"smooth"})}return!0}const $=mv().isSafari;return v&&!r&&$&&i.isElement&&i.virtual.update(!1,!1,o),i.setTransition(e),i.setTranslate(k),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,s),i.transitionStart(n,y),e===0?i.transitionEnd(n,y):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(b){!i||i.destroyed||b.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,y))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function tA(t,e,n,s){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);const i=r.grid&&r.params.grid&&r.params.grid.rows>1;let o=t;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)o=o+r.virtual.slidesBefore;else{let a;if(i){const p=o*r.params.grid.rows;a=r.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===p).column}else a=r.getSlideIndexByData(o);const u=i?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:c}=r.params;let d=r.params.slidesPerView;d==="auto"?d=r.slidesPerViewDynamic():(d=Math.ceil(parseFloat(r.params.slidesPerView,10)),c&&d%2===0&&(d=d+1));let f=u-a<d;if(c&&(f=f||a<Math.ceil(d/2)),s&&c&&r.params.slidesPerView!=="auto"&&!i&&(f=!1),f){const p=c?a<r.activeIndex?"prev":"next":a-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?a+1:a-u+1,slideRealIndex:p==="next"?r.realIndex:void 0})}if(i){const p=o*r.params.grid.rows;o=r.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===p).column}else o=r.getSlideIndexByData(o)}return requestAnimationFrame(()=>{r.slideTo(o,e,n,s)}),r}function nA(t,e,n){e===void 0&&(e=!0);const s=this,{enabled:r,params:i,animating:o}=s;if(!r||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);let a=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(a=Math.max(s.slidesPerViewDynamic("current",!0),1));const u=s.activeIndex<i.slidesPerGroupSkip?1:a,c=s.virtual&&i.virtual.enabled;if(i.loop){if(o&&!c&&i.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+u,t,e,n)}),!0}return i.rewind&&s.isEnd?s.slideTo(0,t,e,n):s.slideTo(s.activeIndex+u,t,e,n)}function sA(t,e,n){e===void 0&&(e=!0);const s=this,{params:r,snapGrid:i,slidesGrid:o,rtlTranslate:a,enabled:u,animating:c}=s;if(!u||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);const d=s.virtual&&r.virtual.enabled;if(r.loop){if(c&&!d&&r.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const f=a?s.translate:-s.translate;function p(y){return y<0?-Math.floor(Math.abs(y)):Math.floor(y)}const g=p(f),_=i.map(y=>p(y)),x=r.freeMode&&r.freeMode.enabled;let C=i[_.indexOf(g)-1];if(typeof C>"u"&&(r.cssMode||x)){let y;i.forEach((v,I)=>{g>=v&&(y=I)}),typeof y<"u"&&(C=x?i[y]:i[y>0?y-1:y])}let k=0;if(typeof C<"u"&&(k=o.indexOf(C),k<0&&(k=s.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(k=k-s.slidesPerViewDynamic("previous",!0)+1,k=Math.max(k,0))),r.rewind&&s.isBeginning){const y=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(y,t,e,n)}else if(r.loop&&s.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{s.slideTo(k,t,e,n)}),!0;return s.slideTo(k,t,e,n)}function rA(t,e,n){e===void 0&&(e=!0);const s=this;if(!s.destroyed)return typeof t>"u"&&(t=s.params.speed),s.slideTo(s.activeIndex,t,e,n)}function iA(t,e,n,s){e===void 0&&(e=!0),s===void 0&&(s=.5);const r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);let i=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,i),a=o+Math.floor((i-o)/r.params.slidesPerGroup),u=r.rtlTranslate?r.translate:-r.translate;if(u>=r.snapGrid[a]){const c=r.snapGrid[a],d=r.snapGrid[a+1];u-c>(d-c)*s&&(i+=r.params.slidesPerGroup)}else{const c=r.snapGrid[a-1],d=r.snapGrid[a];u-c<=(d-c)*s&&(i-=r.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,r.slidesGrid.length-1),r.slideTo(i,t,e,n)}function oA(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,s=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let r=t.clickedIndex,i;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<t.loopedSlides-s/2||r>t.slides.length-t.loopedSlides+s/2?(t.loopFix(),r=t.getSlideIndex(hn(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),qo(()=>{t.slideTo(r)})):t.slideTo(r):r>t.slides.length-s?(t.loopFix(),r=t.getSlideIndex(hn(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),qo(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var aA={slideTo:eA,slideToLoop:tA,slideNext:nA,slidePrev:sA,slideReset:rA,slideToClosest:iA,slideToClickedSlide:oA};function lA(t,e){const n=this,{params:s,slidesEl:r}=n;if(!s.loop||n.virtual&&n.params.virtual.enabled)return;const i=()=>{hn(r,`.${s.slideClass}, swiper-slide`).forEach((p,g)=>{p.setAttribute("data-swiper-slide-index",g)})},o=n.grid&&s.grid&&s.grid.rows>1,a=s.slidesPerGroup*(o?s.grid.rows:1),u=n.slides.length%a!==0,c=o&&n.slides.length%s.grid.rows!==0,d=f=>{for(let p=0;p<f;p+=1){const g=n.isElement?Wo("swiper-slide",[s.slideBlankClass]):Wo("div",[s.slideClass,s.slideBlankClass]);n.slidesEl.append(g)}};if(u){if(s.loopAddBlankSlides){const f=a-n.slides.length%a;d(f),n.recalcSlides(),n.updateSlides()}else Go("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(c){if(s.loopAddBlankSlides){const f=s.grid.rows-n.slides.length%s.grid.rows;d(f),n.recalcSlides(),n.updateSlides()}else Go("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();n.loopFix({slideRealIndex:t,direction:s.centeredSlides?void 0:"next",initial:e})}function uA(t){let{slideRealIndex:e,slideTo:n=!0,direction:s,setTranslate:r,activeSlideIndex:i,initial:o,byController:a,byMousewheel:u}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:d,allowSlidePrev:f,allowSlideNext:p,slidesEl:g,params:_}=c,{centeredSlides:x,initialSlide:C}=_;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&_.virtual.enabled){n&&(!_.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):_.centeredSlides&&c.snapIndex<_.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=f,c.allowSlideNext=p,c.emit("loopFix");return}let k=_.slidesPerView;k==="auto"?k=c.slidesPerViewDynamic():(k=Math.ceil(parseFloat(_.slidesPerView,10)),x&&k%2===0&&(k=k+1));const y=_.slidesPerGroupAuto?k:_.slidesPerGroup;let v=y;v%y!==0&&(v+=y-v%y),v+=_.loopAdditionalSlides,c.loopedSlides=v;const I=c.grid&&_.grid&&_.grid.rows>1;d.length<k+v||c.params.effect==="cards"&&d.length<k+v*2?Go("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):I&&_.grid.fill==="row"&&Go("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const M=[],$=[],A=I?Math.ceil(d.length/_.grid.rows):d.length,b=o&&A-C<k&&!x;let E=b?C:c.activeIndex;typeof i>"u"?i=c.getSlideIndex(d.find(se=>se.classList.contains(_.slideActiveClass))):E=i;const S=s==="next"||!s,R=s==="prev"||!s;let O=0,P=0;const Ae=(I?d[i].column:i)+(x&&typeof r>"u"?-k/2+.5:0);if(Ae<v){O=Math.max(v-Ae,y);for(let se=0;se<v-Ae;se+=1){const ce=se-Math.floor(se/A)*A;if(I){const de=A-ce-1;for(let Ge=d.length-1;Ge>=0;Ge-=1)d[Ge].column===de&&M.push(Ge)}else M.push(A-ce-1)}}else if(Ae+k>A-v){P=Math.max(Ae-(A-v*2),y),b&&(P=Math.max(P,k-A+C+1));for(let se=0;se<P;se+=1){const ce=se-Math.floor(se/A)*A;I?d.forEach((de,Ge)=>{de.column===ce&&$.push(Ge)}):$.push(ce)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&d.length<k+v*2&&($.includes(i)&&$.splice($.indexOf(i),1),M.includes(i)&&M.splice(M.indexOf(i),1)),R&&M.forEach(se=>{d[se].swiperLoopMoveDOM=!0,g.prepend(d[se]),d[se].swiperLoopMoveDOM=!1}),S&&$.forEach(se=>{d[se].swiperLoopMoveDOM=!0,g.append(d[se]),d[se].swiperLoopMoveDOM=!1}),c.recalcSlides(),_.slidesPerView==="auto"?c.updateSlides():I&&(M.length>0&&R||$.length>0&&S)&&c.slides.forEach((se,ce)=>{c.grid.updateSlide(ce,se,c.slides)}),_.watchSlidesProgress&&c.updateSlidesOffset(),n){if(M.length>0&&R){if(typeof e>"u"){const se=c.slidesGrid[E],de=c.slidesGrid[E+O]-se;u?c.setTranslate(c.translate-de):(c.slideTo(E+Math.ceil(O),0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-de,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-de))}else if(r){const se=I?M.length/_.grid.rows:M.length;c.slideTo(c.activeIndex+se,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if($.length>0&&S)if(typeof e>"u"){const se=c.slidesGrid[E],de=c.slidesGrid[E-P]-se;u?c.setTranslate(c.translate-de):(c.slideTo(E-P,0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-de,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-de))}else{const se=I?$.length/_.grid.rows:$.length;c.slideTo(c.activeIndex-se,0,!1,!0)}}if(c.allowSlidePrev=f,c.allowSlideNext=p,c.controller&&c.controller.control&&!a){const se={slideRealIndex:e,direction:s,setTranslate:r,activeSlideIndex:i,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(ce=>{!ce.destroyed&&ce.params.loop&&ce.loopFix({...se,slideTo:ce.params.slidesPerView===_.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...se,slideTo:c.controller.control.params.slidesPerView===_.slidesPerView?n:!1})}c.emit("loopFix")}function cA(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const s=[];t.slides.forEach(r=>{const i=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;s[i]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),s.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var dA={loopCreate:lA,loopFix:uA,loopDestroy:cA};function fA(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function hA(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var pA={setGrabCursor:fA,unsetGrabCursor:hA};function mA(t,e){e===void 0&&(e=this);function n(s){if(!s||s===$s()||s===Vt())return null;s.assignedSlot&&(s=s.assignedSlot);const r=s.closest(t);return!r&&!s.getRootNode?null:r||n(s.getRootNode().host)}return n(e)}function hh(t,e,n){const s=Vt(),{params:r}=t,i=r.edgeSwipeDetection,o=r.edgeSwipeThreshold;return i&&(n<=o||n>=s.innerWidth-o)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function gA(t){const e=this,n=$s();let s=t;s.originalEvent&&(s=s.originalEvent);const r=e.touchEventsData;if(s.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==s.pointerId)return;r.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(r.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){hh(e,s,s.targetTouches[0].pageX);return}const{params:i,touches:o,enabled:a}=e;if(!a||!i.simulateTouch&&s.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let u=s.target;if(i.touchEventsTarget==="wrapper"&&!TS(u,e.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||r.isTouched&&r.isMoved)return;const c=!!i.noSwipingClass&&i.noSwipingClass!=="",d=s.composedPath?s.composedPath():s.path;c&&s.target&&s.target.shadowRoot&&d&&(u=d[0]);const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,p=!!(s.target&&s.target.shadowRoot);if(i.noSwiping&&(p?mA(f,u):u.closest(f))){e.allowClick=!0;return}if(i.swipeHandler&&!u.closest(i.swipeHandler))return;o.currentX=s.pageX,o.currentY=s.pageY;const g=o.currentX,_=o.currentY;if(!hh(e,s,g))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=g,o.startY=_,r.touchStartTime=Ho(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(r.allowThresholdMove=!1);let x=!0;u.matches(r.focusableElements)&&(x=!1,u.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==u&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!u.matches(r.focusableElements))&&n.activeElement.blur();const C=x&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||C)&&!u.isContentEditable&&s.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",s)}function vA(t){const e=$s(),n=this,s=n.touchEventsData,{params:r,touches:i,rtlTranslate:o,enabled:a}=n;if(!a||!r.simulateTouch&&t.pointerType==="mouse")return;let u=t;if(u.originalEvent&&(u=u.originalEvent),u.type==="pointermove"&&(s.touchId!==null||u.pointerId!==s.pointerId))return;let c;if(u.type==="touchmove"){if(c=[...u.changedTouches].find(M=>M.identifier===s.touchId),!c||c.identifier!==s.touchId)return}else c=u;if(!s.isTouched){s.startMoving&&s.isScrolling&&n.emit("touchMoveOpposite",u);return}const d=c.pageX,f=c.pageY;if(u.preventedByNestedSwiper){i.startX=d,i.startY=f;return}if(!n.allowTouchMove){u.target.matches(s.focusableElements)||(n.allowClick=!1),s.isTouched&&(Object.assign(i,{startX:d,startY:f,currentX:d,currentY:f}),s.touchStartTime=Ho());return}if(r.touchReleaseOnEdges&&!r.loop)if(n.isVertical()){if(f<i.startY&&n.translate<=n.maxTranslate()||f>i.startY&&n.translate>=n.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else{if(o&&(d>i.startX&&-n.translate<=n.maxTranslate()||d<i.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(d<i.startX&&n.translate<=n.maxTranslate()||d>i.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(s.focusableElements)&&e.activeElement!==u.target&&u.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&u.target===e.activeElement&&u.target.matches(s.focusableElements)){s.isMoved=!0,n.allowClick=!1;return}s.allowTouchCallbacks&&n.emit("touchMove",u),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=d,i.currentY=f;const p=i.currentX-i.startX,g=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(p**2+g**2)<n.params.threshold)return;if(typeof s.isScrolling>"u"){let M;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?s.isScrolling=!1:p*p+g*g>=25&&(M=Math.atan2(Math.abs(g),Math.abs(p))*180/Math.PI,s.isScrolling=n.isHorizontal()?M>r.touchAngle:90-M>r.touchAngle)}if(s.isScrolling&&n.emit("touchMoveOpposite",u),typeof s.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(s.startMoving=!0),s.isScrolling||u.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;n.allowClick=!1,!r.cssMode&&u.cancelable&&u.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&u.stopPropagation();let _=n.isHorizontal()?p:g,x=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;r.oneWayMovement&&(_=Math.abs(_)*(o?1:-1),x=Math.abs(x)*(o?1:-1)),i.diff=_,_*=r.touchRatio,o&&(_=-_,x=-x);const C=n.touchesDirection;n.swipeDirection=_>0?"prev":"next",n.touchesDirection=x>0?"prev":"next";const k=n.params.loop&&!r.cssMode,y=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!s.isMoved){if(k&&y&&n.loopFix({direction:n.swipeDirection}),s.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const M=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(M)}s.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",u)}if(new Date().getTime(),r._loopSwapReset!==!1&&s.isMoved&&s.allowThresholdMove&&C!==n.touchesDirection&&k&&y&&Math.abs(_)>=1){Object.assign(i,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}n.emit("sliderMove",u),s.isMoved=!0,s.currentTranslate=_+s.startTranslate;let v=!0,I=r.resistanceRatio;if(r.touchReleaseOnEdges&&(I=0),_>0?(k&&y&&s.allowThresholdMove&&s.currentTranslate>(r.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>n.minTranslate()&&(v=!1,r.resistance&&(s.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+s.startTranslate+_)**I))):_<0&&(k&&y&&s.allowThresholdMove&&s.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),s.currentTranslate<n.maxTranslate()&&(v=!1,r.resistance&&(s.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-s.startTranslate-_)**I))),v&&(u.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(s.currentTranslate=s.startTranslate),r.threshold>0)if(Math.abs(_)>r.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,s.currentTranslate=s.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{s.currentTranslate=s.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(s.currentTranslate),n.setTranslate(s.currentTranslate))}function yA(t){const e=this,n=e.touchEventsData;let s=t;s.originalEvent&&(s=s.originalEvent);let r;if(s.type==="touchend"||s.type==="touchcancel"){if(r=[...s.changedTouches].find(M=>M.identifier===n.touchId),!r||r.identifier!==n.touchId)return}else{if(n.touchId!==null||s.pointerId!==n.pointerId)return;r=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:u,slidesGrid:c,enabled:d}=e;if(!d||!o.simulateTouch&&s.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=Ho(),p=f-n.touchStartTime;if(e.allowClick){const M=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(M&&M[0]||s.target,M),e.emit("tap click",s),p<300&&f-n.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(n.lastClickTime=Ho(),qo(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let g;if(o.followFinger?g=u?e.translate:-e.translate:g=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:g});return}const _=g>=-e.maxTranslate()&&!e.params.loop;let x=0,C=e.slidesSizesGrid[0];for(let M=0;M<c.length;M+=M<o.slidesPerGroupSkip?1:o.slidesPerGroup){const $=M<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[M+$]<"u"?(_||g>=c[M]&&g<c[M+$])&&(x=M,C=c[M+$]-c[M]):(_||g>=c[M])&&(x=M,C=c[c.length-1]-c[c.length-2])}let k=null,y=null;o.rewind&&(e.isBeginning?y=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(k=0));const v=(g-c[x])/C,I=x<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(p>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(v>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?k:x+I):e.slideTo(x)),e.swipeDirection==="prev"&&(v>1-o.longSwipesRatio?e.slideTo(x+I):y!==null&&v<0&&Math.abs(v)>o.longSwipesRatio?e.slideTo(y):e.slideTo(x))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(s.target===e.navigation.nextEl||s.target===e.navigation.prevEl)?s.target===e.navigation.nextEl?e.slideTo(x+I):e.slideTo(x):(e.swipeDirection==="next"&&e.slideTo(k!==null?k:x+I),e.swipeDirection==="prev"&&e.slideTo(y!==null?y:x))}}function ph(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:r,snapGrid:i}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=s,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function _A(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function wA(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:s}=t;if(!s)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r;const i=t.maxTranslate()-t.minTranslate();i===0?r=0:r=(t.translate-t.minTranslate())/i,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function bA(t){const e=this;vo(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function EA(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const vv=(t,e)=>{const n=$s(),{params:s,el:r,wrapperEl:i,device:o}=t,a=!!s.nested,u=e==="on"?"addEventListener":"removeEventListener",c=e;!r||typeof r=="string"||(n[u]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),r[u]("touchstart",t.onTouchStart,{passive:!1}),r[u]("pointerdown",t.onTouchStart,{passive:!1}),n[u]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[u]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[u]("touchend",t.onTouchEnd,{passive:!0}),n[u]("pointerup",t.onTouchEnd,{passive:!0}),n[u]("pointercancel",t.onTouchEnd,{passive:!0}),n[u]("touchcancel",t.onTouchEnd,{passive:!0}),n[u]("pointerout",t.onTouchEnd,{passive:!0}),n[u]("pointerleave",t.onTouchEnd,{passive:!0}),n[u]("contextmenu",t.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&r[u]("click",t.onClick,!0),s.cssMode&&i[u]("scroll",t.onScroll),s.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",ph,!0):t[c]("observerUpdate",ph,!0),r[u]("load",t.onLoad,{capture:!0}))};function TA(){const t=this,{params:e}=t;t.onTouchStart=gA.bind(t),t.onTouchMove=vA.bind(t),t.onTouchEnd=yA.bind(t),t.onDocumentTouchStart=EA.bind(t),e.cssMode&&(t.onScroll=wA.bind(t)),t.onClick=_A.bind(t),t.onLoad=bA.bind(t),vv(t,"on")}function IA(){vv(this,"off")}var SA={attachEvents:TA,detachEvents:IA};const mh=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function AA(){const t=this,{realIndex:e,initialized:n,params:s,el:r}=t,i=s.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const o=$s(),a=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",u=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?t.el:o.querySelector(s.breakpointsBase),c=t.getBreakpoint(i,a,u);if(!c||t.currentBreakpoint===c)return;const f=(c in i?i[c]:void 0)||t.originalParams,p=mh(t,s),g=mh(t,f),_=t.params.grabCursor,x=f.grabCursor,C=s.enabled;p&&!g?(r.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!p&&g&&(r.classList.add(`${s.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&s.grid.fill==="column")&&r.classList.add(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),_&&!x?t.unsetGrabCursor():!_&&x&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach($=>{if(typeof f[$]>"u")return;const A=s[$]&&s[$].enabled,b=f[$]&&f[$].enabled;A&&!b&&t[$].disable(),!A&&b&&t[$].enable()});const k=f.direction&&f.direction!==s.direction,y=s.loop&&(f.slidesPerView!==s.slidesPerView||k),v=s.loop;k&&n&&t.changeDirection(),qt(t.params,f);const I=t.params.enabled,M=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),C&&!I?t.disable():!C&&I&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",f),n&&(y?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!v&&M?(t.loopCreate(e),t.updateSlides()):v&&!M&&t.loopDestroy()),t.emit("breakpoint",f)}function xA(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let s=!1;const r=Vt(),i=e==="window"?r.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const u=parseFloat(a.substr(1));return{value:i*u,point:a}}return{value:a,point:a}});o.sort((a,u)=>parseInt(a.value,10)-parseInt(u.value,10));for(let a=0;a<o.length;a+=1){const{point:u,value:c}=o[a];e==="window"?r.matchMedia(`(min-width: ${c}px)`).matches&&(s=u):c<=n.clientWidth&&(s=u)}return s||"max"}var CA={setBreakpoint:AA,getBreakpoint:xA};function PA(t,e){const n=[];return t.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(r=>{s[r]&&n.push(e+r)}):typeof s=="string"&&n.push(e+s)}),n}function RA(){const t=this,{classNames:e,params:n,rtl:s,el:r,device:i}=t,o=PA(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:s},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),r.classList.add(...e),t.emitContainerClasses()}function kA(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var VA={addClasses:RA,removeClasses:kA};function DA(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:s}=n;if(s){const r=t.slides.length-1,i=t.slidesGrid[r]+t.slidesSizesGrid[r]+s*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var MA={checkOverflow:DA},uu={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function OA(t,e){return function(s){s===void 0&&(s={});const r=Object.keys(s)[0],i=s[r];if(typeof i!="object"||i===null){qt(e,s);return}if(t[r]===!0&&(t[r]={enabled:!0}),r==="navigation"&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),!(r in t&&"enabled"in i)){qt(e,s);return}typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),qt(e,s)}}const bl={eventsEmitter:VS,update:zS,translate:QS,transition:ZS,slide:aA,loop:dA,grabCursor:pA,events:SA,breakpoints:CA,checkOverflow:MA,classes:VA},El={};let bc=class Cn{constructor(){let e,n;for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?n=r[0]:[e,n]=r,n||(n={}),n=qt({},n),e&&!n.el&&(n.el=e);const o=$s();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const d=[];return o.querySelectorAll(n.el).forEach(f=>{const p=qt({},n,{el:f});d.push(new Cn(p))}),d}const a=this;a.__swiper__=!0,a.support=hv(),a.device=pv({userAgent:n.userAgent}),a.browser=mv(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const u={};a.modules.forEach(d=>{d({params:n,swiper:a,extendParams:OA(n,u),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=qt({},uu,u);return a.params=qt({},c,El,n),a.originalParams=qt({},a.params),a.passedParams=qt({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(d=>{a.on(d,a.params.on[d])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:s}=this,r=hn(n,`.${s.slideClass}, swiper-slide`),i=Ko(r[0]);return Ko(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:s}=e;e.slides=hn(n,`.${s.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const s=this;e=Math.min(Math.max(e,0),1);const r=s.minTranslate(),o=(s.maxTranslate()-r)*e+r;s.translateTo(o,typeof n>"u"?0:n),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(s=>{const r=e.getSlideClasses(s);n.push({slideEl:s,classNames:r}),e.emit("_slideClass",s,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const s=this,{params:r,slides:i,slidesGrid:o,slidesSizesGrid:a,size:u,activeIndex:c}=s;let d=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let f=i[c]?Math.ceil(i[c].swiperSlideSize):0,p;for(let g=c+1;g<i.length;g+=1)i[g]&&!p&&(f+=Math.ceil(i[g].swiperSlideSize),d+=1,f>u&&(p=!0));for(let g=c-1;g>=0;g-=1)i[g]&&!p&&(f+=i[g].swiperSlideSize,d+=1,f>u&&(p=!0))}else if(e==="current")for(let f=c+1;f<i.length;f+=1)(n?o[f]+a[f]-o[c]<u:o[f]-o[c]<u)&&(d+=1);else for(let f=c-1;f>=0;f-=1)o[c]-o[f]<u&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:s}=e;s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&vo(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)r(),s.autoHeight&&e.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const o=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(o.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||r()}s.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const s=this,r=s.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${r}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),s.emit("changeDirection"),n&&s.update()),s}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let s=e||n.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=n,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(r()):hn(s,r())[0];return!o&&n.params.createElements&&(o=Wo("div",n.params.wrapperClass),s.append(o),hn(s,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:s,wrapperEl:o,slidesEl:n.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:o,hostEl:n.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||Qn(s,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||Qn(s,"direction")==="rtl"),wrongRTL:Qn(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(i=>{i.complete?vo(n,i):i.addEventListener("load",o=>{vo(n,o.target)})}),lu(n),n.initialized=!0,lu(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const s=this,{params:r,el:i,wrapperEl:o,slides:a}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),r.loop&&s.loopDestroy(),n&&(s.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(u=>{u.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),u.removeAttribute("style"),u.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(u=>{s.off(u)}),e!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),yS(s)),s.destroyed=!0),null}static extendDefaults(e){qt(El,e)}static get extendedDefaults(){return El}static get defaults(){return uu}static installModule(e){Cn.prototype.__modules__||(Cn.prototype.__modules__=[]);const n=Cn.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Cn.installModule(n)),Cn):(Cn.installModule(e),Cn)}};Object.keys(bl).forEach(t=>{Object.keys(bl[t]).forEach(e=>{bc.prototype[e]=bl[t][e]})});bc.use([RS,kS]);const yv=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Vs(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function or(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=e[s]:Vs(e[s])&&Vs(t[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?t[s]=e[s]:or(t[s],e[s]):t[s]=e[s]})}function _v(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function wv(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function bv(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function Ev(t){t===void 0&&(t="");const e=t.split(" ").map(s=>s.trim()).filter(s=>!!s),n=[];return e.forEach(s=>{n.indexOf(s)<0&&n.push(s)}),n.join(" ")}function NA(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function LA(t){let{swiper:e,slides:n,passedParams:s,changedParams:r,nextEl:i,prevEl:o,scrollbarEl:a,paginationEl:u}=t;const c=r.filter(E=>E!=="children"&&E!=="direction"&&E!=="wrapperClass"),{params:d,pagination:f,navigation:p,scrollbar:g,virtual:_,thumbs:x}=e;let C,k,y,v,I,M,$,A;r.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&!s.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(C=!0),r.includes("controller")&&s.controller&&s.controller.control&&d.controller&&!d.controller.control&&(k=!0),r.includes("pagination")&&s.pagination&&(s.pagination.el||u)&&(d.pagination||d.pagination===!1)&&f&&!f.el&&(y=!0),r.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||a)&&(d.scrollbar||d.scrollbar===!1)&&g&&!g.el&&(v=!0),r.includes("navigation")&&s.navigation&&(s.navigation.prevEl||o)&&(s.navigation.nextEl||i)&&(d.navigation||d.navigation===!1)&&p&&!p.prevEl&&!p.nextEl&&(I=!0);const b=E=>{e[E]&&(e[E].destroy(),E==="navigation"?(e.isElement&&(e[E].prevEl.remove(),e[E].nextEl.remove()),d[E].prevEl=void 0,d[E].nextEl=void 0,e[E].prevEl=void 0,e[E].nextEl=void 0):(e.isElement&&e[E].el.remove(),d[E].el=void 0,e[E].el=void 0))};r.includes("loop")&&e.isElement&&(d.loop&&!s.loop?M=!0:!d.loop&&s.loop?$=!0:A=!0),c.forEach(E=>{if(Vs(d[E])&&Vs(s[E]))Object.assign(d[E],s[E]),(E==="navigation"||E==="pagination"||E==="scrollbar")&&"enabled"in s[E]&&!s[E].enabled&&b(E);else{const S=s[E];(S===!0||S===!1)&&(E==="navigation"||E==="pagination"||E==="scrollbar")?S===!1&&b(E):d[E]=s[E]}}),c.includes("controller")&&!k&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),r.includes("children")&&n&&_&&d.virtual.enabled?(_.slides=n,_.update(!0)):r.includes("virtual")&&_&&d.virtual.enabled&&(n&&(_.slides=n),_.update(!0)),r.includes("children")&&n&&d.loop&&(A=!0),C&&x.init()&&x.update(!0),k&&(e.controller.control=d.controller.control),y&&(e.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-pagination"),u.part.add("pagination"),e.el.appendChild(u)),u&&(d.pagination.el=u),f.init(),f.render(),f.update()),v&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(d.scrollbar.el=a),g.init(),g.updateSize(),g.setTranslate()),I&&(e.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),i.innerHTML=e.hostEl.constructor.nextButtonSvg,i.part.add("button-next"),e.el.appendChild(i)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),i&&(d.navigation.nextEl=i),o&&(d.navigation.prevEl=o),p.init(),p.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=s.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=s.allowSlidePrev),r.includes("direction")&&e.changeDirection(s.direction,!1),(M||A)&&e.loopDestroy(),($||A)&&e.loopCreate(),e.update()}function gh(t,e){t===void 0&&(t={});const n={on:{}},s={},r={};or(n,uu),n._emitClasses=!0,n.init=!1;const i={},o=yv.map(u=>u.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(u=>{typeof t[u]>"u"||(o.indexOf(u)>=0?Vs(t[u])?(n[u]={},r[u]={},or(n[u],t[u]),or(r[u],t[u])):(n[u]=t[u],r[u]=t[u]):u.search(/on[A-Z]/)===0&&typeof t[u]=="function"?n.on[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:i[u]=t[u])}),["navigation","pagination","scrollbar"].forEach(u=>{n[u]===!0&&(n[u]={}),n[u]===!1&&delete n[u]}),{params:n,passedParams:r,rest:i,events:s}}function $A(t,e){let{el:n,nextEl:s,prevEl:r,paginationEl:i,scrollbarEl:o,swiper:a}=t;_v(e)&&s&&r&&(a.params.navigation.nextEl=s,a.originalParams.navigation.nextEl=s,a.params.navigation.prevEl=r,a.originalParams.navigation.prevEl=r),wv(e)&&i&&(a.params.pagination.el=i,a.originalParams.pagination.el=i),bv(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function FA(t,e,n,s,r){const i=[];if(!e)return i;const o=u=>{i.indexOf(u)<0&&i.push(u)};if(n&&s){const u=s.map(r),c=n.map(r);u.join("")!==c.join("")&&o("children"),s.length!==n.length&&o("children")}return yv.filter(u=>u[0]==="_").map(u=>u.replace(/_/,"")).forEach(u=>{if(u in t&&u in e)if(Vs(t[u])&&Vs(e[u])){const c=Object.keys(t[u]),d=Object.keys(e[u]);c.length!==d.length?o(u):(c.forEach(f=>{t[u][f]!==e[u][f]&&o(u)}),d.forEach(f=>{t[u][f]!==e[u][f]&&o(u)}))}else t[u]!==e[u]&&o(u)}),i}const BA=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Tl(t,e,n){t===void 0&&(t={});const s=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},i=(o,a)=>{Array.isArray(o)&&o.forEach(u=>{const c=typeof u.type=="symbol";a==="default"&&(a="container-end"),c&&u.children?i(u.children,a):u.type&&(u.type.name==="SwiperSlide"||u.type.name==="AsyncComponentWrapper")||u.componentOptions&&u.componentOptions.tag==="SwiperSlide"?s.push(u):r[a]&&r[a].push(u)})};return Object.keys(t).forEach(o=>{if(typeof t[o]!="function")return;const a=t[o]();i(a,o)}),n.value=e.value,e.value=s,{slides:s,slots:r}}function jA(t,e,n){if(!n)return null;const s=d=>{let f=d;return d<0?f=e.length+d:f>=e.length&&(f=f-e.length),f},r=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:o}=n,a=t.value.params.loop?-e.length:0,u=t.value.params.loop?e.length*2:e.length,c=[];for(let d=a;d<u;d+=1)d>=i&&d<=o&&c.length<e.length&&c.push(e[s(d)]);return c.map(d=>{if(d.props||(d.props={}),d.props.style||(d.props.style={}),d.props.swiperRef=t,d.props.style=r,d.type)return Lt(d.type,{...d.props},d.children);if(d.componentOptions)return Lt(d.componentOptions.Ctor,{...d.props},d.componentOptions.children)})}const Ec={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:n,emit:s}=e;const{tag:r,wrapperTag:i}=t,o=le("swiper"),a=le(null),u=le(!1),c=le(!1),d=le(null),f=le(null),p=le(null),g={value:[]},_={value:[]},x=le(null),C=le(null),k=le(null),y=le(null),{params:v,passedParams:I}=gh(t);Tl(n,g,_),p.value=I,_.value=g.value;const M=()=>{Tl(n,g,_),u.value=!0};v.onAny=function(b){for(var E=arguments.length,S=new Array(E>1?E-1:0),R=1;R<E;R++)S[R-1]=arguments[R];s(b,...S)},Object.assign(v.on,{_beforeBreakpoint:M,_containerClasses(b,E){o.value=E}});const $={...v};if(delete $.wrapperClass,f.value=new bc($),f.value.virtual&&f.value.params.virtual.enabled){f.value.virtual.slides=g.value;const b={cache:!1,slides:g.value,renderExternal:E=>{a.value=E},renderExternalUpdate:!1};or(f.value.params.virtual,b),or(f.value.originalParams.virtual,b)}Au(()=>{!c.value&&f.value&&(f.value.emitSlidesClasses(),c.value=!0);const{passedParams:b}=gh(t),E=FA(b,p.value,g.value,_.value,S=>S.props&&S.props.key);p.value=b,(E.length||u.value)&&f.value&&!f.value.destroyed&&LA({swiper:f.value,slides:g.value,passedParams:b,changedParams:E,nextEl:x.value,prevEl:C.value,scrollbarEl:y.value,paginationEl:k.value}),u.value=!1}),nr("swiper",f),sr(a,()=>{ra(()=>{BA(f.value)})}),gt(()=>{d.value&&($A({el:d.value,nextEl:x.value,prevEl:C.value,paginationEl:k.value,scrollbarEl:y.value,swiper:f.value},v),s("swiper",f.value))}),oa(()=>{f.value&&!f.value.destroyed&&f.value.destroy(!0,!1)});function A(b){return v.virtual?jA(f,b,a.value):(b.forEach((E,S)=>{E.props||(E.props={}),E.props.swiperRef=f,E.props.swiperSlideIndex=S}),b)}return()=>{const{slides:b,slots:E}=Tl(n,g,_);return Lt(r,{ref:d,class:Ev(o.value)},[E["container-start"],Lt(i,{class:NA(v.wrapperClass)},[E["wrapper-start"],A(b),E["wrapper-end"]]),_v(t)&&[Lt("div",{ref:C,class:"swiper-button-prev"}),Lt("div",{ref:x,class:"swiper-button-next"})],bv(t)&&Lt("div",{ref:y,class:"swiper-scrollbar"}),wv(t)&&Lt("div",{ref:k,class:"swiper-pagination"}),E["container-end"]])}}},Tc={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:n}=e,s=!1;const{swiperRef:r}=t,i=le(null),o=le("swiper-slide"),a=le(!1);function u(f,p,g){p===i.value&&(o.value=g)}gt(()=>{!r||!r.value||(r.value.on("_slideClass",u),s=!0)}),pp(()=>{s||!r||!r.value||(r.value.on("_slideClass",u),s=!0)}),Au(()=>{!i.value||!r||!r.value||(typeof t.swiperSlideIndex<"u"&&(i.value.swiperSlideIndex=t.swiperSlideIndex),r.value.destroyed&&o.value!=="swiper-slide"&&(o.value="swiper-slide"))}),oa(()=>{!r||!r.value||r.value.off("_slideClass",u)});const c=st(()=>({isActive:o.value.indexOf("swiper-slide-active")>=0,isVisible:o.value.indexOf("swiper-slide-visible")>=0,isPrev:o.value.indexOf("swiper-slide-prev")>=0,isNext:o.value.indexOf("swiper-slide-next")>=0}));nr("swiperSlide",c);const d=()=>{a.value=!0};return()=>Lt(t.tag,{class:Ev(`${o.value}`),ref:i,"data-swiper-slide-index":typeof t.virtualIndex>"u"&&r&&r.value&&r.value.params.loop?t.swiperSlideIndex:t.virtualIndex,onLoadCapture:d},t.zoom?Lt("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},[n.default&&n.default(c.value),t.lazy&&!a.value&&Lt("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(c.value),t.lazy&&!a.value&&Lt("div",{class:"swiper-lazy-preloader"})])}};function Tv(t,e,n,s){return t.params.createElements&&Object.keys(s).forEach(r=>{if(!n[r]&&n.auto===!0){let i=hn(t.el,`.${s[r]}`)[0];i||(i=Wo("div",s[r]),i.className=s[r],t.el.append(i)),n[r]=i,e[r]=i}}),n}function Iv(t){let{swiper:e,extendParams:n,on:s,emit:r}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function i(_){let x;return _&&typeof _=="string"&&e.isElement&&(x=e.el.querySelector(_)||e.hostEl.querySelector(_),x)?x:(_&&(typeof _=="string"&&(x=[...document.querySelectorAll(_)]),e.params.uniqueNavElements&&typeof _=="string"&&x&&x.length>1&&e.el.querySelectorAll(_).length===1?x=e.el.querySelector(_):x&&x.length===1&&(x=x[0])),_&&!x?_:x)}function o(_,x){const C=e.params.navigation;_=lt(_),_.forEach(k=>{k&&(k.classList[x?"add":"remove"](...C.disabledClass.split(" ")),k.tagName==="BUTTON"&&(k.disabled=x),e.params.watchOverflow&&e.enabled&&k.classList[e.isLocked?"add":"remove"](C.lockClass))})}function a(){const{nextEl:_,prevEl:x}=e.navigation;if(e.params.loop){o(x,!1),o(_,!1);return}o(x,e.isBeginning&&!e.params.rewind),o(_,e.isEnd&&!e.params.rewind)}function u(_){_.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function c(_){_.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function d(){const _=e.params.navigation;if(e.params.navigation=Tv(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(_.nextEl||_.prevEl))return;let x=i(_.nextEl),C=i(_.prevEl);Object.assign(e.navigation,{nextEl:x,prevEl:C}),x=lt(x),C=lt(C);const k=(y,v)=>{y&&y.addEventListener("click",v==="next"?c:u),!e.enabled&&y&&y.classList.add(..._.lockClass.split(" "))};x.forEach(y=>k(y,"next")),C.forEach(y=>k(y,"prev"))}function f(){let{nextEl:_,prevEl:x}=e.navigation;_=lt(_),x=lt(x);const C=(k,y)=>{k.removeEventListener("click",y==="next"?c:u),k.classList.remove(...e.params.navigation.disabledClass.split(" "))};_.forEach(k=>C(k,"next")),x.forEach(k=>C(k,"prev"))}s("init",()=>{e.params.navigation.enabled===!1?g():(d(),a())}),s("toEdge fromEdge lock unlock",()=>{a()}),s("destroy",()=>{f()}),s("enable disable",()=>{let{nextEl:_,prevEl:x}=e.navigation;if(_=lt(_),x=lt(x),e.enabled){a();return}[..._,...x].filter(C=>!!C).forEach(C=>C.classList.add(e.params.navigation.lockClass))}),s("click",(_,x)=>{let{nextEl:C,prevEl:k}=e.navigation;C=lt(C),k=lt(k);const y=x.target;let v=k.includes(y)||C.includes(y);if(e.isElement&&!v){const I=x.path||x.composedPath&&x.composedPath();I&&(v=I.find(M=>C.includes(M)||k.includes(M)))}if(e.params.navigation.hideOnClick&&!v){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===y||e.pagination.el.contains(y)))return;let I;C.length?I=C[0].classList.contains(e.params.navigation.hiddenClass):k.length&&(I=k[0].classList.contains(e.params.navigation.hiddenClass)),r(I===!0?"navigationShow":"navigationHide"),[...C,...k].filter(M=>!!M).forEach(M=>M.classList.toggle(e.params.navigation.hiddenClass))}});const p=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),a()},g=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:p,disable:g,update:a,init:d,destroy:f})}function Br(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Sv(t){let{swiper:e,extendParams:n,on:s,emit:r}=t;const i="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:y=>y,formatFractionTotal:y=>y,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function u(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(y,v){const{bulletActiveClass:I}=e.params.pagination;y&&(y=y[`${v==="prev"?"previous":"next"}ElementSibling`],y&&(y.classList.add(`${I}-${v}`),y=y[`${v==="prev"?"previous":"next"}ElementSibling`],y&&y.classList.add(`${I}-${v}-${v}`)))}function d(y,v,I){if(y=y%I,v=v%I,v===y+1)return"next";if(v===y-1)return"previous"}function f(y){const v=y.target.closest(Br(e.params.pagination.bulletClass));if(!v)return;y.preventDefault();const I=Ko(v)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===I)return;const M=d(e.realIndex,I,e.slides.length);M==="next"?e.slideNext():M==="previous"?e.slidePrev():e.slideToLoop(I)}else e.slideTo(I)}function p(){const y=e.rtl,v=e.params.pagination;if(u())return;let I=e.pagination.el;I=lt(I);let M,$;const A=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,b=e.params.loop?Math.ceil(A/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?($=e.previousRealIndex||0,M=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(M=e.snapIndex,$=e.previousSnapIndex):($=e.previousIndex||0,M=e.activeIndex||0),v.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const E=e.pagination.bullets;let S,R,O;if(v.dynamicBullets&&(o=au(E[0],e.isHorizontal()?"width":"height"),I.forEach(P=>{P.style[e.isHorizontal()?"width":"height"]=`${o*(v.dynamicMainBullets+4)}px`}),v.dynamicMainBullets>1&&$!==void 0&&(a+=M-($||0),a>v.dynamicMainBullets-1?a=v.dynamicMainBullets-1:a<0&&(a=0)),S=Math.max(M-a,0),R=S+(Math.min(E.length,v.dynamicMainBullets)-1),O=(R+S)/2),E.forEach(P=>{const Ee=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(Ae=>`${v.bulletActiveClass}${Ae}`)].map(Ae=>typeof Ae=="string"&&Ae.includes(" ")?Ae.split(" "):Ae).flat();P.classList.remove(...Ee)}),I.length>1)E.forEach(P=>{const Ee=Ko(P);Ee===M?P.classList.add(...v.bulletActiveClass.split(" ")):e.isElement&&P.setAttribute("part","bullet"),v.dynamicBullets&&(Ee>=S&&Ee<=R&&P.classList.add(...`${v.bulletActiveClass}-main`.split(" ")),Ee===S&&c(P,"prev"),Ee===R&&c(P,"next"))});else{const P=E[M];if(P&&P.classList.add(...v.bulletActiveClass.split(" ")),e.isElement&&E.forEach((Ee,Ae)=>{Ee.setAttribute("part",Ae===M?"bullet-active":"bullet")}),v.dynamicBullets){const Ee=E[S],Ae=E[R];for(let se=S;se<=R;se+=1)E[se]&&E[se].classList.add(...`${v.bulletActiveClass}-main`.split(" "));c(Ee,"prev"),c(Ae,"next")}}if(v.dynamicBullets){const P=Math.min(E.length,v.dynamicMainBullets+4),Ee=(o*P-o)/2-O*o,Ae=y?"right":"left";E.forEach(se=>{se.style[e.isHorizontal()?Ae:"top"]=`${Ee}px`})}}I.forEach((E,S)=>{if(v.type==="fraction"&&(E.querySelectorAll(Br(v.currentClass)).forEach(R=>{R.textContent=v.formatFractionCurrent(M+1)}),E.querySelectorAll(Br(v.totalClass)).forEach(R=>{R.textContent=v.formatFractionTotal(b)})),v.type==="progressbar"){let R;v.progressbarOpposite?R=e.isHorizontal()?"vertical":"horizontal":R=e.isHorizontal()?"horizontal":"vertical";const O=(M+1)/b;let P=1,Ee=1;R==="horizontal"?P=O:Ee=O,E.querySelectorAll(Br(v.progressbarFillClass)).forEach(Ae=>{Ae.style.transform=`translate3d(0,0,0) scaleX(${P}) scaleY(${Ee})`,Ae.style.transitionDuration=`${e.params.speed}ms`})}v.type==="custom"&&v.renderCustom?(E.innerHTML=v.renderCustom(e,M+1,b),S===0&&r("paginationRender",E)):(S===0&&r("paginationRender",E),r("paginationUpdate",E)),e.params.watchOverflow&&e.enabled&&E.classList[e.isLocked?"add":"remove"](v.lockClass)})}function g(){const y=e.params.pagination;if(u())return;const v=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let I=e.pagination.el;I=lt(I);let M="";if(y.type==="bullets"){let $=e.params.loop?Math.ceil(v/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&$>v&&($=v);for(let A=0;A<$;A+=1)y.renderBullet?M+=y.renderBullet.call(e,A,y.bulletClass):M+=`<${y.bulletElement} ${e.isElement?'part="bullet"':""} class="${y.bulletClass}"></${y.bulletElement}>`}y.type==="fraction"&&(y.renderFraction?M=y.renderFraction.call(e,y.currentClass,y.totalClass):M=`<span class="${y.currentClass}"></span> / <span class="${y.totalClass}"></span>`),y.type==="progressbar"&&(y.renderProgressbar?M=y.renderProgressbar.call(e,y.progressbarFillClass):M=`<span class="${y.progressbarFillClass}"></span>`),e.pagination.bullets=[],I.forEach($=>{y.type!=="custom"&&($.innerHTML=M||""),y.type==="bullets"&&e.pagination.bullets.push(...$.querySelectorAll(Br(y.bulletClass)))}),y.type!=="custom"&&r("paginationRender",I[0])}function _(){e.params.pagination=Tv(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const y=e.params.pagination;if(!y.el)return;let v;typeof y.el=="string"&&e.isElement&&(v=e.el.querySelector(y.el)),!v&&typeof y.el=="string"&&(v=[...document.querySelectorAll(y.el)]),v||(v=y.el),!(!v||v.length===0)&&(e.params.uniqueNavElements&&typeof y.el=="string"&&Array.isArray(v)&&v.length>1&&(v=[...e.el.querySelectorAll(y.el)],v.length>1&&(v=v.find(I=>fv(I,".swiper")[0]===e.el))),Array.isArray(v)&&v.length===1&&(v=v[0]),Object.assign(e.pagination,{el:v}),v=lt(v),v.forEach(I=>{y.type==="bullets"&&y.clickable&&I.classList.add(...(y.clickableClass||"").split(" ")),I.classList.add(y.modifierClass+y.type),I.classList.add(e.isHorizontal()?y.horizontalClass:y.verticalClass),y.type==="bullets"&&y.dynamicBullets&&(I.classList.add(`${y.modifierClass}${y.type}-dynamic`),a=0,y.dynamicMainBullets<1&&(y.dynamicMainBullets=1)),y.type==="progressbar"&&y.progressbarOpposite&&I.classList.add(y.progressbarOppositeClass),y.clickable&&I.addEventListener("click",f),e.enabled||I.classList.add(y.lockClass)}))}function x(){const y=e.params.pagination;if(u())return;let v=e.pagination.el;v&&(v=lt(v),v.forEach(I=>{I.classList.remove(y.hiddenClass),I.classList.remove(y.modifierClass+y.type),I.classList.remove(e.isHorizontal()?y.horizontalClass:y.verticalClass),y.clickable&&(I.classList.remove(...(y.clickableClass||"").split(" ")),I.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(I=>I.classList.remove(...y.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const y=e.params.pagination;let{el:v}=e.pagination;v=lt(v),v.forEach(I=>{I.classList.remove(y.horizontalClass,y.verticalClass),I.classList.add(e.isHorizontal()?y.horizontalClass:y.verticalClass)})}),s("init",()=>{e.params.pagination.enabled===!1?k():(_(),g(),p())}),s("activeIndexChange",()=>{typeof e.snapIndex>"u"&&p()}),s("snapIndexChange",()=>{p()}),s("snapGridLengthChange",()=>{g(),p()}),s("destroy",()=>{x()}),s("enable disable",()=>{let{el:y}=e.pagination;y&&(y=lt(y),y.forEach(v=>v.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),s("lock unlock",()=>{p()}),s("click",(y,v)=>{const I=v.target,M=lt(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&M&&M.length>0&&!I.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&I===e.navigation.nextEl||e.navigation.prevEl&&I===e.navigation.prevEl))return;const $=M[0].classList.contains(e.params.pagination.hiddenClass);r($===!0?"paginationShow":"paginationHide"),M.forEach(A=>A.classList.toggle(e.params.pagination.hiddenClass))}});const C=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:y}=e.pagination;y&&(y=lt(y),y.forEach(v=>v.classList.remove(e.params.pagination.paginationDisabledClass))),_(),g(),p()},k=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:y}=e.pagination;y&&(y=lt(y),y.forEach(v=>v.classList.add(e.params.pagination.paginationDisabledClass))),x()};Object.assign(e.pagination,{enable:C,disable:k,render:g,update:p,init:_,destroy:x})}function Av(t){let{swiper:e,extendParams:n,on:s}=t;n({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0};function r(c,d){const f=function(){let x,C,k;return(y,v)=>{for(C=-1,x=y.length;x-C>1;)k=x+C>>1,y[k]<=v?C=k:x=k;return x}}();this.x=c,this.y=d,this.lastIndex=c.length-1;let p,g;return this.interpolate=function(x){return x?(g=f(this.x,x),p=g-1,(x-this.x[p])*(this.y[g]-this.y[p])/(this.x[g]-this.x[p])+this.y[p]):0},this}function i(c){e.controller.spline=e.params.loop?new r(e.slidesGrid,c.slidesGrid):new r(e.snapGrid,c.snapGrid)}function o(c,d){const f=e.controller.control;let p,g;const _=e.constructor;function x(C){if(C.destroyed)return;const k=e.rtlTranslate?-e.translate:e.translate;e.params.controller.by==="slide"&&(i(C),g=-e.controller.spline.interpolate(-k)),(!g||e.params.controller.by==="container")&&(p=(C.maxTranslate()-C.minTranslate())/(e.maxTranslate()-e.minTranslate()),(Number.isNaN(p)||!Number.isFinite(p))&&(p=1),g=(k-e.minTranslate())*p+C.minTranslate()),e.params.controller.inverse&&(g=C.maxTranslate()-g),C.updateProgress(g),C.setTranslate(g,e),C.updateActiveIndex(),C.updateSlidesClasses()}if(Array.isArray(f))for(let C=0;C<f.length;C+=1)f[C]!==d&&f[C]instanceof _&&x(f[C]);else f instanceof _&&d!==f&&x(f)}function a(c,d){const f=e.constructor,p=e.controller.control;let g;function _(x){x.destroyed||(x.setTransition(c,e),c!==0&&(x.transitionStart(),x.params.autoHeight&&qo(()=>{x.updateAutoHeight()}),AS(x.wrapperEl,()=>{p&&x.transitionEnd()})))}if(Array.isArray(p))for(g=0;g<p.length;g+=1)p[g]!==d&&p[g]instanceof f&&_(p[g]);else p instanceof f&&d!==p&&_(p)}function u(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}s("beforeInit",()=>{if(typeof window<"u"&&(typeof e.params.controller.control=="string"||e.params.controller.control instanceof HTMLElement)){(typeof e.params.controller.control=="string"?[...document.querySelectorAll(e.params.controller.control)]:[e.params.controller.control]).forEach(d=>{if(e.controller.control||(e.controller.control=[]),d&&d.swiper)e.controller.control.push(d.swiper);else if(d){const f=`${e.params.eventsPrefix}init`,p=g=>{e.controller.control.push(g.detail[0]),e.update(),d.removeEventListener(f,p)};d.addEventListener(f,p)}});return}e.controller.control=e.params.controller.control}),s("update",()=>{u()}),s("resize",()=>{u()}),s("observerUpdate",()=>{u()}),s("setTranslate",(c,d,f)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTranslate(d,f)}),s("setTransition",(c,d,f)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTransition(d,f)}),Object.assign(e.controller,{setTranslate:o,setTransition:a})}const UA={class:"day-menu-swiper-container bg-[#eaeaea] p-4 sticky top-0 z-40 border-b border-gray-300"},zA=["onClick"],qA={__name:"DayMenu",props:{days:{type:Array,required:!0},controlledSwiper:{type:Object,default:null},activeIndex:{type:Number,default:0}},emits:["goToDay","swiper"],setup(t,{emit:e}){const n=t,s=e;function r(u){if(!u||!u.id)return"Dia";const c=u.id.replace("day-",""),d=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];let f=null,p,g,_;if(u.date)[p,g,_]=u.date.split("-").map(Number),f=new Date(p,g-1,_,12,0,0);else if(u.data){const y=u.data.match(/(\d{2})\/(\d{2})\/(\d{4})/);y&&(_=parseInt(y[1]),g=parseInt(y[2]),p=parseInt(y[3]),f=new Date(p,g-1,_,12,0,0))}if(!f||isNaN(f.getTime()))return`Dia ${c}`;const x=new Date;x.setHours(12,0,0,0),x.setHours(0,0,0,0);const C=new Date(x);C.setDate(x.getDate()+1);let k="";if(f.getDate()===x.getDate()&&f.getMonth()===x.getMonth()&&f.getFullYear()===x.getFullYear())k="Hoje";else if(f.getDate()===C.getDate()&&f.getMonth()===C.getMonth()&&f.getFullYear()===C.getFullYear())k="Amanhã";else{const y=f.getDate(),v=d[f.getMonth()];k=`${y} de ${v}`}return`Dia ${c} - ${k}`}function i(u){s("goToDay",u)}function o(u){s("swiper",u)}const a=[Av];return(u,c)=>(B(),H("nav",UA,[ae(Zt(Ec),{modules:a,"slides-per-view":"auto","space-between":10,"centered-slides":!0,"grab-cursor":!0,onSwiper:o,class:"day-menu-swiper"},{default:Le(()=>[(B(!0),H(Se,null,qe(n.days,(d,f)=>(B(),Ye(Zt(Tc),{key:d.id,class:"day-menu-slide"},{default:Le(()=>[w("button",{onClick:p=>i(f),class:Qt(["px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ease-in-out cursor-pointer whitespace-nowrap",f===n.activeIndex?"bg-blue-600 text-white font-semibold":"bg-blue-100 text-blue-700 hover:bg-blue-200"])},ye(r(d)),11,zA)]),_:2},1024))),128))]),_:1})]))}},HA=Tn(qA,[["__scopeId","data-v-fdd8d238"]]),GA={class:"bg-blue-900 text-white py-8 px-4"},WA={class:"container mx-auto"},KA={class:"flex justify-between items-center"},QA={class:"text-lg md:text-xl font-medium truncate max-w-[70%]"},YA={class:"flex items-center space-x-4"},XA=["href"],JA=["href"],ZA=["href"],ex=["href"],tx={key:0,class:"border-b border-blue-800 mt-5"},nx={class:"border-t border-blue-700 mt-8 pt-6 text-center"},sx={__name:"FooterSection",setup(t){const e=le({}),n=s=>s?s.includes("instagram.com")?s.startsWith("http")?s:`https://${s}`:`https://instagram.com/${s.startsWith("@")?s.substring(1):s}`:"#";return gt(async()=>{try{const s=await uv();s&&(e.value=s)}catch(s){console.error("Erro ao carregar os dados do footer:",s)}}),(s,r)=>(B(),H("footer",GA,[w("div",WA,[w("div",null,[r[4]||(r[4]=w("h3",{class:"text-xl font-bold mb-6"},"Contatos Importantes",-1)),(B(!0),H(Se,null,qe(e.value.contatos_importantes,(i,o)=>(B(),H("div",{key:i.id,class:"mb-5"},[w("div",KA,[w("p",QA,ye(i.nome),1),w("div",YA,[i.contato&&i.contato.match(/^\+?\d/)?(B(),H("a",{key:0,href:`tel:${i.contato.replace(/\s+/g,"")}`,class:"text-white hover:text-blue-300 transition"},r[0]||(r[0]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor"},[w("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})],-1)]),8,XA)):Ie("",!0),i.whatsapp?(B(),H("a",{key:1,href:`https://wa.me/${i.whatsapp}`,target:"_blank",class:"text-white hover:text-blue-300 transition"},r[1]||(r[1]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 24 24",fill:"currentColor"},[w("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})],-1)]),8,JA)):Ie("",!0),i.instagram?(B(),H("a",{key:2,href:n(i.instagram),target:"_blank",class:"text-white hover:text-blue-300 transition"},r[2]||(r[2]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 24 24",fill:"currentColor"},[w("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})],-1)]),8,ZA)):Ie("",!0),i.rota?(B(),H("a",{key:3,href:i.rota,target:"_blank",class:"text-white hover:text-blue-300 transition"},r[3]||(r[3]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor"},[w("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)]),8,ex)):Ie("",!0)])]),o<e.value.contatos_importantes.length-1?(B(),H("div",tx)):Ie("",!0)]))),128))]),w("div",nx,[w("p",null,ye(e.value.copyright),1)])])]))}},rx=Tn(sx,[["__scopeId","data-v-ca0082fd"]]),ix={class:"activity-item"},ox={class:"font-medium"},ax={class:"text-gray-600"},lx={key:0,class:"mt-2 text-sm italic text-gray-700 bg-gray-50 p-2 rounded whitespace-pre-wrap"},ux={class:"mt-1 flex gap-2 flex-wrap"},cx=["href"],dx=["href"],fx=["href"],hx={__name:"ActivityItem",props:{atividade:{type:Object,required:!0}},setup(t){return(e,n)=>(B(),H("div",ix,[w("p",ox,ye(t.atividade.titulo),1),w("p",ax,ye(t.atividade.descricao),1),t.atividade.note?(B(),H("p",lx,ye(t.atividade.note),1)):Ie("",!0),w("div",ux,[t.atividade.location?(B(),H("a",{key:0,href:t.atividade.location,target:"_blank",class:"inline-flex items-center text-blue-600 hover:text-blue-800 text-sm"},n[0]||(n[0]=[w("i",{class:"fas fa-map-marker-alt mr-1"},null,-1)]),8,cx)):Ie("",!0),t.atividade.links&&t.atividade.links.site?(B(),H("a",{key:1,href:t.atividade.links.site,target:"_blank",class:"inline-flex items-center text-blue-600 hover:text-blue-800 text-sm"},n[1]||(n[1]=[w("i",{class:"fas fa-globe mr-1"},null,-1)]),8,dx)):Ie("",!0),t.atividade.links&&t.atividade.links.instagram?(B(),H("a",{key:2,href:t.atividade.links.instagram,target:"_blank",class:"inline-flex items-center text-blue-600 hover:text-blue-800 text-sm"},n[2]||(n[2]=[w("i",{class:"fab fa-instagram mr-1"},null,-1)]),8,fx)):Ie("",!0)])]))}},jr=Tn(hx,[["__scopeId","data-v-08edac37"]]),px=["id"],mx={class:"flex flex-wrap items-center mb-1"},gx={class:"text-2xl sm:text-3xl font-bold text-blue-800 mr-4 mb-1 sm:mb-0"},vx={class:"mb-5"},yx={class:"text-sm text-gray-700"},_x={class:"mb-8"},wx={key:0,class:"photo-container h-60 sm:h-80 mb-8"},bx=["src","alt"],Ex={class:"photo-container h-60 sm:h-72"},Tx=["src","alt"],Ix={class:"bg-white rounded-lg shadow-md p-6"},Sx={key:0,class:"mb-4"},Ax={key:1,class:"mb-4"},xx={key:2},Cx={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Px={key:0},Rx={key:1},kx={class:"font-semibold text-blue-600 mb-2"},Vx={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6"},Dx={key:0},Mx={key:1},Ox={key:0,class:"mt-6"},Nx={key:3,class:"mt-6 bg-blue-50 p-4 rounded-lg"},Lx={class:"text-gray-700 space-y-2"},$x={key:0,class:"text-xl font-bold text-blue-700 mb-4"},Fx={key:1,class:"font-bold text-blue-800 mb-2"},Bx={class:"text-gray-700 mb-4"},jx={key:1,class:"bg-white rounded-lg shadow-md p-6"},Ux={class:"text-xl font-bold text-blue-700 mb-4"},zx={class:"text-gray-700"},qx={__name:"DayCard",props:{day:{type:Object,required:!0}},setup(t){const e=t,n=le(0),s=[Iv,Sv],r=le([]),i=le(!0),o=st(()=>{const f=[];return Object.values(d.value).forEach(p=>{p.forEach(g=>{g.images&&g.images.length&&f.push(...g.images)})}),[...new Set(f)]}),a=f=>{if(!f)return"";const p=new Date;p.setHours(0,0,0,0);const g=new Date(p);g.setDate(g.getDate()+1);let _,x,C,k;if(f.match(/^\d{4}-\d{2}-\d{2}$/))_=f.split("-"),k=parseInt(_[0],10),C=parseInt(_[1],10)-1,x=parseInt(_[2],10);else if(f.includes("/"))_=f.split("/"),x=parseInt(_[0],10),C=parseInt(_[1],10)-1,k=_[2].length===2?2e3+parseInt(_[2],10):parseInt(_[2],10);else if(f.includes("-"))_=f.split("-"),x=parseInt(_[0],10),C=parseInt(_[1],10)-1,k=_[2].length===2?2e3+parseInt(_[2],10):parseInt(_[2],10);else return f;if(isNaN(x)||isNaN(C)||isNaN(k))return f;const y=new Date(k,C,x),v=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],I=["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"];let M=`${x} de ${v[C]}`;if(y.getTime()===p.getTime()?M+=" (hoje)":y.getTime()===g.getTime()&&(M+=" (amanhã)"),M+=` - ${I[y.getDay()]}`,e.day.id&&e.day.id.includes("day-")){const $=e.day.id.replace("day-","");isNaN(parseInt($,10))||(M+=` - ${$}º dia`)}return M},u=f=>{n.value=f.activeIndex},c=async()=>{try{i.value=!0,r.value=await yc()}catch(f){console.error("Erro ao carregar atividades:",f),r.value=[]}finally{i.value=!1}};gt(async()=>{await c()});const d=st(()=>{if(!e.day.schedule||r.value.length===0)return{morning:[],lunch:[],midDay:[],afternoon:[],evening:[],night:[]};const f=g=>!g||g.length===0||!g.map?[]:g.map(_=>{let x,C="";if(typeof _=="string")x=_;else if(typeof _=="object"&&_!==null)x=_.activityId,C=_.note||"";else return{id:"",titulo:"",descricao:"",title:"",description:"",note:""};const k=r.value.find(y=>y.id===x);return k?{...k,titulo:k.title,descricao:k.description,note:C}:{id:x,titulo:x,descricao:"",title:x,description:"",note:C}});return{morning:f(e.day.schedule.morning),lunch:f(e.day.schedule.lunch),midDay:f(e.day.schedule.midDay),afternoon:f(e.day.schedule.afternoon),evening:f(e.day.schedule.evening),night:f(e.day.schedule.night)}});return(f,p)=>(B(),H("section",{id:t.day.id,class:"mb-20"},[w("div",mx,[w("h2",gx,ye(t.day.title),1)]),w("div",vx,[w("h3",yx,ye(a(t.day.date)),1)]),w("div",_x,[o.value.length===1?(B(),H("div",wx,[w("img",{src:o.value[0],alt:t.day.title,class:"w-full h-full object-cover rounded-lg shadow-md"},null,8,bx)])):Ie("",!0),o.value.length>1?(B(),Ye(Zt(Ec),{key:1,modules:s,"slides-per-view":3,"space-between":20,loop:!0,pagination:{clickable:!0},navigation:!1,nested:!0,activeIndex:n.value,"onUpdate:activeIndex":p[0]||(p[0]=g=>n.value=g),onSlideChange:u,class:"photo-swiper mb-8",breakpoints:{320:{slidesPerView:1,spaceBetween:10},768:{slidesPerView:2,spaceBetween:15},1024:{slidesPerView:3,spaceBetween:20}}},{default:Le(()=>[(B(!0),H(Se,null,qe(o.value,(g,_)=>(B(),Ye(Zt(Tc),{key:_},{default:Le(()=>[w("div",Ex,[w("img",{src:g,alt:`${t.day.title} ${_+1}`,class:"w-full h-full object-cover rounded-lg shadow-md"},null,8,Tx)])]),_:2},1024))),128))]),_:1},8,["activeIndex"])):Ie("",!0),w("div",Ix,[p[7]||(p[7]=w("h3",{class:"text-xl font-bold text-blue-700 mb-4"}," Atividades Planejadas ",-1)),i.value?(B(),H("div",Sx,p[1]||(p[1]=[w("p",{class:"text-gray-600 italic"},"Carregando atividades...",-1)]))):d.value.morning.length+d.value.lunch.length+d.value.midDay.length+d.value.afternoon.length+d.value.evening.length+d.value.night.length>0?(B(),H("div",Ax)):Ie("",!0),i.value?Ie("",!0):(B(),H("div",xx,[w("div",Cx,[d.value.morning.length>0?(B(),H("div",Px,[p[2]||(p[2]=w("h4",{class:"font-semibold text-blue-600 mb-2"},"Manhã",-1)),(B(!0),H(Se,null,qe(d.value.morning,(g,_)=>(B(),Ye(jr,{key:"manha-"+_,atividade:g},null,8,["atividade"]))),128))])):Ie("",!0),d.value.lunch.length>0||d.value.midDay.length>0?(B(),H("div",Rx,[w("h4",kx,ye(d.value.lunch.length>0?"Almoço":"Meio-dia"),1),(B(!0),H(Se,null,qe(d.value.lunch.length>0?d.value.lunch:d.value.midDay,(g,_)=>(B(),Ye(jr,{key:"almoco-"+_,atividade:g},null,8,["atividade"]))),128))])):Ie("",!0)]),w("div",Vx,[d.value.afternoon.length>0?(B(),H("div",Dx,[p[3]||(p[3]=w("h4",{class:"font-semibold text-blue-600 mb-2"},"Tarde",-1)),(B(!0),H(Se,null,qe(d.value.afternoon,(g,_)=>(B(),Ye(jr,{key:"tarde-"+_,atividade:g},null,8,["atividade"]))),128))])):Ie("",!0),d.value.evening.length>0?(B(),H("div",Mx,[p[4]||(p[4]=w("h4",{class:"font-semibold text-blue-600 mb-2"},"Fim de tarde",-1)),(B(!0),H(Se,null,qe(d.value.evening,(g,_)=>(B(),Ye(jr,{key:"fimtarde-"+_,atividade:g},null,8,["atividade"]))),128))])):Ie("",!0)]),d.value.night.length>0?(B(),H("div",Ox,[p[5]||(p[5]=w("h4",{class:"font-semibold text-blue-600 mb-2"},"Noite",-1)),(B(!0),H(Se,null,qe(d.value.night,(g,_)=>(B(),Ye(jr,{key:"noite-"+_,atividade:g},null,8,["atividade"]))),128))])):Ie("",!0)])),t.day.tips&&t.day.tips.length>0?(B(),H("div",Nx,[p[6]||(p[6]=w("h4",{class:"font-bold text-blue-800 mb-2"},[w("i",{class:"fas fa-lightbulb text-yellow-500 mr-2"}),Ze(" Dicas para o dia:")],-1)),w("ul",Lx,[(B(!0),H(Se,null,qe(t.day.tips,(g,_)=>(B(),H("li",{key:_},"• "+ye(g),1))),128))])])):Ie("",!0)])]),t.day.additionalDetails&&t.day.additionalDetails.length>0?(B(),H("div",{key:0,class:Qt([{"bg-white":!t.day.about,"bg-blue-50":t.day.about},"rounded-lg shadow-md p-6 mb-8"])},[(B(!0),H(Se,null,qe(t.day.additionalDetails,(g,_)=>(B(),H("div",{key:_},[_===0?(B(),H("h3",$x,ye(g.title),1)):(B(),H("h4",Fx,ye(g.title),1)),w("p",Bx,ye(g.content),1)]))),128))],2)):Ie("",!0),t.day.about&&!t.day.additionalDetails?(B(),H("div",jx,[w("h3",Ux,"Sobre "+ye(t.day.title.split(" - ")[1]||t.day.title),1),w("p",zx,ye(t.day.about),1)])):Ie("",!0)],8,px))}},Hx=Tn(qx,[["__scopeId","data-v-7ab2325b"]]),Gx={id:"tips",class:"mb-20"},Wx={class:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8"},Kx={class:"text-xl font-bold text-blue-700 mb-4"},Qx={class:"flex-shrink-0 h-6 w-6 text-blue-600 mr-2"},Yx={class:"font-medium"},Xx={class:"text-gray-600"},Jx={key:0,class:"bg-blue-50 rounded-lg shadow-md p-6"},Zx={class:"text-gray-700 mb-4"},eC={__name:"Recommendations",props:{recommendations:{type:Object,required:!0}},setup(t){return(e,n)=>(B(),H("section",Gx,[n[1]||(n[1]=w("h2",{class:"text-3xl font-bold text-blue-800 mb-6 pb-2 border-b-2 border-blue-300"},"Dicas e Recomendações",-1)),w("div",Wx,[(B(!0),H(Se,null,qe(t.recommendations.categories,(s,r)=>(B(),H("div",{key:r,class:"bg-white rounded-lg shadow-md p-6"},[w("h3",Kx,ye(s.title),1),(B(!0),H(Se,null,qe(s.items,(i,o)=>(B(),H("div",{key:o,class:"flex items-start mb-4"},[w("div",Qx,[w("i",{class:Qt(i.icon)},null,2)]),w("div",null,[w("p",Yx,ye(i.title),1),w("p",Xx,ye(i.description),1)])]))),128))]))),128))]),t.recommendations.observations?(B(),H("div",Jx,[n[0]||(n[0]=w("h3",{class:"text-xl font-bold text-blue-700 mb-4"},"Observações Finais",-1)),w("p",Zx,ye(t.recommendations.observations),1)])):Ie("",!0)]))}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Qs=typeof document<"u";function xv(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function tC(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&xv(t.default)}const De=Object.assign;function Il(t,e){const n={};for(const s in e){const r=e[s];n[s]=an(r)?r.map(t):t(r)}return n}const ri=()=>{},an=Array.isArray,Cv=/#/g,nC=/&/g,sC=/\//g,rC=/=/g,iC=/\?/g,Pv=/\+/g,oC=/%5B/g,aC=/%5D/g,Rv=/%5E/g,lC=/%60/g,kv=/%7B/g,uC=/%7C/g,Vv=/%7D/g,cC=/%20/g;function Ic(t){return encodeURI(""+t).replace(uC,"|").replace(oC,"[").replace(aC,"]")}function dC(t){return Ic(t).replace(kv,"{").replace(Vv,"}").replace(Rv,"^")}function cu(t){return Ic(t).replace(Pv,"%2B").replace(cC,"+").replace(Cv,"%23").replace(nC,"%26").replace(lC,"`").replace(kv,"{").replace(Vv,"}").replace(Rv,"^")}function fC(t){return cu(t).replace(rC,"%3D")}function hC(t){return Ic(t).replace(Cv,"%23").replace(iC,"%3F")}function pC(t){return t==null?"":hC(t).replace(sC,"%2F")}function wi(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const mC=/\/$/,gC=t=>t.replace(mC,"");function Sl(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let u=e.indexOf("?");return a<u&&a>=0&&(u=-1),u>-1&&(s=e.slice(0,u),i=e.slice(u+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=wC(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:wi(o)}}function vC(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function vh(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function yC(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&mr(e.matched[s],n.matched[r])&&Dv(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function mr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Dv(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!_C(t[n],e[n]))return!1;return!0}function _C(t,e){return an(t)?yh(t,e):an(e)?yh(e,t):t===e}function yh(t,e){return an(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function wC(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const qn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var bi;(function(t){t.pop="pop",t.push="push"})(bi||(bi={}));var ii;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ii||(ii={}));function bC(t){if(!t)if(Qs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),gC(t)}const EC=/^[^#]+#/;function TC(t,e){return t.replace(EC,"#")+e}function IC(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Ra=()=>({left:window.scrollX,top:window.scrollY});function SC(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=IC(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function _h(t,e){return(history.state?history.state.position-e:-1)+t}const du=new Map;function AC(t,e){du.set(t,e)}function xC(t){const e=du.get(t);return du.delete(t),e}let CC=()=>location.protocol+"//"+location.host;function Mv(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,u=r.slice(a);return u[0]!=="/"&&(u="/"+u),vh(u,"")}return vh(n,t)+s+r}function PC(t,e,n,s){let r=[],i=[],o=null;const a=({state:p})=>{const g=Mv(t,location),_=n.value,x=e.value;let C=0;if(p){if(n.value=g,e.value=p,o&&o===_){o=null;return}C=x?p.position-x.position:0}else s(g);r.forEach(k=>{k(n.value,_,{delta:C,type:bi.pop,direction:C?C>0?ii.forward:ii.back:ii.unknown})})};function u(){o=n.value}function c(p){r.push(p);const g=()=>{const _=r.indexOf(p);_>-1&&r.splice(_,1)};return i.push(g),g}function d(){const{history:p}=window;p.state&&p.replaceState(De({},p.state,{scroll:Ra()}),"")}function f(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:u,listen:c,destroy:f}}function wh(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?Ra():null}}function RC(t){const{history:e,location:n}=window,s={value:Mv(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,c,d){const f=t.indexOf("#"),p=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+u:CC()+t+u;try{e[d?"replaceState":"pushState"](c,"",p),r.value=c}catch(g){console.error(g),n[d?"replace":"assign"](p)}}function o(u,c){const d=De({},e.state,wh(r.value.back,u,r.value.forward,!0),c,{position:r.value.position});i(u,d,!0),s.value=u}function a(u,c){const d=De({},r.value,e.state,{forward:u,scroll:Ra()});i(d.current,d,!0);const f=De({},wh(s.value,u,null),{position:d.position+1},c);i(u,f,!1),s.value=u}return{location:s,state:r,push:a,replace:o}}function kC(t){t=bC(t);const e=RC(t),n=PC(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=De({location:"",base:t,go:s,createHref:TC.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function VC(t){return typeof t=="string"||t&&typeof t=="object"}function Ov(t){return typeof t=="string"||typeof t=="symbol"}const Nv=Symbol("");var bh;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(bh||(bh={}));function gr(t,e){return De(new Error,{type:t,[Nv]:!0},e)}function xn(t,e){return t instanceof Error&&Nv in t&&(e==null||!!(t.type&e))}const Eh="[^/]+?",DC={sensitive:!1,strict:!1,start:!0,end:!0},MC=/[.+*?^${}()[\]/\\]/g;function OC(t,e){const n=De({},DC,e),s=[];let r=n.start?"^":"";const i=[];for(const c of t){const d=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const p=c[f];let g=40+(n.sensitive?.25:0);if(p.type===0)f||(r+="/"),r+=p.value.replace(MC,"\\$&"),g+=40;else if(p.type===1){const{value:_,repeatable:x,optional:C,regexp:k}=p;i.push({name:_,repeatable:x,optional:C});const y=k||Eh;if(y!==Eh){g+=10;try{new RegExp(`(${y})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${_}" (${y}): `+I.message)}}let v=x?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;f||(v=C&&c.length<2?`(?:/${v})`:"/"+v),C&&(v+="?"),r+=v,g+=20,C&&(g+=-8),x&&(g+=-20),y===".*"&&(g+=-50)}d.push(g)}s.push(d)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const d=c.match(o),f={};if(!d)return null;for(let p=1;p<d.length;p++){const g=d[p]||"",_=i[p-1];f[_.name]=g&&_.repeatable?g.split("/"):g}return f}function u(c){let d="",f=!1;for(const p of t){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const g of p)if(g.type===0)d+=g.value;else if(g.type===1){const{value:_,repeatable:x,optional:C}=g,k=_ in c?c[_]:"";if(an(k)&&!x)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const y=an(k)?k.join("/"):k;if(!y)if(C)p.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${_}"`);d+=y}}return d||"/"}return{re:o,score:s,keys:i,parse:a,stringify:u}}function NC(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Lv(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=NC(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Th(s))return 1;if(Th(r))return-1}return r.length-s.length}function Th(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const LC={type:0,value:""},$C=/[a-zA-Z0-9_]/;function FC(t){if(!t)return[[]];if(t==="/")return[[LC]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${c}": ${g}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,u,c="",d="";function f(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),c="")}function p(){c+=u}for(;a<t.length;){if(u=t[a++],u==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:u==="/"?(c&&f(),o()):u===":"?(f(),n=1):p();break;case 4:p(),n=s;break;case 1:u==="("?n=2:$C.test(u)?p():(f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:n=3:d+=u;break;case 3:f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),o(),r}function BC(t,e,n){const s=OC(FC(t.path),n),r=De(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function jC(t,e){const n=[],s=new Map;e=xh({strict:!1,end:!0,sensitive:!1},e);function r(f){return s.get(f)}function i(f,p,g){const _=!g,x=Sh(f);x.aliasOf=g&&g.record;const C=xh(e,f),k=[x];if("alias"in f){const I=typeof f.alias=="string"?[f.alias]:f.alias;for(const M of I)k.push(Sh(De({},x,{components:g?g.record.components:x.components,path:M,aliasOf:g?g.record:x})))}let y,v;for(const I of k){const{path:M}=I;if(p&&M[0]!=="/"){const $=p.record.path,A=$[$.length-1]==="/"?"":"/";I.path=p.record.path+(M&&A+M)}if(y=BC(I,p,C),g?g.alias.push(y):(v=v||y,v!==y&&v.alias.push(y),_&&f.name&&!Ah(y)&&o(f.name)),$v(y)&&u(y),x.children){const $=x.children;for(let A=0;A<$.length;A++)i($[A],y,g&&g.children[A])}g=g||y}return v?()=>{o(v)}:ri}function o(f){if(Ov(f)){const p=s.get(f);p&&(s.delete(f),n.splice(n.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=n.indexOf(f);p>-1&&(n.splice(p,1),f.record.name&&s.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function u(f){const p=qC(f,n);n.splice(p,0,f),f.record.name&&!Ah(f)&&s.set(f.record.name,f)}function c(f,p){let g,_={},x,C;if("name"in f&&f.name){if(g=s.get(f.name),!g)throw gr(1,{location:f});C=g.record.name,_=De(Ih(p.params,g.keys.filter(v=>!v.optional).concat(g.parent?g.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),f.params&&Ih(f.params,g.keys.map(v=>v.name))),x=g.stringify(_)}else if(f.path!=null)x=f.path,g=n.find(v=>v.re.test(x)),g&&(_=g.parse(x),C=g.record.name);else{if(g=p.name?s.get(p.name):n.find(v=>v.re.test(p.path)),!g)throw gr(1,{location:f,currentLocation:p});C=g.record.name,_=De({},p.params,f.params),x=g.stringify(_)}const k=[];let y=g;for(;y;)k.unshift(y.record),y=y.parent;return{name:C,path:x,params:_,matched:k,meta:zC(k)}}t.forEach(f=>i(f));function d(){n.length=0,s.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:r}}function Ih(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Sh(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:UC(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function UC(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Ah(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function zC(t){return t.reduce((e,n)=>De(e,n.meta),{})}function xh(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function qC(t,e){let n=0,s=e.length;for(;n!==s;){const i=n+s>>1;Lv(t,e[i])<0?s=i:n=i+1}const r=HC(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function HC(t){let e=t;for(;e=e.parent;)if($v(e)&&Lv(t,e)===0)return e}function $v({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function GC(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Pv," "),o=i.indexOf("="),a=wi(o<0?i:i.slice(0,o)),u=o<0?null:wi(i.slice(o+1));if(a in e){let c=e[a];an(c)||(c=e[a]=[c]),c.push(u)}else e[a]=u}return e}function Ch(t){let e="";for(let n in t){const s=t[n];if(n=fC(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(an(s)?s.map(i=>i&&cu(i)):[s&&cu(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function WC(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=an(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const KC=Symbol(""),Ph=Symbol(""),ka=Symbol(""),Sc=Symbol(""),fu=Symbol("");function Ur(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Wn(t,e,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,u)=>{const c=p=>{p===!1?u(gr(4,{from:n,to:e})):p instanceof Error?u(p):VC(p)?u(gr(2,{from:e,to:p})):(o&&s.enterCallbacks[r]===o&&typeof p=="function"&&o.push(p),a())},d=i(()=>t.call(s&&s.instances[r],e,n,c));let f=Promise.resolve(d);t.length<3&&(f=f.then(c)),f.catch(p=>u(p))})}function Al(t,e,n,s,r=i=>i()){const i=[];for(const o of t)for(const a in o.components){let u=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(xv(u)){const d=(u.__vccOpts||u)[e];d&&i.push(Wn(d,n,s,o,a,r))}else{let c=u();i.push(()=>c.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=tC(d)?d.default:d;o.mods[a]=d,o.components[a]=f;const g=(f.__vccOpts||f)[e];return g&&Wn(g,n,s,o,a,r)()}))}}return i}function Rh(t){const e=sn(ka),n=sn(Sc),s=st(()=>{const u=Zt(t.to);return e.resolve(u)}),r=st(()=>{const{matched:u}=s.value,{length:c}=u,d=u[c-1],f=n.matched;if(!d||!f.length)return-1;const p=f.findIndex(mr.bind(null,d));if(p>-1)return p;const g=kh(u[c-2]);return c>1&&kh(d)===g&&f[f.length-1].path!==g?f.findIndex(mr.bind(null,u[c-2])):p}),i=st(()=>r.value>-1&&ZC(n.params,s.value.params)),o=st(()=>r.value>-1&&r.value===n.matched.length-1&&Dv(n.params,s.value.params));function a(u={}){if(JC(u)){const c=e[Zt(t.replace)?"replace":"push"](Zt(t.to)).catch(ri);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:st(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function QC(t){return t.length===1?t[0]:t}const YC=cp({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Rh,setup(t,{slots:e}){const n=Ti(Rh(t)),{options:s}=sn(ka),r=st(()=>({[Vh(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Vh(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&QC(e.default(n));return t.custom?i:Lt("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),XC=YC;function JC(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function ZC(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!an(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function kh(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Vh=(t,e,n)=>t??e??n,e2=cp({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=sn(fu),r=st(()=>t.route||s.value),i=sn(Ph,0),o=st(()=>{let c=Zt(i);const{matched:d}=r.value;let f;for(;(f=d[c])&&!f.components;)c++;return c}),a=st(()=>r.value.matched[o.value]);nr(Ph,st(()=>o.value+1)),nr(KC,a),nr(fu,r);const u=le();return sr(()=>[u.value,a.value,t.name],([c,d,f],[p,g,_])=>{d&&(d.instances[f]=c,g&&g!==d&&c&&c===p&&(d.leaveGuards.size||(d.leaveGuards=g.leaveGuards),d.updateGuards.size||(d.updateGuards=g.updateGuards))),c&&d&&(!g||!mr(d,g)||!p)&&(d.enterCallbacks[f]||[]).forEach(x=>x(c))},{flush:"post"}),()=>{const c=r.value,d=t.name,f=a.value,p=f&&f.components[d];if(!p)return Dh(n.default,{Component:p,route:c});const g=f.props[d],_=g?g===!0?c.params:typeof g=="function"?g(c):g:null,C=Lt(p,De({},_,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(f.instances[d]=null)},ref:u}));return Dh(n.default,{Component:C,route:c})||C}}});function Dh(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const t2=e2;function n2(t){const e=jC(t.routes,t),n=t.parseQuery||GC,s=t.stringifyQuery||Ch,r=t.history,i=Ur(),o=Ur(),a=Ur(),u=Uy(qn);let c=qn;Qs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Il.bind(null,j=>""+j),f=Il.bind(null,pC),p=Il.bind(null,wi);function g(j,te){let Z,re;return Ov(j)?(Z=e.getRecordMatcher(j),re=te):re=j,e.addRoute(re,Z)}function _(j){const te=e.getRecordMatcher(j);te&&e.removeRoute(te)}function x(){return e.getRoutes().map(j=>j.record)}function C(j){return!!e.getRecordMatcher(j)}function k(j,te){if(te=De({},te||u.value),typeof j=="string"){const N=Sl(n,j,te.path),U=e.resolve({path:N.path},te),G=r.createHref(N.fullPath);return De(N,U,{params:p(U.params),hash:wi(N.hash),redirectedFrom:void 0,href:G})}let Z;if(j.path!=null)Z=De({},j,{path:Sl(n,j.path,te.path).path});else{const N=De({},j.params);for(const U in N)N[U]==null&&delete N[U];Z=De({},j,{params:f(N)}),te.params=f(te.params)}const re=e.resolve(Z,te),ke=j.hash||"";re.params=d(p(re.params));const V=vC(s,De({},j,{hash:dC(ke),path:re.path})),D=r.createHref(V);return De({fullPath:V,hash:ke,query:s===Ch?WC(j.query):j.query||{}},re,{redirectedFrom:void 0,href:D})}function y(j){return typeof j=="string"?Sl(n,j,u.value.path):De({},j)}function v(j,te){if(c!==j)return gr(8,{from:te,to:j})}function I(j){return A(j)}function M(j){return I(De(y(j),{replace:!0}))}function $(j){const te=j.matched[j.matched.length-1];if(te&&te.redirect){const{redirect:Z}=te;let re=typeof Z=="function"?Z(j):Z;return typeof re=="string"&&(re=re.includes("?")||re.includes("#")?re=y(re):{path:re},re.params={}),De({query:j.query,hash:j.hash,params:re.path!=null?{}:j.params},re)}}function A(j,te){const Z=c=k(j),re=u.value,ke=j.state,V=j.force,D=j.replace===!0,N=$(Z);if(N)return A(De(y(N),{state:typeof N=="object"?De({},ke,N.state):ke,force:V,replace:D}),te||Z);const U=Z;U.redirectedFrom=te;let G;return!V&&yC(s,re,Z)&&(G=gr(16,{to:U,from:re}),Mt(re,re,!0,!1)),(G?Promise.resolve(G):S(U,re)).catch(z=>xn(z)?xn(z,2)?z:Dt(z):de(z,U,re)).then(z=>{if(z){if(xn(z,2))return A(De({replace:D},y(z.to),{state:typeof z.to=="object"?De({},ke,z.to.state):ke,force:V}),te||U)}else z=O(U,re,!0,D,ke);return R(U,re,z),z})}function b(j,te){const Z=v(j,te);return Z?Promise.reject(Z):Promise.resolve()}function E(j){const te=Fn.values().next().value;return te&&typeof te.runWithContext=="function"?te.runWithContext(j):j()}function S(j,te){let Z;const[re,ke,V]=s2(j,te);Z=Al(re.reverse(),"beforeRouteLeave",j,te);for(const N of re)N.leaveGuards.forEach(U=>{Z.push(Wn(U,j,te))});const D=b.bind(null,j,te);return Z.push(D),Ot(Z).then(()=>{Z=[];for(const N of i.list())Z.push(Wn(N,j,te));return Z.push(D),Ot(Z)}).then(()=>{Z=Al(ke,"beforeRouteUpdate",j,te);for(const N of ke)N.updateGuards.forEach(U=>{Z.push(Wn(U,j,te))});return Z.push(D),Ot(Z)}).then(()=>{Z=[];for(const N of V)if(N.beforeEnter)if(an(N.beforeEnter))for(const U of N.beforeEnter)Z.push(Wn(U,j,te));else Z.push(Wn(N.beforeEnter,j,te));return Z.push(D),Ot(Z)}).then(()=>(j.matched.forEach(N=>N.enterCallbacks={}),Z=Al(V,"beforeRouteEnter",j,te,E),Z.push(D),Ot(Z))).then(()=>{Z=[];for(const N of o.list())Z.push(Wn(N,j,te));return Z.push(D),Ot(Z)}).catch(N=>xn(N,8)?N:Promise.reject(N))}function R(j,te,Z){a.list().forEach(re=>E(()=>re(j,te,Z)))}function O(j,te,Z,re,ke){const V=v(j,te);if(V)return V;const D=te===qn,N=Qs?history.state:{};Z&&(re||D?r.replace(j.fullPath,De({scroll:D&&N&&N.scroll},ke)):r.push(j.fullPath,ke)),u.value=j,Mt(j,te,Z,D),Dt()}let P;function Ee(){P||(P=r.listen((j,te,Z)=>{if(!ln.listening)return;const re=k(j),ke=$(re);if(ke){A(De(ke,{replace:!0,force:!0}),re).catch(ri);return}c=re;const V=u.value;Qs&&AC(_h(V.fullPath,Z.delta),Ra()),S(re,V).catch(D=>xn(D,12)?D:xn(D,2)?(A(De(y(D.to),{force:!0}),re).then(N=>{xn(N,20)&&!Z.delta&&Z.type===bi.pop&&r.go(-1,!1)}).catch(ri),Promise.reject()):(Z.delta&&r.go(-Z.delta,!1),de(D,re,V))).then(D=>{D=D||O(re,V,!1),D&&(Z.delta&&!xn(D,8)?r.go(-Z.delta,!1):Z.type===bi.pop&&xn(D,20)&&r.go(-1,!1)),R(re,V,D)}).catch(ri)}))}let Ae=Ur(),se=Ur(),ce;function de(j,te,Z){Dt(j);const re=se.list();return re.length?re.forEach(ke=>ke(j,te,Z)):console.error(j),Promise.reject(j)}function Ge(){return ce&&u.value!==qn?Promise.resolve():new Promise((j,te)=>{Ae.add([j,te])})}function Dt(j){return ce||(ce=!j,Ee(),Ae.list().forEach(([te,Z])=>j?Z(j):te()),Ae.reset()),j}function Mt(j,te,Z,re){const{scrollBehavior:ke}=t;if(!Qs||!ke)return Promise.resolve();const V=!Z&&xC(_h(j.fullPath,0))||(re||!Z)&&history.state&&history.state.scroll||null;return ra().then(()=>ke(j,te,V)).then(D=>D&&SC(D)).catch(D=>de(D,j,te))}const Ue=j=>r.go(j);let We;const Fn=new Set,ln={currentRoute:u,listening:!0,addRoute:g,removeRoute:_,clearRoutes:e.clearRoutes,hasRoute:C,getRoutes:x,resolve:k,options:t,push:I,replace:M,go:Ue,back:()=>Ue(-1),forward:()=>Ue(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:se.add,isReady:Ge,install(j){const te=this;j.component("RouterLink",XC),j.component("RouterView",t2),j.config.globalProperties.$router=te,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>Zt(u)}),Qs&&!We&&u.value===qn&&(We=!0,I(r.location).catch(ke=>{}));const Z={};for(const ke in qn)Object.defineProperty(Z,ke,{get:()=>u.value[ke],enumerable:!0});j.provide(ka,te),j.provide(Sc,tp(Z)),j.provide(fu,u);const re=j.unmount;Fn.add(j),j.unmount=function(){Fn.delete(j),Fn.size<1&&(c=qn,P&&P(),P=null,u.value=qn,We=!1,ce=!1),re()}}};function Ot(j){return j.reduce((te,Z)=>te.then(()=>E(Z)),Promise.resolve())}return ln}function s2(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>mr(c,a))?s.push(a):n.push(a));const u=t.matched[o];u&&(e.matched.find(c=>mr(c,u))||r.push(u))}return[n,s,r]}function Tr(){return sn(ka)}function Va(t){return sn(Sc)}const r2={key:1},i2={key:0,class:"container container-swiper mx-auto px-4 sm:px-6 lg:px-8"},o2={key:1,class:"container"},a2={__name:"App",setup(t){const e=Va(),n=st(()=>{const g=e.path.startsWith("/admin");return console.log("Current route:",e.path,"isAdmin:",g),g}),s=le([]),r=le(null);gt(async()=>{if(!n.value)try{const g=await vc();g&&(s.value=g.filter(x=>x.id.startsWith("day")));const _=await _c();_&&(r.value=_)}catch(g){console.error("Erro ao carregar dados:",g)}});const i=[Iv,Sv,Av],o=le(null),a=le(null),u=le(0),c=g=>{o.value=g,u.value=g.activeIndex},d=g=>{a.value=g},f=g=>{var _;(_=o.value)==null||_.slideTo(g)},p=g=>{u.value=g.activeIndex,a.value&&a.value.slideTo(g.activeIndex)};return(g,_)=>{const x=vr("router-view");return n.value?(B(),Ye(x,{key:0})):(B(),H("div",r2,[ae(fS),Je(ae(mS,null,null,512),[[r0,!1]]),s.value.length>0?(B(),H("main",i2,[ae(HA,{days:s.value,onGoToDay:f,onSwiper:d,"controlled-swiper":o.value,"active-index":u.value},null,8,["days","controlled-swiper","active-index"]),ae(Zt(Ec),{modules:i,"slides-per-view":1,"space-between":50,navigation:!1,pagination:{el:".main-swiper-pagination",clickable:!0},"auto-height":!0,onSwiper:c,onSlideChange:p,class:"main-day-swiper"},{default:Le(()=>[(B(!0),H(Se,null,qe(s.value,(C,k)=>(B(),Ye(Zt(Tc),{key:C.id},{default:Le(()=>[ae(Hx,{day:C},null,8,["day"])]),_:2},1024))),128))]),_:1}),_[0]||(_[0]=w("div",{class:"main-swiper-pagination"},null,-1))])):Ie("",!0),r.value?(B(),H("div",o2,[ae(eC,{recommendations:r.value},null,8,["recommendations"])])):Ie("",!0),ae(rx)]))}}},l2={class:"flex items-center"},u2={key:0,class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},c2={key:1,class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},d2={key:2,class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},f2={key:3,class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},h2={__name:"AlertNotification",props:{show:{type:Boolean,default:!1},message:{type:String,default:""},type:{type:String,default:"success",validator:t=>["success","error","warning","info"].includes(t)},autoClose:{type:Boolean,default:!0},duration:{type:Number,default:5e3}},emits:["update:show","close"],setup(t,{emit:e}){const n=t,s=e;let r=null;sr(()=>n.show,a=>{a&&n.autoClose?i():!a&&r&&(clearTimeout(r),r=null)});const i=()=>{r&&clearTimeout(r),r=setTimeout(()=>{o()},n.duration)},o=()=>{r&&(clearTimeout(r),r=null),s("update:show",!1),s("close")};return gt(()=>{n.show&&n.autoClose&&i()}),oa(()=>{r&&clearTimeout(r)}),(a,u)=>t.show?(B(),H("div",{key:0,class:Qt(["fixed top-4 left-0 right-0 mx-auto max-w-md z-50 p-4 rounded-md flex items-center justify-between transition-all duration-300 shadow-lg",t.type==="success"?"bg-green-100 text-green-800 border border-green-200":t.type==="error"?"bg-red-100 text-red-800 border border-red-200":t.type==="warning"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-blue-100 text-blue-800 border border-blue-200"])},[w("div",l2,[t.type==="success"?(B(),H("svg",u2,u[0]||(u[0]=[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))):t.type==="error"?(B(),H("svg",c2,u[1]||(u[1]=[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):t.type==="warning"?(B(),H("svg",d2,u[2]||(u[2]=[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)]))):(B(),H("svg",f2,u[3]||(u[3]=[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))),w("span",null,ye(t.message),1)]),w("button",{onClick:o,class:"text-gray-500 hover:text-gray-700"},u[4]||(u[4]=[w("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))],2)):Ie("",!0)}},p2=Tn(h2,[["__scopeId","data-v-184102e3"]]),m2={class:"bg-white rounded-lg shadow-md p-6"},g2={class:"flex items-center mb-6"},v2={class:"text-xl font-semibold"},y2={__name:"AdminFormLayout",props:{title:{type:String,required:!0},alert:{type:Object,required:!0}},emits:["update:alert","close-alert"],setup(t,{emit:e}){const n=e,s=Tr(),r=()=>{n("close-alert")},i=()=>{s.back()};return(o,a)=>(B(),H("div",m2,[ae(p2,{show:t.alert.show,"onUpdate:show":a[0]||(a[0]=u=>t.alert.show=u),message:t.alert.message,type:t.alert.type,onClose:r},null,8,["show","message","type"]),w("div",g2,[w("button",{class:"mr-3 flex items-center text-gray-700",onClick:i},a[1]||(a[1]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])),w("h2",v2,ye(t.title),1)]),u_(o.$slots,"default",{},void 0)]))}},ps=Tn(y2,[["__scopeId","data-v-b67f0bb0"]]),_2={class:"mb-4"},w2=["for"],b2=["type","id","value"],Ht={__name:"FormField",props:{id:{type:String,required:!0},label:{type:String,required:!0},modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"}},emits:["update:modelValue"],setup(t){return(e,n)=>(B(),H("div",_2,[w("label",{for:t.id,class:"block text-sm font-medium text-gray-700 mb-1"},ye(t.label),9,w2),w("input",{type:t.type,id:t.id,value:t.modelValue,onInput:n[0]||(n[0]=s=>e.$emit("update:modelValue",s.target.value)),class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,40,b2)]))}},E2={class:"flex justify-end space-x-3"},T2={type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},Da={__name:"FormActions",props:{submitLabel:{type:String,default:"Salvar"},cancelLabel:{type:String,default:"Cancelar"}},emits:["cancel"],setup(t){return(e,n)=>(B(),H("div",E2,[w("button",{type:"button",class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",onClick:n[0]||(n[0]=s=>e.$emit("cancel"))},ye(t.cancelLabel),1),w("button",T2,ye(t.submitLabel),1)]))}},I2={class:"mb-2"},S2={__name:"SiteHeaderForm",setup(t){const e=Tr(),n=le({title:"",subtitle:"",backgroundImage:"",period:{start:"",end:""}}),s=le({show:!1,message:"",type:"success"}),r=(d,f="success")=>{s.value={show:!0,message:d,type:f}},i=()=>{s.value.show=!1};function o(d){if(!d)return"";const f=d.split("/");return f.length!==3?"":`${f[2]}-${f[1]}-${f[0]}`}function a(d){if(!d)return"";const f=d.split("-");return f.length!==3?"":`${f[2]}/${f[1]}/${f[0]}`}gt(async()=>{var f,p;const d=await lv();d&&(n.value={title:d.title||"",subtitle:d.subtitle||"",backgroundImage:d.backgroundImage||"",period:{start:o((f=d.period)==null?void 0:f.start)||"",end:o((p=d.period)==null?void 0:p.end)||""}})});const u=async()=>{const d={...n.value,period:{start:a(n.value.period.start),end:a(n.value.period.end)}};(await XI(d)).success?r("Cabeçalho salvo com sucesso!","success"):r("Erro ao salvar cabeçalho!","error")},c=()=>{e.back()};return(d,f)=>(B(),Ye(ps,{title:"Configuração de Cabeçalho",alert:s.value,onCloseAlert:i},{default:Le(()=>[w("form",{onSubmit:Ai(u,["prevent"])},[ae(Ht,{id:"title",label:"Título",modelValue:n.value.title,"onUpdate:modelValue":f[0]||(f[0]=p=>n.value.title=p)},null,8,["modelValue"]),ae(Ht,{id:"subtitle",label:"Subtítulo",modelValue:n.value.subtitle,"onUpdate:modelValue":f[1]||(f[1]=p=>n.value.subtitle=p)},null,8,["modelValue"]),ae(Ht,{id:"backgroundImage",label:"Imagem de Fundo (URL)",modelValue:n.value.backgroundImage,"onUpdate:modelValue":f[2]||(f[2]=p=>n.value.backgroundImage=p)},null,8,["modelValue"]),ae(Ht,{id:"periodStart",label:"Data de Início",type:"date",modelValue:n.value.period.start,"onUpdate:modelValue":f[3]||(f[3]=p=>n.value.period.start=p)},null,8,["modelValue"]),w("div",I2,[ae(Ht,{id:"periodEnd",label:"Data de Término",type:"date",modelValue:n.value.period.end,"onUpdate:modelValue":f[4]||(f[4]=p=>n.value.period.end=p)},null,8,["modelValue"])]),ae(Da,{onCancel:c})],32)]),_:1},8,["alert"]))}},A2=Tn(S2,[["__scopeId","data-v-267f41f8"]]),x2={class:"mb-4"},C2={class:"flex justify-between mb-2"},P2={class:"flex items-center"},R2=["onClick"],k2={class:"font-medium"},V2={class:"flex"},D2=["onClick","disabled"],M2=["onClick","disabled"],O2={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},N2=["for"],L2=["id","onUpdate:modelValue"],$2=["for"],F2=["id","onUpdate:modelValue"],B2=["for"],j2=["id","onUpdate:modelValue"],U2=["for"],z2=["id","onUpdate:modelValue"],q2=["for"],H2=["id","onUpdate:modelValue"],G2=["for"],W2=["id","onUpdate:modelValue"],K2={key:0,class:"mt-3 border-t border-gray-100 pt-3"},Q2={class:"flex justify-between items-center mb-2"},Y2=["onClick"],X2=["onClick"],J2={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Z2=["for"],eP=["id","value","onInput"],tP=["for"],nP=["id","value","onInput"],sP={__name:"SiteFooterForm",setup(t){const e=Tr(),n=le({titulo:"",descricao:"",data:"",contatos_importantes:[],copyright:""}),s=Ti({}),r=le({show:!1,message:"",type:"success"}),i=(C,k="success")=>{r.value={show:!0,message:C,type:k}},o=()=>{r.value.show=!1},a=()=>{const C={id:`contato-${n.value.contatos_importantes.length+1}`,nome:"",contato:"",instagram:"",whatsapp:"",rota:""};n.value.contatos_importantes.push(C)},u=C=>{n.value.contatos_importantes.splice(C,1)},c=(C,k)=>{const y=n.value.contatos_importantes;k==="up"&&C>0?[y[C],y[C-1]]=[y[C-1],y[C]]:k==="down"&&C<y.length-1&&([y[C],y[C+1]]=[y[C+1],y[C]])},d=(C,k)=>{C.link||(C.link={titulo:"",url:""}),C.link.titulo=k.target.value},f=(C,k)=>{C.link||(C.link={titulo:"",url:""}),C.link.url=k.target.value},p=C=>{const k=n.value.contatos_importantes[C];k.link||(k.link={titulo:"",url:""}),s[C]=!0},g=C=>{const k=n.value.contatos_importantes[C];delete k.link,s[C]=!1};gt(async()=>{try{const C=await uv();C&&(n.value={titulo:C.titulo||"",descricao:C.descricao||"",data:C.data||"",contatos_importantes:Array.isArray(C.contatos_importantes)?C.contatos_importantes:[],copyright:C.copyright||""},n.value.contatos_importantes.forEach((k,y)=>{k.id||(k.id=`contato-${y+1}`),s[y]=!!k.link,k.link&&typeof k.link!="object"&&(k.link={titulo:"",url:""})}))}catch(C){console.error("Erro ao carregar dados do rodapé:",C),i("Erro ao carregar dados do rodapé!","error")}});const _=async()=>{try{(await JI(n.value)).success?i("Rodapé salvo com sucesso!","success"):i("Erro ao salvar rodapé!","error")}catch(C){console.error("Erro ao salvar rodapé:",C),i("Erro ao salvar rodapé!","error")}},x=()=>{e.back()};return(C,k)=>(B(),Ye(ps,{title:"Configuração de Rodapé",alert:r.value,onCloseAlert:o},{default:Le(()=>[w("form",{onSubmit:Ai(_,["prevent"])},[ae(Ht,{id:"titulo",label:"Título",modelValue:n.value.titulo,"onUpdate:modelValue":k[0]||(k[0]=y=>n.value.titulo=y)},null,8,["modelValue"]),ae(Ht,{id:"descricao",label:"Descrição",modelValue:n.value.descricao,"onUpdate:modelValue":k[1]||(k[1]=y=>n.value.descricao=y)},null,8,["modelValue"]),ae(Ht,{id:"data",label:"Data",modelValue:n.value.data,"onUpdate:modelValue":k[2]||(k[2]=y=>n.value.data=y)},null,8,["modelValue"]),w("div",x2,[k[9]||(k[9]=w("div",{class:"flex justify-between items-center mb-2"},[w("label",{class:"block text-sm font-medium text-gray-700"},"Contatos Importantes")],-1)),(B(!0),H(Se,null,qe(n.value.contatos_importantes,(y,v)=>(B(),H("div",{key:v,class:"border border-gray-200 rounded-md p-4 mb-3"},[w("div",C2,[w("div",P2,[w("button",{type:"button",class:"text-red-600 hover:text-red-800 mr-3",onClick:I=>u(v)},k[4]||(k[4]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,R2),w("h3",k2,"Contato #"+ye(v+1),1)]),w("div",V2,[w("button",{type:"button",class:Qt(["text-gray-600 hover:text-gray-800 mr-1",{"opacity-50 cursor-not-allowed":v===0}]),onClick:I=>c(v,"up"),disabled:v===0},k[5]||(k[5]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"})],-1)]),10,D2),w("button",{type:"button",class:Qt(["text-gray-600 hover:text-gray-800",{"opacity-50 cursor-not-allowed":v===n.value.contatos_importantes.length-1}]),onClick:I=>c(v,"down"),disabled:v===n.value.contatos_importantes.length-1},k[6]||(k[6]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]),10,M2)])]),w("div",O2,[w("div",null,[w("label",{for:`contato-id-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"ID",8,N2),Je(w("input",{type:"text",id:`contato-id-${v}`,"onUpdate:modelValue":I=>y.id=I,class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,8,L2),[[nt,y.id]])]),w("div",null,[w("label",{for:`contato-nome-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Nome",8,$2),Je(w("input",{type:"text",id:`contato-nome-${v}`,"onUpdate:modelValue":I=>y.nome=I,class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,8,F2),[[nt,y.nome]])]),w("div",null,[w("label",{for:`contato-contato-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Contato",8,B2),Je(w("input",{type:"text",id:`contato-contato-${v}`,"onUpdate:modelValue":I=>y.contato=I,class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,8,j2),[[nt,y.contato]])]),w("div",null,[w("label",{for:`contato-instagram-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Instagram",8,U2),Je(w("input",{type:"text",id:`contato-instagram-${v}`,"onUpdate:modelValue":I=>y.instagram=I,class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,8,z2),[[nt,y.instagram]])]),w("div",null,[w("label",{for:`contato-whatsapp-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"WhatsApp",8,q2),Je(w("input",{type:"text",id:`contato-whatsapp-${v}`,"onUpdate:modelValue":I=>y.whatsapp=I,class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"+55 (00) 00000-0000"},null,8,H2),[[nt,y.whatsapp]])]),w("div",null,[w("label",{for:`contato-rota-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Rota",8,G2),Je(w("input",{type:"text",id:`contato-rota-${v}`,"onUpdate:modelValue":I=>y.rota=I,class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,8,W2),[[nt,y.rota]])])]),y.link||s[v]?(B(),H("div",K2,[w("div",Q2,[k[7]||(k[7]=w("h4",{class:"text-sm font-medium"},"Link",-1)),!y.link&&s[v]?(B(),H("button",{key:0,type:"button",class:"text-red-600 hover:text-red-800 text-sm",onClick:I=>g(v)}," Remover Link ",8,Y2)):Ie("",!0),!y.link&&!s[v]?(B(),H("button",{key:1,type:"button",class:"text-blue-600 hover:text-blue-800 text-sm",onClick:I=>p(v)}," Adicionar Link ",8,X2)):Ie("",!0)]),y.link||s[v]?(B(),H("div",J2,[w("div",null,[w("label",{for:`contato-link-titulo-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Título do Link",8,Z2),w("input",{type:"text",id:`contato-link-titulo-${v}`,value:y.link?y.link.titulo:"",onInput:I=>d(y,I),class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,40,eP)]),w("div",null,[w("label",{for:`contato-link-url-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"URL do Link",8,tP),w("input",{type:"text",id:`contato-link-url-${v}`,value:y.link?y.link.url:"",onInput:I=>f(y,I),class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,40,nP)])])):Ie("",!0)])):Ie("",!0)]))),128)),w("button",{type:"button",class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm flex items-center justify-center",onClick:a},k[8]||(k[8]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Ze(" Adicionar Contato ")]))]),ae(Ht,{id:"copyright",label:"Copyright",modelValue:n.value.copyright,"onUpdate:modelValue":k[3]||(k[3]=y=>n.value.copyright=y),class:"mb-6"},null,8,["modelValue"]),ae(Da,{onCancel:x})],32)]),_:1},8,["alert"]))}},rP=Tn(sP,[["__scopeId","data-v-3eecb0bb"]]),iP={class:"mb-6"},oP={class:"flex justify-end mb-4"},aP={key:0,class:"text-center py-8"},lP={key:1,class:"bg-gray-50 rounded-lg p-8 text-center"},uP={key:2,class:"bg-white shadow rounded-lg overflow-hidden"},cP={class:"divide-y divide-gray-200"},dP={class:"flex items-center"},fP={class:"flex-shrink-0 mr-4"},hP=["src","alt"],pP={class:"flex-1"},mP={class:"text-lg font-medium text-gray-900"},gP={key:0,class:"text-sm text-gray-500 mt-1 line-clamp-2"},vP={__name:"ActivitiesList",setup(t){const e=le([]),n=le(!0),s=le({show:!1,message:"",type:"success"}),r=(o,a="success")=>{s.value={show:!0,message:o,type:a}},i=()=>{s.value.show=!1};return gt(async()=>{try{n.value=!0,e.value=await yc(),e.value.sort((o,a)=>o.title&&a.title?o.title.localeCompare(a.title):0)}catch(o){console.error("Erro ao carregar atividades:",o),r("Erro ao carregar lista de atividades!","error")}finally{n.value=!1}}),(o,a)=>{const u=vr("router-link");return B(),Ye(ps,{title:"Gestão de Atividades",alert:s.value,onCloseAlert:i},{default:Le(()=>[w("div",iP,[a[7]||(a[7]=w("p",{class:"text-sm text-gray-600 mb-4"}," Gerencie as atividades disponíveis no sistema. Clique em uma atividade para editá-la ou adicione uma nova atividade. ",-1)),w("div",oP,[ae(u,{to:"/admin/atividades/novo",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center text-sm"},{default:Le(()=>a[0]||(a[0]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Ze(" Nova Atividade ")])),_:1})]),n.value?(B(),H("div",aP,a[1]||(a[1]=[w("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-600"},null,-1),w("p",{class:"mt-2 text-gray-500"},"Carregando atividades...",-1)]))):e.value.length===0?(B(),H("div",lP,[a[3]||(a[3]=w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})],-1)),a[4]||(a[4]=w("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Nenhuma atividade cadastrada",-1)),a[5]||(a[5]=w("p",{class:"text-gray-500 mb-4"},"Comece adicionando sua primeira atividade ao sistema.",-1)),ae(u,{to:"/admin/atividades/novo",class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},{default:Le(()=>a[2]||(a[2]=[Ze(" Adicionar Nova Atividade ")])),_:1})])):(B(),H("div",uP,[w("ul",cP,[(B(!0),H(Se,null,qe(e.value,c=>(B(),H("li",{key:c.id,class:"hover:bg-gray-50"},[ae(u,{to:`/admin/atividades/${c.id}`,class:"block p-4"},{default:Le(()=>[w("div",dP,[w("div",fP,[w("img",{src:c.images&&c.images.length>0?c.images[0]:"https://www2.camara.leg.br/atividade-legislativa/comissoes/comissoes-permanentes/cindra/imagens/sem.jpg.gif",alt:c.title,class:"h-16 w-16 object-cover rounded-md"},null,8,hP)]),w("div",pP,[w("h3",mP,ye(c.title),1),c.description?(B(),H("p",gP,ye(c.description),1)):Ie("",!0)]),a[6]||(a[6]=w("div",{class:"text-gray-400"},[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))])]),_:2},1032,["to"])]))),128))])]))])]),_:1},8,["alert"])}}},yP={class:"mb-4"},_P={class:"mb-4"},wP={class:"mb-4"},bP={class:"flex justify-between mb-2"},EP={class:"flex items-center"},TP=["onClick"],IP={class:"font-medium"},SP={class:"flex"},AP=["onClick","disabled"],xP=["onClick","disabled"],CP={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},PP={class:"col-span-2"},RP=["for"],kP=["id","onUpdate:modelValue"],VP={key:0,class:"mt-3"},DP=["src","alt"],MP={class:"mb-6"},OP={class:"flex justify-between mb-2"},NP={class:"flex items-center"},LP=["onClick"],$P={class:"font-medium"},FP={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},BP=["for"],jP=["id","onUpdate:modelValue"],UP=["for"],zP=["id","onUpdate:modelValue"],qP={class:"flex gap-3 mt-8"},HP={key:0,class:"fixed inset-0 flex items-center justify-center z-50"},GP={class:"bg-white rounded-lg p-6 max-w-md w-full z-10"},WP={class:"mb-4 text-gray-600"},KP={class:"flex justify-end gap-3"},QP={__name:"ActivityForm",setup(t){const e=Tr(),n=Va(),s=le(!1),r=st(()=>n.params.id==="novo"),i=le({title:"",location:"",description:"",type:"",images:[],links:[]}),o=le({show:!1,message:"",type:"success"}),a=(y,v="success")=>{o.value={show:!0,message:y,type:v}},u=()=>{o.value.show=!1};gt(async()=>{if(!r.value)try{const y=n.params.id,v=await nS(y);v?(console.log("Dados da atividade carregados:",v),i.value={title:v.title||"",location:v.location||"",description:v.description||"",type:v.type||"",images:[],links:[]},v.images&&(Array.isArray(v.images)?i.value.images=v.images.map(I=>({url:typeof I=="object"?I.url||"":I,alt:typeof I=="object"&&I.alt||""})):typeof v.images=="string"&&(i.value.images=[{url:v.images,alt:""}])),v.links&&typeof v.links=="object"&&!Array.isArray(v.links)&&(i.value.links=Object.entries(v.links).map(([I,M])=>({title:I,url:M}))),console.log("Formulário preenchido:",i.value)):(a("Atividade não encontrada!","error"),e.push("/admin/atividades"))}catch(y){console.error("Erro ao carregar dados da atividade:",y),a("Erro ao carregar dados da atividade!","error")}});const c=()=>{i.value.images.push({url:""})},d=y=>{i.value.images.splice(y,1)},f=(y,v)=>{const I=i.value.images;v==="up"&&y>0?[I[y],I[y-1]]=[I[y-1],I[y]]:v==="down"&&y<I.length-1&&([I[y],I[y+1]]=[I[y+1],I[y]])},p=()=>{i.value.links.push({title:"",url:""})},g=y=>{i.value.links.splice(y,1)},_=async()=>{try{if(!i.value.title.trim()){a("O nome da atividade é obrigatório!","error");return}const y=r.value?i.value.title.toLowerCase().replace(/\s+/g,"-").normalize("NFD").replace(/[\u0300-\u036f]/g,""):n.params.id,v={...i.value};v.images=v.images.filter(M=>M.url.trim()!=="").map(M=>M.url),v.links=v.links.filter(M=>M.url.trim()!=="").reduce((M,$)=>{const A=$.title.trim()||"link";return M[A]=$.url,M},{}),console.log("Dados a serem salvos:",v),(await eS("santiago",y,v)).success?(a("Atividade salva com sucesso!","success"),r.value&&e.push(`/admin/atividades/${y}`)):a("Erro ao salvar atividade!","error")}catch(y){console.error("Erro ao salvar atividade:",y),a("Erro ao salvar atividade!","error")}},x=()=>{s.value=!0},C=async()=>{try{const y=n.params.id;(await av("trips/santiago/activities",y)).success?(a("Atividade excluída com sucesso!","success"),e.push("/admin/atividades")):a("Erro ao excluir atividade!","error"),s.value=!1}catch(y){console.error("Erro ao excluir atividade:",y),a("Erro ao excluir atividade!","error"),s.value=!1}},k=()=>{e.push("/admin/atividades")};return(y,v)=>(B(),Ye(ps,{title:r.value?"Nova Atividade":`Editar Atividade: ${i.value.title}`,alert:o.value,onCloseAlert:u},{default:Le(()=>[w("form",{onSubmit:Ai(_,["prevent"])},[ae(Ht,{id:"title",label:"Nome da Atividade",modelValue:i.value.title,"onUpdate:modelValue":v[0]||(v[0]=I=>i.value.title=I),required:""},null,8,["modelValue"]),w("div",yP,[v[5]||(v[5]=w("label",{for:"location",class:"block text-sm font-medium text-gray-700 mb-1"},"Local (URL do Google Maps)",-1)),Je(w("input",{type:"text",id:"location","onUpdate:modelValue":v[1]||(v[1]=I=>i.value.location=I),class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://maps.app.goo.gl/..."},null,512),[[nt,i.value.location]]),v[6]||(v[6]=w("p",{class:"text-xs text-gray-500 mt-1"},"Cole aqui a URL do Google Maps para o local da atividade",-1))]),w("div",_P,[v[7]||(v[7]=w("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-1"},"Descrição",-1)),Je(w("textarea",{id:"description","onUpdate:modelValue":v[2]||(v[2]=I=>i.value.description=I),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Descreva esta atividade"},null,512),[[nt,i.value.description]])]),ae(Ht,{id:"type",label:"Tipo",modelValue:i.value.type,"onUpdate:modelValue":v[3]||(v[3]=I=>i.value.type=I),class:"mb-4"},null,8,["modelValue"]),w("div",wP,[v[12]||(v[12]=w("div",{class:"flex justify-between items-center mb-2"},[w("label",{class:"block text-sm font-medium text-gray-700"},"Imagens")],-1)),(B(!0),H(Se,null,qe(i.value.images,(I,M)=>(B(),H("div",{key:M,class:"border border-gray-200 rounded-md p-4 mb-3"},[w("div",bP,[w("div",EP,[w("button",{type:"button",class:"text-red-600 hover:text-red-800 mr-3",onClick:$=>d(M)},v[8]||(v[8]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,TP),w("h3",IP,"Imagem #"+ye(M+1),1)]),w("div",SP,[w("button",{type:"button",class:Qt(["text-gray-600 hover:text-gray-800 mr-1",{"opacity-50 cursor-not-allowed":M===0}]),onClick:$=>f(M,"up"),disabled:M===0},v[9]||(v[9]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"})],-1)]),10,AP),w("button",{type:"button",class:Qt(["text-gray-600 hover:text-gray-800",{"opacity-50 cursor-not-allowed":M===i.value.images.length-1}]),onClick:$=>f(M,"down"),disabled:M===i.value.images.length-1},v[10]||(v[10]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]),10,xP)])]),w("div",CP,[w("div",PP,[w("label",{for:`imagem-url-${M}`,class:"block text-sm font-medium text-gray-700 mb-1"},"URL da Imagem",8,RP),Je(w("input",{type:"text",id:`imagem-url-${M}`,"onUpdate:modelValue":$=>I.url=$,class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://exemplo.com/imagem.jpg"},null,8,kP),[[nt,I.url]])])]),I.url?(B(),H("div",VP,[w("img",{src:I.url,alt:I.name||"Imagem da atividade",class:"h-32 object-cover rounded-md"},null,8,DP)])):Ie("",!0)]))),128)),w("button",{type:"button",class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm flex items-center justify-center",onClick:c},v[11]||(v[11]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Ze(" Adicionar Imagem ")]))]),w("div",MP,[v[15]||(v[15]=w("div",{class:"flex justify-between items-center mb-2"},[w("label",{class:"block text-sm font-medium text-gray-700"},"Links Relacionados")],-1)),(B(!0),H(Se,null,qe(i.value.links,(I,M)=>(B(),H("div",{key:M,class:"border border-gray-200 rounded-md p-4 mb-3"},[w("div",OP,[w("div",NP,[w("button",{type:"button",class:"text-red-600 hover:text-red-800 mr-3",onClick:$=>g(M)},v[13]||(v[13]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,LP),w("h3",$P,"Link #"+ye(M+1),1)])]),w("div",FP,[w("div",null,[w("label",{for:`link-titulo-${M}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Título",8,BP),Je(w("input",{type:"text",id:`link-titulo-${M}`,"onUpdate:modelValue":$=>I.title=$,class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: Site Oficial"},null,8,jP),[[nt,I.title]])]),w("div",null,[w("label",{for:`link-url-${M}`,class:"block text-sm font-medium text-gray-700 mb-1"},"URL",8,UP),Je(w("input",{type:"text",id:`link-url-${M}`,"onUpdate:modelValue":$=>I.url=$,class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://exemplo.com"},null,8,zP),[[nt,I.url]])])])]))),128)),w("button",{type:"button",class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm flex items-center justify-center",onClick:p},v[14]||(v[14]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Ze(" Adicionar Link ")]))]),w("div",qP,[r.value?Ie("",!0):(B(),H("button",{key:0,type:"button",onClick:x,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700"}," Excluir ")),v[16]||(v[16]=w("div",{class:"flex-grow"},null,-1)),ae(Da,{onCancel:k})])],32),s.value?(B(),H("div",HP,[v[18]||(v[18]=w("div",{class:"fixed inset-0 bg-black opacity-50"},null,-1)),w("div",GP,[v[17]||(v[17]=w("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Confirmar Exclusão",-1)),w("p",WP,' Tem certeza de que deseja excluir a atividade "'+ye(i.value.title)+'"? Esta ação não pode ser desfeita. ',1),w("div",KP,[w("button",{onClick:v[4]||(v[4]=I=>s.value=!1),class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300"}," Cancelar "),w("button",{onClick:C,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700"}," Excluir ")])])])):Ie("",!0)]),_:1},8,["title","alert"]))}},YP={class:"mb-6"},XP={class:"flex justify-end mb-4"},JP={key:0,class:"text-center py-8"},ZP={key:1,class:"bg-gray-50 rounded-lg p-8 text-center"},eR={key:2,class:"bg-white shadow rounded-lg overflow-hidden"},tR={class:"divide-y divide-gray-200"},nR={class:"flex items-center justify-between"},sR={class:"text-lg font-medium text-gray-900"},rR={class:"text-sm text-gray-500 mt-1 flex items-center"},iR={class:"mr-3"},oR={key:0,class:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded"},aR={__name:"ItineraryList",setup(t){const e=le([]),n=le(!0),s=le({show:!1,message:"",type:"success"}),r=(u,c="success")=>{s.value={show:!0,message:u,type:c}},i=()=>{s.value.show=!1},o=u=>{if(!u)return"";const c={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(u).toLocaleDateString("pt-BR",c)},a=u=>{if(!u)return 0;let c=0;return["morning","lunch","midDay","afternoon","evening","night"].forEach(f=>{u[f]&&Array.isArray(u[f])&&(c+=u[f].length)}),c};return gt(async()=>{try{n.value=!0;const u=await vc();e.value=u.filter(c=>c.id.startsWith("day")),e.value.sort((c,d)=>c.date&&d.date?new Date(c.date)-new Date(d.date):c.id.localeCompare(d.id))}catch(u){console.error("Erro ao carregar itinerário:",u),r("Erro ao carregar lista de dias do itinerário!","error")}finally{n.value=!1}}),(u,c)=>{const d=vr("router-link");return B(),Ye(ps,{title:"Gestão de Itinerário",alert:s.value,onCloseAlert:i},{default:Le(()=>[w("div",YP,[c[7]||(c[7]=w("p",{class:"text-sm text-gray-600 mb-4"}," Gerencie os dias do roteiro de viagem. Clique em um dia para editá-lo ou adicione um novo dia. ",-1)),w("div",XP,[ae(d,{to:"/admin/itinerario/novo",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center text-sm"},{default:Le(()=>c[0]||(c[0]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Ze(" Novo Dia ")])),_:1})]),n.value?(B(),H("div",JP,c[1]||(c[1]=[w("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-600"},null,-1),w("p",{class:"mt-2 text-gray-500"},"Carregando itinerário...",-1)]))):e.value.length===0?(B(),H("div",ZP,[c[3]||(c[3]=w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),c[4]||(c[4]=w("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Nenhum dia no itinerário",-1)),c[5]||(c[5]=w("p",{class:"text-gray-500 mb-4"},"Comece adicionando o primeiro dia ao roteiro da viagem.",-1)),ae(d,{to:"/admin/itinerario/novo",class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},{default:Le(()=>c[2]||(c[2]=[Ze(" Adicionar Primeiro Dia ")])),_:1})])):(B(),H("div",eR,[w("ul",tR,[(B(!0),H(Se,null,qe(e.value,f=>(B(),H("li",{key:f.id,class:"hover:bg-gray-50"},[ae(d,{to:`/admin/itinerario/${f.id}`,class:"block p-4"},{default:Le(()=>[w("div",nR,[w("div",null,[w("h3",sR,ye(f.title),1),w("p",rR,[w("span",iR,ye(o(f.date)),1),f.schedule?(B(),H("span",oR,ye(a(f.schedule))+" atividades ",1)):Ie("",!0)])]),c[6]||(c[6]=w("div",{class:"text-gray-400"},[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))])]),_:2},1032,["to"])]))),128))])]))])]),_:1},8,["alert"])}}},lR={class:"mb-4"},uR={class:"mb-4"},cR={class:"mt-8 mb-4"},dR={class:"font-medium text-gray-800 mb-2 flex items-center"},fR=["d"],hR={class:"bg-gray-50 p-3 rounded-md"},pR={class:"flex items-center"},mR={class:"flex-grow"},gR=["onUpdate:modelValue"],vR=["value"],yR=["onClick"],_R={class:"mt-2"},wR=["onUpdate:modelValue"],bR=["onClick"],ER={class:"mb-6 mt-8"},TR=["onUpdate:modelValue"],IR=["onClick"],SR={class:"flex gap-3 mt-8"},AR={key:0,class:"fixed inset-0 flex items-center justify-center z-50"},xR={class:"bg-white rounded-lg p-6 max-w-md w-full z-10"},CR={class:"mb-4 text-gray-600"},PR={class:"flex justify-end gap-3"},RR={__name:"ItineraryDayForm",setup(t){const e=Tr(),n=Va(),s=le(!1),r=le([]),i=[{id:"morning",label:"Manhã",color:"text-yellow-500",icon:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},{id:"lunch",label:"Almoço",color:"text-orange-500",icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},{id:"afternoon",label:"Tarde",color:"text-red-500",icon:"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z"},{id:"night",label:"Noite",color:"text-indigo-500",icon:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"}],o=st(()=>n.params.id==="novo"),a=le({title:"",date:new Date().toISOString().split("T")[0],description:"",transport:"",schedule:{morning:[],lunch:[],afternoon:[],night:[]},tips:[]}),u=le({show:!1,message:"",type:"success"}),c=(v,I="success")=>{u.value={show:!0,message:v,type:I}},d=()=>{u.value.show=!1};gt(async()=>{var v,I,M,$,A,b;try{if(r.value=await yc(),!o.value){const E=n.params.id,S=await sS(E);if(S){const R=O=>Array.isArray(O)?O.map(P=>typeof P=="object"&&P!==null?{activityId:P.activityId||"",note:P.note||""}:{activityId:P||"",note:""}):[];a.value={title:S.title||"",date:S.date?new Date(S.date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],description:S.description||"",transport:S.transport||"",schedule:{morning:R((v=S.schedule)==null?void 0:v.morning),lunch:R(((I=S.schedule)==null?void 0:I.lunch)||((M=S.schedule)==null?void 0:M.midDay)),afternoon:R(($=S.schedule)==null?void 0:$.afternoon),night:R(((A=S.schedule)==null?void 0:A.night)||((b=S.schedule)==null?void 0:b.evening))},tips:Array.isArray(S.tips)?[...S.tips]:[]}}else c("Dia não encontrado!","error"),e.push("/admin/itinerario")}}catch(E){console.error("Erro ao carregar dados:",E),c("Erro ao carregar dados!","error")}});const f=v=>{a.value.schedule[v].push({activityId:"",note:""})},p=(v,I)=>{a.value.schedule[v].splice(I,1)},g=()=>{a.value.tips.push("")},_=v=>{a.value.tips.splice(v,1)},x=async()=>{try{if(!a.value.title.trim()){c("O título do dia é obrigatório!","error");return}if(!a.value.date){c("A data é obrigatória!","error");return}let v=o.value?null:n.params.id;if(o.value){const A=(await vc()).filter(E=>E.id.startsWith("day-")).map(E=>{const S=E.id.match(/day-(\d+)/);return S?parseInt(S[1]):0});v=`day-${A.length>0?Math.max(...A)+1:1}`}const I={title:a.value.title.trim(),date:a.value.date,description:a.value.description.trim(),transport:a.value.transport.trim(),schedule:{morning:a.value.schedule.morning.filter($=>$.activityId.trim()!=="").map($=>({activityId:$.activityId,note:$.note.trim()})),lunch:a.value.schedule.lunch.filter($=>$.activityId.trim()!=="").map($=>({activityId:$.activityId,note:$.note.trim()})),afternoon:a.value.schedule.afternoon.filter($=>$.activityId.trim()!=="").map($=>({activityId:$.activityId,note:$.note.trim()})),night:a.value.schedule.night.filter($=>$.activityId.trim()!=="").map($=>({activityId:$.activityId,note:$.note.trim()}))},tips:a.value.tips.filter($=>$.trim()!=="")};if(v){const $=v.match(/day-(\d+)/);$&&(I.dayNumber=parseInt($[1]))}(await tS("santiago",v,I)).success?(c("Dia salvo com sucesso!","success"),o.value&&e.push(`/admin/itinerario/${v}`)):c("Erro ao salvar dia!","error")}catch(v){console.error("Erro ao salvar dia:",v),c("Erro ao salvar dia!","error")}},C=()=>{s.value=!0},k=async()=>{try{const v=n.params.id;(await av("trips/santiago/itinerary",v)).success?(c("Dia excluído com sucesso!","success"),e.push("/admin/itinerario")):c("Erro ao excluir dia!","error"),s.value=!1}catch(v){console.error("Erro ao excluir dia:",v),c("Erro ao excluir dia!","error"),s.value=!1}},y=()=>{e.push("/admin/itinerario")};return(v,I)=>(B(),Ye(ps,{title:o.value?"Novo Dia":`Editar Dia: ${a.value.title}`,alert:u.value,onCloseAlert:d},{default:Le(()=>[w("form",{onSubmit:Ai(x,["prevent"])},[ae(Ht,{id:"title",label:"Título",modelValue:a.value.title,"onUpdate:modelValue":I[0]||(I[0]=M=>a.value.title=M),required:""},null,8,["modelValue"]),w("div",lR,[I[5]||(I[5]=w("label",{for:"date",class:"block text-sm font-medium text-gray-700 mb-1"},"Data",-1)),Je(w("input",{type:"date",id:"date","onUpdate:modelValue":I[1]||(I[1]=M=>a.value.date=M),class:"w-full px-3 py-2 border border-gray-300 rounded-md",required:""},null,512),[[nt,a.value.date]])]),w("div",uR,[I[6]||(I[6]=w("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-1"},"Descrição",-1)),Je(w("textarea",{id:"description","onUpdate:modelValue":I[2]||(I[2]=M=>a.value.description=M),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Descreva o dia brevemente"},null,512),[[nt,a.value.description]])]),ae(Ht,{id:"transport",label:"Transporte",modelValue:a.value.transport,"onUpdate:modelValue":I[3]||(I[3]=M=>a.value.transport=M),placeholder:"Ex: Carro alugado, Transporte público, etc."},null,8,["modelValue"]),w("div",cR,[I[10]||(I[10]=w("h3",{class:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200"},"Programação do Dia",-1)),(B(),H(Se,null,qe(i,M=>w("div",{key:M.id,class:"mb-6"},[w("h4",dR,[(B(),H("svg",{xmlns:"http://www.w3.org/2000/svg",class:Qt(["h-5","w-5","mr-1",M.color]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:M.icon},null,8,fR)],2)),Ze(" "+ye(M.label),1)]),w("div",hR,[(B(!0),H(Se,null,qe(a.value.schedule[M.id],($,A)=>(B(),H("div",{key:`${M.id}-${A}`,class:"flex flex-col mb-2 p-2 bg-white rounded border border-gray-200"},[w("div",pR,[w("div",mR,[Je(w("select",{"onUpdate:modelValue":b=>a.value.schedule[M.id][A].activityId=b,class:"w-full p-2 border-0 focus:ring-0"},[I[7]||(I[7]=w("option",{value:""},"Selecione uma atividade",-1)),(B(!0),H(Se,null,qe(r.value,b=>(B(),H("option",{key:b.id,value:b.id},ye(b.title),9,vR))),128))],8,gR),[[_0,a.value.schedule[M.id][A].activityId]])]),w("button",{type:"button",onClick:b=>p(M.id,A),class:"ml-2 text-red-600 hover:text-red-800"},I[8]||(I[8]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,yR)]),w("div",_R,[Je(w("textarea",{"onUpdate:modelValue":b=>a.value.schedule[M.id][A].note=b,rows:"2",class:"w-full p-2 border border-gray-200 rounded-md text-sm",placeholder:"Anotações sobre esta atividade"},null,8,wR),[[nt,a.value.schedule[M.id][A].note]])])]))),128)),w("button",{type:"button",onClick:$=>f(M.id),class:"w-full mt-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 text-sm flex items-center justify-center"},I[9]||(I[9]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Ze(" Adicionar Atividade ")]),8,bR)])])),64))]),w("div",ER,[I[13]||(I[13]=w("h3",{class:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200"},"Dicas do Dia",-1)),(B(!0),H(Se,null,qe(a.value.tips,(M,$)=>(B(),H("div",{key:`tip-${$}`,class:"flex items-start mb-2"},[Je(w("textarea",{"onUpdate:modelValue":A=>a.value.tips[$]=A,rows:"6",class:"flex-grow p-2 border border-gray-300 rounded-md",placeholder:"Dica ou recomendação para este dia"},null,8,TR),[[nt,a.value.tips[$]]]),w("button",{type:"button",onClick:A=>_($),class:"ml-2 mt-1 text-red-600 hover:text-red-800"},I[11]||(I[11]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,IR)]))),128)),w("button",{type:"button",onClick:g,class:"w-full mt-3 px-3 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 text-sm flex items-center justify-center"},I[12]||(I[12]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Ze(" Adicionar Dica ")]))]),w("div",SR,[o.value?Ie("",!0):(B(),H("button",{key:0,type:"button",onClick:C,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700"}," Excluir ")),I[14]||(I[14]=w("div",{class:"flex-grow"},null,-1)),ae(Da,{onCancel:y})])],32),s.value?(B(),H("div",AR,[I[16]||(I[16]=w("div",{class:"fixed inset-0 bg-black opacity-50"},null,-1)),w("div",xR,[I[15]||(I[15]=w("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Confirmar Exclusão",-1)),w("p",CR,' Tem certeza de que deseja excluir o dia "'+ye(a.value.title)+'"? Esta ação não pode ser desfeita. ',1),w("div",PR,[w("button",{onClick:I[4]||(I[4]=M=>s.value=!1),class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300"}," Cancelar "),w("button",{onClick:k,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700"}," Excluir ")])])])):Ie("",!0)]),_:1},8,["title","alert"]))}},kR={class:"mb-6"},VR={key:0,class:"text-center py-8"},DR={key:1,class:"bg-white shadow rounded-lg overflow-hidden"},MR={class:"divide-y divide-gray-200"},OR={class:"flex items-center justify-between"},NR={class:"text-lg font-medium text-gray-900"},LR={class:"text-sm text-gray-500 mt-1 flex items-center"},$R={class:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded"},FR={class:"hover:bg-gray-50 bg-gray-50"},BR={class:"flex items-center justify-between"},jR={class:"text-sm text-gray-500 mt-1 flex items-center"},UR={class:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded"},zR={__name:"TipsForm",setup(t){const e=le({observations:"",categories:[]}),n=le(!0),s=le({show:!1,message:"",type:"success"}),r=(o,a="success")=>{s.value={show:!0,message:o,type:a}},i=()=>{s.value.show=!1};return gt(async()=>{try{n.value=!0;const o=await _c("santiago");o&&(console.clear(),console.log("data"),console.log(JSON.stringify(o)),e.value={observations:o.observations||"",categories:Array.isArray(o.categories)?o.categories:[]})}catch(o){console.error("Erro ao carregar dados:",o),r("Erro ao carregar dados!","error")}finally{n.value=!1}}),(o,a)=>{const u=vr("router-link");return B(),Ye(ps,{title:"Gestão de Dicas e Observações",alert:s.value,onCloseAlert:i},{default:Le(()=>[w("div",kR,[a[4]||(a[4]=w("p",{class:"text-sm text-gray-600 mb-4"}," Gerencie as dicas e observações disponíveis no sistema. Selecione uma categoria para editar suas dicas. ",-1)),n.value?(B(),H("div",VR,a[0]||(a[0]=[w("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-600"},null,-1),w("p",{class:"mt-2 text-gray-500"},"Carregando dicas...",-1)]))):(B(),H("div",DR,[w("ul",MR,[(B(!0),H(Se,null,qe(e.value.categories,c=>(B(),H("li",{key:c.id,class:"hover:bg-gray-50"},[ae(u,{to:`/admin/dicas/${c.id}`,class:"block p-4"},{default:Le(()=>[w("div",OR,[w("div",null,[w("h3",NR,ye(c.title),1),w("p",LR,[w("span",$R,ye(c.items?c.items.length:0)+" dicas ",1)])]),a[1]||(a[1]=w("div",{class:"text-gray-400"},[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))])]),_:2},1032,["to"])]))),128)),w("li",FR,[ae(u,{to:"/admin/dicas/observations",class:"block p-4"},{default:Le(()=>[w("div",BR,[w("div",null,[a[2]||(a[2]=w("h3",{class:"text-lg font-medium text-gray-900"},"Observações Gerais",-1)),w("p",jR,[w("span",UR,ye(e.value.observations?"Disponível":"Não definido"),1)])]),a[3]||(a[3]=w("div",{class:"text-gray-400"},[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))])]),_:1})])])]))])]),_:1},8,["alert"])}}},qR={class:"mb-6"},HR={class:"text-sm text-gray-600 mb-4"},GR={key:0,class:"text-center py-8"},WR={key:1,class:"mt-4"},KR={key:2},QR={class:"mb-3"},YR=["for"],XR=["id","onUpdate:modelValue"],JR={class:"mb-3"},ZR=["for"],ek=["id","onUpdate:modelValue"],tk={class:"mb-3"},nk=["for"],sk=["id","onUpdate:modelValue"],rk={class:"flex justify-end"},ik=["onClick"],ok={__name:"TipDetailForm",setup(t){const e=Tr(),n=Va(),s=st(()=>n.params.category),r=le([]),i=le(""),o=le({observations:"",categories:[]}),a=le(null),u=le(!0),c=le({show:!1,message:"",type:"success"}),d={observations:"Observações gerais e importantes sobre a viagem."},f=()=>s.value==="observations",p=()=>{var I;return f()?"Editar Observações Gerais":`Editar ${((I=a.value)==null?void 0:I.title)||"Categoria"}`},g=()=>f()?d.observations:"Edite os itens desta categoria. Cada item deve ter um título, descrição e ícone.",_=(I,M="success")=>{c.value={show:!0,message:I,type:M}},x=()=>{c.value.show=!1},C=()=>{r.value.push({title:"",description:"",icon:"fas fa-info-circle"})},k=I=>{r.value.splice(I,1)};gt(async()=>{var I;try{u.value=!0;const M=await _c("santiago");if(M)if(o.value=M,f())i.value=M.observations||"";else{const $=(I=M.categories)==null?void 0:I.find(A=>A.id===s.value);$?(a.value={id:$.id,title:$.title},r.value=Array.isArray($.items)?JSON.parse(JSON.stringify($.items)):[]):_("Categoria não encontrada!","error")}}catch(M){console.error("Erro ao carregar dados:",M),_("Erro ao carregar dados!","error")}finally{u.value=!1}});const y=async()=>{try{const I=JSON.parse(JSON.stringify(o.value));if(f())I.observations=i.value;else{const $=I.categories.findIndex(A=>A.id===s.value);if($!==-1){const A=r.value.filter(b=>b.title.trim()!==""||b.description.trim()!=="");I.categories[$].items=A}else{_("Categoria não encontrada para atualização!","error");return}}(await ZI("santiago",I)).success?(_("Dados salvos com sucesso!","success"),setTimeout(()=>{v()},1500)):_("Erro ao salvar dados!","error")}catch(I){console.error("Erro ao salvar dados:",I),_("Erro ao salvar dados!","error")}},v=()=>{e.push("/admin/dicas")};return(I,M)=>(B(),Ye(ps,{title:p(),alert:c.value,onCloseAlert:x},{default:Le(()=>[w("form",{onSubmit:Ai(y,["prevent"])},[w("div",qR,[w("p",HR,ye(g()),1),u.value?(B(),H("div",GR,M[1]||(M[1]=[w("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-600"},null,-1),w("p",{class:"mt-2 text-gray-500"},"Carregando dados...",-1)]))):f()?(B(),H("div",WR,[Je(w("textarea",{"onUpdate:modelValue":M[0]||(M[0]=$=>i.value=$),rows:"8",class:"w-full p-3 border border-gray-300 rounded-md",placeholder:"Digite aqui as observações gerais sobre a viagem"},null,512),[[nt,i.value]])])):(B(),H("div",KR,[(B(!0),H(Se,null,qe(r.value,($,A)=>(B(),H("div",{key:`item-${A}`,class:"mb-6 p-4 border border-gray-200 rounded-md bg-gray-50"},[w("div",QR,[w("label",{for:`item-title-${A}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Título",8,YR),Je(w("input",{id:`item-title-${A}`,"onUpdate:modelValue":b=>r.value[A].title=b,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Título da dica"},null,8,XR),[[nt,r.value[A].title]])]),w("div",JR,[w("label",{for:`item-description-${A}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Descrição",8,ZR),Je(w("textarea",{id:`item-description-${A}`,"onUpdate:modelValue":b=>r.value[A].description=b,rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Descrição detalhada da dica"},null,8,ek),[[nt,r.value[A].description]])]),w("div",tk,[w("label",{for:`item-icon-${A}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Ícone (FontAwesome)",8,nk),Je(w("input",{id:`item-icon-${A}`,"onUpdate:modelValue":b=>r.value[A].icon=b,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: fas fa-thermometer-half"},null,8,sk),[[nt,r.value[A].icon]])]),w("div",rk,[w("button",{type:"button",onClick:b=>k(A),class:"px-3 py-1 bg-red-100 text-red-700 rounded-md hover:bg-red-200 text-sm flex items-center"},M[2]||(M[2]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),Ze(" Remover Item ")]),8,ik)])]))),128)),w("button",{type:"button",onClick:C,class:"w-full mt-3 px-3 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 text-sm flex items-center justify-center"},M[3]||(M[3]=[w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Ze(" Adicionar Novo Item ")]))]))]),w("div",{class:"flex justify-end gap-3 mt-8"},[w("button",{type:"button",onClick:v,class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300"}," Cancelar "),M[4]||(M[4]=w("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," Salvar ",-1))])],32)]),_:1},8,["title","alert"]))}},ak={class:"admin-layout p-6 max-w-7xl mx-auto"},lk={key:1,class:"text-red-500"},uk={__name:"AdminLayout",setup(t){return gt(()=>{console.log("AdminLayout component mounted")}),(e,n)=>{const s=vr("router-view");return B(),H("div",ak,[ae(s,null,{default:Le(({Component:r})=>[r?(B(),Ye(l_(r),{key:0})):(B(),H("p",lk," Nenhum componente carregado para esta rota. Verifique o console para erros. "))]),_:1})])}}},ck=[{path:"/",name:"home"},{path:"/admin",component:uk,children:[{path:"header",name:"admin-header",component:A2,meta:{requiresAuth:!0}},{path:"footer",name:"admin-footer",component:rP,meta:{requiresAuth:!0}},{path:"atividades",name:"admin-atividades",component:vP,meta:{requiresAuth:!0}},{path:"atividades/:id",name:"admin-atividades-detalhes",component:QP,meta:{requiresAuth:!0}},{path:"itinerario",name:"admin-itinerario",component:aR,meta:{requiresAuth:!0}},{path:"itinerario/:id",name:"admin-itinerario-detalhes",component:RR,meta:{requiresAuth:!0}},{path:"dicas",name:"admin-dicas",component:zR,meta:{requiresAuth:!0}},{path:"dicas/:category",name:"admin-dicas-categoria",component:ok,meta:{requiresAuth:!0}}]}],Ma=n2({history:kC("/santiago/"),routes:ck});Ma.beforeEach((t,e,n)=>{console.log(`Navegando para: ${t.fullPath}`),t.matched.some(s=>s.meta.requiresAuth),n()});Ma.afterEach(t=>{console.log(`Navegação concluída: ${t.fullPath}`)});console.log("Starting Vue application");console.log("Routes registered:",Ma.getRoutes());const Ac=I0(a2);Ac.config.errorHandler=(t,e,n)=>{console.error("Vue error:",t),console.error("Component:",e),console.error("Info:",n)};Ac.use(Ma);Ac.mount("#app");console.log("Vue app mounted");
