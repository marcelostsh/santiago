(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function nu(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Fe={},Ws=[],dn=()=>{},Zv=()=>!1,No=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),su=t=>t.startsWith("onUpdate:"),It=Object.assign,ru=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},ey=Object.prototype.hasOwnProperty,Oe=(t,e)=>ey.call(t,e),ge=Array.isArray,Ks=t=>Lo(t)==="[object Map]",Sh=t=>Lo(t)==="[object Set]",ye=t=>typeof t=="function",Qe=t=>typeof t=="string",Nn=t=>typeof t=="symbol",ze=t=>t!==null&&typeof t=="object",Ih=t=>(ze(t)||ye(t))&&ye(t.then)&&ye(t.catch),Ah=Object.prototype.toString,Lo=t=>Ah.call(t),ty=t=>Lo(t).slice(8,-1),Ch=t=>Lo(t)==="[object Object]",iu=t=>Qe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,zr=nu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fo=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},ny=/-(\w)/g,Xt=Fo(t=>t.replace(ny,(e,n)=>n?n.toUpperCase():"")),sy=/\B([A-Z])/g,Vs=Fo(t=>t.replace(sy,"-$1").toLowerCase()),$o=Fo(t=>t.charAt(0).toUpperCase()+t.slice(1)),La=Fo(t=>t?`on${$o(t)}`:""),Qn=(t,e)=>!Object.is(t,e),Xi=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},xh=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},ml=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let ld;const Bo=()=>ld||(ld=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Uo(t){if(ge(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=Qe(s)?ay(s):Uo(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(Qe(t)||ze(t))return t}const ry=/;(?![^(]*\))/g,iy=/:([^]+)/,oy=/\/\*[^]*?\*\//g;function ay(t){const e={};return t.replace(oy,"").split(ry).forEach(n=>{if(n){const s=n.split(iy);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Jt(t){let e="";if(Qe(t))e=t;else if(ge(t))for(let n=0;n<t.length;n++){const s=Jt(t[n]);s&&(e+=s+" ")}else if(ze(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const ly="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",uy=nu(ly);function Ph(t){return!!t||t===""}const Rh=t=>!!(t&&t.__v_isRef===!0),be=t=>Qe(t)?t:t==null?"":ge(t)||ze(t)&&(t.toString===Ah||!ye(t.toString))?Rh(t)?be(t.value):JSON.stringify(t,Vh,2):String(t),Vh=(t,e)=>Rh(e)?Vh(t,e.value):Ks(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[Fa(s,i)+" =>"]=r,n),{})}:Sh(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Fa(n))}:Nn(e)?Fa(e):ze(e)&&!ge(e)&&!Ch(e)?String(e):e,Fa=(t,e="")=>{var n;return Nn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Bt;class cy{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Bt,!e&&Bt&&(this.index=(Bt.scopes||(Bt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Bt;try{return Bt=this,e()}finally{Bt=n}}}on(){Bt=this}off(){Bt=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function dy(){return Bt}let $e;const $a=new WeakSet;class kh{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Bt&&Bt.active&&Bt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,$a.has(this)&&($a.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Mh(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ud(this),Oh(this);const e=$e,n=en;$e=this,en=!0;try{return this.fn()}finally{Nh(this),$e=e,en=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)lu(e);this.deps=this.depsTail=void 0,ud(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?$a.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){gl(this)&&this.run()}get dirty(){return gl(this)}}let Dh=0,qr,Gr;function Mh(t,e=!1){if(t.flags|=8,e){t.next=Gr,Gr=t;return}t.next=qr,qr=t}function ou(){Dh++}function au(){if(--Dh>0)return;if(Gr){let e=Gr;for(Gr=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;qr;){let e=qr;for(qr=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Oh(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Nh(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),lu(s),fy(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function gl(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Lh(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Lh(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ti))return;t.globalVersion=ti;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!gl(t)){t.flags&=-3;return}const n=$e,s=en;$e=t,en=!0;try{Oh(t);const r=t.fn(t._value);(e.version===0||Qn(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{$e=n,en=s,Nh(t),t.flags&=-3}}function lu(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)lu(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function fy(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let en=!0;const Fh=[];function ls(){Fh.push(en),en=!1}function us(){const t=Fh.pop();en=t===void 0?!0:t}function ud(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=$e;$e=void 0;try{e()}finally{$e=n}}}let ti=0;class hy{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class uu{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!$e||!en||$e===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==$e)n=this.activeLink=new hy($e,this),$e.deps?(n.prevDep=$e.depsTail,$e.depsTail.nextDep=n,$e.depsTail=n):$e.deps=$e.depsTail=n,$h(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=$e.depsTail,n.nextDep=void 0,$e.depsTail.nextDep=n,$e.depsTail=n,$e.deps===n&&($e.deps=s)}return n}trigger(e){this.version++,ti++,this.notify(e)}notify(e){ou();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{au()}}}function $h(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)$h(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const vl=new WeakMap,Ss=Symbol(""),yl=Symbol(""),ni=Symbol("");function wt(t,e,n){if(en&&$e){let s=vl.get(t);s||vl.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new uu),r.map=s,r.key=n),r.track()}}function Cn(t,e,n,s,r,i){const o=vl.get(t);if(!o){ti++;return}const a=u=>{u&&u.trigger()};if(ou(),e==="clear")o.forEach(a);else{const u=ge(t),c=u&&iu(n);if(u&&n==="length"){const d=Number(s);o.forEach((f,p)=>{(p==="length"||p===ni||!Nn(p)&&p>=d)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(ni)),e){case"add":u?c&&a(o.get("length")):(a(o.get(Ss)),Ks(t)&&a(o.get(yl)));break;case"delete":u||(a(o.get(Ss)),Ks(t)&&a(o.get(yl)));break;case"set":Ks(t)&&a(o.get(Ss));break}}au()}function $s(t){const e=Me(t);return e===t?e:(wt(e,"iterate",ni),Qt(t)?e:e.map(bt))}function jo(t){return wt(t=Me(t),"iterate",ni),t}const py={__proto__:null,[Symbol.iterator](){return Ba(this,Symbol.iterator,bt)},concat(...t){return $s(this).concat(...t.map(e=>ge(e)?$s(e):e))},entries(){return Ba(this,"entries",t=>(t[1]=bt(t[1]),t))},every(t,e){return Tn(this,"every",t,e,void 0,arguments)},filter(t,e){return Tn(this,"filter",t,e,n=>n.map(bt),arguments)},find(t,e){return Tn(this,"find",t,e,bt,arguments)},findIndex(t,e){return Tn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Tn(this,"findLast",t,e,bt,arguments)},findLastIndex(t,e){return Tn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Tn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ua(this,"includes",t)},indexOf(...t){return Ua(this,"indexOf",t)},join(t){return $s(this).join(t)},lastIndexOf(...t){return Ua(this,"lastIndexOf",t)},map(t,e){return Tn(this,"map",t,e,void 0,arguments)},pop(){return Dr(this,"pop")},push(...t){return Dr(this,"push",t)},reduce(t,...e){return cd(this,"reduce",t,e)},reduceRight(t,...e){return cd(this,"reduceRight",t,e)},shift(){return Dr(this,"shift")},some(t,e){return Tn(this,"some",t,e,void 0,arguments)},splice(...t){return Dr(this,"splice",t)},toReversed(){return $s(this).toReversed()},toSorted(t){return $s(this).toSorted(t)},toSpliced(...t){return $s(this).toSpliced(...t)},unshift(...t){return Dr(this,"unshift",t)},values(){return Ba(this,"values",bt)}};function Ba(t,e,n){const s=jo(t),r=s[e]();return s!==t&&!Qt(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const my=Array.prototype;function Tn(t,e,n,s,r,i){const o=jo(t),a=o!==t&&!Qt(t),u=o[e];if(u!==my[e]){const f=u.apply(t,i);return a?bt(f):f}let c=n;o!==t&&(a?c=function(f,p){return n.call(this,bt(f),p,t)}:n.length>2&&(c=function(f,p){return n.call(this,f,p,t)}));const d=u.call(o,c,s);return a&&r?r(d):d}function cd(t,e,n,s){const r=jo(t);let i=n;return r!==t&&(Qt(t)?n.length>3&&(i=function(o,a,u){return n.call(this,o,a,u,t)}):i=function(o,a,u){return n.call(this,o,bt(a),u,t)}),r[e](i,...s)}function Ua(t,e,n){const s=Me(t);wt(s,"iterate",ni);const r=s[e](...n);return(r===-1||r===!1)&&fu(n[0])?(n[0]=Me(n[0]),s[e](...n)):r}function Dr(t,e,n=[]){ls(),ou();const s=Me(t)[e].apply(t,n);return au(),us(),s}const gy=nu("__proto__,__v_isRef,__isVue"),Bh=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Nn));function vy(t){Nn(t)||(t=String(t));const e=Me(this);return wt(e,"has",t),e.hasOwnProperty(t)}class Uh{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?Cy:Gh:i?qh:zh).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=ge(e);if(!r){let u;if(o&&(u=py[n]))return u;if(n==="hasOwnProperty")return vy}const a=Reflect.get(e,n,St(e)?e:s);return(Nn(n)?Bh.has(n):gy(n))||(r||wt(e,"get",n),i)?a:St(a)?o&&iu(n)?a:a.value:ze(a)?r?Wh(a):vi(a):a}}class jh extends Uh{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const u=Is(i);if(!Qt(s)&&!Is(s)&&(i=Me(i),s=Me(s)),!ge(e)&&St(i)&&!St(s))return u?!1:(i.value=s,!0)}const o=ge(e)&&iu(n)?Number(n)<e.length:Oe(e,n),a=Reflect.set(e,n,s,St(e)?e:r);return e===Me(r)&&(o?Qn(s,i)&&Cn(e,"set",n,s):Cn(e,"add",n,s)),a}deleteProperty(e,n){const s=Oe(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&Cn(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!Nn(n)||!Bh.has(n))&&wt(e,"has",n),s}ownKeys(e){return wt(e,"iterate",ge(e)?"length":Ss),Reflect.ownKeys(e)}}class yy extends Uh{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const _y=new jh,wy=new yy,by=new jh(!0);const _l=t=>t,Ui=t=>Reflect.getPrototypeOf(t);function Ey(t,e,n){return function(...s){const r=this.__v_raw,i=Me(r),o=Ks(i),a=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,c=r[t](...s),d=n?_l:e?wl:bt;return!e&&wt(i,"iterate",u?yl:Ss),{next(){const{value:f,done:p}=c.next();return p?{value:f,done:p}:{value:a?[d(f[0]),d(f[1])]:d(f),done:p}},[Symbol.iterator](){return this}}}}function ji(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Ty(t,e){const n={get(r){const i=this.__v_raw,o=Me(i),a=Me(r);t||(Qn(r,a)&&wt(o,"get",r),wt(o,"get",a));const{has:u}=Ui(o),c=e?_l:t?wl:bt;if(u.call(o,r))return c(i.get(r));if(u.call(o,a))return c(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&wt(Me(r),"iterate",Ss),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=Me(i),a=Me(r);return t||(Qn(r,a)&&wt(o,"has",r),wt(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,u=Me(a),c=e?_l:t?wl:bt;return!t&&wt(u,"iterate",Ss),a.forEach((d,f)=>r.call(i,c(d),c(f),o))}};return It(n,t?{add:ji("add"),set:ji("set"),delete:ji("delete"),clear:ji("clear")}:{add(r){!e&&!Qt(r)&&!Is(r)&&(r=Me(r));const i=Me(this);return Ui(i).has.call(i,r)||(i.add(r),Cn(i,"add",r,r)),this},set(r,i){!e&&!Qt(i)&&!Is(i)&&(i=Me(i));const o=Me(this),{has:a,get:u}=Ui(o);let c=a.call(o,r);c||(r=Me(r),c=a.call(o,r));const d=u.call(o,r);return o.set(r,i),c?Qn(i,d)&&Cn(o,"set",r,i):Cn(o,"add",r,i),this},delete(r){const i=Me(this),{has:o,get:a}=Ui(i);let u=o.call(i,r);u||(r=Me(r),u=o.call(i,r)),a&&a.call(i,r);const c=i.delete(r);return u&&Cn(i,"delete",r,void 0),c},clear(){const r=Me(this),i=r.size!==0,o=r.clear();return i&&Cn(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Ey(r,t,e)}),n}function cu(t,e){const n=Ty(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Oe(n,r)&&r in s?n:s,r,i)}const Sy={get:cu(!1,!1)},Iy={get:cu(!1,!0)},Ay={get:cu(!0,!1)};const zh=new WeakMap,qh=new WeakMap,Gh=new WeakMap,Cy=new WeakMap;function xy(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Py(t){return t.__v_skip||!Object.isExtensible(t)?0:xy(ty(t))}function vi(t){return Is(t)?t:du(t,!1,_y,Sy,zh)}function Hh(t){return du(t,!1,by,Iy,qh)}function Wh(t){return du(t,!0,wy,Ay,Gh)}function du(t,e,n,s,r){if(!ze(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=Py(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function Qs(t){return Is(t)?Qs(t.__v_raw):!!(t&&t.__v_isReactive)}function Is(t){return!!(t&&t.__v_isReadonly)}function Qt(t){return!!(t&&t.__v_isShallow)}function fu(t){return t?!!t.__v_raw:!1}function Me(t){const e=t&&t.__v_raw;return e?Me(e):t}function Ry(t){return!Oe(t,"__v_skip")&&Object.isExtensible(t)&&xh(t,"__v_skip",!0),t}const bt=t=>ze(t)?vi(t):t,wl=t=>ze(t)?Wh(t):t;function St(t){return t?t.__v_isRef===!0:!1}function Se(t){return Kh(t,!1)}function Vy(t){return Kh(t,!0)}function Kh(t,e){return St(t)?t:new ky(t,e)}class ky{constructor(e,n){this.dep=new uu,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Me(e),this._value=n?e:bt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Qt(e)||Is(e);e=s?e:Me(e),Qn(e,n)&&(this._rawValue=e,this._value=s?e:bt(e),this.dep.trigger())}}function Yt(t){return St(t)?t.value:t}const Dy={get:(t,e,n)=>e==="__v_raw"?t:Yt(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return St(r)&&!St(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function Qh(t){return Qs(t)?t:new Proxy(t,Dy)}class My{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new uu(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ti-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&$e!==this)return Mh(this,!0),!0}get value(){const e=this.dep.track();return Lh(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Oy(t,e,n=!1){let s,r;return ye(t)?s=t:(s=t.get,r=t.set),new My(s,r,n)}const zi={},lo=new WeakMap;let ws;function Ny(t,e=!1,n=ws){if(n){let s=lo.get(n);s||lo.set(n,s=[]),s.push(t)}}function Ly(t,e,n=Fe){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:u}=n,c=x=>r?x:Qt(x)||r===!1||r===0?xn(x,1):xn(x);let d,f,p,g,_=!1,S=!1;if(St(t)?(f=()=>t.value,_=Qt(t)):Qs(t)?(f=()=>c(t),_=!0):ge(t)?(S=!0,_=t.some(x=>Qs(x)||Qt(x)),f=()=>t.map(x=>{if(St(x))return x.value;if(Qs(x))return c(x);if(ye(x))return u?u(x,2):x()})):ye(t)?e?f=u?()=>u(t,2):t:f=()=>{if(p){ls();try{p()}finally{us()}}const x=ws;ws=d;try{return u?u(t,3,[g]):t(g)}finally{ws=x}}:f=dn,e&&r){const x=f,N=r===!0?1/0:r;f=()=>xn(x(),N)}const I=dy(),V=()=>{d.stop(),I&&I.active&&ru(I.effects,d)};if(i&&e){const x=e;e=(...N)=>{x(...N),V()}}let v=S?new Array(t.length).fill(zi):zi;const y=x=>{if(!(!(d.flags&1)||!d.dirty&&!x))if(e){const N=d.run();if(r||_||(S?N.some((q,P)=>Qn(q,v[P])):Qn(N,v))){p&&p();const q=ws;ws=d;try{const P=[N,v===zi?void 0:S&&v[0]===zi?[]:v,g];u?u(e,3,P):e(...P),v=N}finally{ws=q}}}else d.run()};return a&&a(y),d=new kh(f),d.scheduler=o?()=>o(y,!1):y,g=x=>Ny(x,!1,d),p=d.onStop=()=>{const x=lo.get(d);if(x){if(u)u(x,4);else for(const N of x)N();lo.delete(d)}},e?s?y(!0):v=d.run():o?o(y.bind(null,!0),!0):d.run(),V.pause=d.pause.bind(d),V.resume=d.resume.bind(d),V.stop=V,V}function xn(t,e=1/0,n){if(e<=0||!ze(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,St(t))xn(t.value,e,n);else if(ge(t))for(let s=0;s<t.length;s++)xn(t[s],e,n);else if(Sh(t)||Ks(t))t.forEach(s=>{xn(s,e,n)});else if(Ch(t)){for(const s in t)xn(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&xn(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function yi(t,e,n,s){try{return s?t(...s):t()}catch(r){zo(r,e,n)}}function mn(t,e,n,s){if(ye(t)){const r=yi(t,e,n,s);return r&&Ih(r)&&r.catch(i=>{zo(i,e,n)}),r}if(ge(t)){const r=[];for(let i=0;i<t.length;i++)r.push(mn(t[i],e,n,s));return r}}function zo(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Fe;if(e){let a=e.parent;const u=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](t,u,c)===!1)return}a=a.parent}if(i){ls(),yi(i,null,10,[t,u,c]),us();return}}Fy(t,n,r,s,o)}function Fy(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const xt=[];let an=-1;const Ys=[];let qn=null,Bs=0;const Yh=Promise.resolve();let uo=null;function hu(t){const e=uo||Yh;return t?e.then(this?t.bind(this):t):e}function $y(t){let e=an+1,n=xt.length;for(;e<n;){const s=e+n>>>1,r=xt[s],i=si(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function pu(t){if(!(t.flags&1)){const e=si(t),n=xt[xt.length-1];!n||!(t.flags&2)&&e>=si(n)?xt.push(t):xt.splice($y(e),0,t),t.flags|=1,Xh()}}function Xh(){uo||(uo=Yh.then(Zh))}function By(t){ge(t)?Ys.push(...t):qn&&t.id===-1?qn.splice(Bs+1,0,t):t.flags&1||(Ys.push(t),t.flags|=1),Xh()}function dd(t,e,n=an+1){for(;n<xt.length;n++){const s=xt[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;xt.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Jh(t){if(Ys.length){const e=[...new Set(Ys)].sort((n,s)=>si(n)-si(s));if(Ys.length=0,qn){qn.push(...e);return}for(qn=e,Bs=0;Bs<qn.length;Bs++){const n=qn[Bs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}qn=null,Bs=0}}const si=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Zh(t){try{for(an=0;an<xt.length;an++){const e=xt[an];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),yi(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;an<xt.length;an++){const e=xt[an];e&&(e.flags&=-2)}an=-1,xt.length=0,Jh(),uo=null,(xt.length||Ys.length)&&Zh()}}let ft=null,ep=null;function co(t){const e=ft;return ft=t,ep=t&&t.type.__scopeId||null,e}function rt(t,e=ft,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&bd(-1);const i=co(e);let o;try{o=t(...r)}finally{co(i),s._d&&bd(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Pn(t,e){if(ft===null)return t;const n=Qo(ft),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,u=Fe]=e[r];i&&(ye(i)&&(i={mounted:i,updated:i}),i.deep&&xn(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:u}))}return t}function ys(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let u=a.dir[s];u&&(ls(),mn(u,n,8,[t.el,a,t,e]),us())}}const Uy=Symbol("_vte"),jy=t=>t.__isTeleport;function mu(t,e){t.shapeFlag&6&&t.component?(t.transition=e,mu(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function tp(t,e){return ye(t)?It({name:t.name},e,{setup:t}):t}function np(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function fo(t,e,n,s,r=!1){if(ge(t)){t.forEach((_,S)=>fo(_,e&&(ge(e)?e[S]:e),n,s,r));return}if(Xs(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&fo(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?Qo(s.component):s.el,o=r?null:i,{i:a,r:u}=t,c=e&&e.r,d=a.refs===Fe?a.refs={}:a.refs,f=a.setupState,p=Me(f),g=f===Fe?()=>!1:_=>Oe(p,_);if(c!=null&&c!==u&&(Qe(c)?(d[c]=null,g(c)&&(f[c]=null)):St(c)&&(c.value=null)),ye(u))yi(u,a,12,[o,d]);else{const _=Qe(u),S=St(u);if(_||S){const I=()=>{if(t.f){const V=_?g(u)?f[u]:d[u]:u.value;r?ge(V)&&ru(V,i):ge(V)?V.includes(i)||V.push(i):_?(d[u]=[i],g(u)&&(f[u]=d[u])):(u.value=[i],t.k&&(d[t.k]=u.value))}else _?(d[u]=o,g(u)&&(f[u]=o)):S&&(u.value=o,t.k&&(d[t.k]=o))};o?(I.id=-1,$t(I,n)):I()}}}Bo().requestIdleCallback;Bo().cancelIdleCallback;const Xs=t=>!!t.type.__asyncLoader,sp=t=>t.type.__isKeepAlive;function zy(t,e){rp(t,"a",e)}function qy(t,e){rp(t,"da",e)}function rp(t,e,n=Tt){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(qo(e,s,n),n){let r=n.parent;for(;r&&r.parent;)sp(r.parent.vnode)&&Gy(s,e,n,r),r=r.parent}}function Gy(t,e,n,s){const r=qo(e,t,s,!0);op(()=>{ru(s[e],r)},n)}function qo(t,e,n=Tt,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{ls();const a=_i(n),u=mn(e,n,t,o);return a(),us(),u});return s?r.unshift(i):r.push(i),i}}const Ln=t=>(e,n=Tt)=>{(!oi||t==="sp")&&qo(t,(...s)=>e(...s),n)},Hy=Ln("bm"),Gt=Ln("m"),ip=Ln("bu"),gu=Ln("u"),Go=Ln("bum"),op=Ln("um"),Wy=Ln("sp"),Ky=Ln("rtg"),Qy=Ln("rtc");function Yy(t,e=Tt){qo("ec",t,e)}const ap="components";function Ho(t,e){return up(ap,t,!0,e)||t}const lp=Symbol.for("v-ndc");function Xy(t){return Qe(t)?up(ap,t,!1)||t:t||lp}function up(t,e,n=!0,s=!1){const r=ft||Tt;if(r){const i=r.type;{const a=$_(i,!1);if(a&&(a===e||a===Xt(e)||a===$o(Xt(e))))return i}const o=fd(r[t]||i[t],e)||fd(r.appContext[t],e);return!o&&s?i:o}}function fd(t,e){return t&&(t[e]||t[Xt(e)]||t[$o(Xt(e))])}function lt(t,e,n,s){let r;const i=n,o=ge(t);if(o||Qe(t)){const a=o&&Qs(t);let u=!1;a&&(u=!Qt(t),t=jo(t)),r=new Array(t.length);for(let c=0,d=t.length;c<d;c++)r[c]=e(u?bt(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(ze(t))if(t[Symbol.iterator])r=Array.from(t,(a,u)=>e(a,u,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let u=0,c=a.length;u<c;u++){const d=a[u];r[u]=e(t[d],d,u,i)}}else r=[];return r}function Jy(t,e,n={},s,r){if(ft.ce||ft.parent&&Xs(ft.parent)&&ft.parent.ce)return H(),st(ke,null,[pe("slot",n,s)],64);let i=t[e];i&&i._c&&(i._d=!1),H();const o=i&&cp(i(n)),a=n.key||o&&o.key,u=st(ke,{key:(a&&!Nn(a)?a:`_${e}`)+""},o||[],o&&t._===1?64:-2);return i&&i._c&&(i._d=!0),u}function cp(t){return t.some(e=>ii(e)?!(e.type===es||e.type===ke&&!cp(e.children)):!0)?t:null}const bl=t=>t?Vp(t)?Qo(t):bl(t.parent):null,Hr=It(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>bl(t.parent),$root:t=>bl(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>fp(t),$forceUpdate:t=>t.f||(t.f=()=>{pu(t.update)}),$nextTick:t=>t.n||(t.n=hu.bind(t.proxy)),$watch:t=>__.bind(t)}),ja=(t,e)=>t!==Fe&&!t.__isScriptSetup&&Oe(t,e),Zy={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:u}=t;let c;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(ja(s,e))return o[e]=1,s[e];if(r!==Fe&&Oe(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&Oe(c,e))return o[e]=3,i[e];if(n!==Fe&&Oe(n,e))return o[e]=4,n[e];El&&(o[e]=0)}}const d=Hr[e];let f,p;if(d)return e==="$attrs"&&wt(t.attrs,"get",""),d(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Fe&&Oe(n,e))return o[e]=4,n[e];if(p=u.config.globalProperties,Oe(p,e))return p[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return ja(r,e)?(r[e]=n,!0):s!==Fe&&Oe(s,e)?(s[e]=n,!0):Oe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==Fe&&Oe(t,o)||ja(e,o)||(a=i[0])&&Oe(a,o)||Oe(s,o)||Oe(Hr,o)||Oe(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Oe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function hd(t){return ge(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let El=!0;function e_(t){const e=fp(t),n=t.proxy,s=t.ctx;El=!1,e.beforeCreate&&pd(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:u,inject:c,created:d,beforeMount:f,mounted:p,beforeUpdate:g,updated:_,activated:S,deactivated:I,beforeDestroy:V,beforeUnmount:v,destroyed:y,unmounted:x,render:N,renderTracked:q,renderTriggered:P,errorCaptured:E,serverPrefetch:b,expose:T,inheritAttrs:C,components:M,directives:A,filters:we}=e;if(c&&t_(c,s,null),o)for(const le in o){const ue=o[le];ye(ue)&&(s[le]=ue.bind(n))}if(r){const le=r.call(n,n);ze(le)&&(t.data=vi(le))}if(El=!0,i)for(const le in i){const ue=i[le],qe=ye(ue)?ue.bind(n,n):ye(ue.get)?ue.get.bind(n,n):dn,Rt=!ye(ue)&&ye(ue.set)?ue.set.bind(n):dn,Vt=ct({get:qe,set:Rt});Object.defineProperty(s,le,{enumerable:!0,configurable:!0,get:()=>Vt.value,set:Be=>Vt.value=Be})}if(a)for(const le in a)dp(a[le],s,n,le);if(u){const le=ye(u)?u.call(n):u;Reflect.ownKeys(le).forEach(ue=>{Zs(ue,le[ue])})}d&&pd(d,t,"c");function se(le,ue){ge(ue)?ue.forEach(qe=>le(qe.bind(n))):ue&&le(ue.bind(n))}if(se(Hy,f),se(Gt,p),se(ip,g),se(gu,_),se(zy,S),se(qy,I),se(Yy,E),se(Qy,q),se(Ky,P),se(Go,v),se(op,x),se(Wy,b),ge(T))if(T.length){const le=t.exposed||(t.exposed={});T.forEach(ue=>{Object.defineProperty(le,ue,{get:()=>n[ue],set:qe=>n[ue]=qe})})}else t.exposed||(t.exposed={});N&&t.render===dn&&(t.render=N),C!=null&&(t.inheritAttrs=C),M&&(t.components=M),A&&(t.directives=A),b&&np(t)}function t_(t,e,n=dn){ge(t)&&(t=Tl(t));for(const s in t){const r=t[s];let i;ze(r)?"default"in r?i=tn(r.from||s,r.default,!0):i=tn(r.from||s):i=tn(r),St(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function pd(t,e,n){mn(ge(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function dp(t,e,n,s){let r=s.includes(".")?Ap(n,s):()=>n[s];if(Qe(t)){const i=e[t];ye(i)&&er(r,i)}else if(ye(t))er(r,t.bind(n));else if(ze(t))if(ge(t))t.forEach(i=>dp(i,e,n,s));else{const i=ye(t.handler)?t.handler.bind(n):e[t.handler];ye(i)&&er(r,i,t)}}function fp(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let u;return a?u=a:!r.length&&!n&&!s?u=e:(u={},r.length&&r.forEach(c=>ho(u,c,o,!0)),ho(u,e,o)),ze(e)&&i.set(e,u),u}function ho(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&ho(t,i,n,!0),r&&r.forEach(o=>ho(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=n_[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const n_={data:md,props:gd,emits:gd,methods:Fr,computed:Fr,beforeCreate:Ct,created:Ct,beforeMount:Ct,mounted:Ct,beforeUpdate:Ct,updated:Ct,beforeDestroy:Ct,beforeUnmount:Ct,destroyed:Ct,unmounted:Ct,activated:Ct,deactivated:Ct,errorCaptured:Ct,serverPrefetch:Ct,components:Fr,directives:Fr,watch:r_,provide:md,inject:s_};function md(t,e){return e?t?function(){return It(ye(t)?t.call(this,this):t,ye(e)?e.call(this,this):e)}:e:t}function s_(t,e){return Fr(Tl(t),Tl(e))}function Tl(t){if(ge(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ct(t,e){return t?[...new Set([].concat(t,e))]:e}function Fr(t,e){return t?It(Object.create(null),t,e):e}function gd(t,e){return t?ge(t)&&ge(e)?[...new Set([...t,...e])]:It(Object.create(null),hd(t),hd(e??{})):e}function r_(t,e){if(!t)return e;if(!e)return t;const n=It(Object.create(null),t);for(const s in e)n[s]=Ct(t[s],e[s]);return n}function hp(){return{app:null,config:{isNativeTag:Zv,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let i_=0;function o_(t,e){return function(s,r=null){ye(s)||(s=It({},s)),r!=null&&!ze(r)&&(r=null);const i=hp(),o=new WeakSet,a=[];let u=!1;const c=i.app={_uid:i_++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:U_,get config(){return i.config},set config(d){},use(d,...f){return o.has(d)||(d&&ye(d.install)?(o.add(d),d.install(c,...f)):ye(d)&&(o.add(d),d(c,...f))),c},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),c},component(d,f){return f?(i.components[d]=f,c):i.components[d]},directive(d,f){return f?(i.directives[d]=f,c):i.directives[d]},mount(d,f,p){if(!u){const g=c._ceVNode||pe(s,r);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),t(g,d,p),u=!0,c._container=d,d.__vue_app__=c,Qo(g.component)}},onUnmount(d){a.push(d)},unmount(){u&&(mn(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(d,f){return i.provides[d]=f,c},runWithContext(d){const f=Js;Js=c;try{return d()}finally{Js=f}}};return c}}let Js=null;function Zs(t,e){if(Tt){let n=Tt.provides;const s=Tt.parent&&Tt.parent.provides;s===n&&(n=Tt.provides=Object.create(s)),n[t]=e}}function tn(t,e,n=!1){const s=Tt||ft;if(s||Js){const r=Js?Js._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&ye(e)?e.call(s&&s.proxy):e}}const pp={},mp=()=>Object.create(pp),gp=t=>Object.getPrototypeOf(t)===pp;function a_(t,e,n,s=!1){const r={},i=mp();t.propsDefaults=Object.create(null),vp(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:Hh(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function l_(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=Me(r),[u]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let p=d[f];if(Wo(t.emitsOptions,p))continue;const g=e[p];if(u)if(Oe(i,p))g!==i[p]&&(i[p]=g,c=!0);else{const _=Xt(p);r[_]=Sl(u,a,_,g,t,!1)}else g!==i[p]&&(i[p]=g,c=!0)}}}else{vp(t,e,r,i)&&(c=!0);let d;for(const f in a)(!e||!Oe(e,f)&&((d=Vs(f))===f||!Oe(e,d)))&&(u?n&&(n[f]!==void 0||n[d]!==void 0)&&(r[f]=Sl(u,a,f,void 0,t,!0)):delete r[f]);if(i!==a)for(const f in i)(!e||!Oe(e,f))&&(delete i[f],c=!0)}c&&Cn(t.attrs,"set","")}function vp(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let u in e){if(zr(u))continue;const c=e[u];let d;r&&Oe(r,d=Xt(u))?!i||!i.includes(d)?n[d]=c:(a||(a={}))[d]=c:Wo(t.emitsOptions,u)||(!(u in s)||c!==s[u])&&(s[u]=c,o=!0)}if(i){const u=Me(n),c=a||Fe;for(let d=0;d<i.length;d++){const f=i[d];n[f]=Sl(r,u,f,c[f],t,!Oe(c,f))}}return o}function Sl(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=Oe(o,"default");if(a&&s===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&ye(u)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const d=_i(r);s=c[n]=u.call(null,e),d()}}else s=u;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Vs(n))&&(s=!0))}return s}const u_=new WeakMap;function yp(t,e,n=!1){const s=n?u_:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let u=!1;if(!ye(t)){const d=f=>{u=!0;const[p,g]=yp(f,e,!0);It(o,p),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!u)return ze(t)&&s.set(t,Ws),Ws;if(ge(i))for(let d=0;d<i.length;d++){const f=Xt(i[d]);vd(f)&&(o[f]=Fe)}else if(i)for(const d in i){const f=Xt(d);if(vd(f)){const p=i[d],g=o[f]=ge(p)||ye(p)?{type:p}:It({},p),_=g.type;let S=!1,I=!0;if(ge(_))for(let V=0;V<_.length;++V){const v=_[V],y=ye(v)&&v.name;if(y==="Boolean"){S=!0;break}else y==="String"&&(I=!1)}else S=ye(_)&&_.name==="Boolean";g[0]=S,g[1]=I,(S||Oe(g,"default"))&&a.push(f)}}const c=[o,a];return ze(t)&&s.set(t,c),c}function vd(t){return t[0]!=="$"&&!zr(t)}const _p=t=>t[0]==="_"||t==="$stable",vu=t=>ge(t)?t.map(un):[un(t)],c_=(t,e,n)=>{if(e._n)return e;const s=rt((...r)=>vu(e(...r)),n);return s._c=!1,s},wp=(t,e,n)=>{const s=t._ctx;for(const r in t){if(_p(r))continue;const i=t[r];if(ye(i))e[r]=c_(r,i,s);else if(i!=null){const o=vu(i);e[r]=()=>o}}},bp=(t,e)=>{const n=vu(e);t.slots.default=()=>n},Ep=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},d_=(t,e,n)=>{const s=t.slots=mp();if(t.vnode.shapeFlag&32){const r=e._;r?(Ep(s,e,n),n&&xh(s,"_",r,!0)):wp(e,s)}else e&&bp(t,e)},f_=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Fe;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:Ep(r,e,n):(i=!e.$stable,wp(e,r)),o=e}else e&&(bp(t,e),o={default:1});if(i)for(const a in r)!_p(a)&&o[a]==null&&delete r[a]},$t=A_;function h_(t){return p_(t)}function p_(t,e){const n=Bo();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:u,setText:c,setElementText:d,parentNode:f,nextSibling:p,setScopeId:g=dn,insertStaticContent:_}=t,S=(R,D,O,B=null,z=null,U=null,J=void 0,Y=null,K=!!D.dynamicChildren)=>{if(R===D)return;R&&!Mr(R,D)&&(B=$(R),Be(R,z,U,!0),R=null),D.patchFlag===-2&&(K=!1,D.dynamicChildren=null);const{type:W,ref:ce,shapeFlag:ee}=D;switch(W){case Ko:I(R,D,O,B);break;case es:V(R,D,O,B);break;case Ji:R==null&&v(D,O,B,J);break;case ke:M(R,D,O,B,z,U,J,Y,K);break;default:ee&1?N(R,D,O,B,z,U,J,Y,K):ee&6?A(R,D,O,B,z,U,J,Y,K):(ee&64||ee&128)&&W.process(R,D,O,B,z,U,J,Y,K,re)}ce!=null&&z&&fo(ce,R&&R.ref,U,D||R,!D)},I=(R,D,O,B)=>{if(R==null)s(D.el=a(D.children),O,B);else{const z=D.el=R.el;D.children!==R.children&&c(z,D.children)}},V=(R,D,O,B)=>{R==null?s(D.el=u(D.children||""),O,B):D.el=R.el},v=(R,D,O,B)=>{[R.el,R.anchor]=_(R.children,D,O,B,R.el,R.anchor)},y=({el:R,anchor:D},O,B)=>{let z;for(;R&&R!==D;)z=p(R),s(R,O,B),R=z;s(D,O,B)},x=({el:R,anchor:D})=>{let O;for(;R&&R!==D;)O=p(R),r(R),R=O;r(D)},N=(R,D,O,B,z,U,J,Y,K)=>{D.type==="svg"?J="svg":D.type==="math"&&(J="mathml"),R==null?q(D,O,B,z,U,J,Y,K):b(R,D,z,U,J,Y,K)},q=(R,D,O,B,z,U,J,Y)=>{let K,W;const{props:ce,shapeFlag:ee,transition:oe,dirs:he}=R;if(K=R.el=o(R.type,U,ce&&ce.is,ce),ee&8?d(K,R.children):ee&16&&E(R.children,K,null,B,z,za(R,U),J,Y),he&&ys(R,null,B,"created"),P(K,R,R.scopeId,J,B),ce){for(const _e in ce)_e!=="value"&&!zr(_e)&&i(K,_e,null,ce[_e],U,B);"value"in ce&&i(K,"value",null,ce.value,U),(W=ce.onVnodeBeforeMount)&&on(W,B,R)}he&&ys(R,null,B,"beforeMount");const de=m_(z,oe);de&&oe.beforeEnter(K),s(K,D,O),((W=ce&&ce.onVnodeMounted)||de||he)&&$t(()=>{W&&on(W,B,R),de&&oe.enter(K),he&&ys(R,null,B,"mounted")},z)},P=(R,D,O,B,z)=>{if(O&&g(R,O),B)for(let U=0;U<B.length;U++)g(R,B[U]);if(z){let U=z.subTree;if(D===U||xp(U.type)&&(U.ssContent===D||U.ssFallback===D)){const J=z.vnode;P(R,J,J.scopeId,J.slotScopeIds,z.parent)}}},E=(R,D,O,B,z,U,J,Y,K=0)=>{for(let W=K;W<R.length;W++){const ce=R[W]=Y?Gn(R[W]):un(R[W]);S(null,ce,D,O,B,z,U,J,Y)}},b=(R,D,O,B,z,U,J)=>{const Y=D.el=R.el;let{patchFlag:K,dynamicChildren:W,dirs:ce}=D;K|=R.patchFlag&16;const ee=R.props||Fe,oe=D.props||Fe;let he;if(O&&_s(O,!1),(he=oe.onVnodeBeforeUpdate)&&on(he,O,D,R),ce&&ys(D,R,O,"beforeUpdate"),O&&_s(O,!0),(ee.innerHTML&&oe.innerHTML==null||ee.textContent&&oe.textContent==null)&&d(Y,""),W?T(R.dynamicChildren,W,Y,O,B,za(D,z),U):J||ue(R,D,Y,null,O,B,za(D,z),U,!1),K>0){if(K&16)C(Y,ee,oe,O,z);else if(K&2&&ee.class!==oe.class&&i(Y,"class",null,oe.class,z),K&4&&i(Y,"style",ee.style,oe.style,z),K&8){const de=D.dynamicProps;for(let _e=0;_e<de.length;_e++){const Ae=de[_e],pt=ee[Ae],it=oe[Ae];(it!==pt||Ae==="value")&&i(Y,Ae,pt,it,z,O)}}K&1&&R.children!==D.children&&d(Y,D.children)}else!J&&W==null&&C(Y,ee,oe,O,z);((he=oe.onVnodeUpdated)||ce)&&$t(()=>{he&&on(he,O,D,R),ce&&ys(D,R,O,"updated")},B)},T=(R,D,O,B,z,U,J)=>{for(let Y=0;Y<D.length;Y++){const K=R[Y],W=D[Y],ce=K.el&&(K.type===ke||!Mr(K,W)||K.shapeFlag&70)?f(K.el):O;S(K,W,ce,null,B,z,U,J,!0)}},C=(R,D,O,B,z)=>{if(D!==O){if(D!==Fe)for(const U in D)!zr(U)&&!(U in O)&&i(R,U,D[U],null,z,B);for(const U in O){if(zr(U))continue;const J=O[U],Y=D[U];J!==Y&&U!=="value"&&i(R,U,Y,J,z,B)}"value"in O&&i(R,"value",D.value,O.value,z)}},M=(R,D,O,B,z,U,J,Y,K)=>{const W=D.el=R?R.el:a(""),ce=D.anchor=R?R.anchor:a("");let{patchFlag:ee,dynamicChildren:oe,slotScopeIds:he}=D;he&&(Y=Y?Y.concat(he):he),R==null?(s(W,O,B),s(ce,O,B),E(D.children||[],O,ce,z,U,J,Y,K)):ee>0&&ee&64&&oe&&R.dynamicChildren?(T(R.dynamicChildren,oe,O,z,U,J,Y),(D.key!=null||z&&D===z.subTree)&&Tp(R,D,!0)):ue(R,D,O,ce,z,U,J,Y,K)},A=(R,D,O,B,z,U,J,Y,K)=>{D.slotScopeIds=Y,R==null?D.shapeFlag&512?z.ctx.activate(D,O,B,J,K):we(D,O,B,z,U,J,K):Te(R,D,K)},we=(R,D,O,B,z,U,J)=>{const Y=R.component=M_(R,B,z);if(sp(R)&&(Y.ctx.renderer=re),O_(Y,!1,J),Y.asyncDep){if(z&&z.registerDep(Y,se,J),!R.el){const K=Y.subTree=pe(es);V(null,K,D,O)}}else se(Y,R,D,O,z,U,J)},Te=(R,D,O)=>{const B=D.component=R.component;if(S_(R,D,O))if(B.asyncDep&&!B.asyncResolved){le(B,D,O);return}else B.next=D,B.update();else D.el=R.el,B.vnode=D},se=(R,D,O,B,z,U,J)=>{const Y=()=>{if(R.isMounted){let{next:ee,bu:oe,u:he,parent:de,vnode:_e}=R;{const mt=Sp(R);if(mt){ee&&(ee.el=_e.el,le(R,ee,J)),mt.asyncDep.then(()=>{R.isUnmounted||Y()});return}}let Ae=ee,pt;_s(R,!1),ee?(ee.el=_e.el,le(R,ee,J)):ee=_e,oe&&Xi(oe),(pt=ee.props&&ee.props.onVnodeBeforeUpdate)&&on(pt,de,ee,_e),_s(R,!0);const it=_d(R),Ht=R.subTree;R.subTree=it,S(Ht,it,f(Ht.el),$(Ht),R,z,U),ee.el=it.el,Ae===null&&I_(R,it.el),he&&$t(he,z),(pt=ee.props&&ee.props.onVnodeUpdated)&&$t(()=>on(pt,de,ee,_e),z)}else{let ee;const{el:oe,props:he}=D,{bm:de,m:_e,parent:Ae,root:pt,type:it}=R,Ht=Xs(D);_s(R,!1),de&&Xi(de),!Ht&&(ee=he&&he.onVnodeBeforeMount)&&on(ee,Ae,D),_s(R,!0);{pt.ce&&pt.ce._injectChildStyle(it);const mt=R.subTree=_d(R);S(null,mt,O,B,R,z,U),D.el=mt.el}if(_e&&$t(_e,z),!Ht&&(ee=he&&he.onVnodeMounted)){const mt=D;$t(()=>on(ee,Ae,mt),z)}(D.shapeFlag&256||Ae&&Xs(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&R.a&&$t(R.a,z),R.isMounted=!0,D=O=B=null}};R.scope.on();const K=R.effect=new kh(Y);R.scope.off();const W=R.update=K.run.bind(K),ce=R.job=K.runIfDirty.bind(K);ce.i=R,ce.id=R.uid,K.scheduler=()=>pu(ce),_s(R,!0),W()},le=(R,D,O)=>{D.component=R;const B=R.vnode.props;R.vnode=D,R.next=null,l_(R,D.props,B,O),f_(R,D.children,O),ls(),dd(R),us()},ue=(R,D,O,B,z,U,J,Y,K=!1)=>{const W=R&&R.children,ce=R?R.shapeFlag:0,ee=D.children,{patchFlag:oe,shapeFlag:he}=D;if(oe>0){if(oe&128){Rt(W,ee,O,B,z,U,J,Y,K);return}else if(oe&256){qe(W,ee,O,B,z,U,J,Y,K);return}}he&8?(ce&16&&kt(W,z,U),ee!==W&&d(O,ee)):ce&16?he&16?Rt(W,ee,O,B,z,U,J,Y,K):kt(W,z,U,!0):(ce&8&&d(O,""),he&16&&E(ee,O,B,z,U,J,Y,K))},qe=(R,D,O,B,z,U,J,Y,K)=>{R=R||Ws,D=D||Ws;const W=R.length,ce=D.length,ee=Math.min(W,ce);let oe;for(oe=0;oe<ee;oe++){const he=D[oe]=K?Gn(D[oe]):un(D[oe]);S(R[oe],he,O,null,z,U,J,Y,K)}W>ce?kt(R,z,U,!0,!1,ee):E(D,O,B,z,U,J,Y,K,ee)},Rt=(R,D,O,B,z,U,J,Y,K)=>{let W=0;const ce=D.length;let ee=R.length-1,oe=ce-1;for(;W<=ee&&W<=oe;){const he=R[W],de=D[W]=K?Gn(D[W]):un(D[W]);if(Mr(he,de))S(he,de,O,null,z,U,J,Y,K);else break;W++}for(;W<=ee&&W<=oe;){const he=R[ee],de=D[oe]=K?Gn(D[oe]):un(D[oe]);if(Mr(he,de))S(he,de,O,null,z,U,J,Y,K);else break;ee--,oe--}if(W>ee){if(W<=oe){const he=oe+1,de=he<ce?D[he].el:B;for(;W<=oe;)S(null,D[W]=K?Gn(D[W]):un(D[W]),O,de,z,U,J,Y,K),W++}}else if(W>oe)for(;W<=ee;)Be(R[W],z,U,!0),W++;else{const he=W,de=W,_e=new Map;for(W=de;W<=oe;W++){const ot=D[W]=K?Gn(D[W]):un(D[W]);ot.key!=null&&_e.set(ot.key,W)}let Ae,pt=0;const it=oe-de+1;let Ht=!1,mt=0;const $n=new Array(it);for(W=0;W<it;W++)$n[W]=0;for(W=he;W<=ee;W++){const ot=R[W];if(pt>=it){Be(ot,z,U,!0);continue}let Wt;if(ot.key!=null)Wt=_e.get(ot.key);else for(Ae=de;Ae<=oe;Ae++)if($n[Ae-de]===0&&Mr(ot,D[Ae])){Wt=Ae;break}Wt===void 0?Be(ot,z,U,!0):($n[Wt-de]=W+1,Wt>=mt?mt=Wt:Ht=!0,S(ot,D[Wt],O,null,z,U,J,Y,K),pt++)}const wr=Ht?g_($n):Ws;for(Ae=wr.length-1,W=it-1;W>=0;W--){const ot=de+W,Wt=D[ot],Ii=ot+1<ce?D[ot+1].el:B;$n[W]===0?S(null,Wt,O,Ii,z,U,J,Y,K):Ht&&(Ae<0||W!==wr[Ae]?Vt(Wt,O,Ii,2):Ae--)}}},Vt=(R,D,O,B,z=null)=>{const{el:U,type:J,transition:Y,children:K,shapeFlag:W}=R;if(W&6){Vt(R.component.subTree,D,O,B);return}if(W&128){R.suspense.move(D,O,B);return}if(W&64){J.move(R,D,O,re);return}if(J===ke){s(U,D,O);for(let ee=0;ee<K.length;ee++)Vt(K[ee],D,O,B);s(R.anchor,D,O);return}if(J===Ji){y(R,D,O);return}if(B!==2&&W&1&&Y)if(B===0)Y.beforeEnter(U),s(U,D,O),$t(()=>Y.enter(U),z);else{const{leave:ee,delayLeave:oe,afterLeave:he}=Y,de=()=>s(U,D,O),_e=()=>{ee(U,()=>{de(),he&&he()})};oe?oe(U,de,_e):_e()}else s(U,D,O)},Be=(R,D,O,B=!1,z=!1)=>{const{type:U,props:J,ref:Y,children:K,dynamicChildren:W,shapeFlag:ce,patchFlag:ee,dirs:oe,cacheIndex:he}=R;if(ee===-2&&(z=!1),Y!=null&&fo(Y,null,O,R,!0),he!=null&&(D.renderCache[he]=void 0),ce&256){D.ctx.deactivate(R);return}const de=ce&1&&oe,_e=!Xs(R);let Ae;if(_e&&(Ae=J&&J.onVnodeBeforeUnmount)&&on(Ae,D,R),ce&6)rn(R.component,O,B);else{if(ce&128){R.suspense.unmount(O,B);return}de&&ys(R,null,D,"beforeUnmount"),ce&64?R.type.remove(R,D,O,re,B):W&&!W.hasOnce&&(U!==ke||ee>0&&ee&64)?kt(W,D,O,!1,!0):(U===ke&&ee&384||!z&&ce&16)&&kt(K,D,O),B&&Ge(R)}(_e&&(Ae=J&&J.onVnodeUnmounted)||de)&&$t(()=>{Ae&&on(Ae,D,R),de&&ys(R,null,D,"unmounted")},O)},Ge=R=>{const{type:D,el:O,anchor:B,transition:z}=R;if(D===ke){Fn(O,B);return}if(D===Ji){x(R);return}const U=()=>{r(O),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(R.shapeFlag&1&&z&&!z.persisted){const{leave:J,delayLeave:Y}=z,K=()=>J(O,U);Y?Y(R.el,U,K):K()}else U()},Fn=(R,D)=>{let O;for(;R!==D;)O=p(R),r(R),R=O;r(D)},rn=(R,D,O)=>{const{bum:B,scope:z,job:U,subTree:J,um:Y,m:K,a:W}=R;yd(K),yd(W),B&&Xi(B),z.stop(),U&&(U.flags|=8,Be(J,R,D,O)),Y&&$t(Y,D),$t(()=>{R.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},kt=(R,D,O,B=!1,z=!1,U=0)=>{for(let J=U;J<R.length;J++)Be(R[J],D,O,B,z)},$=R=>{if(R.shapeFlag&6)return $(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const D=p(R.anchor||R.el),O=D&&D[Uy];return O?p(O):D};let te=!1;const Z=(R,D,O)=>{R==null?D._vnode&&Be(D._vnode,null,null,!0):S(D._vnode||null,R,D,null,null,null,O),D._vnode=R,te||(te=!0,dd(),Jh(),te=!1)},re={p:S,um:Be,m:Vt,r:Ge,mt:we,mc:E,pc:ue,pbc:T,n:$,o:t};return{render:Z,hydrate:void 0,createApp:o_(Z)}}function za({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function _s({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function m_(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Tp(t,e,n=!1){const s=t.children,r=e.children;if(ge(s)&&ge(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Gn(r[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Tp(o,a)),a.type===Ko&&(a.el=o.el)}}function g_(t){const e=t.slice(),n=[0];let s,r,i,o,a;const u=t.length;for(s=0;s<u;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Sp(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Sp(e)}function yd(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const v_=Symbol.for("v-scx"),y_=()=>tn(v_);function er(t,e,n){return Ip(t,e,n)}function Ip(t,e,n=Fe){const{immediate:s,deep:r,flush:i,once:o}=n,a=It({},n),u=e&&s||!e&&i!=="post";let c;if(oi){if(i==="sync"){const g=y_();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!u){const g=()=>{};return g.stop=dn,g.resume=dn,g.pause=dn,g}}const d=Tt;a.call=(g,_,S)=>mn(g,d,_,S);let f=!1;i==="post"?a.scheduler=g=>{$t(g,d&&d.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(g,_)=>{_?g():pu(g)}),a.augmentJob=g=>{e&&(g.flags|=4),f&&(g.flags|=2,d&&(g.id=d.uid,g.i=d))};const p=Ly(t,e,a);return oi&&(c?c.push(p):u&&p()),p}function __(t,e,n){const s=this.proxy,r=Qe(t)?t.includes(".")?Ap(s,t):()=>s[t]:t.bind(s,s);let i;ye(e)?i=e:(i=e.handler,n=e);const o=_i(this),a=Ip(r,i.bind(s),n);return o(),a}function Ap(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const w_=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Xt(e)}Modifiers`]||t[`${Vs(e)}Modifiers`];function b_(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Fe;let r=n;const i=e.startsWith("update:"),o=i&&w_(s,e.slice(7));o&&(o.trim&&(r=n.map(d=>Qe(d)?d.trim():d)),o.number&&(r=n.map(ml)));let a,u=s[a=La(e)]||s[a=La(Xt(e))];!u&&i&&(u=s[a=La(Vs(e))]),u&&mn(u,t,6,r);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,mn(c,t,6,r)}}function Cp(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!ye(t)){const u=c=>{const d=Cp(c,e,!0);d&&(a=!0,It(o,d))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!a?(ze(t)&&s.set(t,null),null):(ge(i)?i.forEach(u=>o[u]=null):It(o,i),ze(t)&&s.set(t,o),o)}function Wo(t,e){return!t||!No(e)?!1:(e=e.slice(2).replace(/Once$/,""),Oe(t,e[0].toLowerCase()+e.slice(1))||Oe(t,Vs(e))||Oe(t,e))}function _d(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:u,render:c,renderCache:d,props:f,data:p,setupState:g,ctx:_,inheritAttrs:S}=t,I=co(t);let V,v;try{if(n.shapeFlag&4){const x=r||s,N=x;V=un(c.call(N,x,d,f,g,p,_)),v=a}else{const x=e;V=un(x.length>1?x(f,{attrs:a,slots:o,emit:u}):x(f,null)),v=e.props?a:E_(a)}}catch(x){Wr.length=0,zo(x,t,1),V=pe(es)}let y=V;if(v&&S!==!1){const x=Object.keys(v),{shapeFlag:N}=y;x.length&&N&7&&(i&&x.some(su)&&(v=T_(v,i)),y=sr(y,v,!1,!0))}return n.dirs&&(y=sr(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&mu(y,n.transition),V=y,co(I),V}const E_=t=>{let e;for(const n in t)(n==="class"||n==="style"||No(n))&&((e||(e={}))[n]=t[n]);return e},T_=(t,e)=>{const n={};for(const s in t)(!su(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function S_(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:u}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return s?wd(s,o,c):!!o;if(u&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const p=d[f];if(o[p]!==s[p]&&!Wo(c,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?wd(s,o,c):!0:!!o;return!1}function wd(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Wo(n,i))return!0}return!1}function I_({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const xp=t=>t.__isSuspense;function A_(t,e){e&&e.pendingBranch?ge(t)?e.effects.push(...t):e.effects.push(t):By(t)}const ke=Symbol.for("v-fgt"),Ko=Symbol.for("v-txt"),es=Symbol.for("v-cmt"),Ji=Symbol.for("v-stc"),Wr=[];let jt=null;function H(t=!1){Wr.push(jt=t?null:[])}function C_(){Wr.pop(),jt=Wr[Wr.length-1]||null}let ri=1;function bd(t,e=!1){ri+=t,t<0&&jt&&e&&(jt.hasOnce=!0)}function Pp(t){return t.dynamicChildren=ri>0?jt||Ws:null,C_(),ri>0&&jt&&jt.push(t),t}function Q(t,e,n,s,r,i){return Pp(k(t,e,n,s,r,i,!0))}function st(t,e,n,s,r){return Pp(pe(t,e,n,s,r,!0))}function ii(t){return t?t.__v_isVNode===!0:!1}function Mr(t,e){return t.type===e.type&&t.key===e.key}const Rp=({key:t})=>t??null,Zi=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Qe(t)||St(t)||ye(t)?{i:ft,r:t,k:e,f:!!n}:t:null);function k(t,e=null,n=null,s=0,r=null,i=t===ke?0:1,o=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Rp(e),ref:e&&Zi(e),scopeId:ep,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ft};return a?(yu(u,n),i&128&&t.normalize(u)):n&&(u.shapeFlag|=Qe(n)?8:16),ri>0&&!o&&jt&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&jt.push(u),u}const pe=x_;function x_(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===lp)&&(t=es),ii(t)){const a=sr(t,e,!0);return n&&yu(a,n),ri>0&&!i&&jt&&(a.shapeFlag&6?jt[jt.indexOf(t)]=a:jt.push(a)),a.patchFlag=-2,a}if(B_(t)&&(t=t.__vccOpts),e){e=P_(e);let{class:a,style:u}=e;a&&!Qe(a)&&(e.class=Jt(a)),ze(u)&&(fu(u)&&!ge(u)&&(u=It({},u)),e.style=Uo(u))}const o=Qe(t)?1:xp(t)?128:jy(t)?64:ze(t)?4:ye(t)?2:0;return k(t,e,n,s,r,o,i,!0)}function P_(t){return t?fu(t)||gp(t)?It({},t):t:null}function sr(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:u}=t,c=e?V_(r||{},e):r,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Rp(c),ref:e&&e.ref?n&&i?ge(i)?i.concat(Zi(e)):[i,Zi(e)]:Zi(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ke?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&sr(t.ssContent),ssFallback:t.ssFallback&&sr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&s&&mu(d,u.clone(d)),d}function Xe(t=" ",e=0){return pe(Ko,null,t,e)}function R_(t,e){const n=pe(Ji,null,t);return n.staticCount=e,n}function Pe(t="",e=!1){return e?(H(),st(es,null,t)):pe(es,null,t)}function un(t){return t==null||typeof t=="boolean"?pe(es):ge(t)?pe(ke,null,t.slice()):ii(t)?Gn(t):pe(Ko,null,String(t))}function Gn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:sr(t)}function yu(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ge(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),yu(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!gp(e)?e._ctx=ft:r===3&&ft&&(ft.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ye(e)?(e={default:e,_ctx:ft},n=32):(e=String(e),s&64?(n=16,e=[Xe(e)]):n=8);t.children=e,t.shapeFlag|=n}function V_(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Jt([e.class,s.class]));else if(r==="style")e.style=Uo([e.style,s.style]);else if(No(r)){const i=e[r],o=s[r];o&&i!==o&&!(ge(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function on(t,e,n,s=null){mn(t,e,7,[n,s])}const k_=hp();let D_=0;function M_(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||k_,i={uid:D_++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new cy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yp(s,r),emitsOptions:Cp(s,r),emit:null,emitted:null,propsDefaults:Fe,inheritAttrs:s.inheritAttrs,ctx:Fe,data:Fe,props:Fe,attrs:Fe,slots:Fe,refs:Fe,setupState:Fe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=b_.bind(null,i),t.ce&&t.ce(i),i}let Tt=null,po,Il;{const t=Bo(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};po=e("__VUE_INSTANCE_SETTERS__",n=>Tt=n),Il=e("__VUE_SSR_SETTERS__",n=>oi=n)}const _i=t=>{const e=Tt;return po(t),t.scope.on(),()=>{t.scope.off(),po(e)}},Ed=()=>{Tt&&Tt.scope.off(),po(null)};function Vp(t){return t.vnode.shapeFlag&4}let oi=!1;function O_(t,e=!1,n=!1){e&&Il(e);const{props:s,children:r}=t.vnode,i=Vp(t);a_(t,s,i,e),d_(t,r,n);const o=i?N_(t,e):void 0;return e&&Il(!1),o}function N_(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Zy);const{setup:s}=n;if(s){ls();const r=t.setupContext=s.length>1?F_(t):null,i=_i(t),o=yi(s,t,0,[t.props,r]),a=Ih(o);if(us(),i(),(a||t.sp)&&!Xs(t)&&np(t),a){if(o.then(Ed,Ed),e)return o.then(u=>{Td(t,u)}).catch(u=>{zo(u,t,0)});t.asyncDep=o}else Td(t,o)}else kp(t)}function Td(t,e,n){ye(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ze(e)&&(t.setupState=Qh(e)),kp(t)}function kp(t,e,n){const s=t.type;t.render||(t.render=s.render||dn);{const r=_i(t);ls();try{e_(t)}finally{us(),r()}}}const L_={get(t,e){return wt(t,"get",""),t[e]}};function F_(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,L_),slots:t.slots,emit:t.emit,expose:e}}function Qo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Qh(Ry(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Hr)return Hr[n](t)},has(e,n){return n in e||n in Hr}})):t.proxy}function $_(t,e=!0){return ye(t)?t.displayName||t.name:t.name||e&&t.__name}function B_(t){return ye(t)&&"__vccOpts"in t}const ct=(t,e)=>Oy(t,e,oi);function Mt(t,e,n){const s=arguments.length;return s===2?ze(e)&&!ge(e)?ii(e)?pe(t,null,[e]):pe(t,e):pe(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&ii(n)&&(n=[n]),pe(t,e,n))}const U_="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Al;const Sd=typeof window<"u"&&window.trustedTypes;if(Sd)try{Al=Sd.createPolicy("vue",{createHTML:t=>t})}catch{}const Dp=Al?t=>Al.createHTML(t):t=>t,j_="http://www.w3.org/2000/svg",z_="http://www.w3.org/1998/Math/MathML",An=typeof document<"u"?document:null,Id=An&&An.createElement("template"),q_={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?An.createElementNS(j_,t):e==="mathml"?An.createElementNS(z_,t):n?An.createElement(t,{is:n}):An.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>An.createTextNode(t),createComment:t=>An.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>An.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Id.innerHTML=Dp(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=Id.content;if(s==="svg"||s==="mathml"){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},G_=Symbol("_vtc");function H_(t,e,n){const s=t[G_];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ad=Symbol("_vod"),W_=Symbol("_vsh"),K_=Symbol(""),Q_=/(^|;)\s*display\s*:/;function Y_(t,e,n){const s=t.style,r=Qe(n);let i=!1;if(n&&!r){if(e)if(Qe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&eo(s,a,"")}else for(const o in e)n[o]==null&&eo(s,o,"");for(const o in n)o==="display"&&(i=!0),eo(s,o,n[o])}else if(r){if(e!==n){const o=s[K_];o&&(n+=";"+o),s.cssText=n,i=Q_.test(n)}}else e&&t.removeAttribute("style");Ad in t&&(t[Ad]=i?s.display:"",t[W_]&&(s.display="none"))}const Cd=/\s*!important$/;function eo(t,e,n){if(ge(n))n.forEach(s=>eo(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=X_(t,e);Cd.test(n)?t.setProperty(Vs(s),n.replace(Cd,""),"important"):t[s]=n}}const xd=["Webkit","Moz","ms"],qa={};function X_(t,e){const n=qa[e];if(n)return n;let s=Xt(e);if(s!=="filter"&&s in t)return qa[e]=s;s=$o(s);for(let r=0;r<xd.length;r++){const i=xd[r]+s;if(i in t)return qa[e]=i}return e}const Pd="http://www.w3.org/1999/xlink";function Rd(t,e,n,s,r,i=uy(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Pd,e.slice(6,e.length)):t.setAttributeNS(Pd,e,n):n==null||i&&!Ph(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Nn(n)?String(n):n)}function Vd(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Dp(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,u=n==null?t.type==="checkbox"?"on":"":String(n);(a!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Ph(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function Us(t,e,n,s){t.addEventListener(e,n,s)}function J_(t,e,n,s){t.removeEventListener(e,n,s)}const kd=Symbol("_vei");function Z_(t,e,n,s,r=null){const i=t[kd]||(t[kd]={}),o=i[e];if(s&&o)o.value=s;else{const[a,u]=ew(e);if(s){const c=i[e]=sw(s,r);Us(t,a,c,u)}else o&&(J_(t,a,o,u),i[e]=void 0)}}const Dd=/(?:Once|Passive|Capture)$/;function ew(t){let e;if(Dd.test(t)){e={};let s;for(;s=t.match(Dd);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Vs(t.slice(2)),e]}let Ga=0;const tw=Promise.resolve(),nw=()=>Ga||(tw.then(()=>Ga=0),Ga=Date.now());function sw(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;mn(rw(s,n.value),e,5,[s])};return n.value=t,n.attached=nw(),n}function rw(t,e){if(ge(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Md=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,iw=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?H_(t,s,o):e==="style"?Y_(t,n,s):No(e)?su(e)||Z_(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ow(t,e,s,o))?(Vd(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Rd(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Qe(s))?Vd(t,Xt(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Rd(t,e,s,o))};function ow(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Md(e)&&ye(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Md(e)&&Qe(n)?!1:e in t}const Od=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ge(e)?n=>Xi(e,n):e};function aw(t){t.target.composing=!0}function Nd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ha=Symbol("_assign"),Rn={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[Ha]=Od(r);const i=s||r.props&&r.props.type==="number";Us(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=ml(a)),t[Ha](a)}),n&&Us(t,"change",()=>{t.value=t.value.trim()}),e||(Us(t,"compositionstart",aw),Us(t,"compositionend",Nd),Us(t,"change",Nd))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[Ha]=Od(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?ml(t.value):t.value,u=e??"";a!==u&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===u)||(t.value=u))}},lw=["ctrl","shift","alt","meta"],uw={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>lw.some(n=>t[`${n}Key`]&&!e.includes(n))},_u=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(r,...i)=>{for(let o=0;o<e.length;o++){const a=uw[e[o]];if(a&&a(r,e))return}return t(r,...i)})},cw=It({patchProp:iw},q_);let Ld;function dw(){return Ld||(Ld=h_(cw))}const fw=(...t)=>{const e=dw().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=pw(s);if(!r)return;const i=e._component;!ye(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,hw(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function hw(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function pw(t){return Qe(t)?document.querySelector(t):t}const hr={site:"site",trips:"trips"},mw=()=>{};var Fd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},gw=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],u=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Op={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;u||(g=64,o||(p=64)),s.push(n[d],n[f],n[p],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Mp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gw(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const f=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||c==null||f==null)throw new vw;const p=i<<2|a>>4;if(s.push(p),c!==64){const g=a<<4&240|c>>2;if(s.push(g),f!==64){const _=c<<6&192|f;s.push(_)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yw=function(t){const e=Mp(t);return Op.encodeByteArray(e,!0)},mo=function(t){return yw(t).replace(/\./g,"")},_w=function(t){try{return Op.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=()=>ww().__FIREBASE_DEFAULTS__,Ew=()=>{if(typeof process>"u"||typeof Fd>"u")return;const t=Fd.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Tw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_w(t[1]);return e&&JSON.parse(e)},wu=()=>{try{return mw()||bw()||Ew()||Tw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Sw=t=>{var e,n;return(n=(e=wu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Iw=t=>{const e=Sw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Np=()=>{var t;return(t=wu())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mo(JSON.stringify(n)),mo(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pw(){var t;const e=(t=wu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Rw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Vw(){return!Pw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lp(){try{return typeof indexedDB=="object"}catch{return!1}}function Fp(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function kw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="FirebaseError";class cs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Dw,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yo.prototype.create)}}class Yo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?Mw(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new cs(r,a,s)}}function Mw(t,e){return t.replace(Ow,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const Ow=/\{\$([^}]+)}/g;function ai(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if($d(i)&&$d(o)){if(!ai(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function $d(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=1e3,Lw=2,Fw=4*60*60*1e3,$w=.5;function Bd(t,e=Nw,n=Lw){const s=e*Math.pow(n,t),r=Math.round($w*s*(Math.random()-.5)*2);return Math.min(Fw,s+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t){return t&&t._delegate?t._delegate:t}class kn{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Aw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jw(e))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bs){return this.instances.has(e)}getOptions(e=bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Uw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=bs){return this.component?this.component.multipleInstances?e:bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Uw(t){return t===bs?void 0:t}function jw(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Bw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const qw={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},Gw=xe.INFO,Hw={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},Ww=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=Hw[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bu{constructor(e){this.name=e,this._logLevel=Gw,this._logHandler=Ww,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const Kw=(t,e)=>e.some(n=>t instanceof n);let Ud,jd;function Qw(){return Ud||(Ud=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yw(){return jd||(jd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $p=new WeakMap,Cl=new WeakMap,Bp=new WeakMap,Wa=new WeakMap,Eu=new WeakMap;function Xw(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Yn(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$p.set(n,t)}).catch(()=>{}),Eu.set(e,t),e}function Jw(t){if(Cl.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Cl.set(t,e)}let xl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cl.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Bp.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Zw(t){xl=t(xl)}function e0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Ka(this),e,...n);return Bp.set(s,e.sort?e.sort():[e]),Yn(s)}:Yw().includes(t)?function(...e){return t.apply(Ka(this),e),Yn($p.get(this))}:function(...e){return Yn(t.apply(Ka(this),e))}}function t0(t){return typeof t=="function"?e0(t):(t instanceof IDBTransaction&&Jw(t),Kw(t,Qw())?new Proxy(t,xl):t)}function Yn(t){if(t instanceof IDBRequest)return Xw(t);if(Wa.has(t))return Wa.get(t);const e=t0(t);return e!==t&&(Wa.set(t,e),Eu.set(e,t)),e}const Ka=t=>Eu.get(t);function Up(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Yn(o);return s&&o.addEventListener("upgradeneeded",u=>{s(Yn(o.result),u.oldVersion,u.newVersion,Yn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),r&&u.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const n0=["get","getKey","getAll","getAllKeys","count"],s0=["put","add","delete","clear"],Qa=new Map;function zd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qa.get(e))return Qa.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=s0.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||n0.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,r?"readwrite":"readonly");let c=u.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&u.done]))[0]};return Qa.set(e,i),i}Zw(t=>({...t,get:(e,n,s)=>zd(e,n)||t.get(e,n,s),has:(e,n)=>!!zd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(i0(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function i0(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pl="@firebase/app",qd="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn=new bu("@firebase/app"),o0="@firebase/app-compat",a0="@firebase/analytics-compat",l0="@firebase/analytics",u0="@firebase/app-check-compat",c0="@firebase/app-check",d0="@firebase/auth",f0="@firebase/auth-compat",h0="@firebase/database",p0="@firebase/data-connect",m0="@firebase/database-compat",g0="@firebase/functions",v0="@firebase/functions-compat",y0="@firebase/installations",_0="@firebase/installations-compat",w0="@firebase/messaging",b0="@firebase/messaging-compat",E0="@firebase/performance",T0="@firebase/performance-compat",S0="@firebase/remote-config",I0="@firebase/remote-config-compat",A0="@firebase/storage",C0="@firebase/storage-compat",x0="@firebase/firestore",P0="@firebase/vertexai",R0="@firebase/firestore-compat",V0="firebase",k0="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl="[DEFAULT]",D0={[Pl]:"fire-core",[o0]:"fire-core-compat",[l0]:"fire-analytics",[a0]:"fire-analytics-compat",[c0]:"fire-app-check",[u0]:"fire-app-check-compat",[d0]:"fire-auth",[f0]:"fire-auth-compat",[h0]:"fire-rtdb",[p0]:"fire-data-connect",[m0]:"fire-rtdb-compat",[g0]:"fire-fn",[v0]:"fire-fn-compat",[y0]:"fire-iid",[_0]:"fire-iid-compat",[w0]:"fire-fcm",[b0]:"fire-fcm-compat",[E0]:"fire-perf",[T0]:"fire-perf-compat",[S0]:"fire-rc",[I0]:"fire-rc-compat",[A0]:"fire-gcs",[C0]:"fire-gcs-compat",[x0]:"fire-fst",[R0]:"fire-fst-compat",[P0]:"fire-vertex","fire-js":"fire-js",[V0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new Map,M0=new Map,Vl=new Map;function Gd(t,e){try{t.container.addComponent(e)}catch(n){Dn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ts(t){const e=t.name;if(Vl.has(e))return Dn.debug(`There were multiple attempts to register component ${e}.`),!1;Vl.set(e,t);for(const n of go.values())Gd(n,t);for(const n of M0.values())Gd(n,t);return!0}function wi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function O0(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xn=new Yo("app","Firebase",N0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=k0;function jp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Rl,automaticDataCollectionEnabled:!1},e),r=s.name;if(typeof r!="string"||!r)throw Xn.create("bad-app-name",{appName:String(r)});if(n||(n=Np()),!n)throw Xn.create("no-options");const i=go.get(r);if(i){if(ai(n,i.options)&&ai(s,i.config))return i;throw Xn.create("duplicate-app",{appName:r})}const o=new zw(r);for(const u of Vl.values())o.addComponent(u);const a=new L0(n,s,o);return go.set(r,a),a}function zp(t=Rl){const e=go.get(t);if(!e&&t===Rl&&Np())return jp();if(!e)throw Xn.create("no-app",{appName:t});return e}function fn(t,e,n){var s;let r=(s=D0[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dn.warn(a.join(" "));return}ts(new kn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="firebase-heartbeat-database",B0=1,li="firebase-heartbeat-store";let Ya=null;function qp(){return Ya||(Ya=Up($0,B0,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(li)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xn.create("idb-open",{originalErrorMessage:t.message})})),Ya}async function U0(t){try{const n=(await qp()).transaction(li),s=await n.objectStore(li).get(Gp(t));return await n.done,s}catch(e){if(e instanceof cs)Dn.warn(e.message);else{const n=Xn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dn.warn(n.message)}}}async function Hd(t,e){try{const s=(await qp()).transaction(li,"readwrite");await s.objectStore(li).put(e,Gp(t)),await s.done}catch(n){if(n instanceof cs)Dn.warn(n.message);else{const s=Xn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dn.warn(s.message)}}}function Gp(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=1024,z0=30;class q0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new H0(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Wd();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>z0){const o=W0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Dn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Wd(),{heartbeatsToSend:s,unsentEntries:r}=G0(this._heartbeatsCache.heartbeats),i=mo(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Dn.warn(n),""}}}function Wd(){return new Date().toISOString().substring(0,10)}function G0(t,e=j0){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Kd(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Kd(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class H0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lp()?Fp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await U0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Hd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Hd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Kd(t){return mo(JSON.stringify({version:2,heartbeats:t})).length}function W0(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t){ts(new kn("platform-logger",e=>new r0(e),"PRIVATE")),ts(new kn("heartbeat",e=>new q0(e),"PRIVATE")),fn(Pl,qd,t),fn(Pl,qd,"esm2017"),fn("fire-js","")}K0("");var Q0="firebase",Y0="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn(Q0,Y0,"app");var Qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jn,Hp;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,E){function b(){}b.prototype=E.prototype,P.D=E.prototype,P.prototype=new b,P.prototype.constructor=P,P.C=function(T,C,M){for(var A=Array(arguments.length-2),we=2;we<arguments.length;we++)A[we-2]=arguments[we];return E.prototype[C].apply(T,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(P,E,b){b||(b=0);var T=Array(16);if(typeof E=="string")for(var C=0;16>C;++C)T[C]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(C=0;16>C;++C)T[C]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=P.g[0],b=P.g[1],C=P.g[2];var M=P.g[3],A=E+(M^b&(C^M))+T[0]+3614090360&4294967295;E=b+(A<<7&4294967295|A>>>25),A=M+(C^E&(b^C))+T[1]+3905402710&4294967295,M=E+(A<<12&4294967295|A>>>20),A=C+(b^M&(E^b))+T[2]+606105819&4294967295,C=M+(A<<17&4294967295|A>>>15),A=b+(E^C&(M^E))+T[3]+3250441966&4294967295,b=C+(A<<22&4294967295|A>>>10),A=E+(M^b&(C^M))+T[4]+4118548399&4294967295,E=b+(A<<7&4294967295|A>>>25),A=M+(C^E&(b^C))+T[5]+1200080426&4294967295,M=E+(A<<12&4294967295|A>>>20),A=C+(b^M&(E^b))+T[6]+2821735955&4294967295,C=M+(A<<17&4294967295|A>>>15),A=b+(E^C&(M^E))+T[7]+4249261313&4294967295,b=C+(A<<22&4294967295|A>>>10),A=E+(M^b&(C^M))+T[8]+1770035416&4294967295,E=b+(A<<7&4294967295|A>>>25),A=M+(C^E&(b^C))+T[9]+2336552879&4294967295,M=E+(A<<12&4294967295|A>>>20),A=C+(b^M&(E^b))+T[10]+4294925233&4294967295,C=M+(A<<17&4294967295|A>>>15),A=b+(E^C&(M^E))+T[11]+2304563134&4294967295,b=C+(A<<22&4294967295|A>>>10),A=E+(M^b&(C^M))+T[12]+1804603682&4294967295,E=b+(A<<7&4294967295|A>>>25),A=M+(C^E&(b^C))+T[13]+4254626195&4294967295,M=E+(A<<12&4294967295|A>>>20),A=C+(b^M&(E^b))+T[14]+2792965006&4294967295,C=M+(A<<17&4294967295|A>>>15),A=b+(E^C&(M^E))+T[15]+1236535329&4294967295,b=C+(A<<22&4294967295|A>>>10),A=E+(C^M&(b^C))+T[1]+4129170786&4294967295,E=b+(A<<5&4294967295|A>>>27),A=M+(b^C&(E^b))+T[6]+3225465664&4294967295,M=E+(A<<9&4294967295|A>>>23),A=C+(E^b&(M^E))+T[11]+643717713&4294967295,C=M+(A<<14&4294967295|A>>>18),A=b+(M^E&(C^M))+T[0]+3921069994&4294967295,b=C+(A<<20&4294967295|A>>>12),A=E+(C^M&(b^C))+T[5]+3593408605&4294967295,E=b+(A<<5&4294967295|A>>>27),A=M+(b^C&(E^b))+T[10]+38016083&4294967295,M=E+(A<<9&4294967295|A>>>23),A=C+(E^b&(M^E))+T[15]+3634488961&4294967295,C=M+(A<<14&4294967295|A>>>18),A=b+(M^E&(C^M))+T[4]+3889429448&4294967295,b=C+(A<<20&4294967295|A>>>12),A=E+(C^M&(b^C))+T[9]+568446438&4294967295,E=b+(A<<5&4294967295|A>>>27),A=M+(b^C&(E^b))+T[14]+3275163606&4294967295,M=E+(A<<9&4294967295|A>>>23),A=C+(E^b&(M^E))+T[3]+4107603335&4294967295,C=M+(A<<14&4294967295|A>>>18),A=b+(M^E&(C^M))+T[8]+1163531501&4294967295,b=C+(A<<20&4294967295|A>>>12),A=E+(C^M&(b^C))+T[13]+2850285829&4294967295,E=b+(A<<5&4294967295|A>>>27),A=M+(b^C&(E^b))+T[2]+4243563512&4294967295,M=E+(A<<9&4294967295|A>>>23),A=C+(E^b&(M^E))+T[7]+1735328473&4294967295,C=M+(A<<14&4294967295|A>>>18),A=b+(M^E&(C^M))+T[12]+2368359562&4294967295,b=C+(A<<20&4294967295|A>>>12),A=E+(b^C^M)+T[5]+4294588738&4294967295,E=b+(A<<4&4294967295|A>>>28),A=M+(E^b^C)+T[8]+2272392833&4294967295,M=E+(A<<11&4294967295|A>>>21),A=C+(M^E^b)+T[11]+1839030562&4294967295,C=M+(A<<16&4294967295|A>>>16),A=b+(C^M^E)+T[14]+4259657740&4294967295,b=C+(A<<23&4294967295|A>>>9),A=E+(b^C^M)+T[1]+2763975236&4294967295,E=b+(A<<4&4294967295|A>>>28),A=M+(E^b^C)+T[4]+1272893353&4294967295,M=E+(A<<11&4294967295|A>>>21),A=C+(M^E^b)+T[7]+4139469664&4294967295,C=M+(A<<16&4294967295|A>>>16),A=b+(C^M^E)+T[10]+3200236656&4294967295,b=C+(A<<23&4294967295|A>>>9),A=E+(b^C^M)+T[13]+681279174&4294967295,E=b+(A<<4&4294967295|A>>>28),A=M+(E^b^C)+T[0]+3936430074&4294967295,M=E+(A<<11&4294967295|A>>>21),A=C+(M^E^b)+T[3]+3572445317&4294967295,C=M+(A<<16&4294967295|A>>>16),A=b+(C^M^E)+T[6]+76029189&4294967295,b=C+(A<<23&4294967295|A>>>9),A=E+(b^C^M)+T[9]+3654602809&4294967295,E=b+(A<<4&4294967295|A>>>28),A=M+(E^b^C)+T[12]+3873151461&4294967295,M=E+(A<<11&4294967295|A>>>21),A=C+(M^E^b)+T[15]+530742520&4294967295,C=M+(A<<16&4294967295|A>>>16),A=b+(C^M^E)+T[2]+3299628645&4294967295,b=C+(A<<23&4294967295|A>>>9),A=E+(C^(b|~M))+T[0]+4096336452&4294967295,E=b+(A<<6&4294967295|A>>>26),A=M+(b^(E|~C))+T[7]+1126891415&4294967295,M=E+(A<<10&4294967295|A>>>22),A=C+(E^(M|~b))+T[14]+2878612391&4294967295,C=M+(A<<15&4294967295|A>>>17),A=b+(M^(C|~E))+T[5]+4237533241&4294967295,b=C+(A<<21&4294967295|A>>>11),A=E+(C^(b|~M))+T[12]+1700485571&4294967295,E=b+(A<<6&4294967295|A>>>26),A=M+(b^(E|~C))+T[3]+2399980690&4294967295,M=E+(A<<10&4294967295|A>>>22),A=C+(E^(M|~b))+T[10]+4293915773&4294967295,C=M+(A<<15&4294967295|A>>>17),A=b+(M^(C|~E))+T[1]+2240044497&4294967295,b=C+(A<<21&4294967295|A>>>11),A=E+(C^(b|~M))+T[8]+1873313359&4294967295,E=b+(A<<6&4294967295|A>>>26),A=M+(b^(E|~C))+T[15]+4264355552&4294967295,M=E+(A<<10&4294967295|A>>>22),A=C+(E^(M|~b))+T[6]+2734768916&4294967295,C=M+(A<<15&4294967295|A>>>17),A=b+(M^(C|~E))+T[13]+1309151649&4294967295,b=C+(A<<21&4294967295|A>>>11),A=E+(C^(b|~M))+T[4]+4149444226&4294967295,E=b+(A<<6&4294967295|A>>>26),A=M+(b^(E|~C))+T[11]+3174756917&4294967295,M=E+(A<<10&4294967295|A>>>22),A=C+(E^(M|~b))+T[2]+718787259&4294967295,C=M+(A<<15&4294967295|A>>>17),A=b+(M^(C|~E))+T[9]+3951481745&4294967295,P.g[0]=P.g[0]+E&4294967295,P.g[1]=P.g[1]+(C+(A<<21&4294967295|A>>>11))&4294967295,P.g[2]=P.g[2]+C&4294967295,P.g[3]=P.g[3]+M&4294967295}s.prototype.u=function(P,E){E===void 0&&(E=P.length);for(var b=E-this.blockSize,T=this.B,C=this.h,M=0;M<E;){if(C==0)for(;M<=b;)r(this,P,M),M+=this.blockSize;if(typeof P=="string"){for(;M<E;)if(T[C++]=P.charCodeAt(M++),C==this.blockSize){r(this,T),C=0;break}}else for(;M<E;)if(T[C++]=P[M++],C==this.blockSize){r(this,T),C=0;break}}this.h=C,this.o+=E},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var E=1;E<P.length-8;++E)P[E]=0;var b=8*this.o;for(E=P.length-8;E<P.length;++E)P[E]=b&255,b/=256;for(this.u(P),P=Array(16),E=b=0;4>E;++E)for(var T=0;32>T;T+=8)P[b++]=this.g[E]>>>T&255;return P};function i(P,E){var b=a;return Object.prototype.hasOwnProperty.call(b,P)?b[P]:b[P]=E(P)}function o(P,E){this.h=E;for(var b=[],T=!0,C=P.length-1;0<=C;C--){var M=P[C]|0;T&&M==E||(b[C]=M,T=!1)}this.g=b}var a={};function u(P){return-128<=P&&128>P?i(P,function(E){return new o([E|0],0>E?-1:0)}):new o([P|0],0>P?-1:0)}function c(P){if(isNaN(P)||!isFinite(P))return f;if(0>P)return I(c(-P));for(var E=[],b=1,T=0;P>=b;T++)E[T]=P/b|0,b*=4294967296;return new o(E,0)}function d(P,E){if(P.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(P.charAt(0)=="-")return I(d(P.substring(1),E));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=c(Math.pow(E,8)),T=f,C=0;C<P.length;C+=8){var M=Math.min(8,P.length-C),A=parseInt(P.substring(C,C+M),E);8>M?(M=c(Math.pow(E,M)),T=T.j(M).add(c(A))):(T=T.j(b),T=T.add(c(A)))}return T}var f=u(0),p=u(1),g=u(16777216);t=o.prototype,t.m=function(){if(S(this))return-I(this).m();for(var P=0,E=1,b=0;b<this.g.length;b++){var T=this.i(b);P+=(0<=T?T:4294967296+T)*E,E*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(_(this))return"0";if(S(this))return"-"+I(this).toString(P);for(var E=c(Math.pow(P,6)),b=this,T="";;){var C=x(b,E).g;b=V(b,C.j(E));var M=((0<b.g.length?b.g[0]:b.h)>>>0).toString(P);if(b=C,_(b))return M+T;for(;6>M.length;)M="0"+M;T=M+T}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function _(P){if(P.h!=0)return!1;for(var E=0;E<P.g.length;E++)if(P.g[E]!=0)return!1;return!0}function S(P){return P.h==-1}t.l=function(P){return P=V(this,P),S(P)?-1:_(P)?0:1};function I(P){for(var E=P.g.length,b=[],T=0;T<E;T++)b[T]=~P.g[T];return new o(b,~P.h).add(p)}t.abs=function(){return S(this)?I(this):this},t.add=function(P){for(var E=Math.max(this.g.length,P.g.length),b=[],T=0,C=0;C<=E;C++){var M=T+(this.i(C)&65535)+(P.i(C)&65535),A=(M>>>16)+(this.i(C)>>>16)+(P.i(C)>>>16);T=A>>>16,M&=65535,A&=65535,b[C]=A<<16|M}return new o(b,b[b.length-1]&-2147483648?-1:0)};function V(P,E){return P.add(I(E))}t.j=function(P){if(_(this)||_(P))return f;if(S(this))return S(P)?I(this).j(I(P)):I(I(this).j(P));if(S(P))return I(this.j(I(P)));if(0>this.l(g)&&0>P.l(g))return c(this.m()*P.m());for(var E=this.g.length+P.g.length,b=[],T=0;T<2*E;T++)b[T]=0;for(T=0;T<this.g.length;T++)for(var C=0;C<P.g.length;C++){var M=this.i(T)>>>16,A=this.i(T)&65535,we=P.i(C)>>>16,Te=P.i(C)&65535;b[2*T+2*C]+=A*Te,v(b,2*T+2*C),b[2*T+2*C+1]+=M*Te,v(b,2*T+2*C+1),b[2*T+2*C+1]+=A*we,v(b,2*T+2*C+1),b[2*T+2*C+2]+=M*we,v(b,2*T+2*C+2)}for(T=0;T<E;T++)b[T]=b[2*T+1]<<16|b[2*T];for(T=E;T<2*E;T++)b[T]=0;return new o(b,0)};function v(P,E){for(;(P[E]&65535)!=P[E];)P[E+1]+=P[E]>>>16,P[E]&=65535,E++}function y(P,E){this.g=P,this.h=E}function x(P,E){if(_(E))throw Error("division by zero");if(_(P))return new y(f,f);if(S(P))return E=x(I(P),E),new y(I(E.g),I(E.h));if(S(E))return E=x(P,I(E)),new y(I(E.g),E.h);if(30<P.g.length){if(S(P)||S(E))throw Error("slowDivide_ only works with positive integers.");for(var b=p,T=E;0>=T.l(P);)b=N(b),T=N(T);var C=q(b,1),M=q(T,1);for(T=q(T,2),b=q(b,2);!_(T);){var A=M.add(T);0>=A.l(P)&&(C=C.add(b),M=A),T=q(T,1),b=q(b,1)}return E=V(P,C.j(E)),new y(C,E)}for(C=f;0<=P.l(E);){for(b=Math.max(1,Math.floor(P.m()/E.m())),T=Math.ceil(Math.log(b)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),M=c(b),A=M.j(E);S(A)||0<A.l(P);)b-=T,M=c(b),A=M.j(E);_(M)&&(M=p),C=C.add(M),P=V(P,A)}return new y(C,P)}t.A=function(P){return x(this,P).h},t.and=function(P){for(var E=Math.max(this.g.length,P.g.length),b=[],T=0;T<E;T++)b[T]=this.i(T)&P.i(T);return new o(b,this.h&P.h)},t.or=function(P){for(var E=Math.max(this.g.length,P.g.length),b=[],T=0;T<E;T++)b[T]=this.i(T)|P.i(T);return new o(b,this.h|P.h)},t.xor=function(P){for(var E=Math.max(this.g.length,P.g.length),b=[],T=0;T<E;T++)b[T]=this.i(T)^P.i(T);return new o(b,this.h^P.h)};function N(P){for(var E=P.g.length+1,b=[],T=0;T<E;T++)b[T]=P.i(T)<<1|P.i(T-1)>>>31;return new o(b,P.h)}function q(P,E){var b=E>>5;E%=32;for(var T=P.g.length-b,C=[],M=0;M<T;M++)C[M]=0<E?P.i(M+b)>>>E|P.i(M+b+1)<<32-E:P.i(M+b);return new o(C,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Hp=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Jn=o}).apply(typeof Qd<"u"?Qd:typeof self<"u"?self:typeof window<"u"?window:{});var qi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wp,$r,Kp,to,kl,Qp,Yp,Xp;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,m){return l==Array.prototype||l==Object.prototype||(l[h]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof qi=="object"&&qi];for(var h=0;h<l.length;++h){var m=l[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var s=n(this);function r(l,h){if(h)e:{var m=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var L=l[w];if(!(L in m))break e;m=m[L]}l=l[l.length-1],w=m[l],h=h(w),h!=w&&h!=null&&e(m,l,{configurable:!0,writable:!0,value:h})}}function i(l,h){l instanceof String&&(l+="");var m=0,w=!1,L={next:function(){if(!w&&m<l.length){var F=m++;return{value:h(F,l[F]),done:!1}}return w=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}r("Array.prototype.values",function(l){return l||function(){return i(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,m){return l.call.apply(l.bind,arguments)}function f(l,h,m){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,w),l.apply(h,L)}}return function(){return l.apply(h,arguments)}}function p(l,h,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function g(l,h){var m=Array.prototype.slice.call(arguments,1);return function(){var w=m.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function _(l,h){function m(){}m.prototype=h.prototype,l.aa=h.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(w,L,F){for(var X=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)X[Le-2]=arguments[Le];return h.prototype[L].apply(w,X)}}function S(l){const h=l.length;if(0<h){const m=Array(h);for(let w=0;w<h;w++)m[w]=l[w];return m}return[]}function I(l,h){for(let m=1;m<arguments.length;m++){const w=arguments[m];if(u(w)){const L=l.length||0,F=w.length||0;l.length=L+F;for(let X=0;X<F;X++)l[L+X]=w[X]}else l.push(w)}}class V{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function v(l){return/^[\s\xa0]*$/.test(l)}function y(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function x(l){return x[" "](l),l}x[" "]=function(){};var N=y().indexOf("Gecko")!=-1&&!(y().toLowerCase().indexOf("webkit")!=-1&&y().indexOf("Edge")==-1)&&!(y().indexOf("Trident")!=-1||y().indexOf("MSIE")!=-1)&&y().indexOf("Edge")==-1;function q(l,h,m){for(const w in l)h.call(m,l[w],w,l)}function P(l,h){for(const m in l)h.call(void 0,l[m],m,l)}function E(l){const h={};for(const m in l)h[m]=l[m];return h}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(l,h){let m,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(m in w)l[m]=w[m];for(let F=0;F<b.length;F++)m=b[F],Object.prototype.hasOwnProperty.call(w,m)&&(l[m]=w[m])}}function C(l){var h=1;l=l.split(":");const m=[];for(;0<h&&l.length;)m.push(l.shift()),h--;return l.length&&m.push(l.join(":")),m}function M(l){a.setTimeout(()=>{throw l},0)}function A(){var l=qe;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class we{constructor(){this.h=this.g=null}add(h,m){const w=Te.get();w.set(h,m),this.h?this.h.next=w:this.g=w,this.h=w}}var Te=new V(()=>new se,l=>l.reset());class se{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ue=!1,qe=new we,Rt=()=>{const l=a.Promise.resolve(void 0);le=()=>{l.then(Vt)}};var Vt=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(m){M(m)}var h=Te;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}ue=!1};function Be(){this.s=this.s,this.C=this.C}Be.prototype.s=!1,Be.prototype.ma=function(){this.s||(this.s=!0,this.N())},Be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ge(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Ge.prototype.h=function(){this.defaultPrevented=!0};var Fn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return l}();function rn(l,h){if(Ge.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(N){e:{try{x(h.nodeName);var L=!0;break e}catch{}L=!1}L||(h=null)}}else m=="mouseover"?h=l.fromElement:m=="mouseout"&&(h=l.toElement);this.relatedTarget=h,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:kt[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&rn.aa.h.call(this)}}_(rn,Ge);var kt={2:"touch",3:"pen",4:"mouse"};rn.prototype.h=function(){rn.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var $="closure_listenable_"+(1e6*Math.random()|0),te=0;function Z(l,h,m,w,L){this.listener=l,this.proxy=null,this.src=h,this.type=m,this.capture=!!w,this.ha=L,this.key=++te,this.da=this.fa=!1}function re(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Re(l){this.src=l,this.g={},this.h=0}Re.prototype.add=function(l,h,m,w,L){var F=l.toString();l=this.g[F],l||(l=this.g[F]=[],this.h++);var X=D(l,h,w,L);return-1<X?(h=l[X],m||(h.fa=!1)):(h=new Z(h,this.src,F,!!w,L),h.fa=m,l.push(h)),h};function R(l,h){var m=h.type;if(m in l.g){var w=l.g[m],L=Array.prototype.indexOf.call(w,h,void 0),F;(F=0<=L)&&Array.prototype.splice.call(w,L,1),F&&(re(h),l.g[m].length==0&&(delete l.g[m],l.h--))}}function D(l,h,m,w){for(var L=0;L<l.length;++L){var F=l[L];if(!F.da&&F.listener==h&&F.capture==!!m&&F.ha==w)return L}return-1}var O="closure_lm_"+(1e6*Math.random()|0),B={};function z(l,h,m,w,L){if(Array.isArray(h)){for(var F=0;F<h.length;F++)z(l,h[F],m,w,L);return null}return m=he(m),l&&l[$]?l.K(h,m,c(w)?!!w.capture:!1,L):U(l,h,m,!1,w,L)}function U(l,h,m,w,L,F){if(!h)throw Error("Invalid event type");var X=c(L)?!!L.capture:!!L,Le=ee(l);if(Le||(l[O]=Le=new Re(l)),m=Le.add(h,m,w,X,F),m.proxy)return m;if(w=J(),m.proxy=w,w.src=l,w.listener=m,l.addEventListener)Fn||(L=X),L===void 0&&(L=!1),l.addEventListener(h.toString(),w,L);else if(l.attachEvent)l.attachEvent(W(h.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return m}function J(){function l(m){return h.call(l.src,l.listener,m)}const h=ce;return l}function Y(l,h,m,w,L){if(Array.isArray(h))for(var F=0;F<h.length;F++)Y(l,h[F],m,w,L);else w=c(w)?!!w.capture:!!w,m=he(m),l&&l[$]?(l=l.i,h=String(h).toString(),h in l.g&&(F=l.g[h],m=D(F,m,w,L),-1<m&&(re(F[m]),Array.prototype.splice.call(F,m,1),F.length==0&&(delete l.g[h],l.h--)))):l&&(l=ee(l))&&(h=l.g[h.toString()],l=-1,h&&(l=D(h,m,w,L)),(m=-1<l?h[l]:null)&&K(m))}function K(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[$])R(h.i,l);else{var m=l.type,w=l.proxy;h.removeEventListener?h.removeEventListener(m,w,l.capture):h.detachEvent?h.detachEvent(W(m),w):h.addListener&&h.removeListener&&h.removeListener(w),(m=ee(h))?(R(m,l),m.h==0&&(m.src=null,h[O]=null)):re(l)}}}function W(l){return l in B?B[l]:B[l]="on"+l}function ce(l,h){if(l.da)l=!0;else{h=new rn(h,this);var m=l.listener,w=l.ha||l.src;l.fa&&K(l),l=m.call(w,h)}return l}function ee(l){return l=l[O],l instanceof Re?l:null}var oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function he(l){return typeof l=="function"?l:(l[oe]||(l[oe]=function(h){return l.handleEvent(h)}),l[oe])}function de(){Be.call(this),this.i=new Re(this),this.M=this,this.F=null}_(de,Be),de.prototype[$]=!0,de.prototype.removeEventListener=function(l,h,m,w){Y(this,l,h,m,w)};function _e(l,h){var m,w=l.F;if(w)for(m=[];w;w=w.F)m.push(w);if(l=l.M,w=h.type||h,typeof h=="string")h=new Ge(h,l);else if(h instanceof Ge)h.target=h.target||l;else{var L=h;h=new Ge(w,l),T(h,L)}if(L=!0,m)for(var F=m.length-1;0<=F;F--){var X=h.g=m[F];L=Ae(X,w,!0,h)&&L}if(X=h.g=l,L=Ae(X,w,!0,h)&&L,L=Ae(X,w,!1,h)&&L,m)for(F=0;F<m.length;F++)X=h.g=m[F],L=Ae(X,w,!1,h)&&L}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var m=l.g[h],w=0;w<m.length;w++)re(m[w]);delete l.g[h],l.h--}}this.F=null},de.prototype.K=function(l,h,m,w){return this.i.add(String(l),h,!1,m,w)},de.prototype.L=function(l,h,m,w){return this.i.add(String(l),h,!0,m,w)};function Ae(l,h,m,w){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var L=!0,F=0;F<h.length;++F){var X=h[F];if(X&&!X.da&&X.capture==m){var Le=X.listener,at=X.ha||X.src;X.fa&&R(l.i,X),L=Le.call(at,w)!==!1&&L}}return L&&!w.defaultPrevented}function pt(l,h,m){if(typeof l=="function")m&&(l=p(l,m));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function it(l){l.g=pt(()=>{l.g=null,l.i&&(l.i=!1,it(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class Ht extends Be{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:it(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mt(l){Be.call(this),this.h=l,this.g={}}_(mt,Be);var $n=[];function wr(l){q(l.g,function(h,m){this.g.hasOwnProperty(m)&&K(h)},l),l.g={}}mt.prototype.N=function(){mt.aa.N.call(this),wr(this)},mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ot=a.JSON.stringify,Wt=a.JSON.parse,Ii=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Ea(){}Ea.prototype.h=null;function vc(l){return l.h||(l.h=l.i())}function yc(){}var br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ta(){Ge.call(this,"d")}_(Ta,Ge);function Sa(){Ge.call(this,"c")}_(Sa,Ge);var ps={},_c=null;function Ai(){return _c=_c||new de}ps.La="serverreachability";function wc(l){Ge.call(this,ps.La,l)}_(wc,Ge);function Er(l){const h=Ai();_e(h,new wc(h))}ps.STAT_EVENT="statevent";function bc(l,h){Ge.call(this,ps.STAT_EVENT,l),this.stat=h}_(bc,Ge);function At(l){const h=Ai();_e(h,new bc(h,l))}ps.Ma="timingevent";function Ec(l,h){Ge.call(this,ps.Ma,l),this.size=h}_(Ec,Ge);function Tr(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Sr(){this.g=!0}Sr.prototype.xa=function(){this.g=!1};function Rv(l,h,m,w,L,F){l.info(function(){if(l.g)if(F)for(var X="",Le=F.split("&"),at=0;at<Le.length;at++){var Ve=Le[at].split("=");if(1<Ve.length){var gt=Ve[0];Ve=Ve[1];var vt=gt.split("_");X=2<=vt.length&&vt[1]=="type"?X+(gt+"="+Ve+"&"):X+(gt+"=redacted&")}}else X=null;else X=F;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+h+`
`+m+`
`+X})}function Vv(l,h,m,w,L,F,X){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+h+`
`+m+`
`+F+" "+X})}function Os(l,h,m,w){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+Dv(l,m)+(w?" "+w:"")})}function kv(l,h){l.info(function(){return"TIMEOUT: "+h})}Sr.prototype.info=function(){};function Dv(l,h){if(!l.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var w=m[l];if(!(2>w.length)){var L=w[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var X=1;X<L.length;X++)L[X]=""}}}}return ot(m)}catch{return h}}var Ci={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ia;function xi(){}_(xi,Ea),xi.prototype.g=function(){return new XMLHttpRequest},xi.prototype.i=function(){return{}},Ia=new xi;function Bn(l,h,m,w){this.j=l,this.i=h,this.l=m,this.R=w||1,this.U=new mt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Sc}function Sc(){this.i=null,this.g="",this.h=!1}var Ic={},Aa={};function Ca(l,h,m){l.L=1,l.v=ki(bn(h)),l.m=m,l.P=!0,Ac(l,null)}function Ac(l,h){l.F=Date.now(),Pi(l),l.A=bn(l.v);var m=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Bc(m.i,"t",w),l.C=0,m=l.j.J,l.h=new Sc,l.g=rd(l.j,m?h:null,!l.m),0<l.O&&(l.M=new Ht(p(l.Y,l,l.g),l.O)),h=l.U,m=l.g,w=l.ca;var L="readystatechange";Array.isArray(L)||(L&&($n[0]=L.toString()),L=$n);for(var F=0;F<L.length;F++){var X=z(m,L[F],w||h.handleEvent,!1,h.h||h);if(!X)break;h.g[X.key]=X}h=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Er(),Rv(l.i,l.u,l.A,l.l,l.R,l.m)}Bn.prototype.ca=function(l){l=l.target;const h=this.M;h&&En(l)==3?h.j():this.Y(l)},Bn.prototype.Y=function(l){try{if(l==this.g)e:{const vt=En(this.g);var h=this.g.Ba();const Fs=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||Wc(this.g)))){this.J||vt!=4||h==7||(h==8||0>=Fs?Er(3):Er(2)),xa(this);var m=this.g.Z();this.X=m;t:if(Cc(this)){var w=Wc(this.g);l="";var L=w.length,F=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ms(this),Ir(this);var X="";break t}this.h.i=new a.TextDecoder}for(h=0;h<L;h++)this.h.h=!0,l+=this.h.i.decode(w[h],{stream:!(F&&h==L-1)});w.length=0,this.h.g+=l,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=m==200,Vv(this.i,this.u,this.A,this.l,this.R,vt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,at=this.g;if((Le=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Le)){var Ve=Le;break t}}Ve=null}if(m=Ve)Os(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pa(this,m);else{this.o=!1,this.s=3,At(12),ms(this),Ir(this);break e}}if(this.P){m=!0;let Zt;for(;!this.J&&this.C<X.length;)if(Zt=Mv(this,X),Zt==Aa){vt==4&&(this.s=4,At(14),m=!1),Os(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==Ic){this.s=4,At(15),Os(this.i,this.l,X,"[Invalid Chunk]"),m=!1;break}else Os(this.i,this.l,Zt,null),Pa(this,Zt);if(Cc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||X.length!=0||this.h.h||(this.s=1,At(16),m=!1),this.o=this.o&&m,!m)Os(this.i,this.l,X,"[Invalid Chunked Response]"),ms(this),Ir(this);else if(0<X.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Oa(gt),gt.M=!0,At(11))}}else Os(this.i,this.l,X,null),Pa(this,X);vt==4&&ms(this),this.o&&!this.J&&(vt==4?ed(this.j,this):(this.o=!1,Pi(this)))}else Xv(this.g),m==400&&0<X.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),ms(this),Ir(this)}}}catch{}finally{}};function Cc(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Mv(l,h){var m=l.C,w=h.indexOf(`
`,m);return w==-1?Aa:(m=Number(h.substring(m,w)),isNaN(m)?Ic:(w+=1,w+m>h.length?Aa:(h=h.slice(w,w+m),l.C=w+m,h)))}Bn.prototype.cancel=function(){this.J=!0,ms(this)};function Pi(l){l.S=Date.now()+l.I,xc(l,l.I)}function xc(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Tr(p(l.ba,l),h)}function xa(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Bn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(kv(this.i,this.A),this.L!=2&&(Er(),At(17)),ms(this),this.s=2,Ir(this)):xc(this,this.S-l)};function Ir(l){l.j.G==0||l.J||ed(l.j,l)}function ms(l){xa(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,wr(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Pa(l,h){try{var m=l.j;if(m.G!=0&&(m.g==l||Ra(m.h,l))){if(!l.K&&Ra(m.h,l)&&m.G==3){try{var w=m.Da.g.parse(h)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)Fi(m),Ni(m);else break e;Ma(m),At(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=Tr(p(m.Za,m),6e3));if(1>=Vc(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else vs(m,11)}else if((l.K||m.g==l)&&Fi(m),!v(h))for(L=m.Da.g.parse(h),h=0;h<L.length;h++){let Ve=L[h];if(m.T=Ve[0],Ve=Ve[1],m.G==2)if(Ve[0]=="c"){m.K=Ve[1],m.ia=Ve[2];const gt=Ve[3];gt!=null&&(m.la=gt,m.j.info("VER="+m.la));const vt=Ve[4];vt!=null&&(m.Aa=vt,m.j.info("SVER="+m.Aa));const Fs=Ve[5];Fs!=null&&typeof Fs=="number"&&0<Fs&&(w=1.5*Fs,m.L=w,m.j.info("backChannelRequestTimeoutMs_="+w)),w=m;const Zt=l.g;if(Zt){const Bi=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bi){var F=w.h;F.g||Bi.indexOf("spdy")==-1&&Bi.indexOf("quic")==-1&&Bi.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Va(F,F.h),F.h=null))}if(w.D){const Na=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Na&&(w.ya=Na,Ue(w.I,w.D,Na))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),w=m;var X=l;if(w.qa=sd(w,w.J?w.ia:null,w.W),X.K){kc(w.h,X);var Le=X,at=w.L;at&&(Le.I=at),Le.B&&(xa(Le),Pi(Le)),w.g=X}else Jc(w);0<m.i.length&&Li(m)}else Ve[0]!="stop"&&Ve[0]!="close"||vs(m,7);else m.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?vs(m,7):Da(m):Ve[0]!="noop"&&m.l&&m.l.ta(Ve),m.v=0)}}Er(4)}catch{}}var Ov=class{constructor(l,h){this.g=l,this.map=h}};function Pc(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rc(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Vc(l){return l.h?1:l.g?l.g.size:0}function Ra(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Va(l,h){l.g?l.g.add(h):l.h=h}function kc(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Pc.prototype.cancel=function(){if(this.i=Dc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Dc(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const m of l.g.values())h=h.concat(m.D);return h}return S(l.i)}function Nv(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],m=l.length,w=0;w<m;w++)h.push(l[w]);return h}h=[],m=0;for(w in l)h[m++]=l[w];return h}function Lv(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var m=0;m<l;m++)h.push(m);return h}h=[],m=0;for(const w in l)h[m++]=w;return h}}}function Mc(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var m=Lv(l),w=Nv(l),L=w.length,F=0;F<L;F++)h.call(void 0,w[F],m&&m[F],l)}var Oc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fv(l,h){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var w=l[m].indexOf("="),L=null;if(0<=w){var F=l[m].substring(0,w);L=l[m].substring(w+1)}else F=l[m];h(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function gs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof gs){this.h=l.h,Ri(this,l.j),this.o=l.o,this.g=l.g,Vi(this,l.s),this.l=l.l;var h=l.i,m=new xr;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),Nc(this,m),this.m=l.m}else l&&(h=String(l).match(Oc))?(this.h=!1,Ri(this,h[1]||"",!0),this.o=Ar(h[2]||""),this.g=Ar(h[3]||"",!0),Vi(this,h[4]),this.l=Ar(h[5]||"",!0),Nc(this,h[6]||"",!0),this.m=Ar(h[7]||"")):(this.h=!1,this.i=new xr(null,this.h))}gs.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Cr(h,Lc,!0),":");var m=this.g;return(m||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Cr(h,Lc,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Cr(m,m.charAt(0)=="/"?Uv:Bv,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Cr(m,zv)),l.join("")};function bn(l){return new gs(l)}function Ri(l,h,m){l.j=m?Ar(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Vi(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function Nc(l,h,m){h instanceof xr?(l.i=h,qv(l.i,l.h)):(m||(h=Cr(h,jv)),l.i=new xr(h,l.h))}function Ue(l,h,m){l.i.set(h,m)}function ki(l){return Ue(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ar(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Cr(l,h,m){return typeof l=="string"?(l=encodeURI(l).replace(h,$v),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function $v(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Lc=/[#\/\?@]/g,Bv=/[#\?:]/g,Uv=/[#\?]/g,jv=/[#\?@]/g,zv=/#/g;function xr(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Un(l){l.g||(l.g=new Map,l.h=0,l.i&&Fv(l.i,function(h,m){l.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=xr.prototype,t.add=function(l,h){Un(this),this.i=null,l=Ns(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(h),this.h+=1,this};function Fc(l,h){Un(l),h=Ns(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function $c(l,h){return Un(l),h=Ns(l,h),l.g.has(h)}t.forEach=function(l,h){Un(this),this.g.forEach(function(m,w){m.forEach(function(L){l.call(h,L,w,this)},this)},this)},t.na=function(){Un(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let w=0;w<h.length;w++){const L=l[w];for(let F=0;F<L.length;F++)m.push(h[w])}return m},t.V=function(l){Un(this);let h=[];if(typeof l=="string")$c(this,l)&&(h=h.concat(this.g.get(Ns(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)h=h.concat(l[m])}return h},t.set=function(l,h){return Un(this),this.i=null,l=Ns(this,l),$c(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Bc(l,h,m){Fc(l,h),0<m.length&&(l.i=null,l.g.set(Ns(l,h),S(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var w=h[m];const F=encodeURIComponent(String(w)),X=this.V(w);for(w=0;w<X.length;w++){var L=F;X[w]!==""&&(L+="="+encodeURIComponent(String(X[w]))),l.push(L)}}return this.i=l.join("&")};function Ns(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function qv(l,h){h&&!l.j&&(Un(l),l.i=null,l.g.forEach(function(m,w){var L=w.toLowerCase();w!=L&&(Fc(this,w),Bc(this,L,m))},l)),l.j=h}function Gv(l,h){const m=new Sr;if(a.Image){const w=new Image;w.onload=g(jn,m,"TestLoadImage: loaded",!0,h,w),w.onerror=g(jn,m,"TestLoadImage: error",!1,h,w),w.onabort=g(jn,m,"TestLoadImage: abort",!1,h,w),w.ontimeout=g(jn,m,"TestLoadImage: timeout",!1,h,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else h(!1)}function Hv(l,h){const m=new Sr,w=new AbortController,L=setTimeout(()=>{w.abort(),jn(m,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:w.signal}).then(F=>{clearTimeout(L),F.ok?jn(m,"TestPingServer: ok",!0,h):jn(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(L),jn(m,"TestPingServer: error",!1,h)})}function jn(l,h,m,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(m)}catch{}}function Wv(){this.g=new Ii}function Kv(l,h,m){const w=m||"";try{Mc(l,function(L,F){let X=L;c(L)&&(X=ot(L)),h.push(w+F+"="+encodeURIComponent(X))})}catch(L){throw h.push(w+"type="+encodeURIComponent("_badmap")),L}}function Di(l){this.l=l.Ub||null,this.j=l.eb||!1}_(Di,Ea),Di.prototype.g=function(){return new Mi(this.l,this.j)},Di.prototype.i=function(l){return function(){return l}}({});function Mi(l,h){de.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Mi,de),t=Mi.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Rr(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uc(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uc(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Pr(this):Rr(this),this.readyState==3&&Uc(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Pr(this))},t.Qa=function(l){this.g&&(this.response=l,Pr(this))},t.ga=function(){this.g&&Pr(this)};function Pr(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Rr(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=h.next();return l.join(`\r
`)};function Rr(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function jc(l){let h="";return q(l,function(m,w){h+=w,h+=":",h+=m,h+=`\r
`}),h}function ka(l,h,m){e:{for(w in m){var w=!1;break e}w=!0}w||(m=jc(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):Ue(l,h,m))}function We(l){de.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(We,de);var Qv=/^https?$/i,Yv=["POST","PUT"];t=We.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,m,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ia.g(),this.v=this.o?vc(this.o):vc(Ia),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(F){zc(this,F);return}if(l=m||"",m=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)m.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const F of w.keys())m.set(F,w.get(F));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(m.keys()).find(F=>F.toLowerCase()=="content-type"),L=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Yv,h,void 0))||w||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,X]of m)this.g.setRequestHeader(F,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hc(this),this.u=!0,this.g.send(l),this.u=!1}catch(F){zc(this,F)}};function zc(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,qc(l),Oi(l)}function qc(l){l.A||(l.A=!0,_e(l,"complete"),_e(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,_e(this,"complete"),_e(this,"abort"),Oi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gc(this):this.bb())},t.bb=function(){Gc(this)};function Gc(l){if(l.h&&typeof o<"u"&&(!l.v[1]||En(l)!=4||l.Z()!=2)){if(l.u&&En(l)==4)pt(l.Ea,0,l);else if(_e(l,"readystatechange"),En(l)==4){l.h=!1;try{const X=l.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var w;if(w=X===0){var L=String(l.D).match(Oc)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),w=!Qv.test(L?L.toLowerCase():"")}m=w}if(m)_e(l,"complete"),_e(l,"success");else{l.m=6;try{var F=2<En(l)?l.g.statusText:""}catch{F=""}l.l=F+" ["+l.Z()+"]",qc(l)}}finally{Oi(l)}}}}function Oi(l,h){if(l.g){Hc(l);const m=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||_e(l,"ready");try{m.onreadystatechange=w}catch{}}}function Hc(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function En(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Wt(h)}};function Wc(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Xv(l){const h={};l=(l.g&&2<=En(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(v(l[w]))continue;var m=C(l[w]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const F=h[L]||[];h[L]=F,F.push(m)}P(h,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vr(l,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||h}function Kc(l){this.Aa=0,this.i=[],this.j=new Sr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vr("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vr("baseRetryDelayMs",5e3,l),this.cb=Vr("retryDelaySeedMs",1e4,l),this.Wa=Vr("forwardChannelMaxRetries",2,l),this.wa=Vr("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Pc(l&&l.concurrentRequestLimit),this.Da=new Wv,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Kc.prototype,t.la=8,t.G=1,t.connect=function(l,h,m,w){At(0),this.W=l,this.H=h||{},m&&w!==void 0&&(this.H.OSID=m,this.H.OAID=w),this.F=this.X,this.I=sd(this,null,this.W),Li(this)};function Da(l){if(Qc(l),l.G==3){var h=l.U++,m=bn(l.I);if(Ue(m,"SID",l.K),Ue(m,"RID",h),Ue(m,"TYPE","terminate"),kr(l,m),h=new Bn(l,l.j,h),h.L=2,h.v=ki(bn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.v,m=!0),m||(h.g=rd(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Pi(h)}nd(l)}function Ni(l){l.g&&(Oa(l),l.g.cancel(),l.g=null)}function Qc(l){Ni(l),l.u&&(a.clearTimeout(l.u),l.u=null),Fi(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Li(l){if(!Rc(l.h)&&!l.s){l.s=!0;var h=l.Ga;le||Rt(),ue||(le(),ue=!0),qe.add(h,l),l.B=0}}function Jv(l,h){return Vc(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Tr(p(l.Ga,l,h),td(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new Bn(this,this.j,l);let F=this.o;if(this.S&&(F?(F=E(F),T(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var w=this.i[m];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(h+=w,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=Xc(this,L,h),m=bn(this.I),Ue(m,"RID",l),Ue(m,"CVER",22),this.D&&Ue(m,"X-HTTP-Session-Id",this.D),kr(this,m),F&&(this.O?h="headers="+encodeURIComponent(String(jc(F)))+"&"+h:this.m&&ka(m,this.m,F)),Va(this.h,L),this.Ua&&Ue(m,"TYPE","init"),this.P?(Ue(m,"$req",h),Ue(m,"SID","null"),L.T=!0,Ca(L,m,null)):Ca(L,m,h),this.G=2}}else this.G==3&&(l?Yc(this,l):this.i.length==0||Rc(this.h)||Yc(this))};function Yc(l,h){var m;h?m=h.l:m=l.U++;const w=bn(l.I);Ue(w,"SID",l.K),Ue(w,"RID",m),Ue(w,"AID",l.T),kr(l,w),l.m&&l.o&&ka(w,l.m,l.o),m=new Bn(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),h&&(l.i=h.D.concat(l.i)),h=Xc(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Va(l.h,m),Ca(m,w,h)}function kr(l,h){l.H&&q(l.H,function(m,w){Ue(h,w,m)}),l.l&&Mc({},function(m,w){Ue(h,w,m)})}function Xc(l,h,m){m=Math.min(l.i.length,m);var w=l.l?p(l.l.Na,l.l,l):null;e:{var L=l.i;let F=-1;for(;;){const X=["count="+m];F==-1?0<m?(F=L[0].g,X.push("ofs="+F)):F=0:X.push("ofs="+F);let Le=!0;for(let at=0;at<m;at++){let Ve=L[at].g;const gt=L[at].map;if(Ve-=F,0>Ve)F=Math.max(0,L[at].g-100),Le=!1;else try{Kv(gt,X,"req"+Ve+"_")}catch{w&&w(gt)}}if(Le){w=X.join("&");break e}}}return l=l.i.splice(0,m),h.D=l,w}function Jc(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;le||Rt(),ue||(le(),ue=!0),qe.add(h,l),l.v=0}}function Ma(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Tr(p(l.Fa,l),td(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Zc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Tr(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),Ni(this),Zc(this))};function Oa(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Zc(l){l.g=new Bn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=bn(l.qa);Ue(h,"RID","rpc"),Ue(h,"SID",l.K),Ue(h,"AID",l.T),Ue(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ue(h,"TO",l.ja),Ue(h,"TYPE","xmlhttp"),kr(l,h),l.m&&l.o&&ka(h,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=ki(bn(h)),m.m=null,m.P=!0,Ac(m,l)}t.Za=function(){this.C!=null&&(this.C=null,Ni(this),Ma(this),At(19))};function Fi(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function ed(l,h){var m=null;if(l.g==h){Fi(l),Oa(l),l.g=null;var w=2}else if(Ra(l.h,h))m=h.D,kc(l.h,h),w=1;else return;if(l.G!=0){if(h.o)if(w==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var L=l.B;w=Ai(),_e(w,new Ec(w,m)),Li(l)}else Jc(l);else if(L=h.s,L==3||L==0&&0<h.X||!(w==1&&Jv(l,h)||w==2&&Ma(l)))switch(m&&0<m.length&&(h=l.h,h.i=h.i.concat(m)),L){case 1:vs(l,5);break;case 4:vs(l,10);break;case 3:vs(l,6);break;default:vs(l,2)}}}function td(l,h){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*h}function vs(l,h){if(l.j.info("Error code "+h),h==2){var m=p(l.fb,l),w=l.Xa;const L=!w;w=new gs(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ri(w,"https"),ki(w),L?Gv(w.toString(),m):Hv(w.toString(),m)}else At(2);l.G=0,l.l&&l.l.sa(h),nd(l),Qc(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function nd(l){if(l.G=0,l.ka=[],l.l){const h=Dc(l.h);(h.length!=0||l.i.length!=0)&&(I(l.ka,h),I(l.ka,l.i),l.h.i.length=0,S(l.i),l.i.length=0),l.l.ra()}}function sd(l,h,m){var w=m instanceof gs?bn(m):new gs(m);if(w.g!="")h&&(w.g=h+"."+w.g),Vi(w,w.s);else{var L=a.location;w=L.protocol,h=h?h+"."+L.hostname:L.hostname,L=+L.port;var F=new gs(null);w&&Ri(F,w),h&&(F.g=h),L&&Vi(F,L),m&&(F.l=m),w=F}return m=l.D,h=l.ya,m&&h&&Ue(w,m,h),Ue(w,"VER",l.la),kr(l,w),w}function rd(l,h,m){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new We(new Di({eb:m})):new We(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function id(){}t=id.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $i(){}$i.prototype.g=function(l,h){return new Ft(l,h)};function Ft(l,h){de.call(this),this.g=new Kc(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!v(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!v(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Ls(this)}_(Ft,de),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){Da(this.g)},Ft.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=ot(l),l=m);h.i.push(new Ov(h.Ya++,l)),h.G==3&&Li(h)},Ft.prototype.N=function(){this.g.l=null,delete this.j,Da(this.g),delete this.g,Ft.aa.N.call(this)};function od(l){Ta.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const m in h){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}_(od,Ta);function ad(){Sa.call(this),this.status=1}_(ad,Sa);function Ls(l){this.g=l}_(Ls,id),Ls.prototype.ua=function(){_e(this.g,"a")},Ls.prototype.ta=function(l){_e(this.g,new od(l))},Ls.prototype.sa=function(l){_e(this.g,new ad)},Ls.prototype.ra=function(){_e(this.g,"b")},$i.prototype.createWebChannel=$i.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,Xp=function(){return new $i},Yp=function(){return Ai()},Qp=ps,kl={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ci.NO_ERROR=0,Ci.TIMEOUT=8,Ci.HTTP_ERROR=6,to=Ci,Tc.COMPLETE="complete",Kp=Tc,yc.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",de.prototype.listen=de.prototype.K,$r=yc,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,Wp=We}).apply(typeof qi<"u"?qi:typeof self<"u"?self:typeof window<"u"?window:{});const Yd="@firebase/firestore",Xd="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pr="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new bu("@firebase/firestore");function js(){return As.logLevel}function ne(t,...e){if(As.logLevel<=xe.DEBUG){const n=e.map(Tu);As.debug(`Firestore (${pr}): ${t}`,...n)}}function Mn(t,...e){if(As.logLevel<=xe.ERROR){const n=e.map(Tu);As.error(`Firestore (${pr}): ${t}`,...n)}}function rr(t,...e){if(As.logLevel<=xe.WARN){const n=e.map(Tu);As.warn(`Firestore (${pr}): ${t}`,...n)}}function Tu(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Jp(t,s,n)}function Jp(t,e,n){let s=`FIRESTORE (${pr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Mn(s),new Error(s)}function Ne(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||Jp(e,r,s)}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends cs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class X0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_t.UNAUTHENTICATED))}shutdown(){}}class J0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Z0{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ne(this.o===void 0,42304);let s=this.i;const r=u=>this.i!==s?(s=this.i,n(u)):Promise.resolve();let i=new Vn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vn,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},a=u=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ne(typeof s.accessToken=="string",31837,{l:s}),new Zp(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string",2055,{h:e}),new _t(e)}}class eb{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tb{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new eb(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(_t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nb{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,O0(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ne(this.o===void 0,3512);const s=i=>{i.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jd(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Jd(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=sb(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function Ee(t,e){return t<e?-1:t>e?1:0}function Dl(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=t.codePointAt(n),r=e.codePointAt(n);if(s!==r){if(s<128&&r<128)return Ee(s,r);{const i=em(),o=rb(i.encode(Zd(t,n)),i.encode(Zd(e,n)));return o!==0?o:Ee(s,r)}}n+=s>65535?2:1}return Ee(t.length,e.length)}function Zd(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function rb(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ee(t[n],e[n]);return Ee(t.length,e.length)}function ir(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=-62135596800,tf=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*tf);return new Ze(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ef)throw new ie(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tf}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ef;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{static fromTimestamp(e){return new me(e)}static min(){return new me(new Ze(0,0))}static max(){return new me(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="__name__";class ln{constructor(e,n,s){n===void 0?n=0:n>e.length&&fe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&fe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ln.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ln?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=ln.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return Ee(e.length,n.length)}static compareSegments(e,n){const s=ln.isNumericId(e),r=ln.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?ln.extractNumericId(e).compare(ln.extractNumericId(n)):Dl(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jn.fromString(e.substring(4,e.length-2))}}class je extends ln{construct(e,n,s){return new je(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ie(G.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new je(n)}static emptyPath(){return new je([])}}const ib=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dt extends ln{construct(e,n,s){return new dt(e,n,s)}static isValidIdentifier(e){return ib.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nf}static keyField(){return new dt([nf])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new ie(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new ie(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ie(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new ie(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dt(n)}static emptyPath(){return new dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(je.fromString(e))}static fromName(e){return new ae(je.fromString(e).popFirst(5))}static empty(){return new ae(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=-1;function ob(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=me.fromTimestamp(s===1e9?new Ze(n+1,0):new Ze(n,s));return new ns(r,ae.empty(),e)}function ab(t){return new ns(t.readTime,t.key,ui)}class ns{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ns(me.min(),ae.empty(),ui)}static max(){return new ns(me.max(),ae.empty(),ui)}}function lb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mr(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==ub)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,s)=>{n(e)})}static reject(e){return new j((n,s)=>{s(e)})}static waitFor(e){return new j((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},u=>s(u))}),o=!0,i===r&&n()})}static or(e){let n=j.resolve(!1);for(const s of e)n=n.next(r=>r?j.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new j((s,r)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===i&&s(o)},d=>r(d))}})}static doWhile(e,n){return new j((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function db(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gr(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Xo.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=-1;function Jo(t){return t==null}function vo(t){return t===0&&1/t==-1/0}function fb(t){return typeof t=="number"&&Number.isInteger(t)&&!vo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="";function hb(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sf(e)),e=pb(t.get(n),e);return sf(e)}function pb(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case nm:n+="";break;default:n+=i}}return n}function sf(t){return t+nm+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ds(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||ut.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ut.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gi(this.root,e,this.comparator,!0)}}class Gi{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ut{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??ut.RED,this.left=r??ut.EMPTY,this.right=i??ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new ut(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return ut.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fe(27949);return e+(this.isRed()?0:1)}}ut.EMPTY=null,ut.RED=!0,ut.BLACK=!1;ut.EMPTY=new class{constructor(){this.size=0}get key(){throw fe(57766)}get value(){throw fe(16141)}get color(){throw fe(16727)}get left(){throw fe(29726)}get right(){throw fe(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new of(this.data.getIterator())}getIteratorFrom(e){return new of(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof et)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new et(this.comparator);return n.data=e,n}}class of{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.fields=e,e.sort(dt.comparator)}static empty(){return new zt([])}unionWith(e){let n=new et(dt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ir(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new rm("Invalid base64 string: "+i):i}}(e);return new ht(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ht.EMPTY_BYTE_STRING=new ht("");const mb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(t){if(Ne(!!t,39018),typeof t=="string"){let e=0;const n=mb.exec(t);if(Ne(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function rs(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="server_timestamp",om="__type__",am="__previous_value__",lm="__local_write_time__";function Iu(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[om])===null||n===void 0?void 0:n.stringValue)===im}function Zo(t){const e=t.mapValue.fields[am];return Iu(e)?Zo(e):e}function ci(t){const e=ss(t.mapValue.fields[lm].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,n,s,r,i,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}const yo="(default)";class di{constructor(e,n){this.projectId=e,this.database=n||yo}static empty(){return new di("","")}get isDefaultDatabase(){return this.database===yo}isEqual(e){return e instanceof di&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="__type__",vb="__max__",Hi={mapValue:{}},cm="__vector__",_o="value";function is(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Iu(t)?4:_b(t)?9007199254740991:yb(t)?10:11:fe(28295,{value:t})}function vn(t,e){if(t===e)return!0;const n=is(t);if(n!==is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ci(t).isEqual(ci(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=ss(r.timestampValue),a=ss(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return rs(r.bytesValue).isEqual(rs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ke(r.geoPointValue.latitude)===Ke(i.geoPointValue.latitude)&&Ke(r.geoPointValue.longitude)===Ke(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ke(r.integerValue)===Ke(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Ke(r.doubleValue),a=Ke(i.doubleValue);return o===a?vo(o)===vo(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ir(t.arrayValue.values||[],e.arrayValue.values||[],vn);case 10:case 11:return function(r,i){const o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(rf(o)!==rf(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!vn(o[u],a[u])))return!1;return!0}(t,e);default:return fe(52216,{left:t})}}function fi(t,e){return(t.values||[]).find(n=>vn(n,e))!==void 0}function or(t,e){if(t===e)return 0;const n=is(t),s=is(e);if(n!==s)return Ee(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ke(i.integerValue||i.doubleValue),u=Ke(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return af(t.timestampValue,e.timestampValue);case 4:return af(ci(t),ci(e));case 5:return Dl(t.stringValue,e.stringValue);case 6:return function(i,o){const a=rs(i),u=rs(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=Ee(a[c],u[c]);if(d!==0)return d}return Ee(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ee(Ke(i.latitude),Ke(o.latitude));return a!==0?a:Ee(Ke(i.longitude),Ke(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lf(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,u,c,d;const f=i.fields||{},p=o.fields||{},g=(a=f[_o])===null||a===void 0?void 0:a.arrayValue,_=(u=p[_o])===null||u===void 0?void 0:u.arrayValue,S=Ee(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return S!==0?S:lf(g,_)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Hi.mapValue&&o===Hi.mapValue)return 0;if(i===Hi.mapValue)return 1;if(o===Hi.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const p=Dl(u[f],d[f]);if(p!==0)return p;const g=or(a[u[f]],c[d[f]]);if(g!==0)return g}return Ee(u.length,d.length)}(t.mapValue,e.mapValue);default:throw fe(23264,{Pe:n})}}function af(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);const n=ss(t),s=ss(e),r=Ee(n.seconds,s.seconds);return r!==0?r:Ee(n.nanos,s.nanos)}function lf(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=or(n[r],s[r]);if(i)return i}return Ee(n.length,s.length)}function ar(t){return Ml(t)}function Ml(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=ss(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return rs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=Ml(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const o of s)i?i=!1:r+=",",r+=`${o}:${Ml(n.fields[o])}`;return r+"}"}(t.mapValue):fe(61005,{value:t})}function no(t){switch(is(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zo(t);return e?16+no(e):16;case 5:return 2*t.stringValue.length;case 6:return rs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,i)=>r+no(i),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return ds(s.fields,(i,o)=>{r+=i.length+no(o)}),r}(t.mapValue);default:throw fe(13486,{value:t})}}function Ol(t){return!!t&&"integerValue"in t}function Au(t){return!!t&&"arrayValue"in t}function uf(t){return!!t&&"nullValue"in t}function cf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function so(t){return!!t&&"mapValue"in t}function yb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[um])===null||n===void 0?void 0:n.stringValue)===cm}function Kr(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ds(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Kr(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kr(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _b(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===vb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.value=e}static empty(){return new Ot({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!so(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kr(n)}setAll(e){let n=dt.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=Kr(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());so(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];so(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){ds(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new Ot(Kr(this.value))}}function dm(t){const e=[];return ds(t.fields,(n,s)=>{const r=new dt([n]);if(so(s)){const i=dm(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n,s,r,i,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Et(e,0,me.min(),me.min(),me.min(),Ot.empty(),0)}static newFoundDocument(e,n,s,r){return new Et(e,1,n,me.min(),s,r,0)}static newNoDocument(e,n){return new Et(e,2,n,me.min(),me.min(),Ot.empty(),0)}static newUnknownDocument(e,n){return new Et(e,3,n,me.min(),me.min(),Ot.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ot.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n){this.position=e,this.inclusive=n}}function df(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=ae.comparator(ae.fromName(o.referenceValue),n.key):s=or(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function ff(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n="asc"){this.field=e,this.dir=n}}function wb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{}class Je extends fm{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Eb(e,n,s):n==="array-contains"?new Ib(e,s):n==="in"?new Ab(e,s):n==="not-in"?new Cb(e,s):n==="array-contains-any"?new xb(e,s):new Je(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Tb(e,s):new Sb(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(or(n,this.value)):n!==null&&is(this.value)===is(n)&&this.matchesComparison(or(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yn extends fm{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new yn(e,n)}matches(e){return hm(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function hm(t){return t.op==="and"}function pm(t){return bb(t)&&hm(t)}function bb(t){for(const e of t.filters)if(e instanceof yn)return!1;return!0}function Nl(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+ar(t.value);if(pm(t))return t.filters.map(e=>Nl(e)).join(",");{const e=t.filters.map(n=>Nl(n)).join(",");return`${t.op}(${e})`}}function mm(t,e){return t instanceof Je?function(s,r){return r instanceof Je&&s.op===r.op&&s.field.isEqual(r.field)&&vn(s.value,r.value)}(t,e):t instanceof yn?function(s,r){return r instanceof yn&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,o,a)=>i&&mm(o,r.filters[a]),!0):!1}(t,e):void fe(19439)}function gm(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${ar(n.value)}`}(t):t instanceof yn?function(n){return n.op.toString()+" {"+n.getFilters().map(gm).join(" ,")+"}"}(t):"Filter"}class Eb extends Je{constructor(e,n,s){super(e,n,s),this.key=ae.fromName(s.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class Tb extends Je{constructor(e,n){super(e,"in",n),this.keys=vm("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Sb extends Je{constructor(e,n){super(e,"not-in",n),this.keys=vm("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vm(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ae.fromName(s.referenceValue))}class Ib extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Au(n)&&fi(n.arrayValue,this.value)}}class Ab extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fi(this.value.arrayValue,n)}}class Cb extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(fi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fi(this.value.arrayValue,n)}}class xb extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Au(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>fi(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function hf(t,e=null,n=[],s=[],r=null,i=null,o=null){return new Pb(t,e,n,s,r,i,o)}function Cu(t){const e=ve(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Nl(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),Jo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ar(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ar(s)).join(",")),e.Ie=n}return e.Ie}function xu(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mm(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ff(t.startAt,e.startAt)&&ff(t.endAt,e.endAt)}function Ll(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Rb(t,e,n,s,r,i,o,a){return new ea(t,e,n,s,r,i,o,a)}function Pu(t){return new ea(t)}function pf(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Vb(t){return t.collectionGroup!==null}function Qr(t){const e=ve(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new et(dt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new bo(i,s))}),n.has(dt.keyField().canonicalString())||e.Ee.push(new bo(dt.keyField(),s))}return e.Ee}function hn(t){const e=ve(t);return e.de||(e.de=kb(e,Qr(t))),e.de}function kb(t,e){if(t.limitType==="F")return hf(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new bo(r.field,i)});const n=t.endAt?new wo(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new wo(t.startAt.position,t.startAt.inclusive):null;return hf(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Fl(t,e,n){return new ea(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ta(t,e){return xu(hn(t),hn(e))&&t.limitType===e.limitType}function ym(t){return`${Cu(hn(t))}|lt:${t.limitType}`}function zs(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>gm(r)).join(", ")}]`),Jo(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>ar(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>ar(r)).join(",")),`Target(${s})`}(hn(t))}; limitType=${t.limitType})`}function na(t,e){return e.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):ae.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(t,e)&&function(s,r){for(const i of Qr(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(o,a,u){const c=df(o,a,u);return o.inclusive?c<=0:c<0}(s.startAt,Qr(s),r)||s.endAt&&!function(o,a,u){const c=df(o,a,u);return o.inclusive?c>=0:c>0}(s.endAt,Qr(s),r))}(t,e)}function Db(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _m(t){return(e,n)=>{let s=!1;for(const r of Qr(t)){const i=Mb(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function Mb(t,e,n){const s=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?or(u,c):fe(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return sm(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new He(ae.comparator);function On(){return Ob}const wm=new He(ae.comparator);function Br(...t){let e=wm;for(const n of t)e=e.insert(n.key,n);return e}function bm(t){let e=wm;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Es(){return Yr()}function Em(){return Yr()}function Yr(){return new ks(t=>t.toString(),(t,e)=>t.isEqual(e))}const Nb=new He(ae.comparator),Lb=new et(ae.comparator);function Ie(...t){let e=Lb;for(const n of t)e=e.add(n);return e}const Fb=new et(Ee);function $b(){return Fb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vo(e)?"-0":e}}function Tm(t){return{integerValue:""+t}}function Bb(t,e){return fb(e)?Tm(e):Ru(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this._=void 0}}function Ub(t,e,n){return t instanceof Eo?function(r,i){const o={fields:{[om]:{stringValue:im},[lm]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Iu(i)&&(i=Zo(i)),i&&(o.fields[am]=i),{mapValue:o}}(n,e):t instanceof hi?Im(t,e):t instanceof pi?Am(t,e):function(r,i){const o=Sm(r,i),a=mf(o)+mf(r.Re);return Ol(o)&&Ol(r.Re)?Tm(a):Ru(r.serializer,a)}(t,e)}function jb(t,e,n){return t instanceof hi?Im(t,e):t instanceof pi?Am(t,e):n}function Sm(t,e){return t instanceof To?function(s){return Ol(s)||function(i){return!!i&&"doubleValue"in i}(s)}(e)?e:{integerValue:0}:null}class Eo extends sa{}class hi extends sa{constructor(e){super(),this.elements=e}}function Im(t,e){const n=Cm(e);for(const s of t.elements)n.some(r=>vn(r,s))||n.push(s);return{arrayValue:{values:n}}}class pi extends sa{constructor(e){super(),this.elements=e}}function Am(t,e){let n=Cm(e);for(const s of t.elements)n=n.filter(r=>!vn(r,s));return{arrayValue:{values:n}}}class To extends sa{constructor(e,n){super(),this.serializer=e,this.Re=n}}function mf(t){return Ke(t.integerValue||t.doubleValue)}function Cm(t){return Au(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function zb(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof hi&&r instanceof hi||s instanceof pi&&r instanceof pi?ir(s.elements,r.elements,vn):s instanceof To&&r instanceof To?vn(s.Re,r.Re):s instanceof Eo&&r instanceof Eo}(t.transform,e.transform)}class qb{constructor(e,n){this.version=e,this.transformResults=n}}class nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nn}static exists(e){return new nn(void 0,e)}static updateTime(e){return new nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ro(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ra{}function xm(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vu(t.key,nn.none()):new bi(t.key,t.data,nn.none());{const n=t.data,s=Ot.empty();let r=new et(dt.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new fs(t.key,s,new zt(r.toArray()),nn.none())}}function Gb(t,e,n){t instanceof bi?function(r,i,o){const a=r.value.clone(),u=vf(r.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fs?function(r,i,o){if(!ro(r.precondition,i))return void i.convertToUnknownDocument(o.version);const a=vf(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(Pm(r)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Xr(t,e,n,s){return t instanceof bi?function(i,o,a,u){if(!ro(i.precondition,o))return a;const c=i.value.clone(),d=yf(i.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,s):t instanceof fs?function(i,o,a,u){if(!ro(i.precondition,o))return a;const c=yf(i.fieldTransforms,u,o),d=o.data;return d.setAll(Pm(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,s):function(i,o,a){return ro(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Hb(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=Sm(s.transform,r||null);i!=null&&(n===null&&(n=Ot.empty()),n.set(s.field,i))}return n||null}function gf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&ir(s,r,(i,o)=>zb(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bi extends ra{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fs extends ra{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Pm(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function vf(t,e,n){const s=new Map;Ne(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,jb(o,a,n[r]))}return s}function yf(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,Ub(i,o,e))}return s}class Vu extends ra{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wb extends ra{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&Gb(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Xr(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Xr(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Em();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const u=xm(o,a);u!==null&&s.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(me.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&ir(this.mutations,e.mutations,(n,s)=>gf(n,s))&&ir(this.baseMutations,e.baseMutations,(n,s)=>gf(n,s))}}class ku{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Ne(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let r=function(){return Nb}();const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new ku(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,Ce;function Xb(t){switch(t){case G.OK:return fe(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return fe(15467,{code:t})}}function Rm(t){if(t===void 0)return Mn("GRPC error has no .code"),G.UNKNOWN;switch(t){case Ye.OK:return G.OK;case Ye.CANCELLED:return G.CANCELLED;case Ye.UNKNOWN:return G.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return G.INTERNAL;case Ye.UNAVAILABLE:return G.UNAVAILABLE;case Ye.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Ye.NOT_FOUND:return G.NOT_FOUND;case Ye.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Ye.ABORTED:return G.ABORTED;case Ye.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Ye.DATA_LOSS:return G.DATA_LOSS;default:return fe(39323,{code:t})}}(Ce=Ye||(Ye={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=new Jn([4294967295,4294967295],0);function _f(t){const e=em().encode(t),n=new Hp;return n.update(e),new Uint8Array(n.digest())}function wf(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Jn([n,s],0),new Jn([r,i],0)]}class Du{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ur(`Invalid padding: ${n}`);if(s<0)throw new Ur(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ur(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ur(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Jn.fromNumber(this.pe)}we(e,n,s){let r=e.add(n.multiply(Jn.fromNumber(s)));return r.compare(Jb)===1&&(r=new Jn([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=_f(e),[s,r]=wf(n);for(let i=0;i<this.hashCount;i++){const o=this.we(s,r,i);if(!this.be(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Du(i,r,n);return s.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=_f(e),[s,r]=wf(n);for(let i=0;i<this.hashCount;i++){const o=this.we(s,r,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ur extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,Ei.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ia(me.min(),r,new He(Ee),On(),Ie())}}class Ei{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ei(s,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n,s,r){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=r}}class Vm{constructor(e,n){this.targetId=e,this.Ce=n}}class km{constructor(e,n,s=ht.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class bf{constructor(){this.Fe=0,this.Me=Ef(),this.xe=ht.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ie(),n=Ie(),s=Ie();return this.Me.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:fe(38017,{changeType:i})}}),new Ei(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=Ef()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ne(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Zb{constructor(e){this.ze=e,this.je=new Map,this.He=On(),this.Je=Wi(),this.Ye=Wi(),this.Ze=new He(Ee)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:fe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,r)=>{this.it(r)&&n(r)})}ot(e){const n=e.targetId,s=e.Ce.count,r=this._t(n);if(r){const i=r.target;if(Ll(i))if(s===0){const o=new ae(i.path);this.tt(n,o,Et.newNoDocument(o,me.min()))}else Ne(s===1,20013,{expectedCount:s});else{const o=this.ut(n);if(o!==s){const a=this.ct(e),u=a?this.lt(a,e,o):1;if(u!==0){this.st(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let o,a;try{o=rs(s).toUint8Array()}catch(u){if(u instanceof rm)return rr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Du(o,r,i)}catch(u){return rr(u instanceof Ur?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let r=0;return s.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),r++)}),r}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&Ll(a.target)){const u=new ae(a.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,Et.newNoDocument(u,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let s=Ie();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this._t(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(s=s.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const r=new ia(e,n,this.Ze,this.He,s);return this.He=On(),this.Je=Wi(),this.Ye=Wi(),this.Ze=new He(Ee),r}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const r=this.rt(e);this.dt(e,n)?r.$e(n,1):r.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new bf,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new et(Ee),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new et(Ee),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new bf),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Wi(){return new He(ae.comparator)}function Ef(){return new He(ae.comparator)}const eE={asc:"ASCENDING",desc:"DESCENDING"},tE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nE={and:"AND",or:"OR"};class sE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $l(t,e){return t.useProto3Json||Jo(e)?e:{value:e}}function So(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dm(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rE(t,e){return So(t,e.toTimestamp())}function pn(t){return Ne(!!t,49232),me.fromTimestamp(function(n){const s=ss(n);return new Ze(s.seconds,s.nanos)}(t))}function Mu(t,e){return Bl(t,e).canonicalString()}function Bl(t,e){const n=function(r){return new je(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Mm(t){const e=je.fromString(t);return Ne($m(e),10190,{key:e.toString()}),e}function Ul(t,e){return Mu(t.databaseId,e.path)}function Xa(t,e){const n=Mm(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(Nm(n))}function Om(t,e){return Mu(t.databaseId,e)}function iE(t){const e=Mm(t);return e.length===4?je.emptyPath():Nm(e)}function jl(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Nm(t){return Ne(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Tf(t,e,n){return{name:Ul(t,e),fields:n.value.mapValue.fields}}function oE(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:fe(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Ne(d===void 0||typeof d=="string",58123),ht.fromBase64String(d||"")):(Ne(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ht.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?G.UNKNOWN:Rm(c.code);return new ie(d,c.message||"")}(o);n=new km(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Xa(t,s.document.name),i=pn(s.document.updateTime),o=s.document.createTime?pn(s.document.createTime):me.min(),a=new Ot({mapValue:{fields:s.document.fields}}),u=Et.newFoundDocument(r,i,o,a),c=s.targetIds||[],d=s.removedTargetIds||[];n=new io(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Xa(t,s.document),i=s.readTime?pn(s.readTime):me.min(),o=Et.newNoDocument(r,i),a=s.removedTargetIds||[];n=new io([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Xa(t,s.document),i=s.removedTargetIds||[];n=new io([],i,r,null)}else{if(!("filter"in e))return fe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new Yb(r,i),a=s.targetId;n=new Vm(a,o)}}return n}function aE(t,e){let n;if(e instanceof bi)n={update:Tf(t,e.key,e.value)};else if(e instanceof Vu)n={delete:Ul(t,e.key)};else if(e instanceof fs)n={update:Tf(t,e.key,e.data),updateMask:gE(e.fieldMask)};else{if(!(e instanceof Wb))return fe(16599,{ft:e.type});n={verify:Ul(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(i,o){const a=o.transform;if(a instanceof Eo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof hi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof pi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof To)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw fe(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:rE(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fe(27497)}(t,e.precondition)),n}function lE(t,e){return t&&t.length>0?(Ne(e!==void 0,14353),t.map(n=>function(r,i){let o=r.updateTime?pn(r.updateTime):pn(i);return o.isEqual(me.min())&&(o=pn(i)),new qb(o,r.transformResults||[])}(n,e))):[]}function uE(t,e){return{documents:[Om(t,e.path)]}}function cE(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Om(t,r);const i=function(c){if(c.length!==0)return Fm(yn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:qs(p.field),direction:hE(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=$l(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:r}}function dE(t){let e=iE(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Ne(s===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=Lm(f);return p instanceof yn&&pm(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(_){return new bo(Gs(_.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Jo(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,g=f.values||[];return new wo(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new wo(g,p)}(n.endAt)),Rb(e,r,o,i,a,"F",u,c)}function fE(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Lm(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Gs(n.unaryFilter.field);return Je.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=Gs(n.unaryFilter.field);return Je.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Gs(n.unaryFilter.field);return Je.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Gs(n.unaryFilter.field);return Je.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fe(61313);default:return fe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Je.create(Gs(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fe(58110);default:return fe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yn.create(n.compositeFilter.filters.map(s=>Lm(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return fe(1026)}}(n.compositeFilter.op))}(t):fe(30097,{filter:t})}function hE(t){return eE[t]}function pE(t){return tE[t]}function mE(t){return nE[t]}function qs(t){return{fieldPath:t.canonicalString()}}function Gs(t){return dt.fromServerFormat(t.fieldPath)}function Fm(t){return t instanceof Je?function(n){if(n.op==="=="){if(cf(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NAN"}};if(uf(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cf(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NOT_NAN"}};if(uf(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(n.field),op:pE(n.op),value:n.value}}}(t):t instanceof yn?function(n){const s=n.getFilters().map(r=>Fm(r));return s.length===1?s[0]:{compositeFilter:{op:mE(n.op),filters:s}}}(t):fe(54877,{filter:t})}function gE(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $m(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n,s,r,i=me.min(),o=me.min(),a=ht.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Wn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e){this.wt=e}}function yE(t){const e=dE({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fl(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.yn=new wE}addToCollectionParentIndex(e,n){return this.yn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(ns.min())}updateCollectionGroup(e,n,s){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class wE{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new et(je.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new et(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bm=41943040;class Dt{static withCacheSize(e){return new Dt(e,Dt.DEFAULT_COLLECTION_PERCENTILE,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dt.DEFAULT_COLLECTION_PERCENTILE=10,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dt.DEFAULT=new Dt(Bm,Dt.DEFAULT_COLLECTION_PERCENTILE,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dt.DISABLED=new Dt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new lr(0)}static ir(){return new lr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="LruGarbageCollector",bE=1048576;function Af([t,e],[n,s]){const r=Ee(t,n);return r===0?Ee(e,s):r}class EE{constructor(e){this.cr=e,this.buffer=new et(Af),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Af(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TE{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ne(If,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gr(n)?ne(If,"Ignoring IndexedDB error during garbage collection: ",n):await mr(n)}await this.Ir(3e5)})}}class SE{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return j.resolve(Xo.le);const s=new EE(n);return this.Er.forEachTarget(e,r=>s.Pr(r.sequenceNumber)).next(()=>this.Er.Ar(e,r=>s.Pr(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Er.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(Sf)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sf):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let s,r,i,o,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,o=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(s=f,a=Date.now(),this.removeTargets(e,s,n))).next(f=>(i=f,u=Date.now(),this.removeOrphanedDocuments(e,s))).next(f=>(c=Date.now(),js()<=xe.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:f})))}}function IE(t,e){return new SE(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.changes=new ks(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?j.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Xr(s.mutation,r,zt.empty(),Ze.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ie()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ie()){const r=Es();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=Br();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=Es();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ie()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,r){let i=On();const o=Yr(),a=function(){return Yr()}();return n.forEach((u,c)=>{const d=s.get(c.key);r.has(c.key)&&(d===void 0||d.mutation instanceof fs)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Xr(d.mutation,c,d.mutation.getFieldMask(),Ze.now())):o.set(c.key,zt.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new CE(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const s=Yr();let r=new He((o,a)=>o-a),i=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=s.get(u)||zt.empty();d=a.applyToLocalView(c,d),s.set(u,d);const f=(r.get(a.batchId)||Ie()).add(u);r=r.insert(a.batchId,f)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,f=Em();d.forEach(p=>{if(!i.has(p)){const g=xm(n.get(p),s.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return j.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Vb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):j.resolve(Es());let a=ui,u=i;return o.next(c=>j.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?j.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,Ie())).next(d=>({batchId:a,changes:bm(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(s=>{let r=Br();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let o=Br();return this.indexManager.getCollectionParents(e,i).next(a=>j.forEach(a,u=>{const c=function(f,p){return new ea(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,s,r).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r))).next(o=>{i.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Et.newInvalidDocument(d)))});let a=Br();return o.forEach((u,c)=>{const d=i.get(u);d!==void 0&&Xr(d.mutation,c,zt.empty(),Ze.now()),na(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return j.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:pn(r.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(r){return{name:r.name,query:yE(r.bundledQuery),readTime:pn(r.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.overlays=new He(ae.comparator),this.Or=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Es();return j.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.St(e,n,i)}),j.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.Or.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(s)),j.resolve()}getOverlaysForCollection(e,n,s){const r=Es(),i=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>s&&r.set(u.getKey(),u)}return j.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new He((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>s){let d=i.get(c.largestBatchId);d===null&&(d=Es(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Es(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=r)););return j.resolve(a)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.Or.get(r.largestBatchId).delete(s.key);this.Or.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new Qb(n,s));let i=this.Or.get(n);i===void 0&&(i=Ie(),this.Or.set(n,i)),this.Or.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.sessionToken=ht.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this.Nr=new et(tt.Br),this.Lr=new et(tt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const s=new tt(e,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Qr(new tt(e,n))}$r(e,n){e.forEach(s=>this.removeReference(s,n))}Ur(e){const n=new ae(new je([])),s=new tt(n,e),r=new tt(n,e+1),i=[];return this.Lr.forEachInRange([s,r],o=>{this.Qr(o),i.push(o.key)}),i}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new ae(new je([])),s=new tt(n,e),r=new tt(n,e+1);let i=Ie();return this.Lr.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new tt(e,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class tt{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return ae.comparator(e.key,n.key)||Ee(e.Gr,n.Gr)}static kr(e,n){return Ee(e.Gr,n.Gr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new et(tt.Br)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Kb(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.zr=this.zr.add(new tt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.Hr(s),i=r<0?0:r;return j.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?Su:this.Jn-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new tt(n,0),r=new tt(n,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([s,r],o=>{const a=this.jr(o.Gr);i.push(a)}),j.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new et(Ee);return n.forEach(r=>{const i=new tt(r,0),o=new tt(r,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,o],a=>{s=s.add(a.Gr)})}),j.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;ae.isDocumentKey(i)||(i=i.child(""));const o=new tt(new ae(i),0);let a=new et(Ee);return this.zr.forEachWhile(u=>{const c=u.key.path;return!!s.isPrefixOf(c)&&(c.length===r&&(a=a.add(u.Gr)),!0)},o),j.resolve(this.Jr(a))}Jr(e){const n=[];return e.forEach(s=>{const r=this.jr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ne(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return j.forEach(n.mutations,r=>{const i=new tt(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,n){const s=new tt(n,0),r=this.zr.firstAfterOrEqual(s);return j.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e){this.Zr=e,this.docs=function(){return new He(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return j.resolve(s?s.document.mutableCopy():Et.newInvalidDocument(n))}getEntries(e,n){let s=On();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():Et.newInvalidDocument(r))}),j.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=On();const o=n.path,a=new ae(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||lb(ab(d),s)<=0||(r.has(d.key)||na(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return j.resolve(i)}getAllFromCollectionGroup(e,n,s,r){fe(9500)}Xr(e,n){return j.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new ME(this)}getSize(e){return j.resolve(this.size)}}class ME extends AE{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.vr.addEntry(e,r)):this.vr.removeEntry(s)}),j.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this.persistence=e,this.ei=new ks(n=>Cu(n),xu),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.ti=0,this.ni=new Ou,this.targetCount=0,this.ri=lr.rr()}forEachTarget(e,n){return this.ei.forEach((s,r)=>n(r)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),j.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new lr(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.ar(n),j.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.ei.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),j.waitFor(i).next(()=>r)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const s=this.ei.get(n)||null;return j.resolve(s)}addMatchingKeys(e,n,s){return this.ni.qr(n,s),j.resolve()}removeMatchingKeys(e,n,s){this.ni.$r(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),j.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),j.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ni.Wr(n);return j.resolve(s)}containsKey(e,n){return j.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n){this.ii={},this.overlays={},this.si=new Xo(0),this.oi=!1,this.oi=!0,this._i=new VE,this.referenceDelegate=e(this),this.ai=new OE(this),this.indexManager=new _E,this.remoteDocumentCache=function(r){return new DE(r)}(s=>this.referenceDelegate.ui(s)),this.serializer=new vE(n),this.ci=new PE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ii[e.toKey()];return s||(s=new kE(n,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,s){ne("MemoryPersistence","Starting transaction:",e);const r=new NE(this.si.next());return this.referenceDelegate.li(),s(r).next(i=>this.referenceDelegate.hi(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Pi(e,n){return j.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,n)))}}class NE extends cb{constructor(e){super(),this.currentSequenceNumber=e}}class Nu{constructor(e){this.persistence=e,this.Ti=new Ou,this.Ii=null}static Ei(e){return new Nu(e)}get di(){if(this.Ii)return this.Ii;throw fe(60996)}addReference(e,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),j.resolve()}removeReference(e,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(r=>this.di.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.di.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.di,s=>{const r=ae.fromPath(s);return this.Ai(e,r).next(i=>{i||n.removeEntry(r,me.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return j.or([()=>j.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Io{constructor(e,n){this.persistence=e,this.Ri=new ks(s=>hb(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=IE(this,n)}static Ei(e,n){return new Io(e,n)}li(){}hi(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}Vr(e){let n=0;return this.Ar(e,s=>{n++}).next(()=>n)}Ar(e,n){return j.forEach(this.Ri,(s,r)=>this.gr(e,s,r).next(i=>i?j.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Xr(e,o=>this.gr(e,o,n).next(a=>{a||(s++,i.removeEntry(o,me.min()))})).next(()=>i.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),j.resolve()}removeReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),j.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=no(e.data.value)),n}gr(e,n,s){return j.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.Ri.get(n);return j.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.ls=s,this.hs=r}static Ps(e,n){let s=Ie(),r=Ie();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Lu(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Vw()?8:db(xw())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.Rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Vs(e,n,r,s).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new LE;return this.fs(e,n,o).next(a=>{if(i.result=a,this.Is)return this.gs(e,n,o,a.size)})}).next(()=>i.result)}gs(e,n,s,r){return s.documentReadCount<this.Es?(js()<=xe.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",zs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),j.resolve()):(js()<=xe.DEBUG&&ne("QueryEngine","Query:",zs(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.ds*r?(js()<=xe.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",zs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hn(n))):j.resolve())}Rs(e,n){if(pf(n))return j.resolve(null);let s=hn(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Fl(n,null,"F"),s=hn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=Ie(...i);return this.As.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(u=>{const c=this.ps(n,a);return this.ys(n,c,o,u.readTime)?this.Rs(e,Fl(n,null,"F")):this.ws(e,c,n,u)}))})))}Vs(e,n,s,r){return pf(n)||r.isEqual(me.min())?j.resolve(null):this.As.getDocuments(e,s).next(i=>{const o=this.ps(n,i);return this.ys(n,o,s,r)?j.resolve(null):(js()<=xe.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zs(n)),this.ws(e,o,n,ob(r,ui)).next(a=>a))})}ps(e,n){let s=new et(_m(e));return n.forEach((r,i)=>{na(e,i)&&(s=s.add(i))}),s}ys(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}fs(e,n,s){return js()<=xe.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",zs(n)),this.As.getDocumentsMatchingQuery(e,n,ns.min(),s)}ws(e,n,s,r){return this.As.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu="LocalStore",$E=3e8;class BE{constructor(e,n,s,r){this.persistence=e,this.bs=n,this.serializer=r,this.Ss=new He(Ee),this.Ds=new ks(i=>Cu(i),xu),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xE(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function UE(t,e,n,s){return new BE(t,e,n,s)}async function jm(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Fs(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let u=Ie();for(const c of r){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(s,u).next(c=>({Ms:c,removedBatchIds:o,addedBatchIds:a}))})})}function jE(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const f=c.batch,p=f.keys();let g=j.resolve();return p.forEach(_=>{g=g.next(()=>d.getEntry(u,_)).next(S=>{const I=c.docVersions.get(_);Ne(I!==null,48541),S.version.compareTo(I)<0&&(f.applyToRemoteDocument(S,c),S.isValidDocument()&&(S.setReadTime(c.commitVersion),d.addEntry(S)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(a){let u=Ie();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function zm(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function zE(t,e){const n=ve(t),s=e.snapshotVersion;let r=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});r=n.Ss;const a=[];e.targetChanges.forEach((d,f)=>{const p=r.get(f);if(!p)return;a.push(n.ai.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.ai.addMatchingKeys(i,d.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(ht.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,s)),r=r.insert(f,g),function(S,I,V){return S.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=$E?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(p,g,d)&&a.push(n.ai.updateTargetData(i,g))});let u=On(),c=Ie();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(qE(i,o,e.documentUpdates).next(d=>{u=d.xs,c=d.Os})),!s.isEqual(me.min())){const d=n.ai.getLastRemoteSnapshotVersion(i).next(f=>n.ai.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(d)}return j.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.Ss=r,i))}function qE(t,e,n){let s=Ie(),r=Ie();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=On();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),u.isNoDocument()&&u.version.isEqual(me.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):ne(Fu,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{xs:o,Os:r}})}function GE(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Su),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function HE(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.ai.getTargetData(s,e).next(i=>i?(r=i,j.resolve(r)):n.ai.allocateTargetId(s).next(o=>(r=new Wn(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ss.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(e,s.targetId)),s})}async function zl(t,e,n){const s=ve(t),r=s.Ss.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!gr(o))throw o;ne(Fu,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(r.target)}function Cf(t,e,n){const s=ve(t);let r=me.min(),i=Ie();return s.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const f=ve(u),p=f.Ds.get(d);return p!==void 0?j.resolve(f.Ss.get(p)):f.ai.getTargetData(c,d)}(s,o,hn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>s.bs.getDocumentsMatchingQuery(o,e,n?r:me.min(),n?i:Ie())).next(a=>(WE(s,Db(e),a),{documents:a,Ns:i})))}function WE(t,e,n){let s=t.vs.get(e)||me.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.vs.set(e,s)}class xf{constructor(){this.activeTargetIds=$b()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KE{constructor(){this.So=new xf,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,s){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new xf,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="ConnectivityMonitor";class Rf{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ne(Pf,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ne(Pf,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ki=null;function ql(){return Ki===null?Ki=function(){return 268435456+Math.round(2147483648*Math.random())}():Ki++,"0x"+Ki.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="RestConnection",YE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XE{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${s}/databases/${r}`,this.qo=this.databaseId.database===yo?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Qo(e,n,s,r,i){const o=ql(),a=this.$o(e,n.toUriEncodedString());ne(Ja,`Sending RPC '${e}' ${o}:`,a,s);const u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(u,r,i),this.Ko(e,a,u,s).then(c=>(ne(Ja,`Received RPC '${e}' ${o}: `,c),c),c=>{throw rr(Ja,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",s),c})}Wo(e,n,s,r,i,o){return this.Qo(e,n,s,r,i)}Uo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pr}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}$o(e,n){const s=YE[e];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt="WebChannelConnection";class ZE extends XE{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,s,r){const i=ql();return new Promise((o,a)=>{const u=new Wp;u.setWithCredentials(!0),u.listenOnce(Kp.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case to.NO_ERROR:const d=u.getResponseJson();ne(yt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case to.TIMEOUT:ne(yt,`RPC '${e}' ${i} timed out`),a(new ie(G.DEADLINE_EXCEEDED,"Request time out"));break;case to.HTTP_ERROR:const f=u.getStatus();if(ne(yt,`RPC '${e}' ${i} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const _=function(I){const V=I.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(V)>=0?V:G.UNKNOWN}(g.status);a(new ie(_,g.message))}else a(new ie(G.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ie(G.UNAVAILABLE,"Connection failed."));break;default:fe(9055,{s_:e,streamId:i,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{ne(yt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(r);ne(yt,`RPC '${e}' ${i} sending request:`,r),u.send(n,"POST",c,s,15)})}a_(e,n,s){const r=ql(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Xp(),a=Yp(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,n,s),u.encodeInitMessageHeaders=!0;const d=i.join("");ne(yt,`Creating RPC '${e}' stream ${r}: ${d}`,u);const f=o.createWebChannel(d,u);let p=!1,g=!1;const _=new JE({Go:I=>{g?ne(yt,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(p||(ne(yt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),p=!0),ne(yt,`RPC '${e}' stream ${r} sending:`,I),f.send(I))},zo:()=>f.close()}),S=(I,V,v)=>{I.listen(V,y=>{try{v(y)}catch(x){setTimeout(()=>{throw x},0)}})};return S(f,$r.EventType.OPEN,()=>{g||(ne(yt,`RPC '${e}' stream ${r} transport opened.`),_.t_())}),S(f,$r.EventType.CLOSE,()=>{g||(g=!0,ne(yt,`RPC '${e}' stream ${r} transport closed`),_.r_())}),S(f,$r.EventType.ERROR,I=>{g||(g=!0,rr(yt,`RPC '${e}' stream ${r} transport errored. Name:`,I.name,"Message:",I.message),_.r_(new ie(G.UNAVAILABLE,"The operation could not be completed")))}),S(f,$r.EventType.MESSAGE,I=>{var V;if(!g){const v=I.data[0];Ne(!!v,16349);const y=v,x=(y==null?void 0:y.error)||((V=y[0])===null||V===void 0?void 0:V.error);if(x){ne(yt,`RPC '${e}' stream ${r} received error:`,x);const N=x.status;let q=function(b){const T=Ye[b];if(T!==void 0)return Rm(T)}(N),P=x.message;q===void 0&&(q=G.INTERNAL,P="Unknown error status: "+N+" with message "+x.message),g=!0,_.r_(new ie(q,P)),f.close()}else ne(yt,`RPC '${e}' stream ${r} received:`,v),_.i_(v)}}),S(a,Qp.STAT_EVENT,I=>{I.stat===kl.PROXY?ne(yt,`RPC '${e}' stream ${r} detected buffering proxy`):I.stat===kl.NOPROXY&&ne(yt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{_.n_()},0),_}}function Za(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t){return new sE(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n,s=1e3,r=1.5,i=6e4){this.bi=e,this.timerId=n,this.u_=s,this.c_=r,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),r=Math.max(0,n-s);r>0&&ne("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,r,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="PersistentStream";class Gm{constructor(e,n,s,r,i,o,a,u){this.bi=e,this.R_=s,this.V_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new qm(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(Mn(n.toString()),Mn("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.m_===n&&this.B_(s,r)},s=>{e(()=>{const r=new ie(G.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(r)})})}B_(e,n){const s=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(r=>{s(()=>this.L_(r))}),this.stream.onMessage(r=>{s(()=>++this.p_==1?this.q_(r):this.onNext(r))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ne(Vf,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(ne(Vf,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eT extends Gm{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=oE(this.serializer,e),s=function(i){if(!("targetChange"in i))return me.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?pn(o.readTime):me.min()}(e);return this.listener.Q_(n,s)}U_(e){const n={};n.database=jl(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=Ll(u)?{documents:uE(i,u)}:{query:cE(i,u).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Dm(i,o.resumeToken);const c=$l(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(me.min())>0){a.readTime=So(i,o.snapshotVersion.toTimestamp());const c=$l(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const s=fE(this.serializer,e);s&&(n.labels=s),this.F_(n)}K_(e){const n={};n.database=jl(this.serializer),n.removeTarget=e,this.F_(n)}}class tT extends Gm{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Ne(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ne(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=lE(e.writeResults,e.commitTime),s=pn(e.commitTime);return this.listener.j_(s,n)}H_(){const e={};e.database=jl(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>aE(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{}class sT extends nT{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.J_=!1}Y_(){if(this.J_)throw new ie(G.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,s,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Qo(e,Bl(n,s),r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ie(G.UNKNOWN,i.toString())})}Wo(e,n,s,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,Bl(n,s),r,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(G.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class rT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Mn(n),this.ea=!1):ne("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="RemoteStore";class iT{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(o=>{s.enqueueAndForget(async()=>{Ds(this)&&(ne(Cs,"Restarting streams for network reachability change."),await async function(u){const c=ve(u);c.aa.add(4),await Ti(c),c.la.set("Unknown"),c.aa.delete(4),await aa(c)}(this))})}),this.la=new rT(s,r)}}async function aa(t){if(Ds(t))for(const e of t.ua)await e(!0)}async function Ti(t){for(const e of t.ua)await e(!1)}function Hm(t,e){const n=ve(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),ju(n)?Uu(n):vr(n).b_()&&Bu(n,e))}function $u(t,e){const n=ve(t),s=vr(n);n._a.delete(e),s.b_()&&Wm(n,e),n._a.size===0&&(s.b_()?s.v_():Ds(n)&&n.la.set("Unknown"))}function Bu(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vr(t).U_(e)}function Wm(t,e){t.ha.Ke(e),vr(t).K_(e)}function Uu(t){t.ha=new Zb({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),vr(t).start(),t.la.ta()}function ju(t){return Ds(t)&&!vr(t).w_()&&t._a.size>0}function Ds(t){return ve(t).aa.size===0}function Km(t){t.ha=void 0}async function oT(t){t.la.set("Online")}async function aT(t){t._a.forEach((e,n)=>{Bu(t,e)})}async function lT(t,e){Km(t),ju(t)?(t.la.ia(e),Uu(t)):t.la.set("Unknown")}async function uT(t,e,n){if(t.la.set("Online"),e instanceof km&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const a of i.targetIds)r._a.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r._a.delete(a),r.ha.removeTarget(a))}(t,e)}catch(s){ne(Cs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ao(t,s)}else if(e instanceof io?t.ha.Xe(e):e instanceof Vm?t.ha.ot(e):t.ha.nt(e),!n.isEqual(me.min()))try{const s=await zm(t.localStore);n.compareTo(s)>=0&&await function(i,o){const a=i.ha.It(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=i._a.get(c);d&&i._a.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=i._a.get(u);if(!d)return;i._a.set(u,d.withResumeToken(ht.EMPTY_BYTE_STRING,d.snapshotVersion)),Wm(i,u);const f=new Wn(d.target,u,c,d.sequenceNumber);Bu(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(s){ne(Cs,"Failed to raise snapshot:",s),await Ao(t,s)}}async function Ao(t,e,n){if(!gr(e))throw e;t.aa.add(1),await Ti(t),t.la.set("Offline"),n||(n=()=>zm(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne(Cs,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await aa(t)})}function Qm(t,e){return e().catch(n=>Ao(t,n,e))}async function la(t){const e=ve(t),n=os(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:Su;for(;cT(e);)try{const r=await GE(e.localStore,s);if(r===null){e.oa.length===0&&n.v_();break}s=r.batchId,dT(e,r)}catch(r){await Ao(e,r)}Ym(e)&&Xm(e)}function cT(t){return Ds(t)&&t.oa.length<10}function dT(t,e){t.oa.push(e);const n=os(t);n.b_()&&n.W_&&n.G_(e.mutations)}function Ym(t){return Ds(t)&&!os(t).w_()&&t.oa.length>0}function Xm(t){os(t).start()}async function fT(t){os(t).H_()}async function hT(t){const e=os(t);for(const n of t.oa)e.G_(n.mutations)}async function pT(t,e,n){const s=t.oa.shift(),r=ku.from(s,e,n);await Qm(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await la(t)}async function mT(t,e){e&&os(t).W_&&await async function(s,r){if(function(o){return Xb(o)&&o!==G.ABORTED}(r.code)){const i=s.oa.shift();os(s).D_(),await Qm(s,()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r)),await la(s)}}(t,e),Ym(t)&&Xm(t)}async function kf(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),ne(Cs,"RemoteStore received new credentials");const s=Ds(n);n.aa.add(3),await Ti(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await aa(n)}async function gT(t,e){const n=ve(t);e?(n.aa.delete(2),await aa(n)):e||(n.aa.add(2),await Ti(n),n.la.set("Unknown"))}function vr(t){return t.Pa||(t.Pa=function(n,s,r){const i=ve(n);return i.Y_(),new eT(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{jo:oT.bind(null,t),Jo:aT.bind(null,t),Zo:lT.bind(null,t),Q_:uT.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),ju(t)?Uu(t):t.la.set("Unknown")):(await t.Pa.stop(),Km(t))})),t.Pa}function os(t){return t.Ta||(t.Ta=function(n,s,r){const i=ve(n);return i.Y_(),new tT(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:fT.bind(null,t),Zo:mT.bind(null,t),z_:hT.bind(null,t),j_:pT.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await la(t)):(await t.Ta.stop(),t.oa.length>0&&(ne(Cs,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new zu(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qu(t,e){if(Mn("AsyncQueue",`${e}: ${t}`),gr(t))return new ie(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{static emptySet(e){return new tr(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ae.comparator(n.key,s.key):(n,s)=>ae.comparator(n.key,s.key),this.keyedMap=Br(),this.sortedSet=new He(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new tr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(){this.Ia=new He(ae.comparator)}track(e){const n=e.doc.key,s=this.Ia.get(n);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(n):e.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):fe(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,s)=>{e.push(s)}),e}}class ur{constructor(e,n,s,r,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ur(e,n,tr.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ta(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class yT{constructor(){this.queries=Mf(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const r=ve(n),i=r.queries;r.queries=Mf(),i.forEach((o,a)=>{for(const u of a.Ra)u.onError(s)})})(this,new ie(G.ABORTED,"Firestore shutting down"))}}function Mf(){return new ks(t=>ym(t),ta)}async function Jm(t,e){const n=ve(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.Va()&&e.ma()&&(s=2):(i=new vT,s=e.ma()?0:1);try{switch(s){case 0:i.Aa=await n.onListen(r,!0);break;case 1:i.Aa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=qu(o,`Initialization of query '${zs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.Ra.push(e),e.ga(n.onlineState),i.Aa&&e.pa(i.Aa)&&Gu(n)}async function Zm(t,e){const n=ve(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const o=i.Ra.indexOf(e);o>=0&&(i.Ra.splice(o,1),i.Ra.length===0?r=e.ma()?0:1:!i.Va()&&e.ma()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function _T(t,e){const n=ve(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.Ra)a.pa(r)&&(s=!0);o.Aa=r}}s&&Gu(n)}function wT(t,e,n){const s=ve(t),r=s.queries.get(e);if(r)for(const i of r.Ra)i.onError(n);s.queries.delete(e)}function Gu(t){t.fa.forEach(e=>{e.next()})}var Gl,Of;(Of=Gl||(Gl={})).ya="default",Of.Cache="cache";class eg{constructor(e,n,s){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new ur(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=ur.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Gl.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this.key=e}}class ng{constructor(e){this.key=e}}class bT{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ie(),this.mutatedKeys=Ie(),this.Ua=_m(e),this.Ka=new tr(this.Ua)}get Wa(){return this.qa}Ga(e,n){const s=n?n.za:new Df,r=n?n.Ka:this.Ka;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,f)=>{const p=r.get(d),g=na(this.query,f)?f:null,_=!!p&&this.mutatedKeys.has(p.key),S=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;p&&g?p.data.isEqual(g.data)?_!==S&&(s.track({type:3,doc:g}),I=!0):this.ja(p,g)||(s.track({type:2,doc:g}),I=!0,(u&&this.Ua(g,u)>0||c&&this.Ua(g,c)<0)&&(a=!0)):!p&&g?(s.track({type:0,doc:g}),I=!0):p&&!g&&(s.track({type:1,doc:p}),I=!0,(u||c)&&(a=!0)),I&&(g?(o=o.add(g),i=S?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),s.track({type:1,doc:d})}return{Ka:o,za:s,ys:a,mutatedKeys:i}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((d,f)=>function(g,_){const S=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe(20277,{Vt:I})}};return S(g)-S(_)}(d.type,f.type)||this.Ua(d.doc,f.doc)),this.Ha(s),r=r!=null&&r;const a=n&&!r?this.Ja():[],u=this.$a.size===0&&this.current&&!r?1:0,c=u!==this.Qa;return this.Qa=u,o.length!==0||c?{snapshot:new ur(this.query,e.Ka,i,o,e.mutatedKeys,u===0,c,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Df,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Ie(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return e.forEach(s=>{this.$a.has(s)||n.push(new ng(s))}),this.$a.forEach(s=>{e.has(s)||n.push(new tg(s))}),n}Xa(e){this.qa=e.Ns,this.$a=Ie();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return ur.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Hu="SyncEngine";class ET{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class TT{constructor(e){this.key=e,this.tu=!1}}class ST{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new ks(a=>ym(a),ta),this.iu=new Map,this.su=new Set,this.ou=new He(ae.comparator),this._u=new Map,this.au=new Ou,this.uu={},this.cu=new Map,this.lu=lr.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function IT(t,e,n=!0){const s=lg(t);let r;const i=s.ru.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.eu()):r=await sg(s,e,n,!0),r}async function AT(t,e){const n=lg(t);await sg(n,e,!0,!1)}async function sg(t,e,n,s){const r=await HE(t.localStore,hn(e)),i=r.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return s&&(a=await CT(t,e,i,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&Hm(t.remoteStore,r),a}async function CT(t,e,n,s,r){t.Pu=(f,p,g)=>async function(S,I,V,v){let y=I.view.Ga(V);y.ys&&(y=await Cf(S.localStore,I.query,!1).then(({documents:P})=>I.view.Ga(P,y)));const x=v&&v.targetChanges.get(I.targetId),N=v&&v.targetMismatches.get(I.targetId)!=null,q=I.view.applyChanges(y,S.isPrimaryClient,x,N);return Lf(S,I.targetId,q.Ya),q.snapshot}(t,f,p,g);const i=await Cf(t.localStore,e,!0),o=new bT(e,i.Ns),a=o.Ga(i.documents),u=Ei.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,u);Lf(t,n,c.Ya);const d=new ET(e,n,o);return t.ru.set(e,d),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),c.snapshot}async function xT(t,e,n){const s=ve(t),r=s.ru.get(e),i=s.iu.get(r.targetId);if(i.length>1)return s.iu.set(r.targetId,i.filter(o=>!ta(o,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await zl(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&$u(s.remoteStore,r.targetId),Hl(s,r.targetId)}).catch(mr)):(Hl(s,r.targetId),await zl(s.localStore,r.targetId,!0))}async function PT(t,e){const n=ve(t),s=n.ru.get(e),r=n.iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),$u(n.remoteStore,s.targetId))}async function RT(t,e,n){const s=LT(t);try{const r=await function(o,a){const u=ve(o),c=Ze.now(),d=a.reduce((g,_)=>g.add(_.key),Ie());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=On(),S=Ie();return u.Cs.getEntries(g,d).next(I=>{_=I,_.forEach((V,v)=>{v.isValidDocument()||(S=S.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,_)).next(I=>{f=I;const V=[];for(const v of a){const y=Hb(v,f.get(v.key).overlayedDocument);y!=null&&V.push(new fs(v.key,y,dm(y.value.mapValue),nn.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,V,a)}).next(I=>{p=I;const V=I.applyToLocalDocumentSet(f,S);return u.documentOverlayCache.saveOverlays(g,I.batchId,V)})}).then(()=>({batchId:p.batchId,changes:bm(f)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(o,a,u){let c=o.uu[o.currentUser.toKey()];c||(c=new He(Ee)),c=c.insert(a,u),o.uu[o.currentUser.toKey()]=c}(s,r.batchId,n),await Si(s,r.changes),await la(s.remoteStore)}catch(r){const i=qu(r,"Failed to persist write");n.reject(i)}}async function rg(t,e){const n=ve(t);try{const s=await zE(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n._u.get(i);o&&(Ne(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.tu=!0:r.modifiedDocuments.size>0?Ne(o.tu,14607):r.removedDocuments.size>0&&(Ne(o.tu,42227),o.tu=!1))}),await Si(n,s,e)}catch(s){await mr(s)}}function Nf(t,e,n){const s=ve(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.ru.forEach((i,o)=>{const a=o.view.ga(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const u=ve(o);u.onlineState=a;let c=!1;u.queries.forEach((d,f)=>{for(const p of f.Ra)p.ga(a)&&(c=!0)}),c&&Gu(u)}(s.eventManager,e),r.length&&s.nu.Q_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function VT(t,e,n){const s=ve(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s._u.get(e),i=r&&r.key;if(i){let o=new He(ae.comparator);o=o.insert(i,Et.newNoDocument(i,me.min()));const a=Ie().add(i),u=new ia(me.min(),new Map,new He(Ee),o,a);await rg(s,u),s.ou=s.ou.remove(i),s._u.delete(e),Wu(s)}else await zl(s.localStore,e,!1).then(()=>Hl(s,e,n)).catch(mr)}async function kT(t,e){const n=ve(t),s=e.batch.batchId;try{const r=await jE(n.localStore,e);og(n,s,null),ig(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Si(n,r)}catch(r){await mr(r)}}async function DT(t,e,n){const s=ve(t);try{const r=await function(o,a){const u=ve(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ne(f!==null,37113),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(s.localStore,e);og(s,e,n),ig(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Si(s,r)}catch(r){await mr(r)}}function ig(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function og(t,e,n){const s=ve(t);let r=s.uu[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.uu[s.currentUser.toKey()]=r}}function Hl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.iu.get(e))t.ru.delete(s),n&&t.nu.Tu(s,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(s=>{t.au.containsKey(s)||ag(t,s)})}function ag(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&($u(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),Wu(t))}function Lf(t,e,n){for(const s of n)s instanceof tg?(t.au.addReference(s.key,e),MT(t,s)):s instanceof ng?(ne(Hu,"Document no longer in limbo: "+s.key),t.au.removeReference(s.key,e),t.au.containsKey(s.key)||ag(t,s.key)):fe(19791,{Iu:s})}function MT(t,e){const n=e.key,s=n.path.canonicalString();t.ou.get(n)||t.su.has(s)||(ne(Hu,"New document in limbo: "+n),t.su.add(s),Wu(t))}function Wu(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new ae(je.fromString(e)),s=t.lu.next();t._u.set(s,new TT(n)),t.ou=t.ou.insert(n,s),Hm(t.remoteStore,new Wn(hn(Pu(n.path)),s,"TargetPurposeLimboResolution",Xo.le))}}async function Si(t,e,n){const s=ve(t),r=[],i=[],o=[];s.ru.isEmpty()||(s.ru.forEach((a,u)=>{o.push(s.Pu(u,e,n).then(c=>{var d;if((c||n)&&s.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;s.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){r.push(c);const f=Lu.Ps(u.targetId,c);i.push(f)}}))}),await Promise.all(o),s.nu.Q_(r),await async function(u,c){const d=ve(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>j.forEach(c,p=>j.forEach(p.ls,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>j.forEach(p.hs,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!gr(f))throw f;ne(Fu,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=d.Ss.get(p),_=g.snapshotVersion,S=g.withLastLimboFreeSnapshotVersion(_);d.Ss=d.Ss.insert(p,S)}}}(s.localStore,i))}async function OT(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){ne(Hu,"User change. New user:",e.toKey());const s=await jm(n.localStore,e);n.currentUser=e,function(i,o){i.cu.forEach(a=>{a.forEach(u=>{u.reject(new ie(G.CANCELLED,o))})}),i.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Si(n,s.Ms)}}function NT(t,e){const n=ve(t),s=n._u.get(e);if(s&&s.tu)return Ie().add(s.key);{let r=Ie();const i=n.iu.get(e);if(!i)return r;for(const o of i){const a=n.ru.get(o);r=r.unionWith(a.view.Wa)}return r}}function lg(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VT.bind(null,e),e.nu.Q_=_T.bind(null,e.eventManager),e.nu.Tu=wT.bind(null,e.eventManager),e}function LT(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DT.bind(null,e),e}class Co{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oa(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return UE(this.persistence,new FE,e.initialUser,this.serializer)}Ru(e){return new Um(Nu.Ei,this.serializer)}Au(e){return new KE}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Co.provider={build:()=>new Co};class FT extends Co{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Ne(this.persistence.referenceDelegate instanceof Io,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new TE(s,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Dt.withCacheSize(this.cacheSizeBytes):Dt.DEFAULT;return new Um(s=>Io.Ei(s,n),this.serializer)}}class Wl{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Nf(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=OT.bind(null,this.syncEngine),await gT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yT}()}createDatastore(e){const n=oa(e.databaseInfo.databaseId),s=function(i){return new ZE(i)}(e.databaseInfo);return function(i,o,a,u){return new sT(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,i,o,a){return new iT(s,r,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Nf(this.syncEngine,n,0),function(){return Rf.C()?new Rf:new QE}())}createSyncEngine(e,n){return function(r,i,o,a,u,c,d){const f=new ST(r,i,o,a,u,c);return d&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const i=ve(r);ne(Cs,"RemoteStore shutting down."),i.aa.add(5),await Ti(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Wl.provider={build:()=>new Wl};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Mn("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="FirestoreClient";class $T{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=_t.UNAUTHENTICATED,this.clientId=tm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async o=>{ne(as,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(ne(as,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=qu(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function el(t,e){t.asyncQueue.verifyOperationInProgress(),ne(as,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await jm(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ff(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BT(t);ne(as,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>kf(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>kf(e.remoteStore,r)),t._onlineComponents=e}async function BT(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne(as,"Using user provided OfflineComponentProvider");try{await el(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===G.FAILED_PRECONDITION||r.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;rr("Error using user provided cache. Falling back to memory cache: "+n),await el(t,new Co)}}else ne(as,"Using default OfflineComponentProvider"),await el(t,new FT(void 0));return t._offlineComponents}async function cg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne(as,"Using user provided OnlineComponentProvider"),await Ff(t,t._uninitializedComponentsProvider._online)):(ne(as,"Using default OnlineComponentProvider"),await Ff(t,new Wl))),t._onlineComponents}function UT(t){return cg(t).then(e=>e.syncEngine)}async function dg(t){const e=await cg(t),n=e.eventManager;return n.onListen=IT.bind(null,e.syncEngine),n.onUnlisten=xT.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AT.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PT.bind(null,e.syncEngine),n}function jT(t,e,n={}){const s=new Vn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new ug({next:p=>{d.yu(),o.enqueueAndForget(()=>Zm(i,f));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new ie(G.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&u&&u.source==="server"?c.reject(new ie(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new eg(Pu(a.path),d,{includeMetadataChanges:!0,Fa:!0});return Jm(i,f)}(await dg(t),t.asyncQueue,e,n,s)),s.promise}function zT(t,e,n={}){const s=new Vn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new ug({next:p=>{d.yu(),o.enqueueAndForget(()=>Zm(i,f)),p.fromCache&&u.source==="server"?c.reject(new ie(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new eg(a,d,{includeMetadataChanges:!0,Fa:!0});return Jm(i,f)}(await dg(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(t,e,n){if(!n)throw new ie(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qT(t,e,n,s){if(e===!0&&s===!0)throw new ie(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Bf(t){if(!ae.isDocumentKey(t))throw new ie(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Uf(t){if(ae.isDocumentKey(t))throw new ie(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ku(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe(12329,{type:typeof t})}function _n(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ku(t);throw new ie(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="firestore.googleapis.com",jf=!0;class zf{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pg,this.ssl=jf}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:jf;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Bm;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bE)throw new ie(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fg((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ua{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new X0;switch(s.type){case"firstParty":return new tb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ie(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=$f.get(n);s&&(ne("ComponentProvider","Removing Datastore"),$f.delete(n),s.terminate())}(this),Promise.resolve()}}function GT(t,e,n,s={}){var r;const i=(t=_n(t,ua))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i.host!==pg&&i.host!==a&&rr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},i),{host:a,ssl:!1,emulatorOptions:s});if(!ai(u,o)&&(t._setSettings(u),s.mockUserToken)){let c,d;if(typeof s.mockUserToken=="string")c=s.mockUserToken,d=_t.MOCK_USER;else{c=Cw(s.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const f=s.mockUserToken.sub||s.mockUserToken.user_id;if(!f)throw new ie(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new _t(f)}t._authCredentials=new J0(new Zp(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ca(this.firestore,e,this._query)}}class Nt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}}class Zn extends ca{constructor(e,n,s){super(e,n,Pu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new ae(e))}withConverter(e){return new Zn(this.firestore,e,this._path)}}function mg(t,e,...n){if(t=gn(t),hg("collection","path",e),t instanceof ua){const s=je.fromString(e,...n);return Uf(s),new Zn(t,null,s)}{if(!(t instanceof Nt||t instanceof Zn))throw new ie(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(je.fromString(e,...n));return Uf(s),new Zn(t.firestore,null,s)}}function yr(t,e,...n){if(t=gn(t),arguments.length===1&&(e=tm.newId()),hg("doc","path",e),t instanceof ua){const s=je.fromString(e,...n);return Bf(s),new Nt(t,null,new ae(s))}{if(!(t instanceof Nt||t instanceof Zn))throw new ie(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(je.fromString(e,...n));return Bf(s),new Nt(t.firestore,t instanceof Zn?t.converter:null,new ae(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="AsyncQueue";class Gf{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new qm(this,"async_queue_retry"),this.ju=()=>{const s=Za();s&&ne(qf,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const n=Za();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Za();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Vn;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!gr(e))throw e;ne(qf,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,Mn("INTERNAL UNHANDLED ERROR: ",Hf(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(e,n,s){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const r=zu.createAndSchedule(this,e,n,s,i=>this.Xu(i));return this.Uu.push(r),r}Ju(){this.Ku&&fe(47125,{ec:Hf(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function Hf(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class _r extends ua{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new Gf,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gf(e),this._firestoreClient=void 0,await e}}}function HT(t,e){const n=typeof t=="object"?t:zp(),s=typeof t=="string"?t:yo,r=wi(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=Iw("firestore");i&&GT(r,...i)}return r}function Qu(t){if(t._terminated)throw new ie(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WT(t),t._firestoreClient}function WT(t){var e,n,s;const r=t._freezeSettings(),i=function(a,u,c,d){return new gb(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,fg(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=r.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new $T(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cr(ht.fromBase64String(e))}catch(n){throw new ie(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new cr(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=/^__.*__$/;class QT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new bi(e,this.data,n,this.fieldTransforms)}}class gg{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vg(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe(40011,{oc:t})}}class Zu{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Zu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ac({path:s,cc:!1});return r.lc(e),r}hc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ac({path:s,cc:!1});return r._c(),r}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return xo(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(vg(this.oc)&&KT.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class YT{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||oa(e)}dc(e,n,s,r=!1){return new Zu({oc:e,methodName:n,Ec:s,path:dt.emptyPath(),cc:!1,Ic:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yg(t){const e=t._freezeSettings(),n=oa(t._databaseId);return new YT(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XT(t,e,n,s,r,i={}){const o=t.dc(i.merge||i.mergeFields?2:0,e,n,r);ec("Data must be an object, but it was:",o,s);const a=_g(s,o);let u,c;if(i.merge)u=new zt(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=Kl(e,f,n);if(!o.contains(p))throw new ie(G.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);bg(d,p)||d.push(p)}u=new zt(d),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new QT(new Ot(a),u,c)}class fa extends Yu{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fa}}function JT(t,e,n,s){const r=t.dc(1,e,n);ec("Data must be an object, but it was:",r,s);const i=[],o=Ot.empty();ds(s,(u,c)=>{const d=tc(e,u,n);c=gn(c);const f=r.hc(d);if(c instanceof fa)i.push(d);else{const p=ha(c,f);p!=null&&(i.push(d),o.set(d,p))}});const a=new zt(i);return new gg(o,a,r.fieldTransforms)}function ZT(t,e,n,s,r,i){const o=t.dc(1,e,n),a=[Kl(e,s,n)],u=[r];if(i.length%2!=0)throw new ie(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(Kl(e,i[p])),u.push(i[p+1]);const c=[],d=Ot.empty();for(let p=a.length-1;p>=0;--p)if(!bg(c,a[p])){const g=a[p];let _=u[p];_=gn(_);const S=o.hc(g);if(_ instanceof fa)c.push(g);else{const I=ha(_,S);I!=null&&(c.push(g),d.set(g,I))}}const f=new zt(c);return new gg(d,f,o.fieldTransforms)}function ha(t,e){if(wg(t=gn(t)))return ec("Unsupported field value:",e,t),_g(t,e);if(t instanceof Yu)return function(s,r){if(!vg(r.oc))throw r.Tc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Tc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,r){const i=[];let o=0;for(const a of s){let u=ha(a,r.Pc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(s,r){if((s=gn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Bb(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=Ze.fromDate(s);return{timestampValue:So(r.serializer,i)}}if(s instanceof Ze){const i=new Ze(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:So(r.serializer,i)}}if(s instanceof Xu)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof cr)return{bytesValue:Dm(r.serializer,s._byteString)};if(s instanceof Nt){const i=r.databaseId,o=s.firestore._databaseId;if(!o.isEqual(i))throw r.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Mu(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof Ju)return function(o,a){return{mapValue:{fields:{[um]:{stringValue:cm},[_o]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Tc("VectorValues must only contain numeric values.");return Ru(a.serializer,c)})}}}}}}(s,r);throw r.Tc(`Unsupported field value: ${Ku(s)}`)}(t,e)}function _g(t,e){const n={};return sm(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(t,(s,r)=>{const i=ha(r,e.uc(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function wg(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof Xu||t instanceof cr||t instanceof Nt||t instanceof Yu||t instanceof Ju)}function ec(t,e,n){if(!wg(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const s=Ku(n);throw s==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+s)}}function Kl(t,e,n){if((e=gn(e))instanceof da)return e._internalPath;if(typeof e=="string")return tc(t,e);throw xo("Field path arguments must be of type string or ",t,!1,void 0,n)}const eS=new RegExp("[~\\*/\\[\\]]");function tc(t,e,n){if(e.search(eS)>=0)throw xo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new da(...e.split("."))._internalPath}catch{throw xo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xo(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${s}`),o&&(u+=` in document ${r}`),u+=")"),new ie(G.INVALID_ARGUMENT,a+t+u)}function bg(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tS extends Eg{data(){return super.data()}}function Tg(t,e){return typeof e=="string"?tc(t,e):e instanceof da?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sS{convertValue(e,n="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ds(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(e){var n,s,r;const i=(r=(s=(n=e.fields)===null||n===void 0?void 0:n[_o].arrayValue)===null||s===void 0?void 0:s.values)===null||r===void 0?void 0:r.map(o=>Ke(o.doubleValue));return new Ju(i)}convertGeoPoint(e){return new Xu(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Zo(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ci(e));default:return null}}convertTimestamp(e){const n=ss(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=je.fromString(e);Ne($m(s),9688,{name:e});const r=new di(s.get(1),s.get(3)),i=new ae(s.popFirst(5));return r.isEqual(n)||Mn(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t,e,n){let s;return s=t?t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sg extends Eg{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Tg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class oo extends Sg{data(e={}){return super.data(e)}}class iS{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new jr(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new oo(this._firestore,this._userDataWriter,s.key,s,new jr(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const u=new oo(r._firestore,r._userDataWriter,a.doc.key,a.doc,new jr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new oo(r._firestore,r._userDataWriter,a.doc.key,a.doc,new jr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:oS(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oS(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t){t=_n(t,Nt);const e=_n(t.firestore,_r);return jT(Qu(e),t._key).then(n=>cS(e,t,n))}class Ig extends sS{constructor(e){super(),this.firestore=e}convertBytes(e){return new cr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function Ag(t){t=_n(t,ca);const e=_n(t.firestore,_r),n=Qu(e),s=new Ig(e);return nS(t._query),zT(n,t._query).then(r=>new iS(e,s,t,r))}function aS(t,e,n){t=_n(t,Nt);const s=_n(t.firestore,_r),r=rS(t.converter,e);return nc(s,[XT(yg(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,nn.none())])}function lS(t,e,n,...s){t=_n(t,Nt);const r=_n(t.firestore,_r),i=yg(r);let o;return o=typeof(e=gn(e))=="string"||e instanceof da?ZT(i,"updateDoc",t._key,e,n,s):JT(i,"updateDoc",t._key,e),nc(r,[o.toMutation(t._key,nn.exists(!0))])}function uS(t){return nc(_n(t.firestore,_r),[new Vu(t._key,nn.none())])}function nc(t,e){return function(s,r){const i=new Vn;return s.asyncQueue.enqueueAndForget(async()=>RT(await UT(s),r,i)),i.promise}(Qu(t),e)}function cS(t,e,n){const s=n.docs.get(e._key),r=new Ig(t);return new Sg(t,r,e._key,s,new jr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){pr=r})(F0),ts(new kn("firestore",(s,{instanceIdentifier:r,options:i})=>{const o=s.getProvider("app").getImmediate(),a=new _r(new Z0(s.getProvider("auth-internal")),new nb(o,s.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ie(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new di(c.options.projectId,d)}(o,r),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),fn(Yd,Xd,e),fn(Yd,Xd,"esm2017")})();const Cg="@firebase/installations",sc="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg=1e4,Pg=`w:${sc}`,Rg="FIS_v2",dS="https://firebaseinstallations.googleapis.com/v1",fS=60*60*1e3,hS="installations",pS="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xs=new Yo(hS,pS,mS);function Vg(t){return t instanceof cs&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg({projectId:t}){return`${dS}/projects/${t}/installations`}function Dg(t){return{token:t.token,requestStatus:2,expiresIn:vS(t.expiresIn),creationTime:Date.now()}}async function Mg(t,e){const s=(await e.json()).error;return xs.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Og({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function gS(t,{refreshToken:e}){const n=Og(t);return n.append("Authorization",yS(e)),n}async function Ng(t){const e=await t();return e.status>=500&&e.status<600?t():e}function vS(t){return Number(t.replace("s","000"))}function yS(t){return`${Rg} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=kg(t),r=Og(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={fid:n,authVersion:Rg,appId:t.appId,sdkVersion:Pg},a={method:"POST",headers:r,body:JSON.stringify(o)},u=await Ng(()=>fetch(s,a));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Dg(c.authToken)}}else throw await Mg("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=/^[cdef][\w-]{21}$/,Ql="";function ES(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=TS(t);return bS.test(n)?n:Ql}catch{return Ql}}function TS(t){return wS(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=new Map;function $g(t,e){const n=ma(t);Bg(n,e),SS(n,e)}function Bg(t,e){const n=Fg.get(t);if(n)for(const s of n)s(e)}function SS(t,e){const n=IS();n&&n.postMessage({key:t,fid:e}),AS()}let Ts=null;function IS(){return!Ts&&"BroadcastChannel"in self&&(Ts=new BroadcastChannel("[Firebase] FID Change"),Ts.onmessage=t=>{Bg(t.data.key,t.data.fid)}),Ts}function AS(){Fg.size===0&&Ts&&(Ts.close(),Ts=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="firebase-installations-database",xS=1,Ps="firebase-installations-store";let tl=null;function rc(){return tl||(tl=Up(CS,xS,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ps)}}})),tl}async function Po(t,e){const n=ma(t),r=(await rc()).transaction(Ps,"readwrite"),i=r.objectStore(Ps),o=await i.get(n);return await i.put(e,n),await r.done,(!o||o.fid!==e.fid)&&$g(t,e.fid),e}async function Ug(t){const e=ma(t),s=(await rc()).transaction(Ps,"readwrite");await s.objectStore(Ps).delete(e),await s.done}async function ga(t,e){const n=ma(t),r=(await rc()).transaction(Ps,"readwrite"),i=r.objectStore(Ps),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&$g(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t){let e;const n=await ga(t.appConfig,s=>{const r=PS(s),i=RS(t,r);return e=i.registrationPromise,i.installationEntry});return n.fid===Ql?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function PS(t){const e=t||{fid:ES(),registrationStatus:0};return jg(e)}function RS(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(xs.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=VS(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:kS(t)}:{installationEntry:e}}async function VS(t,e){try{const n=await _S(t,e);return Po(t.appConfig,n)}catch(n){throw Vg(n)&&n.customData.serverCode===409?await Ug(t.appConfig):await Po(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function kS(t){let e=await Wf(t.appConfig);for(;e.registrationStatus===1;)await Lg(100),e=await Wf(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await ic(t);return s||n}return e}function Wf(t){return ga(t,e=>{if(!e)throw xs.create("installation-not-found");return jg(e)})}function jg(t){return DS(t)?{fid:t.fid,registrationStatus:0}:t}function DS(t){return t.registrationStatus===1&&t.registrationTime+xg<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MS({appConfig:t,heartbeatServiceProvider:e},n){const s=OS(t,n),r=gS(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={installation:{sdkVersion:Pg,appId:t.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},u=await Ng(()=>fetch(s,a));if(u.ok){const c=await u.json();return Dg(c)}else throw await Mg("Generate Auth Token",u)}function OS(t,{fid:e}){return`${kg(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(t,e=!1){let n;const s=await ga(t.appConfig,i=>{if(!zg(i))throw xs.create("not-registered");const o=i.authToken;if(!e&&FS(o))return i;if(o.requestStatus===1)return n=NS(t,e),i;{if(!navigator.onLine)throw xs.create("app-offline");const a=BS(i);return n=LS(t,a),a}});return n?await n:s.authToken}async function NS(t,e){let n=await Kf(t.appConfig);for(;n.authToken.requestStatus===1;)await Lg(100),n=await Kf(t.appConfig);const s=n.authToken;return s.requestStatus===0?oc(t,e):s}function Kf(t){return ga(t,e=>{if(!zg(e))throw xs.create("not-registered");const n=e.authToken;return US(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function LS(t,e){try{const n=await MS(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await Po(t.appConfig,s),n}catch(n){if(Vg(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Ug(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Po(t.appConfig,s)}throw n}}function zg(t){return t!==void 0&&t.registrationStatus===2}function FS(t){return t.requestStatus===2&&!$S(t)}function $S(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+fS}function BS(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function US(t){return t.requestStatus===1&&t.requestTime+xg<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jS(t){const e=t,{installationEntry:n,registrationPromise:s}=await ic(e);return s?s.catch(console.error):oc(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zS(t,e=!1){const n=t;return await qS(n),(await oc(n,e)).token}async function qS(t){const{registrationPromise:e}=await ic(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t){if(!t||!t.options)throw nl("App Configuration");if(!t.name)throw nl("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw nl(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function nl(t){return xs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="installations",HS="installations-internal",WS=t=>{const e=t.getProvider("app").getImmediate(),n=GS(e),s=wi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},KS=t=>{const e=t.getProvider("app").getImmediate(),n=wi(e,qg).getImmediate();return{getId:()=>jS(n),getToken:r=>zS(n,r)}};function QS(){ts(new kn(qg,WS,"PUBLIC")),ts(new kn(HS,KS,"PRIVATE"))}QS();fn(Cg,sc);fn(Cg,sc,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="analytics",YS="firebase_id",XS="origin",JS=60*1e3,ZS="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ac="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt=new bu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},qt=new Yo("analytics","Analytics",eI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(t){if(!t.startsWith(ac)){const e=qt.create("invalid-gtag-resource",{gtagURL:t});return Lt.warn(e.message),""}return t}function Gg(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function nI(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function sI(t,e){const n=nI("firebase-js-sdk-policy",{createScriptURL:tI}),s=document.createElement("script"),r=`${ac}?l=${t}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function rI(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function iI(t,e,n,s,r,i){const o=s[r];try{if(o)await e[o];else{const u=(await Gg(n)).find(c=>c.measurementId===r);u&&await e[u.appId]}}catch(a){Lt.error(a)}t("config",r,i)}async function oI(t,e,n,s,r){try{let i=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=await Gg(n);for(const u of o){const c=a.find(f=>f.measurementId===u),d=c&&e[c.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",s,r||{})}catch(i){Lt.error(i)}}function aI(t,e,n,s){async function r(i,...o){try{if(i==="event"){const[a,u]=o;await oI(t,e,n,a,u)}else if(i==="config"){const[a,u]=o;await iI(t,e,n,s,a,u)}else if(i==="consent"){const[a,u]=o;t("consent",a,u)}else if(i==="get"){const[a,u,c]=o;t("get",a,u,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Lt.error(a)}}return r}function lI(t,e,n,s,r){let i=function(...o){window[s].push(arguments)};return window[r]&&typeof window[r]=="function"&&(i=window[r]),window[r]=aI(i,t,e,n),{gtagCore:i,wrappedGtag:window[r]}}function uI(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ac)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=30,dI=1e3;class fI{constructor(e={},n=dI){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Hg=new fI;function hI(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function pI(t){var e;const{appId:n,apiKey:s}=t,r={method:"GET",headers:hI(s)},i=ZS.replace("{app-id}",n),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let a="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw qt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function mI(t,e=Hg,n){const{appId:s,apiKey:r,measurementId:i}=t.options;if(!s)throw qt.create("no-app-id");if(!r){if(i)return{measurementId:i,appId:s};throw qt.create("no-api-key")}const o=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new yI;return setTimeout(async()=>{a.abort()},JS),Wg({appId:s,apiKey:r,measurementId:i},o,a,e)}async function Wg(t,{throttleEndTimeMillis:e,backoffCount:n},s,r=Hg){var i;const{appId:o,measurementId:a}=t;try{await gI(s,e)}catch(u){if(a)return Lt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw u}try{const u=await pI(t);return r.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!vI(c)){if(r.deleteThrottleMetadata(o),a)return Lt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw u}const d=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?Bd(n,r.intervalMillis,cI):Bd(n,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return r.setThrottleMetadata(o,f),Lt.debug(`Calling attemptFetch again in ${d} millis`),Wg(t,f,s,r)}}function gI(t,e){return new Promise((n,s)=>{const r=Math.max(e-Date.now(),0),i=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(i),s(qt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function vI(t){if(!(t instanceof cs)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class yI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function _I(t,e,n,s,r){if(r&&r.global){t("event",n,s);return}else{const i=await e,o=Object.assign(Object.assign({},s),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(){if(Lp())try{await Fp()}catch(t){return Lt.warn(qt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Lt.warn(qt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function bI(t,e,n,s,r,i,o){var a;const u=mI(t);u.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&Lt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Lt.error(g)),e.push(u);const c=wI().then(g=>{if(g)return s.getId()}),[d,f]=await Promise.all([u,c]);uI(i)||sI(i,d.measurementId),r("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[XS]="firebase",p.update=!0,f!=null&&(p[YS]=f),r("config",d.measurementId,p),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.app=e}_delete(){return delete Jr[this.app.options.appId],Promise.resolve()}}let Jr={},Qf=[];const Yf={};let sl="dataLayer",TI="gtag",Xf,Kg,Jf=!1;function SI(){const t=[];if(Rw()&&t.push("This is a browser extension environment."),kw()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,r)=>`(${r+1}) ${s}`).join(" "),n=qt.create("invalid-analytics-context",{errorInfo:e});Lt.warn(n.message)}}function II(t,e,n){SI();const s=t.options.appId;if(!s)throw qt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Lt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qt.create("no-api-key");if(Jr[s]!=null)throw qt.create("already-exists",{id:s});if(!Jf){rI(sl);const{wrappedGtag:i,gtagCore:o}=lI(Jr,Qf,Yf,sl,TI);Kg=i,Xf=o,Jf=!0}return Jr[s]=bI(t,Qf,Yf,e,Xf,sl,n),new EI(t)}function AI(t=zp()){t=gn(t);const e=wi(t,Ro);return e.isInitialized()?e.getImmediate():CI(t)}function CI(t,e={}){const n=wi(t,Ro);if(n.isInitialized()){const r=n.getImmediate();if(ai(e,n.getOptions()))return r;throw qt.create("already-initialized")}return n.initialize({options:e})}function xI(t,e,n,s){t=gn(t),_I(Kg,Jr[t.app.options.appId],e,n,s).catch(r=>Lt.error(r))}const Zf="@firebase/analytics",eh="0.10.12";function PI(){ts(new kn(Ro,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return II(s,r,n)},"PUBLIC")),ts(new kn("analytics-internal",t,"PRIVATE")),fn(Zf,eh),fn(Zf,eh,"esm2017");function t(e){try{const n=e.getProvider(Ro).getImmediate();return{logEvent:(s,r,i)=>xI(n,s,r,i)}}catch(n){throw qt.create("interop-component-reg-failed",{reason:n})}}}PI();const RI={apiKey:"AIzaSyBLe2TOSDo7xeMZh4ARVXbd1FiPCVCUNGo",authDomain:"roteiroviagem-b5116.firebaseapp.com",projectId:"roteiroviagem-b5116",storageBucket:"roteiroviagem-b5116.firebasestorage.app",messagingSenderId:"872269638046",appId:"1:872269638046:web:2718740bd2eba8ba028e8f",measurementId:"G-EV395T3365"},Qg=jp(RI);AI(Qg);const hs=HT(Qg);async function VI(){try{const t=yr(hs,hr.site,"header"),e=await pa(t);return e.exists()?e.data():null}catch(t){return console.error("Erro ao buscar header do site:",t),null}}async function kI(){try{const t=yr(hs,hr.site,"footer"),e=await pa(t);return e.exists()?e.data():null}catch(t){return console.error("Erro ao buscar footer do site:",t),null}}async function DI(t="santiago"){try{return(await Ag(mg(hs,hr.trips,t,"itinerary"))).docs.map(s=>({id:s.id,...s.data()})).sort((s,r)=>s.dayNumber-r.dayNumber)}catch(e){return console.error(`Erro ao buscar itinerrio da viagem ${t}:`,e),[]}}async function MI(t="santiago"){try{return(await Ag(mg(hs,hr.trips,t,"activities"))).docs.map(n=>({id:n.id,...n.data()}))}catch(e){return console.error(`Erro ao buscar atividades da viagem ${t}:`,e),[]}}async function OI(t="santiago"){try{const e=yr(hs,hr.trips,t,"info","tips"),n=await pa(e);return n.exists()?n.data():null}catch(e){return console.error(`Erro ao buscar dicas da viagem ${t}:`,e),null}}async function NI(t,e="santiago"){try{const n=yr(hs,hr.trips,e,"activities",t),s=await pa(n);return s.exists()?{id:s.id,...s.data()}:null}catch(n){return console.error(`Erro ao buscar atividade ${t}:`,n),null}}const Yg="Oxd3Xk7F7XTzfELkxS74",LI=t=>({...t,adminToken:Yg}),lc=async(t,e,n)=>{try{const s=yr(hs,t,e);return await aS(s,LI(n)),{success:!0,id:e}}catch(s){return console.error(`Erro ao salvar documento ${e} em ${t}:`,s),{success:!1,error:s}}},FI=async(t,e)=>{try{const n=yr(hs,t,e);return await lS(n,{adminToken:Yg}),await uS(n),{success:!0}}catch(n){return console.error(`Erro ao excluir documento ${e} em ${t}:`,n),{success:!1,error:n}}},$I=async t=>await lc("site","header",t),BI=async t=>await lc("site","footer",t),UI=async(t,e,n)=>await lc(`trips/${t}/activities`,e,n);async function Xg(){return VI()}async function Jg(){return kI()}async function jI(t="santiago"){return DI(t)}async function Zg(t="santiago"){return MI(t)}async function zI(t="santiago"){return OI(t)}async function qI(t,e="santiago"){return NI(t,e)}const wn=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},GI={class:"p-4 border-b border-gray-700"},HI={class:"flex items-center justify-between"},WI={class:"mt-4"},KI={__name:"AdminSidebar",props:{isOpen:{type:Boolean,default:!1}},emits:["close"],setup(t){return(e,n)=>{const s=Ho("router-link");return H(),Q(ke,null,[k("div",{class:Jt(["admin-sidebar fixed inset-y-0 left-0 z-50 w-64 bg-gray-800 text-white transform transition-transform duration-300 ease-in-out",t.isOpen?"translate-x-0":"-translate-x-full"])},[k("div",GI,[k("div",HI,[n[6]||(n[6]=k("h2",{class:"text-xl font-semibold"},"Administrao",-1)),k("button",{onClick:n[0]||(n[0]=r=>e.$emit("close")),class:"text-white p-2 rounded-md hover:bg-gray-700"},n[5]||(n[5]=[k("i",{class:"fas fa-times"},null,-1)]))])]),k("nav",WI,[n[14]||(n[14]=k("div",{class:"px-4 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider"}," Configuraes do Site ",-1)),k("ul",null,[k("li",null,[pe(s,{to:"/admin/header",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200",onClick:n[1]||(n[1]=r=>e.$emit("close"))},{default:rt(()=>n[7]||(n[7]=[k("i",{class:"fas fa-heading mr-2"},null,-1),Xe(" Header ")])),_:1})]),k("li",null,[pe(s,{to:"/admin/footer",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200",onClick:n[2]||(n[2]=r=>e.$emit("close"))},{default:rt(()=>n[8]||(n[8]=[k("i",{class:"fas fa-shoe-prints mr-2"},null,-1),Xe(" Footer ")])),_:1})]),n[9]||(n[9]=k("li",null,[k("a",{href:"#",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200"},[k("i",{class:"fas fa-tags mr-2"}),Xe(" Metadados ")])],-1))]),n[15]||(n[15]=k("div",{class:"mt-6 px-4 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider"}," Contedo da Viagem ",-1)),k("ul",null,[n[11]||(n[11]=k("li",null,[k("a",{href:"#",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200"},[k("i",{class:"fas fa-info-circle mr-2"}),Xe(" Informaes da Viagem ")])],-1)),n[12]||(n[12]=k("li",null,[k("a",{href:"#",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200"},[k("i",{class:"fas fa-calendar-alt mr-2"}),Xe(" Itinerrio ")])],-1)),k("li",null,[pe(s,{to:"/admin/atividades",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200",onClick:n[3]||(n[3]=r=>e.$emit("close"))},{default:rt(()=>n[10]||(n[10]=[k("i",{class:"fas fa-hiking mr-2"},null,-1),Xe(" Atividades ")])),_:1})]),n[13]||(n[13]=k("li",null,[k("a",{href:"#",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200"},[k("i",{class:"fas fa-lightbulb mr-2"}),Xe(" Dicas ")])],-1))])]),n[16]||(n[16]=k("div",{class:"absolute bottom-0 w-full p-4 border-t border-gray-700"},[k("p",{class:"text-sm text-gray-400"},[Xe(" Logado como "),k("span",{class:"font-semibold"},"Administrador")])],-1))],2),t.isOpen?(H(),Q("div",{key:0,onClick:n[4]||(n[4]=r=>e.$emit("close")),class:"fixed inset-0 bg-black bg-opacity-50 z-40"})):Pe("",!0)],64)}}},QI=wn(KI,[["__scopeId","data-v-ebf1e518"]]),YI={class:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4"},XI={class:"text-lg sm:text-xl lg:text-2xl mb-8"},JI={class:"inline-flex bg-white text-blue-900 font-bold rounded-full px-6 py-2"},ZI={__name:"header",setup(t){const e=Se(null),n=Se(!1),s=()=>{n.value=!n.value},r=()=>{n.value=!1},i=ct(()=>!e.value||!e.value.backgroundImage?{}:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${e.value.backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center"}),o=(a,u)=>{const[c,d,f]=a.split("/"),[p,g,_]=u.split("/"),S=new Date(`${f}-${d}-${c}`),I=S.toLocaleString("pt-BR",{month:"long"}),V=S.getFullYear();return`${parseInt(c)} a ${parseInt(p)} de ${I} de ${V}`};return Gt(async()=>{try{e.value=await Xg()}catch(a){console.error("Erro ao carregar dados do header:",a)}}),(a,u)=>(H(),Q(ke,null,[e.value?(H(),Q("header",{key:0,class:"relative hero-bg text-white py-12 sm:py-16 lg:py-24 px-4 sm:px-6 lg:px-8 text-center",style:Uo(i.value)},[k("button",{onClick:s,class:"absolute top-4 left-4 text-white p-2 bg-blue-900 bg-opacity-50 rounded-md hover:bg-opacity-70 transition-all"},u[0]||(u[0]=[k("i",{class:"fas fa-bars text-xl"},null,-1)])),k("h1",YI,be(e.value.title),1),k("p",XI,be(e.value.subtitle),1),k("div",JI,[u[1]||(u[1]=k("span",{class:"mr-2"},[k("i",{class:"fas fa-calendar-alt"})],-1)),Xe(" "+be(o(e.value.period.start,e.value.period.end)),1)])],4)):Pe("",!0),pe(QI,{isOpen:n.value,onClose:r},null,8,["isOpen"])],64))}},eA={id:"visao-geral",class:"p-6"},tA={__name:"TripOverview",setup(t){return(e,n)=>(H(),Q("section",eA,n[0]||(n[0]=[R_('<h2 class="text-3xl font-bold text-blue-800 mb-6 pb-2 border-b-2 border-blue-300" data-v-e4bae3b2>Viso Geral da Viagem</h2><div class="bg-white rounded-lg shadow-lg p-6 mb-8" data-v-e4bae3b2><p class="text-lg mb-4" data-v-e4bae3b2>Este roteiro inclui 8 dias no Chile, com base em Santiago, combinando experincias incrveis:</p><ul class="grid grid-cols-1 md:grid-cols-2 gap-4 my-6" data-v-e4bae3b2><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-snowflake" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Aventuras na neve (Valle Nevado e Portillo)</p></li><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-city" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Turismo urbano em Santiago</p></li><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-mountain" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Passeios a Valparaso e Via del Mar</p></li><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-wine-glass-alt" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Degustao em vincolas</p></li><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-utensils" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Experincias gastronmicas</p></li><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-church" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Visitas culturais e religiosas</p></li></ul><div class="text-gray-700 italic" data-v-e4bae3b2><p data-v-e4bae3b2>A probabilidade de neve em Valle Nevado durante nossa visita  classificada como mdia a alta, o que promete uma experincia incrvel com a neve andina.</p></div></div>',2)])))}},nA=wn(tA,[["__scopeId","data-v-e4bae3b2"]]);function th(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function uc(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=e[s]:th(e[s])&&th(t[s])&&Object.keys(e[s]).length>0&&uc(t[s],e[s])})}const ev={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ms(){const t=typeof document<"u"?document:{};return uc(t,ev),t}const sA={document:ev,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Pt(){const t=typeof window<"u"?window:{};return uc(t,sA),t}function rA(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function iA(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Vo(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function ko(){return Date.now()}function oA(t){const e=Pt();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function aA(t,e){e===void 0&&(e="x");const n=Pt();let s,r,i;const o=oA(t);return n.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(r==="none"?"":r)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?r=i.m41:s.length===16?r=parseFloat(s[12]):r=parseFloat(s[4])),e==="y"&&(n.WebKitCSSMatrix?r=i.m42:s.length===16?r=parseFloat(s[13]):r=parseFloat(s[5])),r||0}function Qi(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function lA(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Ut(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const s=n<0||arguments.length<=n?void 0:arguments[n];if(s!=null&&!lA(s)){const r=Object.keys(Object(s)).filter(i=>e.indexOf(i)<0);for(let i=0,o=r.length;i<o;i+=1){const a=r[i],u=Object.getOwnPropertyDescriptor(s,a);u!==void 0&&u.enumerable&&(Qi(t[a])&&Qi(s[a])?s[a].__swiper__?t[a]=s[a]:Ut(t[a],s[a]):!Qi(t[a])&&Qi(s[a])?(t[a]={},s[a].__swiper__?t[a]=s[a]:Ut(t[a],s[a])):t[a]=s[a])}}}return t}function Yi(t,e,n){t.style.setProperty(e,n)}function tv(t){let{swiper:e,targetPosition:n,side:s}=t;const r=Pt(),i=-e.translate;let o=null,a;const u=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const c=n>i?"next":"prev",d=(p,g)=>c==="next"&&p>=g||c==="prev"&&p<=g,f=()=>{a=new Date().getTime(),o===null&&(o=a);const p=Math.max(Math.min((a-o)/u,1),0),g=.5-Math.cos(p*Math.PI)/2;let _=i+g*(n-i);if(d(_,n)&&(_=n),e.wrapperEl.scrollTo({[s]:_}),d(_,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:_})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(f)};f()}function cn(t,e){e===void 0&&(e="");const n=Pt(),s=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&s.push(...t.assignedElements()),e?s.filter(r=>r.matches(e)):s}function uA(t,e){const n=[e];for(;n.length>0;){const s=n.shift();if(t===s)return!0;n.push(...s.children,...s.shadowRoot?s.shadowRoot.children:[],...s.assignedElements?s.assignedElements():[])}}function cA(t,e){const n=Pt();let s=e.contains(t);return!s&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(s=[...e.assignedElements()].includes(t),s||(s=uA(t,e))),s}function Do(t){try{console.warn(t);return}catch{}}function Mo(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:rA(e)),n}function dA(t,e){const n=[];for(;t.previousElementSibling;){const s=t.previousElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function fA(t,e){const n=[];for(;t.nextElementSibling;){const s=t.nextElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function Kn(t,e){return Pt().getComputedStyle(t,null).getPropertyValue(e)}function Oo(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function nv(t,e){const n=[];let s=t.parentElement;for(;s;)e?s.matches(e)&&n.push(s):n.push(s),s=s.parentElement;return n}function hA(t,e){function n(s){s.target===t&&(e.call(t,s),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function Yl(t,e,n){const s=Pt();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function nt(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let rl;function pA(){const t=Pt(),e=Ms();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function sv(){return rl||(rl=pA()),rl}let il;function mA(t){let{userAgent:e}=t===void 0?{}:t;const n=sv(),s=Pt(),r=s.navigator.platform,i=e||s.navigator.userAgent,o={ios:!1,android:!1},a=s.screen.width,u=s.screen.height,c=i.match(/(Android);?[\s\/]+([\d.]+)?/);let d=i.match(/(iPad).*OS\s([\d_]+)/);const f=i.match(/(iPod)(.*OS\s([\d_]+))?/),p=!d&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g=r==="Win32";let _=r==="MacIntel";const S=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&_&&n.touch&&S.indexOf(`${a}x${u}`)>=0&&(d=i.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),_=!1),c&&!g&&(o.os="android",o.android=!0),(d||p||f)&&(o.os="ios",o.ios=!0),o}function rv(t){return t===void 0&&(t={}),il||(il=mA(t)),il}let ol;function gA(){const t=Pt(),e=rv();let n=!1;function s(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(s()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[u,c]=a.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=u<16||u===16&&c<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=s(),o=i||r&&e.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:o,isWebView:r}}function iv(){return ol||(ol=gA()),ol}function vA(t){let{swiper:e,on:n,emit:s}=t;const r=Pt();let i=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(s("beforeResize"),s("resize"))},u=()=>{!e||e.destroyed||!e.initialized||(i=new ResizeObserver(f=>{o=r.requestAnimationFrame(()=>{const{width:p,height:g}=e;let _=p,S=g;f.forEach(I=>{let{contentBoxSize:V,contentRect:v,target:y}=I;y&&y!==e.el||(_=v?v.width:(V[0]||V).inlineSize,S=v?v.height:(V[0]||V).blockSize)}),(_!==p||S!==g)&&a()})}),i.observe(e.el))},c=()=>{o&&r.cancelAnimationFrame(o),i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null)},d=()=>{!e||e.destroyed||!e.initialized||s("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){u();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",d)}),n("destroy",()=>{c(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",d)})}function yA(t){let{swiper:e,extendParams:n,on:s,emit:r}=t;const i=[],o=Pt(),a=function(d,f){f===void 0&&(f={});const p=o.MutationObserver||o.WebkitMutationObserver,g=new p(_=>{if(e.__preventObserver__)return;if(_.length===1){r("observerUpdate",_[0]);return}const S=function(){r("observerUpdate",_[0])};o.requestAnimationFrame?o.requestAnimationFrame(S):o.setTimeout(S,0)});g.observe(d,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),i.push(g)},u=()=>{if(e.params.observer){if(e.params.observeParents){const d=nv(e.hostEl);for(let f=0;f<d.length;f+=1)a(d[f])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{i.forEach(d=>{d.disconnect()}),i.splice(0,i.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",u),s("destroy",c)}var _A={on(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const r=n?"unshift":"push";return t.split(" ").forEach(i=>{s.eventsListeners[i]||(s.eventsListeners[i]=[]),s.eventsListeners[i][r](e)}),s},once(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;function r(){s.off(t,r),r.__emitterProxy&&delete r.__emitterProxy;for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];e.apply(s,o)}return r.__emitterProxy=e,s.on(t,r,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const s=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[s](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(s=>{typeof e>"u"?n.eventsListeners[s]=[]:n.eventsListeners[s]&&n.eventsListeners[s].forEach((r,i)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[s].splice(i,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,s;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return typeof i[0]=="string"||Array.isArray(i[0])?(e=i[0],n=i.slice(1,i.length),s=t):(e=i[0].events,n=i[0].data,s=i[0].context||t),n.unshift(s),(Array.isArray(e)?e:e.split(" ")).forEach(u=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(s,[u,...n])}),t.eventsListeners&&t.eventsListeners[u]&&t.eventsListeners[u].forEach(c=>{c.apply(s,n)})}),t}};function wA(){const t=this;let e,n;const s=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=s.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=s.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Kn(s,"padding-left")||0,10)-parseInt(Kn(s,"padding-right")||0,10),n=n-parseInt(Kn(s,"padding-top")||0,10)-parseInt(Kn(s,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function bA(){const t=this;function e(T,C){return parseFloat(T.getPropertyValue(t.getDirectionLabel(C))||0)}const n=t.params,{wrapperEl:s,slidesEl:r,size:i,rtlTranslate:o,wrongRTL:a}=t,u=t.virtual&&n.virtual.enabled,c=u?t.virtual.slides.length:t.slides.length,d=cn(r,`.${t.params.slideClass}, swiper-slide`),f=u?t.virtual.slides.length:d.length;let p=[];const g=[],_=[];let S=n.slidesOffsetBefore;typeof S=="function"&&(S=n.slidesOffsetBefore.call(t));let I=n.slidesOffsetAfter;typeof I=="function"&&(I=n.slidesOffsetAfter.call(t));const V=t.snapGrid.length,v=t.slidesGrid.length;let y=n.spaceBetween,x=-S,N=0,q=0;if(typeof i>"u")return;typeof y=="string"&&y.indexOf("%")>=0?y=parseFloat(y.replace("%",""))/100*i:typeof y=="string"&&(y=parseFloat(y)),t.virtualSize=-y,d.forEach(T=>{o?T.style.marginLeft="":T.style.marginRight="",T.style.marginBottom="",T.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Yi(s,"--swiper-centered-offset-before",""),Yi(s,"--swiper-centered-offset-after",""));const P=n.grid&&n.grid.rows>1&&t.grid;P?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let E;const b=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(T=>typeof n.breakpoints[T].slidesPerView<"u").length>0;for(let T=0;T<f;T+=1){E=0;let C;if(d[T]&&(C=d[T]),P&&t.grid.updateSlide(T,C,d),!(d[T]&&Kn(C,"display")==="none")){if(n.slidesPerView==="auto"){b&&(d[T].style[t.getDirectionLabel("width")]="");const M=getComputedStyle(C),A=C.style.transform,we=C.style.webkitTransform;if(A&&(C.style.transform="none"),we&&(C.style.webkitTransform="none"),n.roundLengths)E=t.isHorizontal()?Yl(C,"width"):Yl(C,"height");else{const Te=e(M,"width"),se=e(M,"padding-left"),le=e(M,"padding-right"),ue=e(M,"margin-left"),qe=e(M,"margin-right"),Rt=M.getPropertyValue("box-sizing");if(Rt&&Rt==="border-box")E=Te+ue+qe;else{const{clientWidth:Vt,offsetWidth:Be}=C;E=Te+se+le+ue+qe+(Be-Vt)}}A&&(C.style.transform=A),we&&(C.style.webkitTransform=we),n.roundLengths&&(E=Math.floor(E))}else E=(i-(n.slidesPerView-1)*y)/n.slidesPerView,n.roundLengths&&(E=Math.floor(E)),d[T]&&(d[T].style[t.getDirectionLabel("width")]=`${E}px`);d[T]&&(d[T].swiperSlideSize=E),_.push(E),n.centeredSlides?(x=x+E/2+N/2+y,N===0&&T!==0&&(x=x-i/2-y),T===0&&(x=x-i/2-y),Math.abs(x)<1/1e3&&(x=0),n.roundLengths&&(x=Math.floor(x)),q%n.slidesPerGroup===0&&p.push(x),g.push(x)):(n.roundLengths&&(x=Math.floor(x)),(q-Math.min(t.params.slidesPerGroupSkip,q))%t.params.slidesPerGroup===0&&p.push(x),g.push(x),x=x+E+y),t.virtualSize+=E+y,N=E,q+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+I,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(s.style.width=`${t.virtualSize+y}px`),n.setWrapperSize&&(s.style[t.getDirectionLabel("width")]=`${t.virtualSize+y}px`),P&&t.grid.updateWrapperSize(E,p),!n.centeredSlides){const T=[];for(let C=0;C<p.length;C+=1){let M=p[C];n.roundLengths&&(M=Math.floor(M)),p[C]<=t.virtualSize-i&&T.push(M)}p=T,Math.floor(t.virtualSize-i)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-i)}if(u&&n.loop){const T=_[0]+y;if(n.slidesPerGroup>1){const C=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),M=T*n.slidesPerGroup;for(let A=0;A<C;A+=1)p.push(p[p.length-1]+M)}for(let C=0;C<t.virtual.slidesBefore+t.virtual.slidesAfter;C+=1)n.slidesPerGroup===1&&p.push(p[p.length-1]+T),g.push(g[g.length-1]+T),t.virtualSize+=T}if(p.length===0&&(p=[0]),y!==0){const T=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");d.filter((C,M)=>!n.cssMode||n.loop?!0:M!==d.length-1).forEach(C=>{C.style[T]=`${y}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let T=0;_.forEach(M=>{T+=M+(y||0)}),T-=y;const C=T>i?T-i:0;p=p.map(M=>M<=0?-S:M>C?C+I:M)}if(n.centerInsufficientSlides){let T=0;_.forEach(M=>{T+=M+(y||0)}),T-=y;const C=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(T+C<i){const M=(i-T-C)/2;p.forEach((A,we)=>{p[we]=A-M}),g.forEach((A,we)=>{g[we]=A+M})}}if(Object.assign(t,{slides:d,snapGrid:p,slidesGrid:g,slidesSizesGrid:_}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Yi(s,"--swiper-centered-offset-before",`${-p[0]}px`),Yi(s,"--swiper-centered-offset-after",`${t.size/2-_[_.length-1]/2}px`);const T=-t.snapGrid[0],C=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(M=>M+T),t.slidesGrid=t.slidesGrid.map(M=>M+C)}if(f!==c&&t.emit("slidesLengthChange"),p.length!==V&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),g.length!==v&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!u&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const T=`${n.containerModifierClass}backface-hidden`,C=t.el.classList.contains(T);f<=n.maxBackfaceHiddenSlides?C||t.el.classList.add(T):C&&t.el.classList.remove(T)}}function EA(t){const e=this,n=[],s=e.virtual&&e.params.virtual.enabled;let r=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>s?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const a=e.activeIndex+i;if(a>e.slides.length&&!s)break;n.push(o(a))}else n.push(o(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const a=n[i].offsetHeight;r=a>r?a:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function TA(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=(t.isHorizontal()?e[s].offsetLeft:e[s].offsetTop)-n-t.cssOverflowAdjustment()}const nh=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function SA(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:s,rtlTranslate:r,snapGrid:i}=e;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;r&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let u=0;u<s.length;u+=1){const c=s[u];let d=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=s[0].swiperSlideOffset);const f=(o+(n.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),p=(o-i[0]+(n.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),g=-(o-d),_=g+e.slidesSizesGrid[u],S=g>=0&&g<=e.size-e.slidesSizesGrid[u],I=g>=0&&g<e.size-1||_>1&&_<=e.size||g<=0&&_>=e.size;I&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(u)),nh(c,I,n.slideVisibleClass),nh(c,S,n.slideFullyVisibleClass),c.progress=r?-f:f,c.originalProgress=r?-p:p}}function IA(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:i,isEnd:o,progressLoop:a}=e;const u=i,c=o;if(s===0)r=0,i=!0,o=!0;else{r=(t-e.minTranslate())/s;const d=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;i=d||r<=0,o=f||r>=1,d&&(r=0),f&&(r=1)}if(n.loop){const d=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[d],g=e.slidesGrid[f],_=e.slidesGrid[e.slidesGrid.length-1],S=Math.abs(t);S>=p?a=(S-p)/_:a=(S+_-g)/_,a>1&&(a-=1)}Object.assign(e,{progress:r,progressLoop:a,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!u&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(u&&!i||c&&!o)&&e.emit("fromEdge"),e.emit("progress",r)}const al=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function AA(){const t=this,{slides:e,params:n,slidesEl:s,activeIndex:r}=t,i=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=f=>cn(s,`.${n.slideClass}${f}, swiper-slide${f}`)[0];let u,c,d;if(i)if(n.loop){let f=r-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),u=a(`[data-swiper-slide-index="${f}"]`)}else u=a(`[data-swiper-slide-index="${r}"]`);else o?(u=e.find(f=>f.column===r),d=e.find(f=>f.column===r+1),c=e.find(f=>f.column===r-1)):u=e[r];u&&(o||(d=fA(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),c=dA(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(f=>{al(f,f===u,n.slideActiveClass),al(f,f===d,n.slideNextClass),al(f,f===c,n.slidePrevClass)}),t.emitSlidesClasses()}const ao=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,s=e.closest(n());if(s){let r=s.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(s.shadowRoot?r=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(r=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},ll=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Xl=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const s=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=r,a=[o-e];a.push(...Array.from({length:e}).map((u,c)=>o+s+c)),t.slides.forEach((u,c)=>{a.includes(u.column)&&ll(t,c)});return}const i=r+s-1;if(t.params.rewind||t.params.loop)for(let o=r-e;o<=i+e;o+=1){const a=(o%n+n)%n;(a<r||a>i)&&ll(t,a)}else for(let o=Math.max(r-e,0);o<=Math.min(i+e,n-1);o+=1)o!==r&&(o>i||o<r)&&ll(t,o)};function CA(t){const{slidesGrid:e,params:n}=t,s=t.rtlTranslate?t.translate:-t.translate;let r;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?s>=e[i]&&s<e[i+1]-(e[i+1]-e[i])/2?r=i:s>=e[i]&&s<e[i+1]&&(r=i+1):s>=e[i]&&(r=i);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function xA(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:s,params:r,activeIndex:i,realIndex:o,snapIndex:a}=e;let u=t,c;const d=g=>{let _=g-e.virtual.slidesBefore;return _<0&&(_=e.virtual.slides.length+_),_>=e.virtual.slides.length&&(_-=e.virtual.slides.length),_};if(typeof u>"u"&&(u=CA(e)),s.indexOf(n)>=0)c=s.indexOf(n);else{const g=Math.min(r.slidesPerGroupSkip,u);c=g+Math.floor((u-g)/r.slidesPerGroup)}if(c>=s.length&&(c=s.length-1),u===i&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(u===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(u);return}const f=e.grid&&r.grid&&r.grid.rows>1;let p;if(e.virtual&&r.virtual.enabled&&r.loop)p=d(u);else if(f){const g=e.slides.find(S=>S.column===u);let _=parseInt(g.getAttribute("data-swiper-slide-index"),10);Number.isNaN(_)&&(_=Math.max(e.slides.indexOf(g),0)),p=Math.floor(_/r.grid.rows)}else if(e.slides[u]){const g=e.slides[u].getAttribute("data-swiper-slide-index");g?p=parseInt(g,10):p=u}else p=u;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:p,previousIndex:i,activeIndex:u}),e.initialized&&Xl(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function PA(t,e){const n=this,s=n.params;let r=t.closest(`.${s.slideClass}, swiper-slide`);!r&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!r&&a.matches&&a.matches(`.${s.slideClass}, swiper-slide`)&&(r=a)});let i=!1,o;if(r){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===r){i=!0,o=a;break}}if(r&&i)n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}s.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var RA={updateSize:wA,updateSlides:bA,updateAutoHeight:EA,updateSlidesOffset:TA,updateSlidesProgress:SA,updateProgress:IA,updateSlidesClasses:AA,updateActiveIndex:xA,updateClickedSlide:PA};function VA(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:s,translate:r,wrapperEl:i}=e;if(n.virtualTranslate)return s?-r:r;if(n.cssMode)return r;let o=aA(i,t);return o+=e.cssOverflowAdjustment(),s&&(o=-o),o||0}function kA(t,e){const n=this,{rtlTranslate:s,params:r,wrapperEl:i,progress:o}=n;let a=0,u=0;const c=0;n.isHorizontal()?a=s?-t:t:u=t,r.roundLengths&&(a=Math.floor(a),u=Math.floor(u)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:u,r.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-u:r.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():u-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${a}px, ${u}px, ${c}px)`);let d;const f=n.maxTranslate()-n.minTranslate();f===0?d=0:d=(t-n.minTranslate())/f,d!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function DA(){return-this.snapGrid[0]}function MA(){return-this.snapGrid[this.snapGrid.length-1]}function OA(t,e,n,s,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),s===void 0&&(s=!0);const i=this,{params:o,wrapperEl:a}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const u=i.minTranslate(),c=i.maxTranslate();let d;if(s&&t>u?d=u:s&&t<c?d=c:d=t,i.updateProgress(d),o.cssMode){const f=i.isHorizontal();if(e===0)a[f?"scrollLeft":"scrollTop"]=-d;else{if(!i.support.smoothScroll)return tv({swiper:i,targetPosition:-d,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,r),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,r),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(p){!i||i.destroyed||p.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var NA={getTranslate:VA,setTranslate:kA,minTranslate:DA,maxTranslate:MA,translateTo:OA};function LA(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function ov(t){let{swiper:e,runCallbacks:n,direction:s,step:r}=t;const{activeIndex:i,previousIndex:o}=e;let a=s;if(a||(i>o?a="next":i<o?a="prev":a="reset"),e.emit(`transition${r}`),n&&i!==o){if(a==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),a==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function FA(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;s.cssMode||(s.autoHeight&&n.updateAutoHeight(),ov({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function $A(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;n.animating=!1,!s.cssMode&&(n.setTransition(0),ov({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var BA={setTransition:LA,transitionStart:FA,transitionEnd:$A};function UA(t,e,n,s,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:u,slidesGrid:c,previousIndex:d,activeIndex:f,rtlTranslate:p,wrapperEl:g,enabled:_}=i;if(!_&&!s&&!r||i.destroyed||i.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=i.params.speed);const S=Math.min(i.params.slidesPerGroupSkip,o);let I=S+Math.floor((o-S)/i.params.slidesPerGroup);I>=u.length&&(I=u.length-1);const V=-u[I];if(a.normalizeSlideIndex)for(let P=0;P<c.length;P+=1){const E=-Math.floor(V*100),b=Math.floor(c[P]*100),T=Math.floor(c[P+1]*100);typeof c[P+1]<"u"?E>=b&&E<T-(T-b)/2?o=P:E>=b&&E<T&&(o=P+1):E>=b&&(o=P)}if(i.initialized&&o!==f&&(!i.allowSlideNext&&(p?V>i.translate&&V>i.minTranslate():V<i.translate&&V<i.minTranslate())||!i.allowSlidePrev&&V>i.translate&&V>i.maxTranslate()&&(f||0)!==o))return!1;o!==(d||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(V);let v;o>f?v="next":o<f?v="prev":v="reset";const y=i.virtual&&i.params.virtual.enabled;if(!(y&&r)&&(p&&-V===i.translate||!p&&V===i.translate))return i.updateActiveIndex(o),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),a.effect!=="slide"&&i.setTranslate(V),v!=="reset"&&(i.transitionStart(n,v),i.transitionEnd(n,v)),!1;if(a.cssMode){const P=i.isHorizontal(),E=p?V:-V;if(e===0)y&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),y&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{g[P?"scrollLeft":"scrollTop"]=E})):g[P?"scrollLeft":"scrollTop"]=E,y&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return tv({swiper:i,targetPosition:E,side:P?"left":"top"}),!0;g.scrollTo({[P?"left":"top"]:E,behavior:"smooth"})}return!0}const q=iv().isSafari;return y&&!r&&q&&i.isElement&&i.virtual.update(!1,!1,o),i.setTransition(e),i.setTranslate(V),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,s),i.transitionStart(n,v),e===0?i.transitionEnd(n,v):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(E){!i||i.destroyed||E.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,v))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function jA(t,e,n,s){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);const i=r.grid&&r.params.grid&&r.params.grid.rows>1;let o=t;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)o=o+r.virtual.slidesBefore;else{let a;if(i){const p=o*r.params.grid.rows;a=r.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===p).column}else a=r.getSlideIndexByData(o);const u=i?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:c}=r.params;let d=r.params.slidesPerView;d==="auto"?d=r.slidesPerViewDynamic():(d=Math.ceil(parseFloat(r.params.slidesPerView,10)),c&&d%2===0&&(d=d+1));let f=u-a<d;if(c&&(f=f||a<Math.ceil(d/2)),s&&c&&r.params.slidesPerView!=="auto"&&!i&&(f=!1),f){const p=c?a<r.activeIndex?"prev":"next":a-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?a+1:a-u+1,slideRealIndex:p==="next"?r.realIndex:void 0})}if(i){const p=o*r.params.grid.rows;o=r.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===p).column}else o=r.getSlideIndexByData(o)}return requestAnimationFrame(()=>{r.slideTo(o,e,n,s)}),r}function zA(t,e,n){e===void 0&&(e=!0);const s=this,{enabled:r,params:i,animating:o}=s;if(!r||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);let a=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(a=Math.max(s.slidesPerViewDynamic("current",!0),1));const u=s.activeIndex<i.slidesPerGroupSkip?1:a,c=s.virtual&&i.virtual.enabled;if(i.loop){if(o&&!c&&i.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+u,t,e,n)}),!0}return i.rewind&&s.isEnd?s.slideTo(0,t,e,n):s.slideTo(s.activeIndex+u,t,e,n)}function qA(t,e,n){e===void 0&&(e=!0);const s=this,{params:r,snapGrid:i,slidesGrid:o,rtlTranslate:a,enabled:u,animating:c}=s;if(!u||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);const d=s.virtual&&r.virtual.enabled;if(r.loop){if(c&&!d&&r.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const f=a?s.translate:-s.translate;function p(v){return v<0?-Math.floor(Math.abs(v)):Math.floor(v)}const g=p(f),_=i.map(v=>p(v)),S=r.freeMode&&r.freeMode.enabled;let I=i[_.indexOf(g)-1];if(typeof I>"u"&&(r.cssMode||S)){let v;i.forEach((y,x)=>{g>=y&&(v=x)}),typeof v<"u"&&(I=S?i[v]:i[v>0?v-1:v])}let V=0;if(typeof I<"u"&&(V=o.indexOf(I),V<0&&(V=s.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(V=V-s.slidesPerViewDynamic("previous",!0)+1,V=Math.max(V,0))),r.rewind&&s.isBeginning){const v=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(v,t,e,n)}else if(r.loop&&s.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{s.slideTo(V,t,e,n)}),!0;return s.slideTo(V,t,e,n)}function GA(t,e,n){e===void 0&&(e=!0);const s=this;if(!s.destroyed)return typeof t>"u"&&(t=s.params.speed),s.slideTo(s.activeIndex,t,e,n)}function HA(t,e,n,s){e===void 0&&(e=!0),s===void 0&&(s=.5);const r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);let i=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,i),a=o+Math.floor((i-o)/r.params.slidesPerGroup),u=r.rtlTranslate?r.translate:-r.translate;if(u>=r.snapGrid[a]){const c=r.snapGrid[a],d=r.snapGrid[a+1];u-c>(d-c)*s&&(i+=r.params.slidesPerGroup)}else{const c=r.snapGrid[a-1],d=r.snapGrid[a];u-c<=(d-c)*s&&(i-=r.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,r.slidesGrid.length-1),r.slideTo(i,t,e,n)}function WA(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,s=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let r=t.clickedIndex,i;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<t.loopedSlides-s/2||r>t.slides.length-t.loopedSlides+s/2?(t.loopFix(),r=t.getSlideIndex(cn(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),Vo(()=>{t.slideTo(r)})):t.slideTo(r):r>t.slides.length-s?(t.loopFix(),r=t.getSlideIndex(cn(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),Vo(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var KA={slideTo:UA,slideToLoop:jA,slideNext:zA,slidePrev:qA,slideReset:GA,slideToClosest:HA,slideToClickedSlide:WA};function QA(t,e){const n=this,{params:s,slidesEl:r}=n;if(!s.loop||n.virtual&&n.params.virtual.enabled)return;const i=()=>{cn(r,`.${s.slideClass}, swiper-slide`).forEach((p,g)=>{p.setAttribute("data-swiper-slide-index",g)})},o=n.grid&&s.grid&&s.grid.rows>1,a=s.slidesPerGroup*(o?s.grid.rows:1),u=n.slides.length%a!==0,c=o&&n.slides.length%s.grid.rows!==0,d=f=>{for(let p=0;p<f;p+=1){const g=n.isElement?Mo("swiper-slide",[s.slideBlankClass]):Mo("div",[s.slideClass,s.slideBlankClass]);n.slidesEl.append(g)}};if(u){if(s.loopAddBlankSlides){const f=a-n.slides.length%a;d(f),n.recalcSlides(),n.updateSlides()}else Do("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(c){if(s.loopAddBlankSlides){const f=s.grid.rows-n.slides.length%s.grid.rows;d(f),n.recalcSlides(),n.updateSlides()}else Do("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();n.loopFix({slideRealIndex:t,direction:s.centeredSlides?void 0:"next",initial:e})}function YA(t){let{slideRealIndex:e,slideTo:n=!0,direction:s,setTranslate:r,activeSlideIndex:i,initial:o,byController:a,byMousewheel:u}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:d,allowSlidePrev:f,allowSlideNext:p,slidesEl:g,params:_}=c,{centeredSlides:S,initialSlide:I}=_;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&_.virtual.enabled){n&&(!_.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):_.centeredSlides&&c.snapIndex<_.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=f,c.allowSlideNext=p,c.emit("loopFix");return}let V=_.slidesPerView;V==="auto"?V=c.slidesPerViewDynamic():(V=Math.ceil(parseFloat(_.slidesPerView,10)),S&&V%2===0&&(V=V+1));const v=_.slidesPerGroupAuto?V:_.slidesPerGroup;let y=v;y%v!==0&&(y+=v-y%v),y+=_.loopAdditionalSlides,c.loopedSlides=y;const x=c.grid&&_.grid&&_.grid.rows>1;d.length<V+y||c.params.effect==="cards"&&d.length<V+y*2?Do("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):x&&_.grid.fill==="row"&&Do("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const N=[],q=[],P=x?Math.ceil(d.length/_.grid.rows):d.length,E=o&&P-I<V&&!S;let b=E?I:c.activeIndex;typeof i>"u"?i=c.getSlideIndex(d.find(se=>se.classList.contains(_.slideActiveClass))):b=i;const T=s==="next"||!s,C=s==="prev"||!s;let M=0,A=0;const Te=(x?d[i].column:i)+(S&&typeof r>"u"?-V/2+.5:0);if(Te<y){M=Math.max(y-Te,v);for(let se=0;se<y-Te;se+=1){const le=se-Math.floor(se/P)*P;if(x){const ue=P-le-1;for(let qe=d.length-1;qe>=0;qe-=1)d[qe].column===ue&&N.push(qe)}else N.push(P-le-1)}}else if(Te+V>P-y){A=Math.max(Te-(P-y*2),v),E&&(A=Math.max(A,V-P+I+1));for(let se=0;se<A;se+=1){const le=se-Math.floor(se/P)*P;x?d.forEach((ue,qe)=>{ue.column===le&&q.push(qe)}):q.push(le)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&d.length<V+y*2&&(q.includes(i)&&q.splice(q.indexOf(i),1),N.includes(i)&&N.splice(N.indexOf(i),1)),C&&N.forEach(se=>{d[se].swiperLoopMoveDOM=!0,g.prepend(d[se]),d[se].swiperLoopMoveDOM=!1}),T&&q.forEach(se=>{d[se].swiperLoopMoveDOM=!0,g.append(d[se]),d[se].swiperLoopMoveDOM=!1}),c.recalcSlides(),_.slidesPerView==="auto"?c.updateSlides():x&&(N.length>0&&C||q.length>0&&T)&&c.slides.forEach((se,le)=>{c.grid.updateSlide(le,se,c.slides)}),_.watchSlidesProgress&&c.updateSlidesOffset(),n){if(N.length>0&&C){if(typeof e>"u"){const se=c.slidesGrid[b],ue=c.slidesGrid[b+M]-se;u?c.setTranslate(c.translate-ue):(c.slideTo(b+Math.ceil(M),0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-ue,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-ue))}else if(r){const se=x?N.length/_.grid.rows:N.length;c.slideTo(c.activeIndex+se,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(q.length>0&&T)if(typeof e>"u"){const se=c.slidesGrid[b],ue=c.slidesGrid[b-A]-se;u?c.setTranslate(c.translate-ue):(c.slideTo(b-A,0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-ue,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-ue))}else{const se=x?q.length/_.grid.rows:q.length;c.slideTo(c.activeIndex-se,0,!1,!0)}}if(c.allowSlidePrev=f,c.allowSlideNext=p,c.controller&&c.controller.control&&!a){const se={slideRealIndex:e,direction:s,setTranslate:r,activeSlideIndex:i,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(le=>{!le.destroyed&&le.params.loop&&le.loopFix({...se,slideTo:le.params.slidesPerView===_.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...se,slideTo:c.controller.control.params.slidesPerView===_.slidesPerView?n:!1})}c.emit("loopFix")}function XA(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const s=[];t.slides.forEach(r=>{const i=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;s[i]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),s.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var JA={loopCreate:QA,loopFix:YA,loopDestroy:XA};function ZA(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function e1(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var t1={setGrabCursor:ZA,unsetGrabCursor:e1};function n1(t,e){e===void 0&&(e=this);function n(s){if(!s||s===Ms()||s===Pt())return null;s.assignedSlot&&(s=s.assignedSlot);const r=s.closest(t);return!r&&!s.getRootNode?null:r||n(s.getRootNode().host)}return n(e)}function sh(t,e,n){const s=Pt(),{params:r}=t,i=r.edgeSwipeDetection,o=r.edgeSwipeThreshold;return i&&(n<=o||n>=s.innerWidth-o)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function s1(t){const e=this,n=Ms();let s=t;s.originalEvent&&(s=s.originalEvent);const r=e.touchEventsData;if(s.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==s.pointerId)return;r.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(r.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){sh(e,s,s.targetTouches[0].pageX);return}const{params:i,touches:o,enabled:a}=e;if(!a||!i.simulateTouch&&s.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let u=s.target;if(i.touchEventsTarget==="wrapper"&&!cA(u,e.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||r.isTouched&&r.isMoved)return;const c=!!i.noSwipingClass&&i.noSwipingClass!=="",d=s.composedPath?s.composedPath():s.path;c&&s.target&&s.target.shadowRoot&&d&&(u=d[0]);const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,p=!!(s.target&&s.target.shadowRoot);if(i.noSwiping&&(p?n1(f,u):u.closest(f))){e.allowClick=!0;return}if(i.swipeHandler&&!u.closest(i.swipeHandler))return;o.currentX=s.pageX,o.currentY=s.pageY;const g=o.currentX,_=o.currentY;if(!sh(e,s,g))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=g,o.startY=_,r.touchStartTime=ko(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(r.allowThresholdMove=!1);let S=!0;u.matches(r.focusableElements)&&(S=!1,u.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==u&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!u.matches(r.focusableElements))&&n.activeElement.blur();const I=S&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||I)&&!u.isContentEditable&&s.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",s)}function r1(t){const e=Ms(),n=this,s=n.touchEventsData,{params:r,touches:i,rtlTranslate:o,enabled:a}=n;if(!a||!r.simulateTouch&&t.pointerType==="mouse")return;let u=t;if(u.originalEvent&&(u=u.originalEvent),u.type==="pointermove"&&(s.touchId!==null||u.pointerId!==s.pointerId))return;let c;if(u.type==="touchmove"){if(c=[...u.changedTouches].find(N=>N.identifier===s.touchId),!c||c.identifier!==s.touchId)return}else c=u;if(!s.isTouched){s.startMoving&&s.isScrolling&&n.emit("touchMoveOpposite",u);return}const d=c.pageX,f=c.pageY;if(u.preventedByNestedSwiper){i.startX=d,i.startY=f;return}if(!n.allowTouchMove){u.target.matches(s.focusableElements)||(n.allowClick=!1),s.isTouched&&(Object.assign(i,{startX:d,startY:f,currentX:d,currentY:f}),s.touchStartTime=ko());return}if(r.touchReleaseOnEdges&&!r.loop)if(n.isVertical()){if(f<i.startY&&n.translate<=n.maxTranslate()||f>i.startY&&n.translate>=n.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else{if(o&&(d>i.startX&&-n.translate<=n.maxTranslate()||d<i.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(d<i.startX&&n.translate<=n.maxTranslate()||d>i.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(s.focusableElements)&&e.activeElement!==u.target&&u.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&u.target===e.activeElement&&u.target.matches(s.focusableElements)){s.isMoved=!0,n.allowClick=!1;return}s.allowTouchCallbacks&&n.emit("touchMove",u),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=d,i.currentY=f;const p=i.currentX-i.startX,g=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(p**2+g**2)<n.params.threshold)return;if(typeof s.isScrolling>"u"){let N;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?s.isScrolling=!1:p*p+g*g>=25&&(N=Math.atan2(Math.abs(g),Math.abs(p))*180/Math.PI,s.isScrolling=n.isHorizontal()?N>r.touchAngle:90-N>r.touchAngle)}if(s.isScrolling&&n.emit("touchMoveOpposite",u),typeof s.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(s.startMoving=!0),s.isScrolling||u.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;n.allowClick=!1,!r.cssMode&&u.cancelable&&u.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&u.stopPropagation();let _=n.isHorizontal()?p:g,S=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;r.oneWayMovement&&(_=Math.abs(_)*(o?1:-1),S=Math.abs(S)*(o?1:-1)),i.diff=_,_*=r.touchRatio,o&&(_=-_,S=-S);const I=n.touchesDirection;n.swipeDirection=_>0?"prev":"next",n.touchesDirection=S>0?"prev":"next";const V=n.params.loop&&!r.cssMode,v=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!s.isMoved){if(V&&v&&n.loopFix({direction:n.swipeDirection}),s.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const N=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(N)}s.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",u)}if(new Date().getTime(),r._loopSwapReset!==!1&&s.isMoved&&s.allowThresholdMove&&I!==n.touchesDirection&&V&&v&&Math.abs(_)>=1){Object.assign(i,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}n.emit("sliderMove",u),s.isMoved=!0,s.currentTranslate=_+s.startTranslate;let y=!0,x=r.resistanceRatio;if(r.touchReleaseOnEdges&&(x=0),_>0?(V&&v&&s.allowThresholdMove&&s.currentTranslate>(r.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>n.minTranslate()&&(y=!1,r.resistance&&(s.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+s.startTranslate+_)**x))):_<0&&(V&&v&&s.allowThresholdMove&&s.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),s.currentTranslate<n.maxTranslate()&&(y=!1,r.resistance&&(s.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-s.startTranslate-_)**x))),y&&(u.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(s.currentTranslate=s.startTranslate),r.threshold>0)if(Math.abs(_)>r.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,s.currentTranslate=s.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{s.currentTranslate=s.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(s.currentTranslate),n.setTranslate(s.currentTranslate))}function i1(t){const e=this,n=e.touchEventsData;let s=t;s.originalEvent&&(s=s.originalEvent);let r;if(s.type==="touchend"||s.type==="touchcancel"){if(r=[...s.changedTouches].find(N=>N.identifier===n.touchId),!r||r.identifier!==n.touchId)return}else{if(n.touchId!==null||s.pointerId!==n.pointerId)return;r=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:u,slidesGrid:c,enabled:d}=e;if(!d||!o.simulateTouch&&s.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=ko(),p=f-n.touchStartTime;if(e.allowClick){const N=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(N&&N[0]||s.target,N),e.emit("tap click",s),p<300&&f-n.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(n.lastClickTime=ko(),Vo(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let g;if(o.followFinger?g=u?e.translate:-e.translate:g=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:g});return}const _=g>=-e.maxTranslate()&&!e.params.loop;let S=0,I=e.slidesSizesGrid[0];for(let N=0;N<c.length;N+=N<o.slidesPerGroupSkip?1:o.slidesPerGroup){const q=N<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[N+q]<"u"?(_||g>=c[N]&&g<c[N+q])&&(S=N,I=c[N+q]-c[N]):(_||g>=c[N])&&(S=N,I=c[c.length-1]-c[c.length-2])}let V=null,v=null;o.rewind&&(e.isBeginning?v=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(V=0));const y=(g-c[S])/I,x=S<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(p>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(y>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?V:S+x):e.slideTo(S)),e.swipeDirection==="prev"&&(y>1-o.longSwipesRatio?e.slideTo(S+x):v!==null&&y<0&&Math.abs(y)>o.longSwipesRatio?e.slideTo(v):e.slideTo(S))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(s.target===e.navigation.nextEl||s.target===e.navigation.prevEl)?s.target===e.navigation.nextEl?e.slideTo(S+x):e.slideTo(S):(e.swipeDirection==="next"&&e.slideTo(V!==null?V:S+x),e.swipeDirection==="prev"&&e.slideTo(v!==null?v:S))}}function rh(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:r,snapGrid:i}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=s,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function o1(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function a1(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:s}=t;if(!s)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r;const i=t.maxTranslate()-t.minTranslate();i===0?r=0:r=(t.translate-t.minTranslate())/i,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function l1(t){const e=this;ao(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function u1(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const av=(t,e)=>{const n=Ms(),{params:s,el:r,wrapperEl:i,device:o}=t,a=!!s.nested,u=e==="on"?"addEventListener":"removeEventListener",c=e;!r||typeof r=="string"||(n[u]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),r[u]("touchstart",t.onTouchStart,{passive:!1}),r[u]("pointerdown",t.onTouchStart,{passive:!1}),n[u]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[u]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[u]("touchend",t.onTouchEnd,{passive:!0}),n[u]("pointerup",t.onTouchEnd,{passive:!0}),n[u]("pointercancel",t.onTouchEnd,{passive:!0}),n[u]("touchcancel",t.onTouchEnd,{passive:!0}),n[u]("pointerout",t.onTouchEnd,{passive:!0}),n[u]("pointerleave",t.onTouchEnd,{passive:!0}),n[u]("contextmenu",t.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&r[u]("click",t.onClick,!0),s.cssMode&&i[u]("scroll",t.onScroll),s.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",rh,!0):t[c]("observerUpdate",rh,!0),r[u]("load",t.onLoad,{capture:!0}))};function c1(){const t=this,{params:e}=t;t.onTouchStart=s1.bind(t),t.onTouchMove=r1.bind(t),t.onTouchEnd=i1.bind(t),t.onDocumentTouchStart=u1.bind(t),e.cssMode&&(t.onScroll=a1.bind(t)),t.onClick=o1.bind(t),t.onLoad=l1.bind(t),av(t,"on")}function d1(){av(this,"off")}var f1={attachEvents:c1,detachEvents:d1};const ih=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function h1(){const t=this,{realIndex:e,initialized:n,params:s,el:r}=t,i=s.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const o=Ms(),a=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",u=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?t.el:o.querySelector(s.breakpointsBase),c=t.getBreakpoint(i,a,u);if(!c||t.currentBreakpoint===c)return;const f=(c in i?i[c]:void 0)||t.originalParams,p=ih(t,s),g=ih(t,f),_=t.params.grabCursor,S=f.grabCursor,I=s.enabled;p&&!g?(r.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!p&&g&&(r.classList.add(`${s.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&s.grid.fill==="column")&&r.classList.add(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),_&&!S?t.unsetGrabCursor():!_&&S&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(q=>{if(typeof f[q]>"u")return;const P=s[q]&&s[q].enabled,E=f[q]&&f[q].enabled;P&&!E&&t[q].disable(),!P&&E&&t[q].enable()});const V=f.direction&&f.direction!==s.direction,v=s.loop&&(f.slidesPerView!==s.slidesPerView||V),y=s.loop;V&&n&&t.changeDirection(),Ut(t.params,f);const x=t.params.enabled,N=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),I&&!x?t.disable():!I&&x&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",f),n&&(v?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!y&&N?(t.loopCreate(e),t.updateSlides()):y&&!N&&t.loopDestroy()),t.emit("breakpoint",f)}function p1(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let s=!1;const r=Pt(),i=e==="window"?r.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const u=parseFloat(a.substr(1));return{value:i*u,point:a}}return{value:a,point:a}});o.sort((a,u)=>parseInt(a.value,10)-parseInt(u.value,10));for(let a=0;a<o.length;a+=1){const{point:u,value:c}=o[a];e==="window"?r.matchMedia(`(min-width: ${c}px)`).matches&&(s=u):c<=n.clientWidth&&(s=u)}return s||"max"}var m1={setBreakpoint:h1,getBreakpoint:p1};function g1(t,e){const n=[];return t.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(r=>{s[r]&&n.push(e+r)}):typeof s=="string"&&n.push(e+s)}),n}function v1(){const t=this,{classNames:e,params:n,rtl:s,el:r,device:i}=t,o=g1(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:s},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),r.classList.add(...e),t.emitContainerClasses()}function y1(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var _1={addClasses:v1,removeClasses:y1};function w1(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:s}=n;if(s){const r=t.slides.length-1,i=t.slidesGrid[r]+t.slidesSizesGrid[r]+s*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var b1={checkOverflow:w1},Jl={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function E1(t,e){return function(s){s===void 0&&(s={});const r=Object.keys(s)[0],i=s[r];if(typeof i!="object"||i===null){Ut(e,s);return}if(t[r]===!0&&(t[r]={enabled:!0}),r==="navigation"&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),!(r in t&&"enabled"in i)){Ut(e,s);return}typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),Ut(e,s)}}const ul={eventsEmitter:_A,update:RA,translate:NA,transition:BA,slide:KA,loop:JA,grabCursor:t1,events:f1,breakpoints:m1,checkOverflow:b1,classes:_1},cl={};let cc=class In{constructor(){let e,n;for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?n=r[0]:[e,n]=r,n||(n={}),n=Ut({},n),e&&!n.el&&(n.el=e);const o=Ms();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const d=[];return o.querySelectorAll(n.el).forEach(f=>{const p=Ut({},n,{el:f});d.push(new In(p))}),d}const a=this;a.__swiper__=!0,a.support=sv(),a.device=rv({userAgent:n.userAgent}),a.browser=iv(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const u={};a.modules.forEach(d=>{d({params:n,swiper:a,extendParams:E1(n,u),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=Ut({},Jl,u);return a.params=Ut({},c,cl,n),a.originalParams=Ut({},a.params),a.passedParams=Ut({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(d=>{a.on(d,a.params.on[d])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:s}=this,r=cn(n,`.${s.slideClass}, swiper-slide`),i=Oo(r[0]);return Oo(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:s}=e;e.slides=cn(n,`.${s.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const s=this;e=Math.min(Math.max(e,0),1);const r=s.minTranslate(),o=(s.maxTranslate()-r)*e+r;s.translateTo(o,typeof n>"u"?0:n),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(s=>{const r=e.getSlideClasses(s);n.push({slideEl:s,classNames:r}),e.emit("_slideClass",s,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const s=this,{params:r,slides:i,slidesGrid:o,slidesSizesGrid:a,size:u,activeIndex:c}=s;let d=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let f=i[c]?Math.ceil(i[c].swiperSlideSize):0,p;for(let g=c+1;g<i.length;g+=1)i[g]&&!p&&(f+=Math.ceil(i[g].swiperSlideSize),d+=1,f>u&&(p=!0));for(let g=c-1;g>=0;g-=1)i[g]&&!p&&(f+=i[g].swiperSlideSize,d+=1,f>u&&(p=!0))}else if(e==="current")for(let f=c+1;f<i.length;f+=1)(n?o[f]+a[f]-o[c]<u:o[f]-o[c]<u)&&(d+=1);else for(let f=c-1;f>=0;f-=1)o[c]-o[f]<u&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:s}=e;s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&ao(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)r(),s.autoHeight&&e.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const o=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(o.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||r()}s.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const s=this,r=s.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${r}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),s.emit("changeDirection"),n&&s.update()),s}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let s=e||n.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=n,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(r()):cn(s,r())[0];return!o&&n.params.createElements&&(o=Mo("div",n.params.wrapperClass),s.append(o),cn(s,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:s,wrapperEl:o,slidesEl:n.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:o,hostEl:n.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||Kn(s,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||Kn(s,"direction")==="rtl"),wrongRTL:Kn(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(i=>{i.complete?ao(n,i):i.addEventListener("load",o=>{ao(n,o.target)})}),Xl(n),n.initialized=!0,Xl(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const s=this,{params:r,el:i,wrapperEl:o,slides:a}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),r.loop&&s.loopDestroy(),n&&(s.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(u=>{u.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),u.removeAttribute("style"),u.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(u=>{s.off(u)}),e!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),iA(s)),s.destroyed=!0),null}static extendDefaults(e){Ut(cl,e)}static get extendedDefaults(){return cl}static get defaults(){return Jl}static installModule(e){In.prototype.__modules__||(In.prototype.__modules__=[]);const n=In.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>In.installModule(n)),In):(In.installModule(e),In)}};Object.keys(ul).forEach(t=>{Object.keys(ul[t]).forEach(e=>{cc.prototype[e]=ul[t][e]})});cc.use([vA,yA]);const lv=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Rs(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function nr(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=e[s]:Rs(e[s])&&Rs(t[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?t[s]=e[s]:nr(t[s],e[s]):t[s]=e[s]})}function uv(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function cv(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function dv(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function fv(t){t===void 0&&(t="");const e=t.split(" ").map(s=>s.trim()).filter(s=>!!s),n=[];return e.forEach(s=>{n.indexOf(s)<0&&n.push(s)}),n.join(" ")}function T1(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function S1(t){let{swiper:e,slides:n,passedParams:s,changedParams:r,nextEl:i,prevEl:o,scrollbarEl:a,paginationEl:u}=t;const c=r.filter(b=>b!=="children"&&b!=="direction"&&b!=="wrapperClass"),{params:d,pagination:f,navigation:p,scrollbar:g,virtual:_,thumbs:S}=e;let I,V,v,y,x,N,q,P;r.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&!s.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(I=!0),r.includes("controller")&&s.controller&&s.controller.control&&d.controller&&!d.controller.control&&(V=!0),r.includes("pagination")&&s.pagination&&(s.pagination.el||u)&&(d.pagination||d.pagination===!1)&&f&&!f.el&&(v=!0),r.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||a)&&(d.scrollbar||d.scrollbar===!1)&&g&&!g.el&&(y=!0),r.includes("navigation")&&s.navigation&&(s.navigation.prevEl||o)&&(s.navigation.nextEl||i)&&(d.navigation||d.navigation===!1)&&p&&!p.prevEl&&!p.nextEl&&(x=!0);const E=b=>{e[b]&&(e[b].destroy(),b==="navigation"?(e.isElement&&(e[b].prevEl.remove(),e[b].nextEl.remove()),d[b].prevEl=void 0,d[b].nextEl=void 0,e[b].prevEl=void 0,e[b].nextEl=void 0):(e.isElement&&e[b].el.remove(),d[b].el=void 0,e[b].el=void 0))};r.includes("loop")&&e.isElement&&(d.loop&&!s.loop?N=!0:!d.loop&&s.loop?q=!0:P=!0),c.forEach(b=>{if(Rs(d[b])&&Rs(s[b]))Object.assign(d[b],s[b]),(b==="navigation"||b==="pagination"||b==="scrollbar")&&"enabled"in s[b]&&!s[b].enabled&&E(b);else{const T=s[b];(T===!0||T===!1)&&(b==="navigation"||b==="pagination"||b==="scrollbar")?T===!1&&E(b):d[b]=s[b]}}),c.includes("controller")&&!V&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),r.includes("children")&&n&&_&&d.virtual.enabled?(_.slides=n,_.update(!0)):r.includes("virtual")&&_&&d.virtual.enabled&&(n&&(_.slides=n),_.update(!0)),r.includes("children")&&n&&d.loop&&(P=!0),I&&S.init()&&S.update(!0),V&&(e.controller.control=d.controller.control),v&&(e.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-pagination"),u.part.add("pagination"),e.el.appendChild(u)),u&&(d.pagination.el=u),f.init(),f.render(),f.update()),y&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(d.scrollbar.el=a),g.init(),g.updateSize(),g.setTranslate()),x&&(e.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),i.innerHTML=e.hostEl.constructor.nextButtonSvg,i.part.add("button-next"),e.el.appendChild(i)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),i&&(d.navigation.nextEl=i),o&&(d.navigation.prevEl=o),p.init(),p.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=s.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=s.allowSlidePrev),r.includes("direction")&&e.changeDirection(s.direction,!1),(N||P)&&e.loopDestroy(),(q||P)&&e.loopCreate(),e.update()}function oh(t,e){t===void 0&&(t={});const n={on:{}},s={},r={};nr(n,Jl),n._emitClasses=!0,n.init=!1;const i={},o=lv.map(u=>u.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(u=>{typeof t[u]>"u"||(o.indexOf(u)>=0?Rs(t[u])?(n[u]={},r[u]={},nr(n[u],t[u]),nr(r[u],t[u])):(n[u]=t[u],r[u]=t[u]):u.search(/on[A-Z]/)===0&&typeof t[u]=="function"?n.on[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:i[u]=t[u])}),["navigation","pagination","scrollbar"].forEach(u=>{n[u]===!0&&(n[u]={}),n[u]===!1&&delete n[u]}),{params:n,passedParams:r,rest:i,events:s}}function I1(t,e){let{el:n,nextEl:s,prevEl:r,paginationEl:i,scrollbarEl:o,swiper:a}=t;uv(e)&&s&&r&&(a.params.navigation.nextEl=s,a.originalParams.navigation.nextEl=s,a.params.navigation.prevEl=r,a.originalParams.navigation.prevEl=r),cv(e)&&i&&(a.params.pagination.el=i,a.originalParams.pagination.el=i),dv(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function A1(t,e,n,s,r){const i=[];if(!e)return i;const o=u=>{i.indexOf(u)<0&&i.push(u)};if(n&&s){const u=s.map(r),c=n.map(r);u.join("")!==c.join("")&&o("children"),s.length!==n.length&&o("children")}return lv.filter(u=>u[0]==="_").map(u=>u.replace(/_/,"")).forEach(u=>{if(u in t&&u in e)if(Rs(t[u])&&Rs(e[u])){const c=Object.keys(t[u]),d=Object.keys(e[u]);c.length!==d.length?o(u):(c.forEach(f=>{t[u][f]!==e[u][f]&&o(u)}),d.forEach(f=>{t[u][f]!==e[u][f]&&o(u)}))}else t[u]!==e[u]&&o(u)}),i}const C1=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function dl(t,e,n){t===void 0&&(t={});const s=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},i=(o,a)=>{Array.isArray(o)&&o.forEach(u=>{const c=typeof u.type=="symbol";a==="default"&&(a="container-end"),c&&u.children?i(u.children,a):u.type&&(u.type.name==="SwiperSlide"||u.type.name==="AsyncComponentWrapper")||u.componentOptions&&u.componentOptions.tag==="SwiperSlide"?s.push(u):r[a]&&r[a].push(u)})};return Object.keys(t).forEach(o=>{if(typeof t[o]!="function")return;const a=t[o]();i(a,o)}),n.value=e.value,e.value=s,{slides:s,slots:r}}function x1(t,e,n){if(!n)return null;const s=d=>{let f=d;return d<0?f=e.length+d:f>=e.length&&(f=f-e.length),f},r=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:o}=n,a=t.value.params.loop?-e.length:0,u=t.value.params.loop?e.length*2:e.length,c=[];for(let d=a;d<u;d+=1)d>=i&&d<=o&&c.length<e.length&&c.push(e[s(d)]);return c.map(d=>{if(d.props||(d.props={}),d.props.style||(d.props.style={}),d.props.swiperRef=t,d.props.style=r,d.type)return Mt(d.type,{...d.props},d.children);if(d.componentOptions)return Mt(d.componentOptions.Ctor,{...d.props},d.componentOptions.children)})}const dc={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:n,emit:s}=e;const{tag:r,wrapperTag:i}=t,o=Se("swiper"),a=Se(null),u=Se(!1),c=Se(!1),d=Se(null),f=Se(null),p=Se(null),g={value:[]},_={value:[]},S=Se(null),I=Se(null),V=Se(null),v=Se(null),{params:y,passedParams:x}=oh(t);dl(n,g,_),p.value=x,_.value=g.value;const N=()=>{dl(n,g,_),u.value=!0};y.onAny=function(E){for(var b=arguments.length,T=new Array(b>1?b-1:0),C=1;C<b;C++)T[C-1]=arguments[C];s(E,...T)},Object.assign(y.on,{_beforeBreakpoint:N,_containerClasses(E,b){o.value=b}});const q={...y};if(delete q.wrapperClass,f.value=new cc(q),f.value.virtual&&f.value.params.virtual.enabled){f.value.virtual.slides=g.value;const E={cache:!1,slides:g.value,renderExternal:b=>{a.value=b},renderExternalUpdate:!1};nr(f.value.params.virtual,E),nr(f.value.originalParams.virtual,E)}gu(()=>{!c.value&&f.value&&(f.value.emitSlidesClasses(),c.value=!0);const{passedParams:E}=oh(t),b=A1(E,p.value,g.value,_.value,T=>T.props&&T.props.key);p.value=E,(b.length||u.value)&&f.value&&!f.value.destroyed&&S1({swiper:f.value,slides:g.value,passedParams:E,changedParams:b,nextEl:S.value,prevEl:I.value,scrollbarEl:v.value,paginationEl:V.value}),u.value=!1}),Zs("swiper",f),er(a,()=>{hu(()=>{C1(f.value)})}),Gt(()=>{d.value&&(I1({el:d.value,nextEl:S.value,prevEl:I.value,paginationEl:V.value,scrollbarEl:v.value,swiper:f.value},y),s("swiper",f.value))}),Go(()=>{f.value&&!f.value.destroyed&&f.value.destroy(!0,!1)});function P(E){return y.virtual?x1(f,E,a.value):(E.forEach((b,T)=>{b.props||(b.props={}),b.props.swiperRef=f,b.props.swiperSlideIndex=T}),E)}return()=>{const{slides:E,slots:b}=dl(n,g,_);return Mt(r,{ref:d,class:fv(o.value)},[b["container-start"],Mt(i,{class:T1(y.wrapperClass)},[b["wrapper-start"],P(E),b["wrapper-end"]]),uv(t)&&[Mt("div",{ref:I,class:"swiper-button-prev"}),Mt("div",{ref:S,class:"swiper-button-next"})],dv(t)&&Mt("div",{ref:v,class:"swiper-scrollbar"}),cv(t)&&Mt("div",{ref:V,class:"swiper-pagination"}),b["container-end"]])}}},fc={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:n}=e,s=!1;const{swiperRef:r}=t,i=Se(null),o=Se("swiper-slide"),a=Se(!1);function u(f,p,g){p===i.value&&(o.value=g)}Gt(()=>{!r||!r.value||(r.value.on("_slideClass",u),s=!0)}),ip(()=>{s||!r||!r.value||(r.value.on("_slideClass",u),s=!0)}),gu(()=>{!i.value||!r||!r.value||(typeof t.swiperSlideIndex<"u"&&(i.value.swiperSlideIndex=t.swiperSlideIndex),r.value.destroyed&&o.value!=="swiper-slide"&&(o.value="swiper-slide"))}),Go(()=>{!r||!r.value||r.value.off("_slideClass",u)});const c=ct(()=>({isActive:o.value.indexOf("swiper-slide-active")>=0,isVisible:o.value.indexOf("swiper-slide-visible")>=0,isPrev:o.value.indexOf("swiper-slide-prev")>=0,isNext:o.value.indexOf("swiper-slide-next")>=0}));Zs("swiperSlide",c);const d=()=>{a.value=!0};return()=>Mt(t.tag,{class:fv(`${o.value}`),ref:i,"data-swiper-slide-index":typeof t.virtualIndex>"u"&&r&&r.value&&r.value.params.loop?t.swiperSlideIndex:t.virtualIndex,onLoadCapture:d},t.zoom?Mt("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},[n.default&&n.default(c.value),t.lazy&&!a.value&&Mt("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(c.value),t.lazy&&!a.value&&Mt("div",{class:"swiper-lazy-preloader"})])}};function hv(t,e,n,s){return t.params.createElements&&Object.keys(s).forEach(r=>{if(!n[r]&&n.auto===!0){let i=cn(t.el,`.${s[r]}`)[0];i||(i=Mo("div",s[r]),i.className=s[r],t.el.append(i)),n[r]=i,e[r]=i}}),n}function pv(t){let{swiper:e,extendParams:n,on:s,emit:r}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function i(_){let S;return _&&typeof _=="string"&&e.isElement&&(S=e.el.querySelector(_)||e.hostEl.querySelector(_),S)?S:(_&&(typeof _=="string"&&(S=[...document.querySelectorAll(_)]),e.params.uniqueNavElements&&typeof _=="string"&&S&&S.length>1&&e.el.querySelectorAll(_).length===1?S=e.el.querySelector(_):S&&S.length===1&&(S=S[0])),_&&!S?_:S)}function o(_,S){const I=e.params.navigation;_=nt(_),_.forEach(V=>{V&&(V.classList[S?"add":"remove"](...I.disabledClass.split(" ")),V.tagName==="BUTTON"&&(V.disabled=S),e.params.watchOverflow&&e.enabled&&V.classList[e.isLocked?"add":"remove"](I.lockClass))})}function a(){const{nextEl:_,prevEl:S}=e.navigation;if(e.params.loop){o(S,!1),o(_,!1);return}o(S,e.isBeginning&&!e.params.rewind),o(_,e.isEnd&&!e.params.rewind)}function u(_){_.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function c(_){_.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function d(){const _=e.params.navigation;if(e.params.navigation=hv(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(_.nextEl||_.prevEl))return;let S=i(_.nextEl),I=i(_.prevEl);Object.assign(e.navigation,{nextEl:S,prevEl:I}),S=nt(S),I=nt(I);const V=(v,y)=>{v&&v.addEventListener("click",y==="next"?c:u),!e.enabled&&v&&v.classList.add(..._.lockClass.split(" "))};S.forEach(v=>V(v,"next")),I.forEach(v=>V(v,"prev"))}function f(){let{nextEl:_,prevEl:S}=e.navigation;_=nt(_),S=nt(S);const I=(V,v)=>{V.removeEventListener("click",v==="next"?c:u),V.classList.remove(...e.params.navigation.disabledClass.split(" "))};_.forEach(V=>I(V,"next")),S.forEach(V=>I(V,"prev"))}s("init",()=>{e.params.navigation.enabled===!1?g():(d(),a())}),s("toEdge fromEdge lock unlock",()=>{a()}),s("destroy",()=>{f()}),s("enable disable",()=>{let{nextEl:_,prevEl:S}=e.navigation;if(_=nt(_),S=nt(S),e.enabled){a();return}[..._,...S].filter(I=>!!I).forEach(I=>I.classList.add(e.params.navigation.lockClass))}),s("click",(_,S)=>{let{nextEl:I,prevEl:V}=e.navigation;I=nt(I),V=nt(V);const v=S.target;let y=V.includes(v)||I.includes(v);if(e.isElement&&!y){const x=S.path||S.composedPath&&S.composedPath();x&&(y=x.find(N=>I.includes(N)||V.includes(N)))}if(e.params.navigation.hideOnClick&&!y){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===v||e.pagination.el.contains(v)))return;let x;I.length?x=I[0].classList.contains(e.params.navigation.hiddenClass):V.length&&(x=V[0].classList.contains(e.params.navigation.hiddenClass)),r(x===!0?"navigationShow":"navigationHide"),[...I,...V].filter(N=>!!N).forEach(N=>N.classList.toggle(e.params.navigation.hiddenClass))}});const p=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),a()},g=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:p,disable:g,update:a,init:d,destroy:f})}function Or(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function mv(t){let{swiper:e,extendParams:n,on:s,emit:r}=t;const i="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:v=>v,formatFractionTotal:v=>v,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function u(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(v,y){const{bulletActiveClass:x}=e.params.pagination;v&&(v=v[`${y==="prev"?"previous":"next"}ElementSibling`],v&&(v.classList.add(`${x}-${y}`),v=v[`${y==="prev"?"previous":"next"}ElementSibling`],v&&v.classList.add(`${x}-${y}-${y}`)))}function d(v,y,x){if(v=v%x,y=y%x,y===v+1)return"next";if(y===v-1)return"previous"}function f(v){const y=v.target.closest(Or(e.params.pagination.bulletClass));if(!y)return;v.preventDefault();const x=Oo(y)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===x)return;const N=d(e.realIndex,x,e.slides.length);N==="next"?e.slideNext():N==="previous"?e.slidePrev():e.slideToLoop(x)}else e.slideTo(x)}function p(){const v=e.rtl,y=e.params.pagination;if(u())return;let x=e.pagination.el;x=nt(x);let N,q;const P=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,E=e.params.loop?Math.ceil(P/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(q=e.previousRealIndex||0,N=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(N=e.snapIndex,q=e.previousSnapIndex):(q=e.previousIndex||0,N=e.activeIndex||0),y.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const b=e.pagination.bullets;let T,C,M;if(y.dynamicBullets&&(o=Yl(b[0],e.isHorizontal()?"width":"height"),x.forEach(A=>{A.style[e.isHorizontal()?"width":"height"]=`${o*(y.dynamicMainBullets+4)}px`}),y.dynamicMainBullets>1&&q!==void 0&&(a+=N-(q||0),a>y.dynamicMainBullets-1?a=y.dynamicMainBullets-1:a<0&&(a=0)),T=Math.max(N-a,0),C=T+(Math.min(b.length,y.dynamicMainBullets)-1),M=(C+T)/2),b.forEach(A=>{const we=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(Te=>`${y.bulletActiveClass}${Te}`)].map(Te=>typeof Te=="string"&&Te.includes(" ")?Te.split(" "):Te).flat();A.classList.remove(...we)}),x.length>1)b.forEach(A=>{const we=Oo(A);we===N?A.classList.add(...y.bulletActiveClass.split(" ")):e.isElement&&A.setAttribute("part","bullet"),y.dynamicBullets&&(we>=T&&we<=C&&A.classList.add(...`${y.bulletActiveClass}-main`.split(" ")),we===T&&c(A,"prev"),we===C&&c(A,"next"))});else{const A=b[N];if(A&&A.classList.add(...y.bulletActiveClass.split(" ")),e.isElement&&b.forEach((we,Te)=>{we.setAttribute("part",Te===N?"bullet-active":"bullet")}),y.dynamicBullets){const we=b[T],Te=b[C];for(let se=T;se<=C;se+=1)b[se]&&b[se].classList.add(...`${y.bulletActiveClass}-main`.split(" "));c(we,"prev"),c(Te,"next")}}if(y.dynamicBullets){const A=Math.min(b.length,y.dynamicMainBullets+4),we=(o*A-o)/2-M*o,Te=v?"right":"left";b.forEach(se=>{se.style[e.isHorizontal()?Te:"top"]=`${we}px`})}}x.forEach((b,T)=>{if(y.type==="fraction"&&(b.querySelectorAll(Or(y.currentClass)).forEach(C=>{C.textContent=y.formatFractionCurrent(N+1)}),b.querySelectorAll(Or(y.totalClass)).forEach(C=>{C.textContent=y.formatFractionTotal(E)})),y.type==="progressbar"){let C;y.progressbarOpposite?C=e.isHorizontal()?"vertical":"horizontal":C=e.isHorizontal()?"horizontal":"vertical";const M=(N+1)/E;let A=1,we=1;C==="horizontal"?A=M:we=M,b.querySelectorAll(Or(y.progressbarFillClass)).forEach(Te=>{Te.style.transform=`translate3d(0,0,0) scaleX(${A}) scaleY(${we})`,Te.style.transitionDuration=`${e.params.speed}ms`})}y.type==="custom"&&y.renderCustom?(b.innerHTML=y.renderCustom(e,N+1,E),T===0&&r("paginationRender",b)):(T===0&&r("paginationRender",b),r("paginationUpdate",b)),e.params.watchOverflow&&e.enabled&&b.classList[e.isLocked?"add":"remove"](y.lockClass)})}function g(){const v=e.params.pagination;if(u())return;const y=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let x=e.pagination.el;x=nt(x);let N="";if(v.type==="bullets"){let q=e.params.loop?Math.ceil(y/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&q>y&&(q=y);for(let P=0;P<q;P+=1)v.renderBullet?N+=v.renderBullet.call(e,P,v.bulletClass):N+=`<${v.bulletElement} ${e.isElement?'part="bullet"':""} class="${v.bulletClass}"></${v.bulletElement}>`}v.type==="fraction"&&(v.renderFraction?N=v.renderFraction.call(e,v.currentClass,v.totalClass):N=`<span class="${v.currentClass}"></span> / <span class="${v.totalClass}"></span>`),v.type==="progressbar"&&(v.renderProgressbar?N=v.renderProgressbar.call(e,v.progressbarFillClass):N=`<span class="${v.progressbarFillClass}"></span>`),e.pagination.bullets=[],x.forEach(q=>{v.type!=="custom"&&(q.innerHTML=N||""),v.type==="bullets"&&e.pagination.bullets.push(...q.querySelectorAll(Or(v.bulletClass)))}),v.type!=="custom"&&r("paginationRender",x[0])}function _(){e.params.pagination=hv(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const v=e.params.pagination;if(!v.el)return;let y;typeof v.el=="string"&&e.isElement&&(y=e.el.querySelector(v.el)),!y&&typeof v.el=="string"&&(y=[...document.querySelectorAll(v.el)]),y||(y=v.el),!(!y||y.length===0)&&(e.params.uniqueNavElements&&typeof v.el=="string"&&Array.isArray(y)&&y.length>1&&(y=[...e.el.querySelectorAll(v.el)],y.length>1&&(y=y.find(x=>nv(x,".swiper")[0]===e.el))),Array.isArray(y)&&y.length===1&&(y=y[0]),Object.assign(e.pagination,{el:y}),y=nt(y),y.forEach(x=>{v.type==="bullets"&&v.clickable&&x.classList.add(...(v.clickableClass||"").split(" ")),x.classList.add(v.modifierClass+v.type),x.classList.add(e.isHorizontal()?v.horizontalClass:v.verticalClass),v.type==="bullets"&&v.dynamicBullets&&(x.classList.add(`${v.modifierClass}${v.type}-dynamic`),a=0,v.dynamicMainBullets<1&&(v.dynamicMainBullets=1)),v.type==="progressbar"&&v.progressbarOpposite&&x.classList.add(v.progressbarOppositeClass),v.clickable&&x.addEventListener("click",f),e.enabled||x.classList.add(v.lockClass)}))}function S(){const v=e.params.pagination;if(u())return;let y=e.pagination.el;y&&(y=nt(y),y.forEach(x=>{x.classList.remove(v.hiddenClass),x.classList.remove(v.modifierClass+v.type),x.classList.remove(e.isHorizontal()?v.horizontalClass:v.verticalClass),v.clickable&&(x.classList.remove(...(v.clickableClass||"").split(" ")),x.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(x=>x.classList.remove(...v.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const v=e.params.pagination;let{el:y}=e.pagination;y=nt(y),y.forEach(x=>{x.classList.remove(v.horizontalClass,v.verticalClass),x.classList.add(e.isHorizontal()?v.horizontalClass:v.verticalClass)})}),s("init",()=>{e.params.pagination.enabled===!1?V():(_(),g(),p())}),s("activeIndexChange",()=>{typeof e.snapIndex>"u"&&p()}),s("snapIndexChange",()=>{p()}),s("snapGridLengthChange",()=>{g(),p()}),s("destroy",()=>{S()}),s("enable disable",()=>{let{el:v}=e.pagination;v&&(v=nt(v),v.forEach(y=>y.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),s("lock unlock",()=>{p()}),s("click",(v,y)=>{const x=y.target,N=nt(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&N&&N.length>0&&!x.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&x===e.navigation.nextEl||e.navigation.prevEl&&x===e.navigation.prevEl))return;const q=N[0].classList.contains(e.params.pagination.hiddenClass);r(q===!0?"paginationShow":"paginationHide"),N.forEach(P=>P.classList.toggle(e.params.pagination.hiddenClass))}});const I=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:v}=e.pagination;v&&(v=nt(v),v.forEach(y=>y.classList.remove(e.params.pagination.paginationDisabledClass))),_(),g(),p()},V=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:v}=e.pagination;v&&(v=nt(v),v.forEach(y=>y.classList.add(e.params.pagination.paginationDisabledClass))),S()};Object.assign(e.pagination,{enable:I,disable:V,render:g,update:p,init:_,destroy:S})}function gv(t){let{swiper:e,extendParams:n,on:s}=t;n({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0};function r(c,d){const f=function(){let S,I,V;return(v,y)=>{for(I=-1,S=v.length;S-I>1;)V=S+I>>1,v[V]<=y?I=V:S=V;return S}}();this.x=c,this.y=d,this.lastIndex=c.length-1;let p,g;return this.interpolate=function(S){return S?(g=f(this.x,S),p=g-1,(S-this.x[p])*(this.y[g]-this.y[p])/(this.x[g]-this.x[p])+this.y[p]):0},this}function i(c){e.controller.spline=e.params.loop?new r(e.slidesGrid,c.slidesGrid):new r(e.snapGrid,c.snapGrid)}function o(c,d){const f=e.controller.control;let p,g;const _=e.constructor;function S(I){if(I.destroyed)return;const V=e.rtlTranslate?-e.translate:e.translate;e.params.controller.by==="slide"&&(i(I),g=-e.controller.spline.interpolate(-V)),(!g||e.params.controller.by==="container")&&(p=(I.maxTranslate()-I.minTranslate())/(e.maxTranslate()-e.minTranslate()),(Number.isNaN(p)||!Number.isFinite(p))&&(p=1),g=(V-e.minTranslate())*p+I.minTranslate()),e.params.controller.inverse&&(g=I.maxTranslate()-g),I.updateProgress(g),I.setTranslate(g,e),I.updateActiveIndex(),I.updateSlidesClasses()}if(Array.isArray(f))for(let I=0;I<f.length;I+=1)f[I]!==d&&f[I]instanceof _&&S(f[I]);else f instanceof _&&d!==f&&S(f)}function a(c,d){const f=e.constructor,p=e.controller.control;let g;function _(S){S.destroyed||(S.setTransition(c,e),c!==0&&(S.transitionStart(),S.params.autoHeight&&Vo(()=>{S.updateAutoHeight()}),hA(S.wrapperEl,()=>{p&&S.transitionEnd()})))}if(Array.isArray(p))for(g=0;g<p.length;g+=1)p[g]!==d&&p[g]instanceof f&&_(p[g]);else p instanceof f&&d!==p&&_(p)}function u(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}s("beforeInit",()=>{if(typeof window<"u"&&(typeof e.params.controller.control=="string"||e.params.controller.control instanceof HTMLElement)){(typeof e.params.controller.control=="string"?[...document.querySelectorAll(e.params.controller.control)]:[e.params.controller.control]).forEach(d=>{if(e.controller.control||(e.controller.control=[]),d&&d.swiper)e.controller.control.push(d.swiper);else if(d){const f=`${e.params.eventsPrefix}init`,p=g=>{e.controller.control.push(g.detail[0]),e.update(),d.removeEventListener(f,p)};d.addEventListener(f,p)}});return}e.controller.control=e.params.controller.control}),s("update",()=>{u()}),s("resize",()=>{u()}),s("observerUpdate",()=>{u()}),s("setTranslate",(c,d,f)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTranslate(d,f)}),s("setTransition",(c,d,f)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTransition(d,f)}),Object.assign(e.controller,{setTranslate:o,setTransition:a})}const P1={class:"day-menu-swiper-container bg-[#eaeaea] p-4 sticky top-0 z-40 border-b border-gray-300"},R1=["onClick"],V1={__name:"DayMenu",props:{days:{type:Array,required:!0},controlledSwiper:{type:Object,default:null},activeIndex:{type:Number,default:0}},emits:["goToDay","swiper"],setup(t,{emit:e}){const n=t,s=e;function r(u){if(!u||!u.id)return"Dia";const c=u.id.replace("day-",""),d=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];let f=null;if(u.date?f=new Date(u.date):u.data&&(f=(I=>{if(!I)return null;const V=I.match(/(\d{2})\/(\d{2})\/(\d{4})/);return V?new Date(parseInt(V[3]),parseInt(V[2])-1,parseInt(V[1])):null})(u.data)),!f||isNaN(f.getTime()))return`Dia ${c}`;const p=new Date;p.setHours(0,0,0,0);const g=new Date(p);g.setDate(p.getDate()+1);let _="";if(f.getTime()===p.getTime())_="Hoje";else if(f.getTime()===g.getTime())_="Amanh";else{const S=f.getDate(),I=d[f.getMonth()];_=`${S} de ${I}`}return`Dia ${c} - ${_}`}function i(u){s("goToDay",u)}function o(u){s("swiper",u)}const a=[gv];return(u,c)=>(H(),Q("nav",P1,[pe(Yt(dc),{modules:a,"slides-per-view":"auto","space-between":10,"centered-slides":!0,"grab-cursor":!0,onSwiper:o,class:"day-menu-swiper"},{default:rt(()=>[(H(!0),Q(ke,null,lt(n.days,(d,f)=>(H(),st(Yt(fc),{key:d.id,class:"day-menu-slide"},{default:rt(()=>[k("button",{onClick:p=>i(f),class:Jt(["px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ease-in-out cursor-pointer whitespace-nowrap",f===n.activeIndex?"bg-blue-600 text-white font-semibold":"bg-blue-100 text-blue-700 hover:bg-blue-200"])},be(r(d)),11,R1)]),_:2},1024))),128))]),_:1})]))}},k1=wn(V1,[["__scopeId","data-v-1cb5e411"]]),D1={class:"bg-blue-900 text-white py-12 px-4 sm:px-6 lg:px-8"},M1={class:"container mx-auto"},O1={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},N1={class:"text-xl font-bold mb-4"},L1={class:"mb-4"},F1={class:"md:text-right"},$1={key:0,class:"text-sm"},B1={key:1,class:"text-sm"},U1=["href"],j1={class:"border-t border-blue-700 mt-8 pt-8 text-center"},z1={__name:"FooterSection",setup(t){const e=Se({titulo:"Santiago Trip",descricao:"Seu guia de viagem para Santiago",data:"2023-2024",contatos_importantes:[{id:1,nome:"Emergncia",telefone:"133"},{id:2,nome:"Polcia",telefone:"134"},{id:3,nome:"Ambulncia",telefone:"131"}],copyright:" 2023 Santiago Trip. Todos os direitos reservados."});return Gt(async()=>{try{const n=await Jg();n&&(e.value=n)}catch(n){console.error("Erro ao carregar os dados do footer:",n)}}),(n,s)=>(H(),Q("footer",D1,[k("div",M1,[k("div",O1,[k("div",null,[k("h3",N1,be(e.value.titulo),1),k("p",L1,be(e.value.descricao),1),k("p",null,be(e.value.data),1)]),k("div",F1,[s[0]||(s[0]=k("h3",{class:"text-xl font-bold mb-4"},"Contatos Importantes",-1)),(H(!0),Q(ke,null,lt(e.value.contatos_importantes,r=>(H(),Q("div",{key:r.id,class:"mb-2"},[k("p",null,be(r.nome)+": "+be(r.contato),1),r.instagram?(H(),Q("p",$1,"Instagram: "+be(r.instagram),1)):Pe("",!0),r.rota?(H(),Q("p",B1,"Rota: "+be(r.rota),1)):Pe("",!0),r.link?(H(),Q("a",{key:2,href:r.link.url,target:"_blank",class:"text-blue-300 hover:text-blue-100"},be(r.link.titulo),9,U1)):Pe("",!0)]))),128))])]),k("div",j1,[k("p",null,be(e.value.copyright),1)])])]))}},q1=wn(z1,[["__scopeId","data-v-9fb427b3"]]),G1={class:"activity-item"},H1={class:"font-medium"},W1={class:"text-gray-600"},K1={key:0,class:"mt-1 flex gap-2 flex-wrap"},Q1=["href"],Y1=["href"],X1=["href"],J1={__name:"ActivityItem",props:{atividade:{type:Object,required:!0}},setup(t){return(e,n)=>(H(),Q("div",G1,[k("p",H1,be(t.atividade.titulo),1),k("p",W1,be(t.atividade.descricao),1),t.atividade.links?(H(),Q("div",K1,[t.atividade.links.directions?(H(),Q("a",{key:0,href:t.atividade.links.directions,target:"_blank",class:"inline-flex items-center text-blue-600 hover:text-blue-800 text-sm"},n[0]||(n[0]=[k("i",{class:"fas fa-map-marker-alt mr-1"},null,-1),Xe(" Como chegar ")]),8,Q1)):Pe("",!0),t.atividade.links.site?(H(),Q("a",{key:1,href:t.atividade.links.site,target:"_blank",class:"inline-flex items-center text-blue-600 hover:text-blue-800 text-sm"},n[1]||(n[1]=[k("i",{class:"fas fa-globe mr-1"},null,-1),Xe(" Site ")]),8,Y1)):Pe("",!0),t.atividade.links.instagram?(H(),Q("a",{key:2,href:t.atividade.links.instagram,target:"_blank",class:"inline-flex items-center text-blue-600 hover:text-blue-800 text-sm"},n[2]||(n[2]=[k("i",{class:"fab fa-instagram mr-1"},null,-1),Xe(" Instagram ")]),8,X1)):Pe("",!0)])):Pe("",!0)]))}},Nr=wn(J1,[["__scopeId","data-v-6953ee02"]]),Z1=["id"],eC={class:"flex flex-wrap items-center mb-1"},tC={class:"text-2xl sm:text-3xl font-bold text-blue-800 mr-4 mb-1 sm:mb-0"},nC={class:"mb-5"},sC={class:"text-sm text-gray-700"},rC={class:"mb-8"},iC={key:0,class:"photo-container h-60 sm:h-80 mb-8"},oC=["src","alt"],aC={class:"photo-container h-60 sm:h-72"},lC=["src","alt"],uC={class:"bg-white rounded-lg shadow-md p-6"},cC={key:0,class:"mb-4"},dC={key:1,class:"mb-4"},fC={key:2},hC={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},pC={key:0},mC={key:1},gC={class:"font-semibold text-blue-600 mb-2"},vC={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6"},yC={key:0},_C={key:1},wC={key:0,class:"mt-6"},bC={key:3,class:"mt-6 bg-blue-50 p-4 rounded-lg"},EC={class:"text-gray-700 space-y-2"},TC={key:0,class:"text-xl font-bold text-blue-700 mb-4"},SC={key:1,class:"font-bold text-blue-800 mb-2"},IC={class:"text-gray-700 mb-4"},AC={key:1,class:"bg-white rounded-lg shadow-md p-6"},CC={class:"text-xl font-bold text-blue-700 mb-4"},xC={class:"text-gray-700"},PC={__name:"DayCard",props:{day:{type:Object,required:!0}},setup(t){const e=t,n=Se(0),s=[pv,mv],r=Se([]),i=Se(!0),o=ct(()=>{const f=[];return Object.values(d.value).forEach(p=>{p.forEach(g=>{g.images&&g.images.length&&f.push(...g.images)})}),[...new Set(f)]}),a=f=>{if(!f)return"";const p=new Date;p.setHours(0,0,0,0);const g=new Date(p);g.setDate(g.getDate()+1);let _;if(f.includes("/"))_=f.split("/");else if(f.includes("-"))_=f.split("-");else return f;if(_.length<3)return f;const S=parseInt(_[0],10),I=parseInt(_[1],10)-1,V=_[2].length===2?2e3+parseInt(_[2],10):parseInt(_[2],10),v=new Date(V,I,S),y=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],x=["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"];let N=`${S} de ${y[I]}`;if(v.getTime()===p.getTime()?N+=" (hoje)":v.getTime()===g.getTime()&&(N+=" (amanh)"),N+=` - ${x[v.getDay()]}`,e.day.id&&e.day.id.includes("day-")){const q=e.day.id.replace("day-","");isNaN(parseInt(q,10))||(N+=` - ${q} dia`)}return N},u=f=>{n.value=f.activeIndex},c=async()=>{try{i.value=!0,r.value=await Zg()}catch(f){console.error("Erro ao carregar atividades:",f),r.value=[]}finally{i.value=!1}};Gt(async()=>{await c()});const d=ct(()=>{if(!e.day.schedule||r.value.length===0)return{morning:[],lunch:[],midDay:[],afternoon:[],evening:[],night:[]};const f=g=>!g||g.length===0||!g.map?[]:g.map(_=>{if(typeof _=="string"){const S=r.value.find(I=>I.id===_);return S?{...S,titulo:S.title,descricao:S.description}:{id:_,titulo:_,descricao:"",title:_,description:""}}return _});return{morning:f(e.day.schedule.morning),lunch:f(e.day.schedule.lunch),midDay:f(e.day.schedule.midDay),afternoon:f(e.day.schedule.afternoon),evening:f(e.day.schedule.evening),night:f(e.day.schedule.night)}});return(f,p)=>(H(),Q("section",{id:t.day.id,class:"mb-20"},[k("div",eC,[k("h2",tC,be(t.day.title),1)]),k("div",nC,[k("h3",sC,be(a(t.day.date)),1)]),k("div",rC,[o.value.length===1?(H(),Q("div",iC,[k("img",{src:o.value[0],alt:t.day.title,class:"w-full h-full object-cover rounded-lg shadow-md"},null,8,oC)])):Pe("",!0),o.value.length>1?(H(),st(Yt(dc),{key:1,modules:s,"slides-per-view":3,"space-between":20,loop:!0,pagination:{clickable:!0},navigation:!1,nested:!0,activeIndex:n.value,"onUpdate:activeIndex":p[0]||(p[0]=g=>n.value=g),onSlideChange:u,class:"photo-swiper mb-8",breakpoints:{320:{slidesPerView:1,spaceBetween:10},768:{slidesPerView:2,spaceBetween:15},1024:{slidesPerView:3,spaceBetween:20}}},{default:rt(()=>[(H(!0),Q(ke,null,lt(o.value,(g,_)=>(H(),st(Yt(fc),{key:_},{default:rt(()=>[k("div",aC,[k("img",{src:g,alt:`${t.day.title} ${_+1}`,class:"w-full h-full object-cover rounded-lg shadow-md"},null,8,lC)])]),_:2},1024))),128))]),_:1},8,["activeIndex"])):Pe("",!0),k("div",uC,[p[7]||(p[7]=k("h3",{class:"text-xl font-bold text-blue-700 mb-4"}," Atividades Planejadas ",-1)),i.value?(H(),Q("div",cC,p[1]||(p[1]=[k("p",{class:"text-gray-600 italic"},"Carregando atividades...",-1)]))):d.value.morning.length+d.value.lunch.length+d.value.midDay.length+d.value.afternoon.length+d.value.evening.length+d.value.night.length>0?(H(),Q("div",dC)):Pe("",!0),i.value?Pe("",!0):(H(),Q("div",fC,[k("div",hC,[d.value.morning.length>0?(H(),Q("div",pC,[p[2]||(p[2]=k("h4",{class:"font-semibold text-blue-600 mb-2"},"Manh",-1)),(H(!0),Q(ke,null,lt(d.value.morning,(g,_)=>(H(),st(Nr,{key:"manha-"+_,atividade:g},null,8,["atividade"]))),128))])):Pe("",!0),d.value.lunch.length>0||d.value.midDay.length>0?(H(),Q("div",mC,[k("h4",gC,be(d.value.lunch.length>0?"Almoo":"Meio-dia"),1),(H(!0),Q(ke,null,lt(d.value.lunch.length>0?d.value.lunch:d.value.midDay,(g,_)=>(H(),st(Nr,{key:"almoco-"+_,atividade:g},null,8,["atividade"]))),128))])):Pe("",!0)]),k("div",vC,[d.value.afternoon.length>0?(H(),Q("div",yC,[p[3]||(p[3]=k("h4",{class:"font-semibold text-blue-600 mb-2"},"Tarde",-1)),(H(!0),Q(ke,null,lt(d.value.afternoon,(g,_)=>(H(),st(Nr,{key:"tarde-"+_,atividade:g},null,8,["atividade"]))),128))])):Pe("",!0),d.value.evening.length>0?(H(),Q("div",_C,[p[4]||(p[4]=k("h4",{class:"font-semibold text-blue-600 mb-2"},"Fim de tarde",-1)),(H(!0),Q(ke,null,lt(d.value.evening,(g,_)=>(H(),st(Nr,{key:"fimtarde-"+_,atividade:g},null,8,["atividade"]))),128))])):Pe("",!0)]),d.value.night.length>0?(H(),Q("div",wC,[p[5]||(p[5]=k("h4",{class:"font-semibold text-blue-600 mb-2"},"Noite",-1)),(H(!0),Q(ke,null,lt(d.value.night,(g,_)=>(H(),st(Nr,{key:"noite-"+_,atividade:g},null,8,["atividade"]))),128))])):Pe("",!0)])),t.day.tips&&t.day.tips.length>0?(H(),Q("div",bC,[p[6]||(p[6]=k("h4",{class:"font-bold text-blue-800 mb-2"},[k("i",{class:"fas fa-lightbulb text-yellow-500 mr-2"}),Xe(" Dicas para o dia:")],-1)),k("ul",EC,[(H(!0),Q(ke,null,lt(t.day.tips,(g,_)=>(H(),Q("li",{key:_}," "+be(g),1))),128))])])):Pe("",!0)])]),t.day.additionalDetails&&t.day.additionalDetails.length>0?(H(),Q("div",{key:0,class:Jt([{"bg-white":!t.day.about,"bg-blue-50":t.day.about},"rounded-lg shadow-md p-6 mb-8"])},[(H(!0),Q(ke,null,lt(t.day.additionalDetails,(g,_)=>(H(),Q("div",{key:_},[_===0?(H(),Q("h3",TC,be(g.title),1)):(H(),Q("h4",SC,be(g.title),1)),k("p",IC,be(g.content),1)]))),128))],2)):Pe("",!0),t.day.about&&!t.day.additionalDetails?(H(),Q("div",AC,[k("h3",CC,"Sobre "+be(t.day.title.split(" - ")[1]||t.day.title),1),k("p",xC,be(t.day.about),1)])):Pe("",!0)],8,Z1))}},RC=wn(PC,[["__scopeId","data-v-38214951"]]),VC={id:"tips",class:"mb-20"},kC={class:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8"},DC={class:"text-xl font-bold text-blue-700 mb-4"},MC={class:"flex-shrink-0 h-6 w-6 text-blue-600 mr-2"},OC={class:"font-medium"},NC={class:"text-gray-600"},LC={key:0,class:"bg-blue-50 rounded-lg shadow-md p-6"},FC={class:"text-gray-700 mb-4"},$C={__name:"Recommendations",props:{recommendations:{type:Object,required:!0}},setup(t){return(e,n)=>(H(),Q("section",VC,[n[1]||(n[1]=k("h2",{class:"text-3xl font-bold text-blue-800 mb-6 pb-2 border-b-2 border-blue-300"},"Dicas e Recomendaes",-1)),k("div",kC,[(H(!0),Q(ke,null,lt(t.recommendations.categories,(s,r)=>(H(),Q("div",{key:r,class:"bg-white rounded-lg shadow-md p-6"},[k("h3",DC,be(s.title),1),(H(!0),Q(ke,null,lt(s.items,(i,o)=>(H(),Q("div",{key:o,class:"flex items-start mb-4"},[k("div",MC,[k("i",{class:Jt(i.icon)},null,2)]),k("div",null,[k("p",OC,be(i.title),1),k("p",NC,be(i.description),1)])]))),128))]))),128))]),t.recommendations.observations?(H(),Q("div",LC,[n[0]||(n[0]=k("h3",{class:"text-xl font-bold text-blue-700 mb-4"},"Observaes Finais",-1)),k("p",FC,be(t.recommendations.observations),1)])):Pe("",!0)]))}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Hs=typeof document<"u";function vv(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function BC(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&vv(t.default)}const De=Object.assign;function fl(t,e){const n={};for(const s in e){const r=e[s];n[s]=sn(r)?r.map(t):t(r)}return n}const Zr=()=>{},sn=Array.isArray,yv=/#/g,UC=/&/g,jC=/\//g,zC=/=/g,qC=/\?/g,_v=/\+/g,GC=/%5B/g,HC=/%5D/g,wv=/%5E/g,WC=/%60/g,bv=/%7B/g,KC=/%7C/g,Ev=/%7D/g,QC=/%20/g;function hc(t){return encodeURI(""+t).replace(KC,"|").replace(GC,"[").replace(HC,"]")}function YC(t){return hc(t).replace(bv,"{").replace(Ev,"}").replace(wv,"^")}function Zl(t){return hc(t).replace(_v,"%2B").replace(QC,"+").replace(yv,"%23").replace(UC,"%26").replace(WC,"`").replace(bv,"{").replace(Ev,"}").replace(wv,"^")}function XC(t){return Zl(t).replace(zC,"%3D")}function JC(t){return hc(t).replace(yv,"%23").replace(qC,"%3F")}function ZC(t){return t==null?"":JC(t).replace(jC,"%2F")}function mi(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const ex=/\/$/,tx=t=>t.replace(ex,"");function hl(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let u=e.indexOf("?");return a<u&&a>=0&&(u=-1),u>-1&&(s=e.slice(0,u),i=e.slice(u+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=ix(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:mi(o)}}function nx(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function ah(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function sx(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&dr(e.matched[s],n.matched[r])&&Tv(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function dr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Tv(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!rx(t[n],e[n]))return!1;return!0}function rx(t,e){return sn(t)?lh(t,e):sn(e)?lh(e,t):t===e}function lh(t,e){return sn(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function ix(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const zn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var gi;(function(t){t.pop="pop",t.push="push"})(gi||(gi={}));var ei;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ei||(ei={}));function ox(t){if(!t)if(Hs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),tx(t)}const ax=/^[^#]+#/;function lx(t,e){return t.replace(ax,"#")+e}function ux(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const va=()=>({left:window.scrollX,top:window.scrollY});function cx(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=ux(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function uh(t,e){return(history.state?history.state.position-e:-1)+t}const eu=new Map;function dx(t,e){eu.set(t,e)}function fx(t){const e=eu.get(t);return eu.delete(t),e}let hx=()=>location.protocol+"//"+location.host;function Sv(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,u=r.slice(a);return u[0]!=="/"&&(u="/"+u),ah(u,"")}return ah(n,t)+s+r}function px(t,e,n,s){let r=[],i=[],o=null;const a=({state:p})=>{const g=Sv(t,location),_=n.value,S=e.value;let I=0;if(p){if(n.value=g,e.value=p,o&&o===_){o=null;return}I=S?p.position-S.position:0}else s(g);r.forEach(V=>{V(n.value,_,{delta:I,type:gi.pop,direction:I?I>0?ei.forward:ei.back:ei.unknown})})};function u(){o=n.value}function c(p){r.push(p);const g=()=>{const _=r.indexOf(p);_>-1&&r.splice(_,1)};return i.push(g),g}function d(){const{history:p}=window;p.state&&p.replaceState(De({},p.state,{scroll:va()}),"")}function f(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:u,listen:c,destroy:f}}function ch(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?va():null}}function mx(t){const{history:e,location:n}=window,s={value:Sv(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,c,d){const f=t.indexOf("#"),p=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+u:hx()+t+u;try{e[d?"replaceState":"pushState"](c,"",p),r.value=c}catch(g){console.error(g),n[d?"replace":"assign"](p)}}function o(u,c){const d=De({},e.state,ch(r.value.back,u,r.value.forward,!0),c,{position:r.value.position});i(u,d,!0),s.value=u}function a(u,c){const d=De({},r.value,e.state,{forward:u,scroll:va()});i(d.current,d,!0);const f=De({},ch(s.value,u,null),{position:d.position+1},c);i(u,f,!1),s.value=u}return{location:s,state:r,push:a,replace:o}}function gx(t){t=ox(t);const e=mx(t),n=px(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=De({location:"",base:t,go:s,createHref:lx.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function vx(t){return typeof t=="string"||t&&typeof t=="object"}function Iv(t){return typeof t=="string"||typeof t=="symbol"}const Av=Symbol("");var dh;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(dh||(dh={}));function fr(t,e){return De(new Error,{type:t,[Av]:!0},e)}function Sn(t,e){return t instanceof Error&&Av in t&&(e==null||!!(t.type&e))}const fh="[^/]+?",yx={sensitive:!1,strict:!1,start:!0,end:!0},_x=/[.+*?^${}()[\]/\\]/g;function wx(t,e){const n=De({},yx,e),s=[];let r=n.start?"^":"";const i=[];for(const c of t){const d=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const p=c[f];let g=40+(n.sensitive?.25:0);if(p.type===0)f||(r+="/"),r+=p.value.replace(_x,"\\$&"),g+=40;else if(p.type===1){const{value:_,repeatable:S,optional:I,regexp:V}=p;i.push({name:_,repeatable:S,optional:I});const v=V||fh;if(v!==fh){g+=10;try{new RegExp(`(${v})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${_}" (${v}): `+x.message)}}let y=S?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;f||(y=I&&c.length<2?`(?:/${y})`:"/"+y),I&&(y+="?"),r+=y,g+=20,I&&(g+=-8),S&&(g+=-20),v===".*"&&(g+=-50)}d.push(g)}s.push(d)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const d=c.match(o),f={};if(!d)return null;for(let p=1;p<d.length;p++){const g=d[p]||"",_=i[p-1];f[_.name]=g&&_.repeatable?g.split("/"):g}return f}function u(c){let d="",f=!1;for(const p of t){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const g of p)if(g.type===0)d+=g.value;else if(g.type===1){const{value:_,repeatable:S,optional:I}=g,V=_ in c?c[_]:"";if(sn(V)&&!S)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const v=sn(V)?V.join("/"):V;if(!v)if(I)p.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${_}"`);d+=v}}return d||"/"}return{re:o,score:s,keys:i,parse:a,stringify:u}}function bx(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Cv(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=bx(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(hh(s))return 1;if(hh(r))return-1}return r.length-s.length}function hh(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Ex={type:0,value:""},Tx=/[a-zA-Z0-9_]/;function Sx(t){if(!t)return[[]];if(t==="/")return[[Ex]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${c}": ${g}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,u,c="",d="";function f(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),c="")}function p(){c+=u}for(;a<t.length;){if(u=t[a++],u==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:u==="/"?(c&&f(),o()):u===":"?(f(),n=1):p();break;case 4:p(),n=s;break;case 1:u==="("?n=2:Tx.test(u)?p():(f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:n=3:d+=u;break;case 3:f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),o(),r}function Ix(t,e,n){const s=wx(Sx(t.path),n),r=De(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Ax(t,e){const n=[],s=new Map;e=vh({strict:!1,end:!0,sensitive:!1},e);function r(f){return s.get(f)}function i(f,p,g){const _=!g,S=mh(f);S.aliasOf=g&&g.record;const I=vh(e,f),V=[S];if("alias"in f){const x=typeof f.alias=="string"?[f.alias]:f.alias;for(const N of x)V.push(mh(De({},S,{components:g?g.record.components:S.components,path:N,aliasOf:g?g.record:S})))}let v,y;for(const x of V){const{path:N}=x;if(p&&N[0]!=="/"){const q=p.record.path,P=q[q.length-1]==="/"?"":"/";x.path=p.record.path+(N&&P+N)}if(v=Ix(x,p,I),g?g.alias.push(v):(y=y||v,y!==v&&y.alias.push(v),_&&f.name&&!gh(v)&&o(f.name)),xv(v)&&u(v),S.children){const q=S.children;for(let P=0;P<q.length;P++)i(q[P],v,g&&g.children[P])}g=g||v}return y?()=>{o(y)}:Zr}function o(f){if(Iv(f)){const p=s.get(f);p&&(s.delete(f),n.splice(n.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=n.indexOf(f);p>-1&&(n.splice(p,1),f.record.name&&s.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function u(f){const p=Px(f,n);n.splice(p,0,f),f.record.name&&!gh(f)&&s.set(f.record.name,f)}function c(f,p){let g,_={},S,I;if("name"in f&&f.name){if(g=s.get(f.name),!g)throw fr(1,{location:f});I=g.record.name,_=De(ph(p.params,g.keys.filter(y=>!y.optional).concat(g.parent?g.parent.keys.filter(y=>y.optional):[]).map(y=>y.name)),f.params&&ph(f.params,g.keys.map(y=>y.name))),S=g.stringify(_)}else if(f.path!=null)S=f.path,g=n.find(y=>y.re.test(S)),g&&(_=g.parse(S),I=g.record.name);else{if(g=p.name?s.get(p.name):n.find(y=>y.re.test(p.path)),!g)throw fr(1,{location:f,currentLocation:p});I=g.record.name,_=De({},p.params,f.params),S=g.stringify(_)}const V=[];let v=g;for(;v;)V.unshift(v.record),v=v.parent;return{name:I,path:S,params:_,matched:V,meta:xx(V)}}t.forEach(f=>i(f));function d(){n.length=0,s.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:r}}function ph(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function mh(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Cx(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Cx(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function gh(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function xx(t){return t.reduce((e,n)=>De(e,n.meta),{})}function vh(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function Px(t,e){let n=0,s=e.length;for(;n!==s;){const i=n+s>>1;Cv(t,e[i])<0?s=i:n=i+1}const r=Rx(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function Rx(t){let e=t;for(;e=e.parent;)if(xv(e)&&Cv(t,e)===0)return e}function xv({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Vx(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(_v," "),o=i.indexOf("="),a=mi(o<0?i:i.slice(0,o)),u=o<0?null:mi(i.slice(o+1));if(a in e){let c=e[a];sn(c)||(c=e[a]=[c]),c.push(u)}else e[a]=u}return e}function yh(t){let e="";for(let n in t){const s=t[n];if(n=XC(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(sn(s)?s.map(i=>i&&Zl(i)):[s&&Zl(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function kx(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=sn(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const Dx=Symbol(""),_h=Symbol(""),ya=Symbol(""),pc=Symbol(""),tu=Symbol("");function Lr(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Hn(t,e,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,u)=>{const c=p=>{p===!1?u(fr(4,{from:n,to:e})):p instanceof Error?u(p):vx(p)?u(fr(2,{from:e,to:p})):(o&&s.enterCallbacks[r]===o&&typeof p=="function"&&o.push(p),a())},d=i(()=>t.call(s&&s.instances[r],e,n,c));let f=Promise.resolve(d);t.length<3&&(f=f.then(c)),f.catch(p=>u(p))})}function pl(t,e,n,s,r=i=>i()){const i=[];for(const o of t)for(const a in o.components){let u=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(vv(u)){const d=(u.__vccOpts||u)[e];d&&i.push(Hn(d,n,s,o,a,r))}else{let c=u();i.push(()=>c.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=BC(d)?d.default:d;o.mods[a]=d,o.components[a]=f;const g=(f.__vccOpts||f)[e];return g&&Hn(g,n,s,o,a,r)()}))}}return i}function wh(t){const e=tn(ya),n=tn(pc),s=ct(()=>{const u=Yt(t.to);return e.resolve(u)}),r=ct(()=>{const{matched:u}=s.value,{length:c}=u,d=u[c-1],f=n.matched;if(!d||!f.length)return-1;const p=f.findIndex(dr.bind(null,d));if(p>-1)return p;const g=bh(u[c-2]);return c>1&&bh(d)===g&&f[f.length-1].path!==g?f.findIndex(dr.bind(null,u[c-2])):p}),i=ct(()=>r.value>-1&&Fx(n.params,s.value.params)),o=ct(()=>r.value>-1&&r.value===n.matched.length-1&&Tv(n.params,s.value.params));function a(u={}){if(Lx(u)){const c=e[Yt(t.replace)?"replace":"push"](Yt(t.to)).catch(Zr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:ct(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function Mx(t){return t.length===1?t[0]:t}const Ox=tp({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:wh,setup(t,{slots:e}){const n=vi(wh(t)),{options:s}=tn(ya),r=ct(()=>({[Eh(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Eh(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&Mx(e.default(n));return t.custom?i:Mt("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),Nx=Ox;function Lx(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Fx(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!sn(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function bh(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Eh=(t,e,n)=>t??e??n,$x=tp({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=tn(tu),r=ct(()=>t.route||s.value),i=tn(_h,0),o=ct(()=>{let c=Yt(i);const{matched:d}=r.value;let f;for(;(f=d[c])&&!f.components;)c++;return c}),a=ct(()=>r.value.matched[o.value]);Zs(_h,ct(()=>o.value+1)),Zs(Dx,a),Zs(tu,r);const u=Se();return er(()=>[u.value,a.value,t.name],([c,d,f],[p,g,_])=>{d&&(d.instances[f]=c,g&&g!==d&&c&&c===p&&(d.leaveGuards.size||(d.leaveGuards=g.leaveGuards),d.updateGuards.size||(d.updateGuards=g.updateGuards))),c&&d&&(!g||!dr(d,g)||!p)&&(d.enterCallbacks[f]||[]).forEach(S=>S(c))},{flush:"post"}),()=>{const c=r.value,d=t.name,f=a.value,p=f&&f.components[d];if(!p)return Th(n.default,{Component:p,route:c});const g=f.props[d],_=g?g===!0?c.params:typeof g=="function"?g(c):g:null,I=Mt(p,De({},_,e,{onVnodeUnmounted:V=>{V.component.isUnmounted&&(f.instances[d]=null)},ref:u}));return Th(n.default,{Component:I,route:c})||I}}});function Th(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Bx=$x;function Ux(t){const e=Ax(t.routes,t),n=t.parseQuery||Vx,s=t.stringifyQuery||yh,r=t.history,i=Lr(),o=Lr(),a=Lr(),u=Vy(zn);let c=zn;Hs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=fl.bind(null,$=>""+$),f=fl.bind(null,ZC),p=fl.bind(null,mi);function g($,te){let Z,re;return Iv($)?(Z=e.getRecordMatcher($),re=te):re=$,e.addRoute(re,Z)}function _($){const te=e.getRecordMatcher($);te&&e.removeRoute(te)}function S(){return e.getRoutes().map($=>$.record)}function I($){return!!e.getRecordMatcher($)}function V($,te){if(te=De({},te||u.value),typeof $=="string"){const O=hl(n,$,te.path),B=e.resolve({path:O.path},te),z=r.createHref(O.fullPath);return De(O,B,{params:p(B.params),hash:mi(O.hash),redirectedFrom:void 0,href:z})}let Z;if($.path!=null)Z=De({},$,{path:hl(n,$.path,te.path).path});else{const O=De({},$.params);for(const B in O)O[B]==null&&delete O[B];Z=De({},$,{params:f(O)}),te.params=f(te.params)}const re=e.resolve(Z,te),Re=$.hash||"";re.params=d(p(re.params));const R=nx(s,De({},$,{hash:YC(Re),path:re.path})),D=r.createHref(R);return De({fullPath:R,hash:Re,query:s===yh?kx($.query):$.query||{}},re,{redirectedFrom:void 0,href:D})}function v($){return typeof $=="string"?hl(n,$,u.value.path):De({},$)}function y($,te){if(c!==$)return fr(8,{from:te,to:$})}function x($){return P($)}function N($){return x(De(v($),{replace:!0}))}function q($){const te=$.matched[$.matched.length-1];if(te&&te.redirect){const{redirect:Z}=te;let re=typeof Z=="function"?Z($):Z;return typeof re=="string"&&(re=re.includes("?")||re.includes("#")?re=v(re):{path:re},re.params={}),De({query:$.query,hash:$.hash,params:re.path!=null?{}:$.params},re)}}function P($,te){const Z=c=V($),re=u.value,Re=$.state,R=$.force,D=$.replace===!0,O=q(Z);if(O)return P(De(v(O),{state:typeof O=="object"?De({},Re,O.state):Re,force:R,replace:D}),te||Z);const B=Z;B.redirectedFrom=te;let z;return!R&&sx(s,re,Z)&&(z=fr(16,{to:B,from:re}),Vt(re,re,!0,!1)),(z?Promise.resolve(z):T(B,re)).catch(U=>Sn(U)?Sn(U,2)?U:Rt(U):ue(U,B,re)).then(U=>{if(U){if(Sn(U,2))return P(De({replace:D},v(U.to),{state:typeof U.to=="object"?De({},Re,U.to.state):Re,force:R}),te||B)}else U=M(B,re,!0,D,Re);return C(B,re,U),U})}function E($,te){const Z=y($,te);return Z?Promise.reject(Z):Promise.resolve()}function b($){const te=Fn.values().next().value;return te&&typeof te.runWithContext=="function"?te.runWithContext($):$()}function T($,te){let Z;const[re,Re,R]=jx($,te);Z=pl(re.reverse(),"beforeRouteLeave",$,te);for(const O of re)O.leaveGuards.forEach(B=>{Z.push(Hn(B,$,te))});const D=E.bind(null,$,te);return Z.push(D),kt(Z).then(()=>{Z=[];for(const O of i.list())Z.push(Hn(O,$,te));return Z.push(D),kt(Z)}).then(()=>{Z=pl(Re,"beforeRouteUpdate",$,te);for(const O of Re)O.updateGuards.forEach(B=>{Z.push(Hn(B,$,te))});return Z.push(D),kt(Z)}).then(()=>{Z=[];for(const O of R)if(O.beforeEnter)if(sn(O.beforeEnter))for(const B of O.beforeEnter)Z.push(Hn(B,$,te));else Z.push(Hn(O.beforeEnter,$,te));return Z.push(D),kt(Z)}).then(()=>($.matched.forEach(O=>O.enterCallbacks={}),Z=pl(R,"beforeRouteEnter",$,te,b),Z.push(D),kt(Z))).then(()=>{Z=[];for(const O of o.list())Z.push(Hn(O,$,te));return Z.push(D),kt(Z)}).catch(O=>Sn(O,8)?O:Promise.reject(O))}function C($,te,Z){a.list().forEach(re=>b(()=>re($,te,Z)))}function M($,te,Z,re,Re){const R=y($,te);if(R)return R;const D=te===zn,O=Hs?history.state:{};Z&&(re||D?r.replace($.fullPath,De({scroll:D&&O&&O.scroll},Re)):r.push($.fullPath,Re)),u.value=$,Vt($,te,Z,D),Rt()}let A;function we(){A||(A=r.listen(($,te,Z)=>{if(!rn.listening)return;const re=V($),Re=q(re);if(Re){P(De(Re,{replace:!0,force:!0}),re).catch(Zr);return}c=re;const R=u.value;Hs&&dx(uh(R.fullPath,Z.delta),va()),T(re,R).catch(D=>Sn(D,12)?D:Sn(D,2)?(P(De(v(D.to),{force:!0}),re).then(O=>{Sn(O,20)&&!Z.delta&&Z.type===gi.pop&&r.go(-1,!1)}).catch(Zr),Promise.reject()):(Z.delta&&r.go(-Z.delta,!1),ue(D,re,R))).then(D=>{D=D||M(re,R,!1),D&&(Z.delta&&!Sn(D,8)?r.go(-Z.delta,!1):Z.type===gi.pop&&Sn(D,20)&&r.go(-1,!1)),C(re,R,D)}).catch(Zr)}))}let Te=Lr(),se=Lr(),le;function ue($,te,Z){Rt($);const re=se.list();return re.length?re.forEach(Re=>Re($,te,Z)):console.error($),Promise.reject($)}function qe(){return le&&u.value!==zn?Promise.resolve():new Promise(($,te)=>{Te.add([$,te])})}function Rt($){return le||(le=!$,we(),Te.list().forEach(([te,Z])=>$?Z($):te()),Te.reset()),$}function Vt($,te,Z,re){const{scrollBehavior:Re}=t;if(!Hs||!Re)return Promise.resolve();const R=!Z&&fx(uh($.fullPath,0))||(re||!Z)&&history.state&&history.state.scroll||null;return hu().then(()=>Re($,te,R)).then(D=>D&&cx(D)).catch(D=>ue(D,$,te))}const Be=$=>r.go($);let Ge;const Fn=new Set,rn={currentRoute:u,listening:!0,addRoute:g,removeRoute:_,clearRoutes:e.clearRoutes,hasRoute:I,getRoutes:S,resolve:V,options:t,push:x,replace:N,go:Be,back:()=>Be(-1),forward:()=>Be(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:se.add,isReady:qe,install($){const te=this;$.component("RouterLink",Nx),$.component("RouterView",Bx),$.config.globalProperties.$router=te,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>Yt(u)}),Hs&&!Ge&&u.value===zn&&(Ge=!0,x(r.location).catch(Re=>{}));const Z={};for(const Re in zn)Object.defineProperty(Z,Re,{get:()=>u.value[Re],enumerable:!0});$.provide(ya,te),$.provide(pc,Hh(Z)),$.provide(tu,u);const re=$.unmount;Fn.add($),$.unmount=function(){Fn.delete($),Fn.size<1&&(c=zn,A&&A(),A=null,u.value=zn,Ge=!1,le=!1),re()}}};function kt($){return $.reduce((te,Z)=>te.then(()=>b(Z)),Promise.resolve())}return rn}function jx(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>dr(c,a))?s.push(a):n.push(a));const u=t.matched[o];u&&(e.matched.find(c=>dr(c,u))||r.push(u))}return[n,s,r]}function _a(){return tn(ya)}function Pv(t){return tn(pc)}const zx={key:1},qx={key:0,class:"container container-swiper mx-auto px-4 sm:px-6 lg:px-8"},Gx={key:1,class:"container"},Hx={__name:"App",setup(t){const e=Pv(),n=ct(()=>{const g=e.path.startsWith("/admin");return console.log("Current route:",e.path,"isAdmin:",g),g}),s=Se([]),r=Se(null);Gt(async()=>{if(!n.value)try{const g=await jI();g&&(s.value=g.filter(S=>S.id.startsWith("day")));const _=await zI();_&&(r.value=_)}catch(g){console.error("Erro ao carregar dados:",g)}});const i=[pv,mv,gv],o=Se(null),a=Se(null),u=Se(0),c=g=>{o.value=g,u.value=g.activeIndex},d=g=>{a.value=g},f=g=>{var _;(_=o.value)==null||_.slideTo(g)},p=g=>{u.value=g.activeIndex,a.value&&a.value.slideTo(g.activeIndex)};return(g,_)=>{const S=Ho("router-view");return n.value?(H(),st(S,{key:0})):(H(),Q("div",zx,[pe(ZI),pe(nA),s.value.length>0?(H(),Q("main",qx,[pe(k1,{days:s.value,onGoToDay:f,onSwiper:d,"controlled-swiper":o.value,"active-index":u.value},null,8,["days","controlled-swiper","active-index"]),pe(Yt(dc),{modules:i,"slides-per-view":1,"space-between":50,navigation:!1,pagination:{el:".main-swiper-pagination",clickable:!0},"auto-height":!0,onSwiper:c,onSlideChange:p,class:"main-day-swiper"},{default:rt(()=>[(H(!0),Q(ke,null,lt(s.value,(I,V)=>(H(),st(Yt(fc),{key:I.id},{default:rt(()=>[pe(RC,{day:I},null,8,["day"])]),_:2},1024))),128))]),_:1}),_[0]||(_[0]=k("div",{class:"main-swiper-pagination"},null,-1))])):Pe("",!0),r.value?(H(),Q("div",Gx,[pe($C,{recommendations:r.value},null,8,["recommendations"])])):Pe("",!0),pe(q1)]))}}},Wx={class:"flex items-center"},Kx={key:0,class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Qx={key:1,class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Yx={key:2,class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Xx={key:3,class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Jx={__name:"AlertNotification",props:{show:{type:Boolean,default:!1},message:{type:String,default:""},type:{type:String,default:"success",validator:t=>["success","error","warning","info"].includes(t)},autoClose:{type:Boolean,default:!0},duration:{type:Number,default:5e3}},emits:["update:show","close"],setup(t,{emit:e}){const n=t,s=e;let r=null;er(()=>n.show,a=>{a&&n.autoClose?i():!a&&r&&(clearTimeout(r),r=null)});const i=()=>{r&&clearTimeout(r),r=setTimeout(()=>{o()},n.duration)},o=()=>{r&&(clearTimeout(r),r=null),s("update:show",!1),s("close")};return Gt(()=>{n.show&&n.autoClose&&i()}),Go(()=>{r&&clearTimeout(r)}),(a,u)=>t.show?(H(),Q("div",{key:0,class:Jt(["fixed top-4 left-0 right-0 mx-auto max-w-md z-50 p-4 rounded-md flex items-center justify-between transition-all duration-300 shadow-lg",t.type==="success"?"bg-green-100 text-green-800 border border-green-200":t.type==="error"?"bg-red-100 text-red-800 border border-red-200":t.type==="warning"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-blue-100 text-blue-800 border border-blue-200"])},[k("div",Wx,[t.type==="success"?(H(),Q("svg",Kx,u[0]||(u[0]=[k("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))):t.type==="error"?(H(),Q("svg",Qx,u[1]||(u[1]=[k("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):t.type==="warning"?(H(),Q("svg",Yx,u[2]||(u[2]=[k("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)]))):(H(),Q("svg",Xx,u[3]||(u[3]=[k("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))),k("span",null,be(t.message),1)]),k("button",{onClick:o,class:"text-gray-500 hover:text-gray-700"},u[4]||(u[4]=[k("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[k("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))],2)):Pe("",!0)}},Zx=wn(Jx,[["__scopeId","data-v-95b4fa06"]]),eP={class:"bg-white rounded-lg shadow-md p-6"},tP={class:"flex items-center mb-6"},nP={class:"text-xl font-semibold"},sP={__name:"AdminFormLayout",props:{title:{type:String,required:!0},alert:{type:Object,required:!0}},emits:["update:alert","close-alert"],setup(t,{emit:e}){const n=e,s=_a(),r=()=>{n("close-alert")},i=()=>{s.back()};return(o,a)=>(H(),Q("div",eP,[pe(Zx,{show:t.alert.show,"onUpdate:show":a[0]||(a[0]=u=>t.alert.show=u),message:t.alert.message,type:t.alert.type,onClose:r},null,8,["show","message","type"]),k("div",tP,[k("button",{class:"mr-3 flex items-center text-gray-700",onClick:i},a[1]||(a[1]=[k("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[k("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])),k("h2",nP,be(t.title),1)]),Jy(o.$slots,"default",{},void 0)]))}},wa=wn(sP,[["__scopeId","data-v-5bc89c54"]]),rP={class:"mb-4"},iP=["for"],oP=["type","id","value"],Kt={__name:"FormField",props:{id:{type:String,required:!0},label:{type:String,required:!0},modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"}},emits:["update:modelValue"],setup(t){return(e,n)=>(H(),Q("div",rP,[k("label",{for:t.id,class:"block text-sm font-medium text-gray-700 mb-1"},be(t.label),9,iP),k("input",{type:t.type,id:t.id,value:t.modelValue,onInput:n[0]||(n[0]=s=>e.$emit("update:modelValue",s.target.value)),class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,40,oP)]))}},aP={class:"flex justify-end space-x-3"},lP={type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},mc={__name:"FormActions",props:{submitLabel:{type:String,default:"Salvar"},cancelLabel:{type:String,default:"Cancelar"}},emits:["cancel"],setup(t){return(e,n)=>(H(),Q("div",aP,[k("button",{type:"button",class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",onClick:n[0]||(n[0]=s=>e.$emit("cancel"))},be(t.cancelLabel),1),k("button",lP,be(t.submitLabel),1)]))}},uP={class:"mb-2"},cP={__name:"SiteHeaderForm",setup(t){const e=_a(),n=Se({title:"",subtitle:"",backgroundImage:"",period:{start:"",end:""}}),s=Se({show:!1,message:"",type:"success"}),r=(d,f="success")=>{s.value={show:!0,message:d,type:f}},i=()=>{s.value.show=!1};function o(d){if(!d)return"";const f=d.split("/");return f.length!==3?"":`${f[2]}-${f[1]}-${f[0]}`}function a(d){if(!d)return"";const f=d.split("-");return f.length!==3?"":`${f[2]}/${f[1]}/${f[0]}`}Gt(async()=>{var f,p;const d=await Xg();d&&(n.value={title:d.title||"",subtitle:d.subtitle||"",backgroundImage:d.backgroundImage||"",period:{start:o((f=d.period)==null?void 0:f.start)||"",end:o((p=d.period)==null?void 0:p.end)||""}})});const u=async()=>{const d={...n.value,period:{start:a(n.value.period.start),end:a(n.value.period.end)}};(await $I(d)).success?r("Cabealho salvo com sucesso!","success"):r("Erro ao salvar cabealho!","error")},c=()=>{e.back()};return(d,f)=>(H(),st(wa,{title:"Configurao de Cabealho",alert:s.value,onCloseAlert:i},{default:rt(()=>[k("form",{onSubmit:_u(u,["prevent"])},[pe(Kt,{id:"title",label:"Ttulo",modelValue:n.value.title,"onUpdate:modelValue":f[0]||(f[0]=p=>n.value.title=p)},null,8,["modelValue"]),pe(Kt,{id:"subtitle",label:"Subttulo",modelValue:n.value.subtitle,"onUpdate:modelValue":f[1]||(f[1]=p=>n.value.subtitle=p)},null,8,["modelValue"]),pe(Kt,{id:"backgroundImage",label:"Imagem de Fundo (URL)",modelValue:n.value.backgroundImage,"onUpdate:modelValue":f[2]||(f[2]=p=>n.value.backgroundImage=p)},null,8,["modelValue"]),pe(Kt,{id:"periodStart",label:"Data de Incio",type:"date",modelValue:n.value.period.start,"onUpdate:modelValue":f[3]||(f[3]=p=>n.value.period.start=p)},null,8,["modelValue"]),k("div",uP,[pe(Kt,{id:"periodEnd",label:"Data de Trmino",type:"date",modelValue:n.value.period.end,"onUpdate:modelValue":f[4]||(f[4]=p=>n.value.period.end=p)},null,8,["modelValue"])]),pe(mc,{onCancel:c})],32)]),_:1},8,["alert"]))}},dP=wn(cP,[["__scopeId","data-v-267f41f8"]]),fP={class:"mb-4"},hP={class:"flex justify-between mb-2"},pP={class:"flex items-center"},mP=["onClick"],gP={class:"font-medium"},vP={class:"flex"},yP=["onClick","disabled"],_P=["onClick","disabled"],wP={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},bP=["for"],EP=["id","onUpdate:modelValue"],TP=["for"],SP=["id","onUpdate:modelValue"],IP=["for"],AP=["id","onUpdate:modelValue"],CP=["for"],xP=["id","onUpdate:modelValue"],PP=["for"],RP=["id","onUpdate:modelValue"],VP={key:0,class:"mt-3 border-t border-gray-100 pt-3"},kP={class:"flex justify-between items-center mb-2"},DP=["onClick"],MP=["onClick"],OP={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-3"},NP=["for"],LP=["id","value","onInput"],FP=["for"],$P=["id","value","onInput"],BP={__name:"SiteFooterForm",setup(t){const e=_a(),n=Se({titulo:"",descricao:"",data:"",contatos_importantes:[],copyright:""}),s=vi({}),r=Se({show:!1,message:"",type:"success"}),i=(I,V="success")=>{r.value={show:!0,message:I,type:V}},o=()=>{r.value.show=!1},a=()=>{const I={id:`contato-${n.value.contatos_importantes.length+1}`,nome:"",contato:"",instagram:"",rota:""};n.value.contatos_importantes.push(I)},u=I=>{n.value.contatos_importantes.splice(I,1)},c=(I,V)=>{const v=n.value.contatos_importantes;V==="up"&&I>0?[v[I],v[I-1]]=[v[I-1],v[I]]:V==="down"&&I<v.length-1&&([v[I],v[I+1]]=[v[I+1],v[I]])},d=(I,V)=>{I.link||(I.link={titulo:"",url:""}),I.link.titulo=V.target.value},f=(I,V)=>{I.link||(I.link={titulo:"",url:""}),I.link.url=V.target.value},p=I=>{const V=n.value.contatos_importantes[I];V.link||(V.link={titulo:"",url:""}),s[I]=!0},g=I=>{const V=n.value.contatos_importantes[I];delete V.link,s[I]=!1};Gt(async()=>{try{const I=await Jg();I&&(n.value={titulo:I.titulo||"",descricao:I.descricao||"",data:I.data||"",contatos_importantes:Array.isArray(I.contatos_importantes)?I.contatos_importantes:[],copyright:I.copyright||""},n.value.contatos_importantes.forEach((V,v)=>{V.id||(V.id=`contato-${v+1}`),s[v]=!!V.link,V.link&&typeof V.link!="object"&&(V.link={titulo:"",url:""})}))}catch(I){console.error("Erro ao carregar dados do rodap:",I),i("Erro ao carregar dados do rodap!","error")}});const _=async()=>{try{(await BI(n.value)).success?i("Rodap salvo com sucesso!","success"):i("Erro ao salvar rodap!","error")}catch(I){console.error("Erro ao salvar rodap:",I),i("Erro ao salvar rodap!","error")}},S=()=>{e.back()};return(I,V)=>(H(),st(wa,{title:"Configurao de Rodap",alert:r.value,onCloseAlert:o},{default:rt(()=>[k("form",{onSubmit:_u(_,["prevent"])},[pe(Kt,{id:"titulo",label:"Ttulo",modelValue:n.value.titulo,"onUpdate:modelValue":V[0]||(V[0]=v=>n.value.titulo=v)},null,8,["modelValue"]),pe(Kt,{id:"descricao",label:"Descrio",modelValue:n.value.descricao,"onUpdate:modelValue":V[1]||(V[1]=v=>n.value.descricao=v)},null,8,["modelValue"]),pe(Kt,{id:"data",label:"Data",modelValue:n.value.data,"onUpdate:modelValue":V[2]||(V[2]=v=>n.value.data=v)},null,8,["modelValue"]),k("div",fP,[V[9]||(V[9]=k("div",{class:"flex justify-between items-center mb-2"},[k("label",{class:"block text-sm font-medium text-gray-700"},"Contatos Importantes")],-1)),(H(!0),Q(ke,null,lt(n.value.contatos_importantes,(v,y)=>(H(),Q("div",{key:y,class:"border border-gray-200 rounded-md p-4 mb-3"},[k("div",hP,[k("div",pP,[k("button",{type:"button",class:"text-red-600 hover:text-red-800 mr-3",onClick:x=>u(y)},V[4]||(V[4]=[k("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[k("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,mP),k("h3",gP,"Contato #"+be(y+1),1)]),k("div",vP,[k("button",{type:"button",class:Jt(["text-gray-600 hover:text-gray-800 mr-1",{"opacity-50 cursor-not-allowed":y===0}]),onClick:x=>c(y,"up"),disabled:y===0},V[5]||(V[5]=[k("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[k("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"})],-1)]),10,yP),k("button",{type:"button",class:Jt(["text-gray-600 hover:text-gray-800",{"opacity-50 cursor-not-allowed":y===n.value.contatos_importantes.length-1}]),onClick:x=>c(y,"down"),disabled:y===n.value.contatos_importantes.length-1},V[6]||(V[6]=[k("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[k("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]),10,_P)])]),k("div",wP,[k("div",null,[k("label",{for:`contato-id-${y}`,class:"block text-sm font-medium text-gray-700 mb-1"},"ID",8,bP),Pn(k("input",{type:"text",id:`contato-id-${y}`,"onUpdate:modelValue":x=>v.id=x,class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,8,EP),[[Rn,v.id]])]),k("div",null,[k("label",{for:`contato-nome-${y}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Nome",8,TP),Pn(k("input",{type:"text",id:`contato-nome-${y}`,"onUpdate:modelValue":x=>v.nome=x,class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,8,SP),[[Rn,v.nome]])]),k("div",null,[k("label",{for:`contato-contato-${y}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Contato",8,IP),Pn(k("input",{type:"text",id:`contato-contato-${y}`,"onUpdate:modelValue":x=>v.contato=x,class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,8,AP),[[Rn,v.contato]])]),k("div",null,[k("label",{for:`contato-instagram-${y}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Instagram",8,CP),Pn(k("input",{type:"text",id:`contato-instagram-${y}`,"onUpdate:modelValue":x=>v.instagram=x,class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,8,xP),[[Rn,v.instagram]])]),k("div",null,[k("label",{for:`contato-rota-${y}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Rota",8,PP),Pn(k("input",{type:"text",id:`contato-rota-${y}`,"onUpdate:modelValue":x=>v.rota=x,class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,8,RP),[[Rn,v.rota]])])]),v.link||s[y]?(H(),Q("div",VP,[k("div",kP,[V[7]||(V[7]=k("h4",{class:"text-sm font-medium"},"Link",-1)),!v.link&&s[y]?(H(),Q("button",{key:0,type:"button",class:"text-red-600 hover:text-red-800 text-sm",onClick:x=>g(y)}," Remover Link ",8,DP)):Pe("",!0),!v.link&&!s[y]?(H(),Q("button",{key:1,type:"button",class:"text-blue-600 hover:text-blue-800 text-sm",onClick:x=>p(y)}," Adicionar Link ",8,MP)):Pe("",!0)]),v.link||s[y]?(H(),Q("div",OP,[k("div",null,[k("label",{for:`contato-link-titulo-${y}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Ttulo do Link",8,NP),k("input",{type:"text",id:`contato-link-titulo-${y}`,value:v.link?v.link.titulo:"",onInput:x=>d(v,x),class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,40,LP)]),k("div",null,[k("label",{for:`contato-link-url-${y}`,class:"block text-sm font-medium text-gray-700 mb-1"},"URL do Link",8,FP),k("input",{type:"text",id:`contato-link-url-${y}`,value:v.link?v.link.url:"",onInput:x=>f(v,x),class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,40,$P)])])):Pe("",!0)])):Pe("",!0)]))),128)),k("button",{type:"button",class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm flex items-center justify-center",onClick:a},V[8]||(V[8]=[k("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[k("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Xe(" Adicionar Contato ")]))]),pe(Kt,{id:"copyright",label:"Copyright",modelValue:n.value.copyright,"onUpdate:modelValue":V[3]||(V[3]=v=>n.value.copyright=v),class:"mb-6"},null,8,["modelValue"]),pe(mc,{onCancel:S})],32)]),_:1},8,["alert"]))}},UP=wn(BP,[["__scopeId","data-v-80d5c8d1"]]),jP={class:"mb-6"},zP={class:"flex justify-end mb-4"},qP={key:0,class:"text-center py-8"},GP={key:1,class:"bg-gray-50 rounded-lg p-8 text-center"},HP={key:2,class:"bg-white shadow rounded-lg overflow-hidden"},WP={class:"divide-y divide-gray-200"},KP={class:"flex items-center justify-between"},QP={class:"text-lg font-medium text-gray-900"},YP={key:0,class:"text-sm text-gray-500 mt-1"},XP={__name:"ActivitiesList",setup(t){const e=Se([]),n=Se(!0),s=Se({show:!1,message:"",type:"success"}),r=(o,a="success")=>{s.value={show:!0,message:o,type:a}},i=()=>{s.value.show=!1};return Gt(async()=>{try{n.value=!0,e.value=await Zg(),e.value.sort((o,a)=>o.name.localeCompare(a.name))}catch(o){console.error("Erro ao carregar atividades:",o),r("Erro ao carregar lista de atividades!","error")}finally{n.value=!1}}),(o,a)=>{const u=Ho("router-link");return H(),st(wa,{title:"Gesto de Atividades",alert:s.value,onCloseAlert:i},{default:rt(()=>[k("div",jP,[a[7]||(a[7]=k("p",{class:"text-sm text-gray-600 mb-4"}," Gerencie as atividades disponveis no sistema. Clique em uma atividade para edit-la ou adicione uma nova atividade. ",-1)),k("div",zP,[pe(u,{to:"/admin/atividades/novo",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center text-sm"},{default:rt(()=>a[0]||(a[0]=[k("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[k("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Xe(" Nova Atividade ")])),_:1})]),n.value?(H(),Q("div",qP,a[1]||(a[1]=[k("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-600"},null,-1),k("p",{class:"mt-2 text-gray-500"},"Carregando atividades...",-1)]))):e.value.length===0?(H(),Q("div",GP,[a[3]||(a[3]=k("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[k("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})],-1)),a[4]||(a[4]=k("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Nenhuma atividade cadastrada",-1)),a[5]||(a[5]=k("p",{class:"text-gray-500 mb-4"},"Comece adicionando sua primeira atividade ao sistema.",-1)),pe(u,{to:"/admin/atividades/novo",class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},{default:rt(()=>a[2]||(a[2]=[Xe(" Adicionar Nova Atividade ")])),_:1})])):(H(),Q("div",HP,[k("ul",WP,[(H(!0),Q(ke,null,lt(e.value,c=>(H(),Q("li",{key:c.id,class:"hover:bg-gray-50"},[pe(u,{to:`/admin/atividades/${c.id}`,class:"block p-4"},{default:rt(()=>[k("div",KP,[k("div",null,[k("h3",QP,be(c.name),1),c.location?(H(),Q("p",YP,be(c.location),1)):Pe("",!0)]),a[6]||(a[6]=k("div",{class:"text-gray-400"},[k("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[k("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))])]),_:2},1032,["to"])]))),128))])]))])]),_:1},8,["alert"])}}},JP={class:"mb-4"},ZP={class:"mb-4"},eR={class:"flex justify-between mb-2"},tR={class:"flex items-center"},nR=["onClick"],sR={class:"font-medium"},rR={class:"flex"},iR=["onClick","disabled"],oR=["onClick","disabled"],aR={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},lR={class:"col-span-2"},uR=["for"],cR=["id","onUpdate:modelValue"],dR={key:0,class:"mt-3"},fR=["src","alt"],hR={class:"mb-6"},pR={class:"flex justify-between mb-2"},mR={class:"flex items-center"},gR=["onClick"],vR={class:"font-medium"},yR={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},_R=["for"],wR=["id","onUpdate:modelValue"],bR=["for"],ER=["id","onUpdate:modelValue"],TR={class:"flex gap-3 mt-8"},SR={key:0,class:"fixed inset-0 flex items-center justify-center z-50"},IR={class:"bg-white rounded-lg p-6 max-w-md w-full z-10"},AR={class:"mb-4 text-gray-600"},CR={class:"flex justify-end gap-3"},xR={__name:"ActivityForm",setup(t){const e=_a(),n=Pv(),s=Se(!1),r=ct(()=>n.params.id==="novo"),i=Se({name:"",location:"",description:"",type:"",images:[],links:[]}),o=Se({show:!1,message:"",type:"success"}),a=(v,y="success")=>{o.value={show:!0,message:v,type:y}},u=()=>{o.value.show=!1};Gt(async()=>{if(!r.value)try{const v=n.params.id,y=await qI(v);y?(console.log("Dados da atividade carregados:",y),i.value={name:y.name||"",location:y.location||"",description:y.description||"",type:y.type||"",images:[],links:[]},y.images&&(Array.isArray(y.images)?i.value.images=y.images.map(x=>({url:typeof x=="object"?x.url||"":x,alt:typeof x=="object"&&x.alt||""})):typeof y.images=="string"&&(i.value.images=[{url:y.images,alt:""}])),y.links&&(Array.isArray(y.links)?i.value.links=y.links.map(x=>typeof x=="object"?{title:x.title||x.name||"",url:x.url||""}:{title:"",url:x}):typeof y.links=="object"&&!Array.isArray(y.links)&&(i.value.links=Object.entries(y.links).map(([x,N])=>({title:x,url:typeof N=="string"?N:N.url||""})))),console.log("Formulrio preenchido:",i.value)):(a("Atividade no encontrada!","error"),e.push("/admin/atividades"))}catch(v){console.error("Erro ao carregar dados da atividade:",v),a("Erro ao carregar dados da atividade!","error")}});const c=()=>{i.value.images.push({url:""})},d=v=>{i.value.images.splice(v,1)},f=(v,y)=>{const x=i.value.images;y==="up"&&v>0?[x[v],x[v-1]]=[x[v-1],x[v]]:y==="down"&&v<x.length-1&&([x[v],x[v+1]]=[x[v+1],x[v]])},p=()=>{i.value.links.push({title:"",url:""})},g=v=>{i.value.links.splice(v,1)},_=async()=>{try{if(!i.value.name.trim()){a("O nome da atividade  obrigatrio!","error");return}const v=r.value?i.value.name.toLowerCase().replace(/\s+/g,"-").normalize("NFD").replace(/[\u0300-\u036f]/g,""):n.params.id,y={...i.value};y.images=y.images.filter(N=>N.url.trim()!=="").map(N=>N.url),y.links=y.links.filter(N=>N.url.trim()!=="").reduce((N,q)=>{const P=q.title.trim()||"link";return N[P]=q.url,N},{}),console.log("Dados a serem salvos:",y),(await UI("santiago",v,y)).success?(a("Atividade salva com sucesso!","success"),r.value&&e.push(`/admin/atividades/${v}`)):a("Erro ao salvar atividade!","error")}catch(v){console.error("Erro ao salvar atividade:",v),a("Erro ao salvar atividade!","error")}},S=()=>{s.value=!0},I=async()=>{try{const v=n.params.id;(await FI("trips/santiago/activities",v)).success?(a("Atividade excluda com sucesso!","success"),e.push("/admin/atividades")):a("Erro ao excluir atividade!","error"),s.value=!1}catch(v){console.error("Erro ao excluir atividade:",v),a("Erro ao excluir atividade!","error"),s.value=!1}},V=()=>{e.push("/admin/atividades")};return(v,y)=>(H(),st(wa,{title:r.value?"Nova Atividade":`Editar Atividade: ${i.value.name}`,alert:o.value,onCloseAlert:u},{default:rt(()=>[k("form",{onSubmit:_u(_,["prevent"])},[pe(Kt,{id:"name",label:"Nome da Atividade",modelValue:i.value.name,"onUpdate:modelValue":y[0]||(y[0]=x=>i.value.name=x),required:""},null,8,["modelValue"]),pe(Kt,{id:"location",label:"Local",modelValue:i.value.location,"onUpdate:modelValue":y[1]||(y[1]=x=>i.value.location=x)},null,8,["modelValue"]),k("div",JP,[y[5]||(y[5]=k("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-1"},"Descrio",-1)),Pn(k("textarea",{id:"description","onUpdate:modelValue":y[2]||(y[2]=x=>i.value.description=x),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Descreva esta atividade"},null,512),[[Rn,i.value.description]])]),pe(Kt,{id:"type",label:"Tipo",modelValue:i.value.type,"onUpdate:modelValue":y[3]||(y[3]=x=>i.value.type=x),class:"mb-4"},null,8,["modelValue"]),k("div",ZP,[y[10]||(y[10]=k("div",{class:"flex justify-between items-center mb-2"},[k("label",{class:"block text-sm font-medium text-gray-700"},"Imagens")],-1)),(H(!0),Q(ke,null,lt(i.value.images,(x,N)=>(H(),Q("div",{key:N,class:"border border-gray-200 rounded-md p-4 mb-3"},[k("div",eR,[k("div",tR,[k("button",{type:"button",class:"text-red-600 hover:text-red-800 mr-3",onClick:q=>d(N)},y[6]||(y[6]=[k("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[k("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,nR),k("h3",sR,"Imagem #"+be(N+1),1)]),k("div",rR,[k("button",{type:"button",class:Jt(["text-gray-600 hover:text-gray-800 mr-1",{"opacity-50 cursor-not-allowed":N===0}]),onClick:q=>f(N,"up"),disabled:N===0},y[7]||(y[7]=[k("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[k("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"})],-1)]),10,iR),k("button",{type:"button",class:Jt(["text-gray-600 hover:text-gray-800",{"opacity-50 cursor-not-allowed":N===i.value.images.length-1}]),onClick:q=>f(N,"down"),disabled:N===i.value.images.length-1},y[8]||(y[8]=[k("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[k("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]),10,oR)])]),k("div",aR,[k("div",lR,[k("label",{for:`imagem-url-${N}`,class:"block text-sm font-medium text-gray-700 mb-1"},"URL da Imagem",8,uR),Pn(k("input",{type:"text",id:`imagem-url-${N}`,"onUpdate:modelValue":q=>x.url=q,class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://exemplo.com/imagem.jpg"},null,8,cR),[[Rn,x.url]])])]),x.url?(H(),Q("div",dR,[k("img",{src:x.url,alt:x.name||"Imagem da atividade",class:"h-32 object-cover rounded-md"},null,8,fR)])):Pe("",!0)]))),128)),k("button",{type:"button",class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm flex items-center justify-center",onClick:c},y[9]||(y[9]=[k("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[k("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Xe(" Adicionar Imagem ")]))]),k("div",hR,[y[13]||(y[13]=k("div",{class:"flex justify-between items-center mb-2"},[k("label",{class:"block text-sm font-medium text-gray-700"},"Links Relacionados")],-1)),(H(!0),Q(ke,null,lt(i.value.links,(x,N)=>(H(),Q("div",{key:N,class:"border border-gray-200 rounded-md p-4 mb-3"},[k("div",pR,[k("div",mR,[k("button",{type:"button",class:"text-red-600 hover:text-red-800 mr-3",onClick:q=>g(N)},y[11]||(y[11]=[k("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[k("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,gR),k("h3",vR,"Link #"+be(N+1),1)])]),k("div",yR,[k("div",null,[k("label",{for:`link-titulo-${N}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Ttulo",8,_R),Pn(k("input",{type:"text",id:`link-titulo-${N}`,"onUpdate:modelValue":q=>x.title=q,class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: Site Oficial"},null,8,wR),[[Rn,x.title]])]),k("div",null,[k("label",{for:`link-url-${N}`,class:"block text-sm font-medium text-gray-700 mb-1"},"URL",8,bR),Pn(k("input",{type:"text",id:`link-url-${N}`,"onUpdate:modelValue":q=>x.url=q,class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://exemplo.com"},null,8,ER),[[Rn,x.url]])])])]))),128)),k("button",{type:"button",class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm flex items-center justify-center",onClick:p},y[12]||(y[12]=[k("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[k("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Xe(" Adicionar Link ")]))]),k("div",TR,[r.value?Pe("",!0):(H(),Q("button",{key:0,type:"button",onClick:S,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700"}," Excluir ")),y[14]||(y[14]=k("div",{class:"flex-grow"},null,-1)),pe(mc,{onCancel:V})])],32),s.value?(H(),Q("div",SR,[y[16]||(y[16]=k("div",{class:"fixed inset-0 bg-black opacity-50"},null,-1)),k("div",IR,[y[15]||(y[15]=k("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Confirmar Excluso",-1)),k("p",AR,' Tem certeza de que deseja excluir a atividade "'+be(i.value.name)+'"? Esta ao no pode ser desfeita. ',1),k("div",CR,[k("button",{onClick:y[4]||(y[4]=x=>s.value=!1),class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300"}," Cancelar "),k("button",{onClick:I,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700"}," Excluir ")])])])):Pe("",!0)]),_:1},8,["title","alert"]))}},PR={class:"admin-layout p-6 max-w-7xl mx-auto"},RR={key:1,class:"text-red-500"},VR={__name:"AdminLayout",setup(t){return Gt(()=>{console.log("AdminLayout component mounted")}),(e,n)=>{const s=Ho("router-view");return H(),Q("div",PR,[pe(s,null,{default:rt(({Component:r})=>[r?(H(),st(Xy(r),{key:0})):(H(),Q("p",RR," Nenhum componente carregado para esta rota. Verifique o console para erros. "))]),_:1})])}}},kR=[{path:"/",name:"home"},{path:"/admin",component:VR,children:[{path:"header",name:"admin-header",component:dP,meta:{requiresAuth:!0}},{path:"footer",name:"admin-footer",component:UP,meta:{requiresAuth:!0}},{path:"atividades",name:"admin-atividades",component:XP,meta:{requiresAuth:!0}},{path:"atividades/:id",name:"admin-atividades-detalhes",component:xR,meta:{requiresAuth:!0}}]}],ba=Ux({history:gx("/santiago/"),routes:kR});ba.beforeEach((t,e,n)=>{console.log(`Navegando para: ${t.fullPath}`),t.matched.some(s=>s.meta.requiresAuth),n()});ba.afterEach(t=>{console.log(`Navegao concluda: ${t.fullPath}`)});console.log("Starting Vue application");console.log("Routes registered:",ba.getRoutes());const gc=fw(Hx);gc.config.errorHandler=(t,e,n)=>{console.error("Vue error:",t),console.error("Component:",e),console.error("Info:",n)};gc.use(ba);gc.mount("#app");console.log("Vue app mounted");
