(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function hc(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ze={},Hs=[],On=()=>{},b0=()=>!1,Ka=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),pc=t=>t.startsWith("onUpdate:"),qt=Object.assign,mc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},_0=Object.prototype.hasOwnProperty,Qe=(t,e)=>_0.call(t,e),xe=Array.isArray,Gs=t=>Qa(t)==="[object Map]",Fp=t=>Qa(t)==="[object Set]",Ve=t=>typeof t=="function",ct=t=>typeof t=="string",ur=t=>typeof t=="symbol",it=t=>t!==null&&typeof t=="object",Bp=t=>(it(t)||Ve(t))&&Ve(t.then)&&Ve(t.catch),jp=Object.prototype.toString,Qa=t=>jp.call(t),w0=t=>Qa(t).slice(8,-1),Up=t=>Qa(t)==="[object Object]",gc=t=>ct(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,zi=hc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ya=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},E0=/-(\w)/g,mn=Ya(t=>t.replace(E0,(e,n)=>n?n.toUpperCase():"")),T0=/\B([A-Z])/g,jr=Ya(t=>t.replace(T0,"-$1").toLowerCase()),Xa=Ya(t=>t.charAt(0).toUpperCase()+t.slice(1)),Hl=Ya(t=>t?`on${Xa(t)}`:""),Sr=(t,e)=>!Object.is(t,e),ra=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},zp=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Su=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let pf;const Ja=()=>pf||(pf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Za(t){if(xe(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=ct(r)?x0(r):Za(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(ct(t)||it(t))return t}const S0=/;(?![^(]*\))/g,I0=/:([^]+)/,A0=/\/\*[^]*?\*\//g;function x0(t){const e={};return t.replace(A0,"").split(S0).forEach(n=>{if(n){const r=n.split(I0);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Oe(t){let e="";if(ct(t))e=t;else if(xe(t))for(let n=0;n<t.length;n++){const r=Oe(t[n]);r&&(e+=r+" ")}else if(it(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const C0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",P0=hc(C0);function qp(t){return!!t||t===""}const Hp=t=>!!(t&&t.__v_isRef===!0),we=t=>ct(t)?t:t==null?"":xe(t)||it(t)&&(t.toString===jp||!Ve(t.toString))?Hp(t)?we(t.value):JSON.stringify(t,Gp,2):String(t),Gp=(t,e)=>Hp(e)?Gp(t,e.value):Gs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[Gl(r,i)+" =>"]=s,n),{})}:Fp(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Gl(n))}:ur(e)?Gl(e):it(e)&&!xe(e)&&!Up(e)?String(e):e,Gl=(t,e="")=>{var n;return ur(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nn;class R0{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nn,!e&&nn&&(this.index=(nn.scopes||(nn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=nn;try{return nn=this,e()}finally{nn=n}}}on(){nn=this}off(){nn=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function k0(){return nn}let tt;const Wl=new WeakSet;class Wp{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nn&&nn.active&&nn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Wl.has(this)&&(Wl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Qp(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,mf(this),Yp(this);const e=tt,n=yn;tt=this,yn=!0;try{return this.fn()}finally{Xp(this),tt=e,yn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)bc(e);this.deps=this.depsTail=void 0,mf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Wl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Iu(this)&&this.run()}get dirty(){return Iu(this)}}let Kp=0,qi,Hi;function Qp(t,e=!1){if(t.flags|=8,e){t.next=Hi,Hi=t;return}t.next=qi,qi=t}function vc(){Kp++}function yc(){if(--Kp>0)return;if(Hi){let e=Hi;for(Hi=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;qi;){let e=qi;for(qi=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Yp(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Xp(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),bc(r),O0(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function Iu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Jp(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Jp(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ro))return;t.globalVersion=ro;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Iu(t)){t.flags&=-3;return}const n=tt,r=yn;tt=t,yn=!0;try{Yp(t);const s=t.fn(t._value);(e.version===0||Sr(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{tt=n,yn=r,Xp(t),t.flags&=-3}}function bc(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)bc(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function O0(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let yn=!0;const Zp=[];function Ur(){Zp.push(yn),yn=!1}function zr(){const t=Zp.pop();yn=t===void 0?!0:t}function mf(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=tt;tt=void 0;try{e()}finally{tt=n}}}let ro=0;class D0{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class el{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!tt||!yn||tt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==tt)n=this.activeLink=new D0(tt,this),tt.deps?(n.prevDep=tt.depsTail,tt.depsTail.nextDep=n,tt.depsTail=n):tt.deps=tt.depsTail=n,em(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=tt.depsTail,n.nextDep=void 0,tt.depsTail.nextDep=n,tt.depsTail=n,tt.deps===n&&(tt.deps=r)}return n}trigger(e){this.version++,ro++,this.notify(e)}notify(e){vc();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{yc()}}}function em(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)em(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const ya=new WeakMap,us=Symbol(""),Au=Symbol(""),so=Symbol("");function jt(t,e,n){if(yn&&tt){let r=ya.get(t);r||ya.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new el),s.map=r,s.key=n),s.track()}}function er(t,e,n,r,s,i){const o=ya.get(t);if(!o){ro++;return}const a=u=>{u&&u.trigger()};if(vc(),e==="clear")o.forEach(a);else{const u=xe(t),c=u&&gc(n);if(u&&n==="length"){const d=Number(r);o.forEach((f,p)=>{(p==="length"||p===so||!ur(p)&&p>=d)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(so)),e){case"add":u?c&&a(o.get("length")):(a(o.get(us)),Gs(t)&&a(o.get(Au)));break;case"delete":u||(a(o.get(us)),Gs(t)&&a(o.get(Au)));break;case"set":Gs(t)&&a(o.get(us));break}}yc()}function V0(t,e){const n=ya.get(t);return n&&n.get(e)}function Ns(t){const e=Ge(t);return e===t?e:(jt(e,"iterate",so),hn(t)?e:e.map(Ut))}function tl(t){return jt(t=Ge(t),"iterate",so),t}const M0={__proto__:null,[Symbol.iterator](){return Kl(this,Symbol.iterator,Ut)},concat(...t){return Ns(this).concat(...t.map(e=>xe(e)?Ns(e):e))},entries(){return Kl(this,"entries",t=>(t[1]=Ut(t[1]),t))},every(t,e){return Yn(this,"every",t,e,void 0,arguments)},filter(t,e){return Yn(this,"filter",t,e,n=>n.map(Ut),arguments)},find(t,e){return Yn(this,"find",t,e,Ut,arguments)},findIndex(t,e){return Yn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Yn(this,"findLast",t,e,Ut,arguments)},findLastIndex(t,e){return Yn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Yn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ql(this,"includes",t)},indexOf(...t){return Ql(this,"indexOf",t)},join(t){return Ns(this).join(t)},lastIndexOf(...t){return Ql(this,"lastIndexOf",t)},map(t,e){return Yn(this,"map",t,e,void 0,arguments)},pop(){return ki(this,"pop")},push(...t){return ki(this,"push",t)},reduce(t,...e){return gf(this,"reduce",t,e)},reduceRight(t,...e){return gf(this,"reduceRight",t,e)},shift(){return ki(this,"shift")},some(t,e){return Yn(this,"some",t,e,void 0,arguments)},splice(...t){return ki(this,"splice",t)},toReversed(){return Ns(this).toReversed()},toSorted(t){return Ns(this).toSorted(t)},toSpliced(...t){return Ns(this).toSpliced(...t)},unshift(...t){return ki(this,"unshift",t)},values(){return Kl(this,"values",Ut)}};function Kl(t,e,n){const r=tl(t),s=r[e]();return r!==t&&!hn(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const L0=Array.prototype;function Yn(t,e,n,r,s,i){const o=tl(t),a=o!==t&&!hn(t),u=o[e];if(u!==L0[e]){const f=u.apply(t,i);return a?Ut(f):f}let c=n;o!==t&&(a?c=function(f,p){return n.call(this,Ut(f),p,t)}:n.length>2&&(c=function(f,p){return n.call(this,f,p,t)}));const d=u.call(o,c,r);return a&&s?s(d):d}function gf(t,e,n,r){const s=tl(t);let i=n;return s!==t&&(hn(t)?n.length>3&&(i=function(o,a,u){return n.call(this,o,a,u,t)}):i=function(o,a,u){return n.call(this,o,Ut(a),u,t)}),s[e](i,...r)}function Ql(t,e,n){const r=Ge(t);jt(r,"iterate",so);const s=r[e](...n);return(s===-1||s===!1)&&Ec(n[0])?(n[0]=Ge(n[0]),r[e](...n)):s}function ki(t,e,n=[]){Ur(),vc();const r=Ge(t)[e].apply(t,n);return yc(),zr(),r}const N0=hc("__proto__,__v_isRef,__isVue"),tm=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ur));function $0(t){ur(t)||(t=String(t));const e=Ge(this);return jt(e,"has",t),e.hasOwnProperty(t)}class nm{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?K0:om:i?im:sm).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=xe(e);if(!s){let u;if(o&&(u=M0[n]))return u;if(n==="hasOwnProperty")return $0}const a=Reflect.get(e,n,Dt(e)?e:r);return(ur(n)?tm.has(n):N0(n))||(s||jt(e,"get",n),i)?a:Dt(a)?o&&gc(n)?a:a.value:it(a)?s?lm(a):wo(a):a}}class rm extends nm{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const u=ds(i);if(!hn(r)&&!ds(r)&&(i=Ge(i),r=Ge(r)),!xe(e)&&Dt(i)&&!Dt(r))return u?!1:(i.value=r,!0)}const o=xe(e)&&gc(n)?Number(n)<e.length:Qe(e,n),a=Reflect.set(e,n,r,Dt(e)?e:s);return e===Ge(s)&&(o?Sr(r,i)&&er(e,"set",n,r):er(e,"add",n,r)),a}deleteProperty(e,n){const r=Qe(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&er(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!ur(n)||!tm.has(n))&&jt(e,"has",n),r}ownKeys(e){return jt(e,"iterate",xe(e)?"length":us),Reflect.ownKeys(e)}}class F0 extends nm{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const B0=new rm,j0=new F0,U0=new rm(!0);const xu=t=>t,Ho=t=>Reflect.getPrototypeOf(t);function z0(t,e,n){return function(...r){const s=this.__v_raw,i=Ge(s),o=Gs(i),a=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,c=s[t](...r),d=n?xu:e?Cu:Ut;return!e&&jt(i,"iterate",u?Au:us),{next(){const{value:f,done:p}=c.next();return p?{value:f,done:p}:{value:a?[d(f[0]),d(f[1])]:d(f),done:p}},[Symbol.iterator](){return this}}}}function Go(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function q0(t,e){const n={get(s){const i=this.__v_raw,o=Ge(i),a=Ge(s);t||(Sr(s,a)&&jt(o,"get",s),jt(o,"get",a));const{has:u}=Ho(o),c=e?xu:t?Cu:Ut;if(u.call(o,s))return c(i.get(s));if(u.call(o,a))return c(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&jt(Ge(s),"iterate",us),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=Ge(i),a=Ge(s);return t||(Sr(s,a)&&jt(o,"has",s),jt(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,u=Ge(a),c=e?xu:t?Cu:Ut;return!t&&jt(u,"iterate",us),a.forEach((d,f)=>s.call(i,c(d),c(f),o))}};return qt(n,t?{add:Go("add"),set:Go("set"),delete:Go("delete"),clear:Go("clear")}:{add(s){!e&&!hn(s)&&!ds(s)&&(s=Ge(s));const i=Ge(this);return Ho(i).has.call(i,s)||(i.add(s),er(i,"add",s,s)),this},set(s,i){!e&&!hn(i)&&!ds(i)&&(i=Ge(i));const o=Ge(this),{has:a,get:u}=Ho(o);let c=a.call(o,s);c||(s=Ge(s),c=a.call(o,s));const d=u.call(o,s);return o.set(s,i),c?Sr(i,d)&&er(o,"set",s,i):er(o,"add",s,i),this},delete(s){const i=Ge(this),{has:o,get:a}=Ho(i);let u=o.call(i,s);u||(s=Ge(s),u=o.call(i,s)),a&&a.call(i,s);const c=i.delete(s);return u&&er(i,"delete",s,void 0),c},clear(){const s=Ge(this),i=s.size!==0,o=s.clear();return i&&er(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=z0(s,t,e)}),n}function _c(t,e){const n=q0(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Qe(n,s)&&s in r?n:r,s,i)}const H0={get:_c(!1,!1)},G0={get:_c(!1,!0)},W0={get:_c(!0,!1)};const sm=new WeakMap,im=new WeakMap,om=new WeakMap,K0=new WeakMap;function Q0(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Y0(t){return t.__v_skip||!Object.isExtensible(t)?0:Q0(w0(t))}function wo(t){return ds(t)?t:wc(t,!1,B0,H0,sm)}function am(t){return wc(t,!1,U0,G0,im)}function lm(t){return wc(t,!0,j0,W0,om)}function wc(t,e,n,r,s){if(!it(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=Y0(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function Ws(t){return ds(t)?Ws(t.__v_raw):!!(t&&t.__v_isReactive)}function ds(t){return!!(t&&t.__v_isReadonly)}function hn(t){return!!(t&&t.__v_isShallow)}function Ec(t){return t?!!t.__v_raw:!1}function Ge(t){const e=t&&t.__v_raw;return e?Ge(e):t}function X0(t){return!Qe(t,"__v_skip")&&Object.isExtensible(t)&&zp(t,"__v_skip",!0),t}const Ut=t=>it(t)?wo(t):t,Cu=t=>it(t)?lm(t):t;function Dt(t){return t?t.__v_isRef===!0:!1}function de(t){return um(t,!1)}function os(t){return um(t,!0)}function um(t,e){return Dt(t)?t:new J0(t,e)}class J0{constructor(e,n){this.dep=new el,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ge(e),this._value=n?e:Ut(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||hn(e)||ds(e);e=r?e:Ge(e),Sr(e,n)&&(this._rawValue=e,this._value=r?e:Ut(e),this.dep.trigger())}}function ln(t){return Dt(t)?t.value:t}const Z0={get:(t,e,n)=>e==="__v_raw"?t:ln(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Dt(s)&&!Dt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function cm(t){return Ws(t)?t:new Proxy(t,Z0)}class eb{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new el,{get:r,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function tb(t){return new eb(t)}function dn(t){const e=xe(t)?new Array(t.length):{};for(const n in t)e[n]=rb(t,n);return e}class nb{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return V0(Ge(this._object),this._key)}}function rb(t,e,n){const r=t[e];return Dt(r)?r:new nb(t,e,n)}class sb{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new el(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ro-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&tt!==this)return Qp(this,!0),!0}get value(){const e=this.dep.track();return Jp(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function ib(t,e,n=!1){let r,s;return Ve(t)?r=t:(r=t.get,s=t.set),new sb(r,s,n)}const Wo={},ba=new WeakMap;let ss;function ob(t,e=!1,n=ss){if(n){let r=ba.get(n);r||ba.set(n,r=[]),r.push(t)}}function ab(t,e,n=Ze){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:u}=n,c=x=>s?x:hn(x)||s===!1||s===0?tr(x,1):tr(x);let d,f,p,m,y=!1,S=!1;if(Dt(t)?(f=()=>t.value,y=hn(t)):Ws(t)?(f=()=>c(t),y=!0):xe(t)?(S=!0,y=t.some(x=>Ws(x)||hn(x)),f=()=>t.map(x=>{if(Dt(x))return x.value;if(Ws(x))return c(x);if(Ve(x))return u?u(x,2):x()})):Ve(t)?e?f=u?()=>u(t,2):t:f=()=>{if(p){Ur();try{p()}finally{zr()}}const x=ss;ss=d;try{return u?u(t,3,[m]):t(m)}finally{ss=x}}:f=On,e&&s){const x=f,V=s===!0?1/0:s;f=()=>tr(x(),V)}const A=k0(),C=()=>{d.stop(),A&&A.active&&mc(A.effects,d)};if(i&&e){const x=e;e=(...V)=>{x(...V),C()}}let b=S?new Array(t.length).fill(Wo):Wo;const v=x=>{if(!(!(d.flags&1)||!d.dirty&&!x))if(e){const V=d.run();if(s||y||(S?V.some((M,T)=>Sr(M,b[T])):Sr(V,b))){p&&p();const M=ss;ss=d;try{const T=[V,b===Wo?void 0:S&&b[0]===Wo?[]:b,m];u?u(e,3,T):e(...T),b=V}finally{ss=M}}}else d.run()};return a&&a(v),d=new Wp(f),d.scheduler=o?()=>o(v,!1):v,m=x=>ob(x,!1,d),p=d.onStop=()=>{const x=ba.get(d);if(x){if(u)u(x,4);else for(const V of x)V();ba.delete(d)}},e?r?v(!0):b=d.run():o?o(v.bind(null,!0),!0):d.run(),C.pause=d.pause.bind(d),C.resume=d.resume.bind(d),C.stop=C,C}function tr(t,e=1/0,n){if(e<=0||!it(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Dt(t))tr(t.value,e,n);else if(xe(t))for(let r=0;r<t.length;r++)tr(t[r],e,n);else if(Fp(t)||Gs(t))t.forEach(r=>{tr(r,e,n)});else if(Up(t)){for(const r in t)tr(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&tr(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Eo(t,e,n,r){try{return r?t(...r):t()}catch(s){nl(s,e,n)}}function Ln(t,e,n,r){if(Ve(t)){const s=Eo(t,e,n,r);return s&&Bp(s)&&s.catch(i=>{nl(i,e,n)}),s}if(xe(t)){const s=[];for(let i=0;i<t.length;i++)s.push(Ln(t[i],e,n,r));return s}}function nl(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ze;if(e){let a=e.parent;const u=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](t,u,c)===!1)return}a=a.parent}if(i){Ur(),Eo(i,null,10,[t,u,c]),zr();return}}lb(t,n,s,r,o)}function lb(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const Wt=[];let xn=-1;const Ks=[];let br=null,$s=0;const dm=Promise.resolve();let _a=null;function Ir(t){const e=_a||dm;return t?e.then(this?t.bind(this):t):e}function ub(t){let e=xn+1,n=Wt.length;for(;e<n;){const r=e+n>>>1,s=Wt[r],i=io(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function Tc(t){if(!(t.flags&1)){const e=io(t),n=Wt[Wt.length-1];!n||!(t.flags&2)&&e>=io(n)?Wt.push(t):Wt.splice(ub(e),0,t),t.flags|=1,fm()}}function fm(){_a||(_a=dm.then(pm))}function cb(t){xe(t)?Ks.push(...t):br&&t.id===-1?br.splice($s+1,0,t):t.flags&1||(Ks.push(t),t.flags|=1),fm()}function vf(t,e,n=xn+1){for(;n<Wt.length;n++){const r=Wt[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Wt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function hm(t){if(Ks.length){const e=[...new Set(Ks)].sort((n,r)=>io(n)-io(r));if(Ks.length=0,br){br.push(...e);return}for(br=e,$s=0;$s<br.length;$s++){const n=br[$s];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}br=null,$s=0}}const io=t=>t.id==null?t.flags&2?-1:1/0:t.id;function pm(t){try{for(xn=0;xn<Wt.length;xn++){const e=Wt[xn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Eo(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;xn<Wt.length;xn++){const e=Wt[xn];e&&(e.flags&=-2)}xn=-1,Wt.length=0,hm(),_a=null,(Wt.length||Ks.length)&&pm()}}let xt=null,mm=null;function wa(t){const e=xt;return xt=t,mm=t&&t.type.__scopeId||null,e}function We(t,e=xt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Rf(-1);const i=wa(e);let o;try{o=t(...s)}finally{wa(i),r._d&&Rf(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function gt(t,e){if(xt===null)return t;const n=ol(xt),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,u=Ze]=e[s];i&&(Ve(i)&&(i={mounted:i,updated:i}),i.deep&&tr(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:u}))}return t}function ns(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let u=a.dir[r];u&&(Ur(),Ln(u,n,8,[t.el,a,t,e]),zr())}}const gm=Symbol("_vte"),db=t=>t.__isTeleport,Gi=t=>t&&(t.disabled||t.disabled===""),yf=t=>t&&(t.defer||t.defer===""),bf=t=>typeof SVGElement<"u"&&t instanceof SVGElement,_f=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Pu=(t,e)=>{const n=t&&t.to;return ct(n)?e?e(n):null:n},vm={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,o,a,u,c){const{mc:d,pc:f,pbc:p,o:{insert:m,querySelector:y,createText:S,createComment:A}}=c,C=Gi(e.props);let{shapeFlag:b,children:v,dynamicChildren:x}=e;if(t==null){const V=e.el=S(""),M=e.anchor=S("");m(V,n,r),m(M,n,r);const T=(_,I)=>{b&16&&(s&&s.isCE&&(s.ce._teleportTarget=_),d(v,_,I,s,i,o,a,u))},w=()=>{const _=e.target=Pu(e.props,y),I=ym(_,e,S,m);_&&(o!=="svg"&&bf(_)?o="svg":o!=="mathml"&&_f(_)&&(o="mathml"),C||(T(_,I),sa(e,!1)))};C&&(T(n,M),sa(e,!0)),yf(e.props)?Gt(()=>{w(),e.el.__isMounted=!0},i):w()}else{if(yf(e.props)&&!t.el.__isMounted){Gt(()=>{vm.process(t,e,n,r,s,i,o,a,u,c),delete t.el.__isMounted},i);return}e.el=t.el,e.targetStart=t.targetStart;const V=e.anchor=t.anchor,M=e.target=t.target,T=e.targetAnchor=t.targetAnchor,w=Gi(t.props),_=w?n:M,I=w?V:T;if(o==="svg"||bf(M)?o="svg":(o==="mathml"||_f(M))&&(o="mathml"),x?(p(t.dynamicChildren,x,_,s,i,o,a),xc(t,e,!0)):u||f(t,e,_,I,s,i,o,a,!1),C)w?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ko(e,n,V,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const k=e.target=Pu(e.props,y);k&&Ko(e,k,null,c,0)}else w&&Ko(e,M,T,c,1);sa(e,C)}},remove(t,e,n,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:u,targetStart:c,targetAnchor:d,target:f,props:p}=t;if(f&&(s(c),s(d)),i&&s(u),o&16){const m=i||!Gi(p);for(let y=0;y<a.length;y++){const S=a[y];r(S,e,n,m,!!S.dynamicChildren)}}},move:Ko,hydrate:fb};function Ko(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:u,children:c,props:d}=t,f=i===2;if(f&&r(o,e,n),(!f||Gi(d))&&u&16)for(let p=0;p<c.length;p++)s(c[p],e,n,2);f&&r(a,e,n)}function fb(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:u,insert:c,createText:d}},f){const p=e.target=Pu(e.props,u);if(p){const m=Gi(e.props),y=p._lpa||p.firstChild;if(e.shapeFlag&16)if(m)e.anchor=f(o(t),e,a(t),n,r,s,i),e.targetStart=y,e.targetAnchor=y&&o(y);else{e.anchor=o(t);let S=y;for(;S;){if(S&&S.nodeType===8){if(S.data==="teleport start anchor")e.targetStart=S;else if(S.data==="teleport anchor"){e.targetAnchor=S,p._lpa=e.targetAnchor&&o(e.targetAnchor);break}}S=o(S)}e.targetAnchor||ym(p,e,d,c),f(y&&o(y),e,p,n,r,s,i)}sa(e,m)}return e.anchor&&o(e.anchor)}const hb=vm;function sa(t,e){const n=t.ctx;if(n&&n.ut){let r,s;for(e?(r=t.el,s=t.anchor):(r=t.targetStart,s=t.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function ym(t,e,n,r){const s=e.targetStart=n(""),i=e.targetAnchor=n("");return s[gm]=i,t&&(r(s,t),r(i,t)),i}function Sc(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Sc(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function bm(t,e){return Ve(t)?qt({name:t.name},e,{setup:t}):t}function _m(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Ea(t,e,n,r,s=!1){if(xe(t)){t.forEach((y,S)=>Ea(y,e&&(xe(e)?e[S]:e),n,r,s));return}if(Qs(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ea(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?ol(r.component):r.el,o=s?null:i,{i:a,r:u}=t,c=e&&e.r,d=a.refs===Ze?a.refs={}:a.refs,f=a.setupState,p=Ge(f),m=f===Ze?()=>!1:y=>Qe(p,y);if(c!=null&&c!==u&&(ct(c)?(d[c]=null,m(c)&&(f[c]=null)):Dt(c)&&(c.value=null)),Ve(u))Eo(u,a,12,[o,d]);else{const y=ct(u),S=Dt(u);if(y||S){const A=()=>{if(t.f){const C=y?m(u)?f[u]:d[u]:u.value;s?xe(C)&&mc(C,i):xe(C)?C.includes(i)||C.push(i):y?(d[u]=[i],m(u)&&(f[u]=d[u])):(u.value=[i],t.k&&(d[t.k]=u.value))}else y?(d[u]=o,m(u)&&(f[u]=o)):S&&(u.value=o,t.k&&(d[t.k]=o))};o?(A.id=-1,Gt(A,n)):A()}}}Ja().requestIdleCallback;Ja().cancelIdleCallback;const Qs=t=>!!t.type.__asyncLoader,wm=t=>t.type.__isKeepAlive;function pb(t,e){Em(t,"a",e)}function mb(t,e){Em(t,"da",e)}function Em(t,e,n=kt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(rl(e,r,n),n){let s=n.parent;for(;s&&s.parent;)wm(s.parent.vnode)&&gb(r,e,n,s),s=s.parent}}function gb(t,e,n,r){const s=rl(e,t,r,!0);Sm(()=>{mc(r[e],s)},n)}function rl(t,e,n=kt,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Ur();const a=Io(n),u=Ln(e,n,t,o);return a(),zr(),u});return r?s.unshift(i):s.push(i),i}}const cr=t=>(e,n=kt)=>{(!lo||t==="sp")&&rl(t,(...r)=>e(...r),n)},vb=cr("bm"),vt=cr("m"),Tm=cr("bu"),Ic=cr("u"),To=cr("bum"),Sm=cr("um"),yb=cr("sp"),bb=cr("rtg"),_b=cr("rtc");function wb(t,e=kt){rl("ec",t,e)}const Im="components";function pi(t,e){return xm(Im,t,!0,e)||t}const Am=Symbol.for("v-ndc");function Eb(t){return ct(t)?xm(Im,t,!1)||t:t||Am}function xm(t,e,n=!0,r=!1){const s=xt||kt;if(s){const i=s.type;{const a=l_(i,!1);if(a&&(a===e||a===mn(e)||a===Xa(mn(e))))return i}const o=wf(s[t]||i[t],e)||wf(s.appContext[t],e);return!o&&r?i:o}}function wf(t,e){return t&&(t[e]||t[mn(e)]||t[Xa(mn(e))])}function Xe(t,e,n,r){let s;const i=n,o=xe(t);if(o||ct(t)){const a=o&&Ws(t);let u=!1;a&&(u=!hn(t),t=tl(t)),s=new Array(t.length);for(let c=0,d=t.length;c<d;c++)s[c]=e(u?Ut(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(it(t))if(t[Symbol.iterator])s=Array.from(t,(a,u)=>e(a,u,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let u=0,c=a.length;u<c;u++){const d=a[u];s[u]=e(t[d],d,u,i)}}else s=[];return s}function Ft(t,e,n={},r,s){if(xt.ce||xt.parent&&Qs(xt.parent)&&xt.parent.ce)return e!=="default"&&(n.name=e),j(),ot(De,null,[ge("slot",n,r&&r())],64);let i=t[e];i&&i._c&&(i._d=!1),j();const o=i&&Cm(i(n)),a=n.key||o&&o.key,u=ot(De,{key:(a&&!ur(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return!s&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),i&&i._c&&(i._d=!0),u}function Cm(t){return t.some(e=>ao(e)?!(e.type===Or||e.type===De&&!Cm(e.children)):!0)?t:null}const Ru=t=>t?Km(t)?ol(t):Ru(t.parent):null,Wi=qt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ru(t.parent),$root:t=>Ru(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Rm(t),$forceUpdate:t=>t.f||(t.f=()=>{Tc(t.update)}),$nextTick:t=>t.n||(t.n=Ir.bind(t.proxy)),$watch:t=>zb.bind(t)}),Yl=(t,e)=>t!==Ze&&!t.__isScriptSetup&&Qe(t,e),Tb={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:u}=t;let c;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Yl(r,e))return o[e]=1,r[e];if(s!==Ze&&Qe(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&Qe(c,e))return o[e]=3,i[e];if(n!==Ze&&Qe(n,e))return o[e]=4,n[e];ku&&(o[e]=0)}}const d=Wi[e];let f,p;if(d)return e==="$attrs"&&jt(t.attrs,"get",""),d(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Ze&&Qe(n,e))return o[e]=4,n[e];if(p=u.config.globalProperties,Qe(p,e))return p[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Yl(s,e)?(s[e]=n,!0):r!==Ze&&Qe(r,e)?(r[e]=n,!0):Qe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==Ze&&Qe(t,o)||Yl(e,o)||(a=i[0])&&Qe(a,o)||Qe(r,o)||Qe(Wi,o)||Qe(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Qe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Ef(t){return xe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let ku=!0;function Sb(t){const e=Rm(t),n=t.proxy,r=t.ctx;ku=!1,e.beforeCreate&&Tf(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:u,inject:c,created:d,beforeMount:f,mounted:p,beforeUpdate:m,updated:y,activated:S,deactivated:A,beforeDestroy:C,beforeUnmount:b,destroyed:v,unmounted:x,render:V,renderTracked:M,renderTriggered:T,errorCaptured:w,serverPrefetch:_,expose:I,inheritAttrs:k,components:O,directives:R,filters:ae}=e;if(c&&Ib(c,r,null),o)for(const se in o){const he=o[se];Ve(he)&&(r[se]=he.bind(n))}if(s){const se=s.call(n,n);it(se)&&(t.data=wo(se))}if(ku=!0,i)for(const se in i){const he=i[se],_e=Ve(he)?he.bind(n,n):Ve(he.get)?he.get.bind(n,n):On,Fe=!Ve(he)&&Ve(he.set)?he.set.bind(n):On,Pe=Ae({get:_e,set:Fe});Object.defineProperty(r,se,{enumerable:!0,configurable:!0,get:()=>Pe.value,set:ke=>Pe.value=ke})}if(a)for(const se in a)Pm(a[se],r,n,se);if(u){const se=Ve(u)?u.call(n):u;Reflect.ownKeys(se).forEach(he=>{Xs(he,se[he])})}d&&Tf(d,t,"c");function Z(se,he){xe(he)?he.forEach(_e=>se(_e.bind(n))):he&&se(he.bind(n))}if(Z(vb,f),Z(vt,p),Z(Tm,m),Z(Ic,y),Z(pb,S),Z(mb,A),Z(wb,w),Z(_b,M),Z(bb,T),Z(To,b),Z(Sm,x),Z(yb,_),xe(I))if(I.length){const se=t.exposed||(t.exposed={});I.forEach(he=>{Object.defineProperty(se,he,{get:()=>n[he],set:_e=>n[he]=_e})})}else t.exposed||(t.exposed={});V&&t.render===On&&(t.render=V),k!=null&&(t.inheritAttrs=k),O&&(t.components=O),R&&(t.directives=R),_&&_m(t)}function Ib(t,e,n=On){xe(t)&&(t=Ou(t));for(const r in t){const s=t[r];let i;it(s)?"default"in s?i=bn(s.from||r,s.default,!0):i=bn(s.from||r):i=bn(s),Dt(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Tf(t,e,n){Ln(xe(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Pm(t,e,n,r){let s=r.includes(".")?zm(n,r):()=>n[r];if(ct(t)){const i=e[t];Ve(i)&&At(s,i)}else if(Ve(t))At(s,t.bind(n));else if(it(t))if(xe(t))t.forEach(i=>Pm(i,e,n,r));else{const i=Ve(t.handler)?t.handler.bind(n):e[t.handler];Ve(i)&&At(s,i,t)}}function Rm(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let u;return a?u=a:!s.length&&!n&&!r?u=e:(u={},s.length&&s.forEach(c=>Ta(u,c,o,!0)),Ta(u,e,o)),it(e)&&i.set(e,u),u}function Ta(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Ta(t,i,n,!0),s&&s.forEach(o=>Ta(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=Ab[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Ab={data:Sf,props:If,emits:If,methods:$i,computed:$i,beforeCreate:Ht,created:Ht,beforeMount:Ht,mounted:Ht,beforeUpdate:Ht,updated:Ht,beforeDestroy:Ht,beforeUnmount:Ht,destroyed:Ht,unmounted:Ht,activated:Ht,deactivated:Ht,errorCaptured:Ht,serverPrefetch:Ht,components:$i,directives:$i,watch:Cb,provide:Sf,inject:xb};function Sf(t,e){return e?t?function(){return qt(Ve(t)?t.call(this,this):t,Ve(e)?e.call(this,this):e)}:e:t}function xb(t,e){return $i(Ou(t),Ou(e))}function Ou(t){if(xe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ht(t,e){return t?[...new Set([].concat(t,e))]:e}function $i(t,e){return t?qt(Object.create(null),t,e):e}function If(t,e){return t?xe(t)&&xe(e)?[...new Set([...t,...e])]:qt(Object.create(null),Ef(t),Ef(e??{})):e}function Cb(t,e){if(!t)return e;if(!e)return t;const n=qt(Object.create(null),t);for(const r in e)n[r]=Ht(t[r],e[r]);return n}function km(){return{app:null,config:{isNativeTag:b0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Pb=0;function Rb(t,e){return function(r,s=null){Ve(r)||(r=qt({},r)),s!=null&&!it(s)&&(s=null);const i=km(),o=new WeakSet,a=[];let u=!1;const c=i.app={_uid:Pb++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:c_,get config(){return i.config},set config(d){},use(d,...f){return o.has(d)||(d&&Ve(d.install)?(o.add(d),d.install(c,...f)):Ve(d)&&(o.add(d),d(c,...f))),c},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),c},component(d,f){return f?(i.components[d]=f,c):i.components[d]},directive(d,f){return f?(i.directives[d]=f,c):i.directives[d]},mount(d,f,p){if(!u){const m=c._ceVNode||ge(r,s);return m.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),t(m,d,p),u=!0,c._container=d,d.__vue_app__=c,ol(m.component)}},onUnmount(d){a.push(d)},unmount(){u&&(Ln(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(d,f){return i.provides[d]=f,c},runWithContext(d){const f=Ys;Ys=c;try{return d()}finally{Ys=f}}};return c}}let Ys=null;function Xs(t,e){if(kt){let n=kt.provides;const r=kt.parent&&kt.parent.provides;r===n&&(n=kt.provides=Object.create(r)),n[t]=e}}function bn(t,e,n=!1){const r=kt||xt;if(r||Ys){const s=Ys?Ys._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Ve(e)?e.call(r&&r.proxy):e}}const Om={},Dm=()=>Object.create(Om),Vm=t=>Object.getPrototypeOf(t)===Om;function kb(t,e,n,r=!1){const s={},i=Dm();t.propsDefaults=Object.create(null),Mm(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:am(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function Ob(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Ge(s),[u]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let p=d[f];if(sl(t.emitsOptions,p))continue;const m=e[p];if(u)if(Qe(i,p))m!==i[p]&&(i[p]=m,c=!0);else{const y=mn(p);s[y]=Du(u,a,y,m,t,!1)}else m!==i[p]&&(i[p]=m,c=!0)}}}else{Mm(t,e,s,i)&&(c=!0);let d;for(const f in a)(!e||!Qe(e,f)&&((d=jr(f))===f||!Qe(e,d)))&&(u?n&&(n[f]!==void 0||n[d]!==void 0)&&(s[f]=Du(u,a,f,void 0,t,!0)):delete s[f]);if(i!==a)for(const f in i)(!e||!Qe(e,f))&&(delete i[f],c=!0)}c&&er(t.attrs,"set","")}function Mm(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let u in e){if(zi(u))continue;const c=e[u];let d;s&&Qe(s,d=mn(u))?!i||!i.includes(d)?n[d]=c:(a||(a={}))[d]=c:sl(t.emitsOptions,u)||(!(u in r)||c!==r[u])&&(r[u]=c,o=!0)}if(i){const u=Ge(n),c=a||Ze;for(let d=0;d<i.length;d++){const f=i[d];n[f]=Du(s,u,f,c[f],t,!Qe(c,f))}}return o}function Du(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=Qe(o,"default");if(a&&r===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&Ve(u)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const d=Io(s);r=c[n]=u.call(null,e),d()}}else r=u;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===jr(n))&&(r=!0))}return r}const Db=new WeakMap;function Lm(t,e,n=!1){const r=n?Db:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let u=!1;if(!Ve(t)){const d=f=>{u=!0;const[p,m]=Lm(f,e,!0);qt(o,p),m&&a.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!u)return it(t)&&r.set(t,Hs),Hs;if(xe(i))for(let d=0;d<i.length;d++){const f=mn(i[d]);Af(f)&&(o[f]=Ze)}else if(i)for(const d in i){const f=mn(d);if(Af(f)){const p=i[d],m=o[f]=xe(p)||Ve(p)?{type:p}:qt({},p),y=m.type;let S=!1,A=!0;if(xe(y))for(let C=0;C<y.length;++C){const b=y[C],v=Ve(b)&&b.name;if(v==="Boolean"){S=!0;break}else v==="String"&&(A=!1)}else S=Ve(y)&&y.name==="Boolean";m[0]=S,m[1]=A,(S||Qe(m,"default"))&&a.push(f)}}const c=[o,a];return it(t)&&r.set(t,c),c}function Af(t){return t[0]!=="$"&&!zi(t)}const Nm=t=>t[0]==="_"||t==="$stable",Ac=t=>xe(t)?t.map(Rn):[Rn(t)],Vb=(t,e,n)=>{if(e._n)return e;const r=We((...s)=>Ac(e(...s)),n);return r._c=!1,r},$m=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Nm(s))continue;const i=t[s];if(Ve(i))e[s]=Vb(s,i,r);else if(i!=null){const o=Ac(i);e[s]=()=>o}}},Fm=(t,e)=>{const n=Ac(e);t.slots.default=()=>n},Bm=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},Mb=(t,e,n)=>{const r=t.slots=Dm();if(t.vnode.shapeFlag&32){const s=e._;s?(Bm(r,e,n),n&&zp(r,"_",s,!0)):$m(e,r)}else e&&Fm(t,e)},Lb=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Ze;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:Bm(s,e,n):(i=!e.$stable,$m(e,s)),o=e}else e&&(Fm(t,e),o={default:1});if(i)for(const a in s)!Nm(a)&&o[a]==null&&delete s[a]},Gt=Yb;function Nb(t){return $b(t)}function $b(t,e){const n=Ja();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:u,setText:c,setElementText:d,parentNode:f,nextSibling:p,setScopeId:m=On,insertStaticContent:y}=t,S=(D,L,$,q=null,G=null,H=null,re=void 0,J=null,X=!!L.dynamicChildren)=>{if(D===L)return;D&&!Oi(D,L)&&(q=F(D),ke(D,G,H,!0),D=null),L.patchFlag===-2&&(X=!1,L.dynamicChildren=null);const{type:K,ref:be,shapeFlag:oe}=L;switch(K){case il:A(D,L,$,q);break;case Or:C(D,L,$,q);break;case ia:D==null&&b(L,$,q,re);break;case De:O(D,L,$,q,G,H,re,J,X);break;default:oe&1?V(D,L,$,q,G,H,re,J,X):oe&6?R(D,L,$,q,G,H,re,J,X):(oe&64||oe&128)&&K.process(D,L,$,q,G,H,re,J,X,ue)}be!=null&&G&&Ea(be,D&&D.ref,H,L||D,!L)},A=(D,L,$,q)=>{if(D==null)r(L.el=a(L.children),$,q);else{const G=L.el=D.el;L.children!==D.children&&c(G,L.children)}},C=(D,L,$,q)=>{D==null?r(L.el=u(L.children||""),$,q):L.el=D.el},b=(D,L,$,q)=>{[D.el,D.anchor]=y(D.children,L,$,q,D.el,D.anchor)},v=({el:D,anchor:L},$,q)=>{let G;for(;D&&D!==L;)G=p(D),r(D,$,q),D=G;r(L,$,q)},x=({el:D,anchor:L})=>{let $;for(;D&&D!==L;)$=p(D),s(D),D=$;s(L)},V=(D,L,$,q,G,H,re,J,X)=>{L.type==="svg"?re="svg":L.type==="math"&&(re="mathml"),D==null?M(L,$,q,G,H,re,J,X):_(D,L,G,H,re,J,X)},M=(D,L,$,q,G,H,re,J)=>{let X,K;const{props:be,shapeFlag:oe,transition:fe,dirs:pe}=D;if(X=D.el=o(D.type,H,be&&be.is,be),oe&8?d(X,D.children):oe&16&&w(D.children,X,null,q,G,Xl(D,H),re,J),pe&&ns(D,null,q,"created"),T(X,D,D.scopeId,re,q),be){for(const Se in be)Se!=="value"&&!zi(Se)&&i(X,Se,null,be[Se],H,q);"value"in be&&i(X,"value",null,be.value,H),(K=be.onVnodeBeforeMount)&&An(K,q,D)}pe&&ns(D,null,q,"beforeMount");const me=Fb(G,fe);me&&fe.beforeEnter(X),r(X,L,$),((K=be&&be.onVnodeMounted)||me||pe)&&Gt(()=>{K&&An(K,q,D),me&&fe.enter(X),pe&&ns(D,null,q,"mounted")},G)},T=(D,L,$,q,G)=>{if($&&m(D,$),q)for(let H=0;H<q.length;H++)m(D,q[H]);if(G){let H=G.subTree;if(L===H||Hm(H.type)&&(H.ssContent===L||H.ssFallback===L)){const re=G.vnode;T(D,re,re.scopeId,re.slotScopeIds,G.parent)}}},w=(D,L,$,q,G,H,re,J,X=0)=>{for(let K=X;K<D.length;K++){const be=D[K]=J?_r(D[K]):Rn(D[K]);S(null,be,L,$,q,G,H,re,J)}},_=(D,L,$,q,G,H,re)=>{const J=L.el=D.el;let{patchFlag:X,dynamicChildren:K,dirs:be}=L;X|=D.patchFlag&16;const oe=D.props||Ze,fe=L.props||Ze;let pe;if($&&rs($,!1),(pe=fe.onVnodeBeforeUpdate)&&An(pe,$,L,D),be&&ns(L,D,$,"beforeUpdate"),$&&rs($,!0),(oe.innerHTML&&fe.innerHTML==null||oe.textContent&&fe.textContent==null)&&d(J,""),K?I(D.dynamicChildren,K,J,$,q,Xl(L,G),H):re||he(D,L,J,null,$,q,Xl(L,G),H,!1),X>0){if(X&16)k(J,oe,fe,$,G);else if(X&2&&oe.class!==fe.class&&i(J,"class",null,fe.class,G),X&4&&i(J,"style",oe.style,fe.style,G),X&8){const me=L.dynamicProps;for(let Se=0;Se<me.length;Se++){const Me=me[Se],Et=oe[Me],dt=fe[Me];(dt!==Et||Me==="value")&&i(J,Me,Et,dt,G,$)}}X&1&&D.children!==L.children&&d(J,L.children)}else!re&&K==null&&k(J,oe,fe,$,G);((pe=fe.onVnodeUpdated)||be)&&Gt(()=>{pe&&An(pe,$,L,D),be&&ns(L,D,$,"updated")},q)},I=(D,L,$,q,G,H,re)=>{for(let J=0;J<L.length;J++){const X=D[J],K=L[J],be=X.el&&(X.type===De||!Oi(X,K)||X.shapeFlag&70)?f(X.el):$;S(X,K,be,null,q,G,H,re,!0)}},k=(D,L,$,q,G)=>{if(L!==$){if(L!==Ze)for(const H in L)!zi(H)&&!(H in $)&&i(D,H,L[H],null,G,q);for(const H in $){if(zi(H))continue;const re=$[H],J=L[H];re!==J&&H!=="value"&&i(D,H,J,re,G,q)}"value"in $&&i(D,"value",L.value,$.value,G)}},O=(D,L,$,q,G,H,re,J,X)=>{const K=L.el=D?D.el:a(""),be=L.anchor=D?D.anchor:a("");let{patchFlag:oe,dynamicChildren:fe,slotScopeIds:pe}=L;pe&&(J=J?J.concat(pe):pe),D==null?(r(K,$,q),r(be,$,q),w(L.children||[],$,be,G,H,re,J,X)):oe>0&&oe&64&&fe&&D.dynamicChildren?(I(D.dynamicChildren,fe,$,G,H,re,J),(L.key!=null||G&&L===G.subTree)&&xc(D,L,!0)):he(D,L,$,be,G,H,re,J,X)},R=(D,L,$,q,G,H,re,J,X)=>{L.slotScopeIds=J,D==null?L.shapeFlag&512?G.ctx.activate(L,$,q,re,X):ae(L,$,q,G,H,re,X):ye(D,L,X)},ae=(D,L,$,q,G,H,re)=>{const J=D.component=r_(D,q,G);if(wm(D)&&(J.ctx.renderer=ue),s_(J,!1,re),J.asyncDep){if(G&&G.registerDep(J,Z,re),!D.el){const X=J.subTree=ge(Or);C(null,X,L,$)}}else Z(J,D,L,$,G,H,re)},ye=(D,L,$)=>{const q=L.component=D.component;if(Kb(D,L,$))if(q.asyncDep&&!q.asyncResolved){se(q,L,$);return}else q.next=L,q.update();else L.el=D.el,q.vnode=L},Z=(D,L,$,q,G,H,re)=>{const J=()=>{if(D.isMounted){let{next:oe,bu:fe,u:pe,parent:me,vnode:Se}=D;{const Tt=jm(D);if(Tt){oe&&(oe.el=Se.el,se(D,oe,re)),Tt.asyncDep.then(()=>{D.isUnmounted||J()});return}}let Me=oe,Et;rs(D,!1),oe?(oe.el=Se.el,se(D,oe,re)):oe=Se,fe&&ra(fe),(Et=oe.props&&oe.props.onVnodeBeforeUpdate)&&An(Et,me,oe,Se),rs(D,!0);const dt=Cf(D),Mt=D.subTree;D.subTree=dt,S(Mt,dt,f(Mt.el),F(Mt),D,G,H),oe.el=dt.el,Me===null&&Qb(D,dt.el),pe&&Gt(pe,G),(Et=oe.props&&oe.props.onVnodeUpdated)&&Gt(()=>An(Et,me,oe,Se),G)}else{let oe;const{el:fe,props:pe}=L,{bm:me,m:Se,parent:Me,root:Et,type:dt}=D,Mt=Qs(L);rs(D,!1),me&&ra(me),!Mt&&(oe=pe&&pe.onVnodeBeforeMount)&&An(oe,Me,L),rs(D,!0);{Et.ce&&Et.ce._injectChildStyle(dt);const Tt=D.subTree=Cf(D);S(null,Tt,$,q,D,G,H),L.el=Tt.el}if(Se&&Gt(Se,G),!Mt&&(oe=pe&&pe.onVnodeMounted)){const Tt=L;Gt(()=>An(oe,Me,Tt),G)}(L.shapeFlag&256||Me&&Qs(Me.vnode)&&Me.vnode.shapeFlag&256)&&D.a&&Gt(D.a,G),D.isMounted=!0,L=$=q=null}};D.scope.on();const X=D.effect=new Wp(J);D.scope.off();const K=D.update=X.run.bind(X),be=D.job=X.runIfDirty.bind(X);be.i=D,be.id=D.uid,X.scheduler=()=>Tc(be),rs(D,!0),K()},se=(D,L,$)=>{L.component=D;const q=D.vnode.props;D.vnode=L,D.next=null,Ob(D,L.props,q,$),Lb(D,L.children,$),Ur(),vf(D),zr()},he=(D,L,$,q,G,H,re,J,X=!1)=>{const K=D&&D.children,be=D?D.shapeFlag:0,oe=L.children,{patchFlag:fe,shapeFlag:pe}=L;if(fe>0){if(fe&128){Fe(K,oe,$,q,G,H,re,J,X);return}else if(fe&256){_e(K,oe,$,q,G,H,re,J,X);return}}pe&8?(be&16&&Y(K,G,H),oe!==K&&d($,oe)):be&16?pe&16?Fe(K,oe,$,q,G,H,re,J,X):Y(K,G,H,!0):(be&8&&d($,""),pe&16&&w(oe,$,q,G,H,re,J,X))},_e=(D,L,$,q,G,H,re,J,X)=>{D=D||Hs,L=L||Hs;const K=D.length,be=L.length,oe=Math.min(K,be);let fe;for(fe=0;fe<oe;fe++){const pe=L[fe]=X?_r(L[fe]):Rn(L[fe]);S(D[fe],pe,$,null,G,H,re,J,X)}K>be?Y(D,G,H,!0,!1,oe):w(L,$,q,G,H,re,J,X,oe)},Fe=(D,L,$,q,G,H,re,J,X)=>{let K=0;const be=L.length;let oe=D.length-1,fe=be-1;for(;K<=oe&&K<=fe;){const pe=D[K],me=L[K]=X?_r(L[K]):Rn(L[K]);if(Oi(pe,me))S(pe,me,$,null,G,H,re,J,X);else break;K++}for(;K<=oe&&K<=fe;){const pe=D[oe],me=L[fe]=X?_r(L[fe]):Rn(L[fe]);if(Oi(pe,me))S(pe,me,$,null,G,H,re,J,X);else break;oe--,fe--}if(K>oe){if(K<=fe){const pe=fe+1,me=pe<be?L[pe].el:q;for(;K<=fe;)S(null,L[K]=X?_r(L[K]):Rn(L[K]),$,me,G,H,re,J,X),K++}}else if(K>fe)for(;K<=oe;)ke(D[K],G,H,!0),K++;else{const pe=K,me=K,Se=new Map;for(K=me;K<=fe;K++){const rt=L[K]=X?_r(L[K]):Rn(L[K]);rt.key!=null&&Se.set(rt.key,K)}let Me,Et=0;const dt=fe-me+1;let Mt=!1,Tt=0;const Tn=new Array(dt);for(K=0;K<dt;K++)Tn[K]=0;for(K=pe;K<=oe;K++){const rt=D[K];if(Et>=dt){ke(rt,G,H,!0);continue}let pt;if(rt.key!=null)pt=Se.get(rt.key);else for(Me=me;Me<=fe;Me++)if(Tn[Me-me]===0&&Oi(rt,L[Me])){pt=Me;break}pt===void 0?ke(rt,G,H,!0):(Tn[pt-me]=K+1,pt>=Tt?Tt=pt:Mt=!0,S(rt,L[pt],$,null,G,H,re,J,X),Et++)}const Qr=Mt?Bb(Tn):Hs;for(Me=Qr.length-1,K=dt-1;K>=0;K--){const rt=me+K,pt=L[rt],Ts=rt+1<be?L[rt+1].el:q;Tn[K]===0?S(null,pt,$,Ts,G,H,re,J,X):Mt&&(Me<0||K!==Qr[Me]?Pe(pt,$,Ts,2):Me--)}}},Pe=(D,L,$,q,G=null)=>{const{el:H,type:re,transition:J,children:X,shapeFlag:K}=D;if(K&6){Pe(D.component.subTree,L,$,q);return}if(K&128){D.suspense.move(L,$,q);return}if(K&64){re.move(D,L,$,ue);return}if(re===De){r(H,L,$);for(let oe=0;oe<X.length;oe++)Pe(X[oe],L,$,q);r(D.anchor,L,$);return}if(re===ia){v(D,L,$);return}if(q!==2&&K&1&&J)if(q===0)J.beforeEnter(H),r(H,L,$),Gt(()=>J.enter(H),G);else{const{leave:oe,delayLeave:fe,afterLeave:pe}=J,me=()=>r(H,L,$),Se=()=>{oe(H,()=>{me(),pe&&pe()})};fe?fe(H,me,Se):Se()}else r(H,L,$)},ke=(D,L,$,q=!1,G=!1)=>{const{type:H,props:re,ref:J,children:X,dynamicChildren:K,shapeFlag:be,patchFlag:oe,dirs:fe,cacheIndex:pe}=D;if(oe===-2&&(G=!1),J!=null&&Ea(J,null,$,D,!0),pe!=null&&(L.renderCache[pe]=void 0),be&256){L.ctx.deactivate(D);return}const me=be&1&&fe,Se=!Qs(D);let Me;if(Se&&(Me=re&&re.onVnodeBeforeUnmount)&&An(Me,L,D),be&6)Ee(D.component,$,q);else{if(be&128){D.suspense.unmount($,q);return}me&&ns(D,null,L,"beforeUnmount"),be&64?D.type.remove(D,L,$,ue,q):K&&!K.hasOnce&&(H!==De||oe>0&&oe&64)?Y(K,L,$,!1,!0):(H===De&&oe&384||!G&&be&16)&&Y(X,L,$),q&&Be(D)}(Se&&(Me=re&&re.onVnodeUnmounted)||me)&&Gt(()=>{Me&&An(Me,L,D),me&&ns(D,null,L,"unmounted")},$)},Be=D=>{const{type:L,el:$,anchor:q,transition:G}=D;if(L===De){je($,q);return}if(L===ia){x(D);return}const H=()=>{s($),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(D.shapeFlag&1&&G&&!G.persisted){const{leave:re,delayLeave:J}=G,X=()=>re($,H);J?J(D.el,H,X):X()}else H()},je=(D,L)=>{let $;for(;D!==L;)$=p(D),s(D),D=$;s(L)},Ee=(D,L,$)=>{const{bum:q,scope:G,job:H,subTree:re,um:J,m:X,a:K}=D;xf(X),xf(K),q&&ra(q),G.stop(),H&&(H.flags|=8,ke(re,D,L,$)),J&&Gt(J,L),Gt(()=>{D.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},Y=(D,L,$,q=!1,G=!1,H=0)=>{for(let re=H;re<D.length;re++)ke(D[re],L,$,q,G)},F=D=>{if(D.shapeFlag&6)return F(D.component.subTree);if(D.shapeFlag&128)return D.suspense.next();const L=p(D.anchor||D.el),$=L&&L[gm];return $?p($):L};let te=!1;const ne=(D,L,$)=>{D==null?L._vnode&&ke(L._vnode,null,null,!0):S(L._vnode||null,D,L,null,null,null,$),L._vnode=D,te||(te=!0,vf(),hm(),te=!1)},ue={p:S,um:ke,m:Pe,r:Be,mt:ae,mc:w,pc:he,pbc:I,n:F,o:t};return{render:ne,hydrate:void 0,createApp:Rb(ne)}}function Xl({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function rs({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Fb(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function xc(t,e,n=!1){const r=t.children,s=e.children;if(xe(r)&&xe(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=_r(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&xc(o,a)),a.type===il&&(a.el=o.el)}}function Bb(t){const e=t.slice(),n=[0];let r,s,i,o,a;const u=t.length;for(r=0;r<u;r++){const c=t[r];if(c!==0){if(s=n[n.length-1],t[s]<c){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function jm(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:jm(e)}function xf(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const jb=Symbol.for("v-scx"),Ub=()=>bn(jb);function At(t,e,n){return Um(t,e,n)}function Um(t,e,n=Ze){const{immediate:r,deep:s,flush:i,once:o}=n,a=qt({},n),u=e&&r||!e&&i!=="post";let c;if(lo){if(i==="sync"){const m=Ub();c=m.__watcherHandles||(m.__watcherHandles=[])}else if(!u){const m=()=>{};return m.stop=On,m.resume=On,m.pause=On,m}}const d=kt;a.call=(m,y,S)=>Ln(m,d,y,S);let f=!1;i==="post"?a.scheduler=m=>{Gt(m,d&&d.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(m,y)=>{y?m():Tc(m)}),a.augmentJob=m=>{e&&(m.flags|=4),f&&(m.flags|=2,d&&(m.id=d.uid,m.i=d))};const p=ab(t,e,a);return lo&&(c?c.push(p):u&&p()),p}function zb(t,e,n){const r=this.proxy,s=ct(t)?t.includes(".")?zm(r,t):()=>r[t]:t.bind(r,r);let i;Ve(e)?i=e:(i=e.handler,n=e);const o=Io(this),a=Um(s,i.bind(r),n);return o(),a}function zm(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const qb=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${mn(e)}Modifiers`]||t[`${jr(e)}Modifiers`];function Hb(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ze;let s=n;const i=e.startsWith("update:"),o=i&&qb(r,e.slice(7));o&&(o.trim&&(s=n.map(d=>ct(d)?d.trim():d)),o.number&&(s=n.map(Su)));let a,u=r[a=Hl(e)]||r[a=Hl(mn(e))];!u&&i&&(u=r[a=Hl(jr(e))]),u&&Ln(u,t,6,s);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ln(c,t,6,s)}}function qm(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!Ve(t)){const u=c=>{const d=qm(c,e,!0);d&&(a=!0,qt(o,d))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!a?(it(t)&&r.set(t,null),null):(xe(i)?i.forEach(u=>o[u]=null):qt(o,i),it(t)&&r.set(t,o),o)}function sl(t,e){return!t||!Ka(e)?!1:(e=e.slice(2).replace(/Once$/,""),Qe(t,e[0].toLowerCase()+e.slice(1))||Qe(t,jr(e))||Qe(t,e))}function Cf(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:u,render:c,renderCache:d,props:f,data:p,setupState:m,ctx:y,inheritAttrs:S}=t,A=wa(t);let C,b;try{if(n.shapeFlag&4){const x=s||r,V=x;C=Rn(c.call(V,x,d,f,m,p,y)),b=a}else{const x=e;C=Rn(x.length>1?x(f,{attrs:a,slots:o,emit:u}):x(f,null)),b=e.props?a:Gb(a)}}catch(x){Ki.length=0,nl(x,t,1),C=ge(Or)}let v=C;if(b&&S!==!1){const x=Object.keys(b),{shapeFlag:V}=v;x.length&&V&7&&(i&&x.some(pc)&&(b=Wb(b,i)),v=ei(v,b,!1,!0))}return n.dirs&&(v=ei(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&Sc(v,n.transition),C=v,wa(A),C}const Gb=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ka(n))&&((e||(e={}))[n]=t[n]);return e},Wb=(t,e)=>{const n={};for(const r in t)(!pc(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Kb(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:u}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?Pf(r,o,c):!!o;if(u&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const p=d[f];if(o[p]!==r[p]&&!sl(c,p))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Pf(r,o,c):!0:!!o;return!1}function Pf(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!sl(n,i))return!0}return!1}function Qb({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Hm=t=>t.__isSuspense;function Yb(t,e){e&&e.pendingBranch?xe(t)?e.effects.push(...t):e.effects.push(t):cb(t)}const De=Symbol.for("v-fgt"),il=Symbol.for("v-txt"),Or=Symbol.for("v-cmt"),ia=Symbol.for("v-stc"),Ki=[];let on=null;function j(t=!1){Ki.push(on=t?null:[])}function Xb(){Ki.pop(),on=Ki[Ki.length-1]||null}let oo=1;function Rf(t,e=!1){oo+=t,t<0&&on&&e&&(on.hasOnce=!0)}function Gm(t){return t.dynamicChildren=oo>0?on||Hs:null,Xb(),oo>0&&on&&on.push(t),t}function z(t,e,n,r,s,i){return Gm(E(t,e,n,r,s,i,!0))}function ot(t,e,n,r,s){return Gm(ge(t,e,n,r,s,!0))}function ao(t){return t?t.__v_isVNode===!0:!1}function Oi(t,e){return t.type===e.type&&t.key===e.key}const Wm=({key:t})=>t??null,oa=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ct(t)||Dt(t)||Ve(t)?{i:xt,r:t,k:e,f:!!n}:t:null);function E(t,e=null,n=null,r=0,s=null,i=t===De?0:1,o=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Wm(e),ref:e&&oa(e),scopeId:mm,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:xt};return a?(Cc(u,n),i&128&&t.normalize(u)):n&&(u.shapeFlag|=ct(n)?8:16),oo>0&&!o&&on&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&on.push(u),u}const ge=Jb;function Jb(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Am)&&(t=Or),ao(t)){const a=ei(t,e,!0);return n&&Cc(a,n),oo>0&&!i&&on&&(a.shapeFlag&6?on[on.indexOf(t)]=a:on.push(a)),a.patchFlag=-2,a}if(u_(t)&&(t=t.__vccOpts),e){e=Zb(e);let{class:a,style:u}=e;a&&!ct(a)&&(e.class=Oe(a)),it(u)&&(Ec(u)&&!xe(u)&&(u=qt({},u)),e.style=Za(u))}const o=ct(t)?1:Hm(t)?128:db(t)?64:it(t)?4:Ve(t)?2:0;return E(t,e,n,r,s,o,i,!0)}function Zb(t){return t?Ec(t)||Vm(t)?qt({},t):t:null}function ei(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:u}=t,c=e?aa(s||{},e):s,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Wm(c),ref:e&&e.ref?n&&i?xe(i)?i.concat(oa(e)):[i,oa(e)]:oa(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==De?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ei(t.ssContent),ssFallback:t.ssFallback&&ei(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&r&&Sc(d,u.clone(d)),d}function ht(t=" ",e=0){return ge(il,null,t,e)}function e_(t,e){const n=ge(ia,null,t);return n.staticCount=e,n}function le(t="",e=!1){return e?(j(),ot(Or,null,t)):ge(Or,null,t)}function Rn(t){return t==null||typeof t=="boolean"?ge(Or):xe(t)?ge(De,null,t.slice()):ao(t)?_r(t):ge(il,null,String(t))}function _r(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ei(t)}function Cc(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(xe(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Cc(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Vm(e)?e._ctx=xt:s===3&&xt&&(xt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ve(e)?(e={default:e,_ctx:xt},n=32):(e=String(e),r&64?(n=16,e=[ht(e)]):n=8);t.children=e,t.shapeFlag|=n}function aa(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Oe([e.class,r.class]));else if(s==="style")e.style=Za([e.style,r.style]);else if(Ka(s)){const i=e[s],o=r[s];o&&i!==o&&!(xe(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function An(t,e,n,r=null){Ln(t,e,7,[n,r])}const t_=km();let n_=0;function r_(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||t_,i={uid:n_++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new R0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Lm(r,s),emitsOptions:qm(r,s),emit:null,emitted:null,propsDefaults:Ze,inheritAttrs:r.inheritAttrs,ctx:Ze,data:Ze,props:Ze,attrs:Ze,slots:Ze,refs:Ze,setupState:Ze,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Hb.bind(null,i),t.ce&&t.ce(i),i}let kt=null;const So=()=>kt||xt;let Sa,Vu;{const t=Ja(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Sa=e("__VUE_INSTANCE_SETTERS__",n=>kt=n),Vu=e("__VUE_SSR_SETTERS__",n=>lo=n)}const Io=t=>{const e=kt;return Sa(t),t.scope.on(),()=>{t.scope.off(),Sa(e)}},kf=()=>{kt&&kt.scope.off(),Sa(null)};function Km(t){return t.vnode.shapeFlag&4}let lo=!1;function s_(t,e=!1,n=!1){e&&Vu(e);const{props:r,children:s}=t.vnode,i=Km(t);kb(t,r,i,e),Mb(t,s,n);const o=i?i_(t,e):void 0;return e&&Vu(!1),o}function i_(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Tb);const{setup:r}=n;if(r){Ur();const s=t.setupContext=r.length>1?a_(t):null,i=Io(t),o=Eo(r,t,0,[t.props,s]),a=Bp(o);if(zr(),i(),(a||t.sp)&&!Qs(t)&&_m(t),a){if(o.then(kf,kf),e)return o.then(u=>{Of(t,u)}).catch(u=>{nl(u,t,0)});t.asyncDep=o}else Of(t,o)}else Qm(t)}function Of(t,e,n){Ve(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:it(e)&&(t.setupState=cm(e)),Qm(t)}function Qm(t,e,n){const r=t.type;t.render||(t.render=r.render||On);{const s=Io(t);Ur();try{Sb(t)}finally{zr(),s()}}}const o_={get(t,e){return jt(t,"get",""),t[e]}};function a_(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,o_),slots:t.slots,emit:t.emit,expose:e}}function ol(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(cm(X0(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Wi)return Wi[n](t)},has(e,n){return n in e||n in Wi}})):t.proxy}function l_(t,e=!0){return Ve(t)?t.displayName||t.name:t.name||e&&t.__name}function u_(t){return Ve(t)&&"__vccOpts"in t}const Ae=(t,e)=>ib(t,e,lo);function Yt(t,e,n){const r=arguments.length;return r===2?it(e)&&!xe(e)?ao(e)?ge(t,null,[e]):ge(t,e):ge(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ao(n)&&(n=[n]),ge(t,e,n))}const c_="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mu;const Df=typeof window<"u"&&window.trustedTypes;if(Df)try{Mu=Df.createPolicy("vue",{createHTML:t=>t})}catch{}const Ym=Mu?t=>Mu.createHTML(t):t=>t,d_="http://www.w3.org/2000/svg",f_="http://www.w3.org/1998/Math/MathML",Zn=typeof document<"u"?document:null,Vf=Zn&&Zn.createElement("template"),h_={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Zn.createElementNS(d_,t):e==="mathml"?Zn.createElementNS(f_,t):n?Zn.createElement(t,{is:n}):Zn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Zn.createTextNode(t),createComment:t=>Zn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Zn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Vf.innerHTML=Ym(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Vf.content;if(r==="svg"||r==="mathml"){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},p_=Symbol("_vtc");function m_(t,e,n){const r=t[p_];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ia=Symbol("_vod"),Xm=Symbol("_vsh"),g_={beforeMount(t,{value:e},{transition:n}){t[Ia]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Di(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Di(t,!0),r.enter(t)):r.leave(t,()=>{Di(t,!1)}):Di(t,e))},beforeUnmount(t,{value:e}){Di(t,e)}};function Di(t,e){t.style.display=e?t[Ia]:"none",t[Xm]=!e}const v_=Symbol(""),y_=/(^|;)\s*display\s*:/;function b_(t,e,n){const r=t.style,s=ct(n);let i=!1;if(n&&!s){if(e)if(ct(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&la(r,a,"")}else for(const o in e)n[o]==null&&la(r,o,"");for(const o in n)o==="display"&&(i=!0),la(r,o,n[o])}else if(s){if(e!==n){const o=r[v_];o&&(n+=";"+o),r.cssText=n,i=y_.test(n)}}else e&&t.removeAttribute("style");Ia in t&&(t[Ia]=i?r.display:"",t[Xm]&&(r.display="none"))}const Mf=/\s*!important$/;function la(t,e,n){if(xe(n))n.forEach(r=>la(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=__(t,e);Mf.test(n)?t.setProperty(jr(r),n.replace(Mf,""),"important"):t[r]=n}}const Lf=["Webkit","Moz","ms"],Jl={};function __(t,e){const n=Jl[e];if(n)return n;let r=mn(e);if(r!=="filter"&&r in t)return Jl[e]=r;r=Xa(r);for(let s=0;s<Lf.length;s++){const i=Lf[s]+r;if(i in t)return Jl[e]=i}return e}const Nf="http://www.w3.org/1999/xlink";function $f(t,e,n,r,s,i=P0(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Nf,e.slice(6,e.length)):t.setAttributeNS(Nf,e,n):n==null||i&&!qp(n)?t.removeAttribute(e):t.setAttribute(e,i?"":ur(n)?String(n):n)}function Ff(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Ym(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,u=n==null?t.type==="checkbox"?"on":"":String(n);(a!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=qp(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function Fs(t,e,n,r){t.addEventListener(e,n,r)}function w_(t,e,n,r){t.removeEventListener(e,n,r)}const Bf=Symbol("_vei");function E_(t,e,n,r,s=null){const i=t[Bf]||(t[Bf]={}),o=i[e];if(r&&o)o.value=r;else{const[a,u]=T_(e);if(r){const c=i[e]=A_(r,s);Fs(t,a,c,u)}else o&&(w_(t,a,o,u),i[e]=void 0)}}const jf=/(?:Once|Passive|Capture)$/;function T_(t){let e;if(jf.test(t)){e={};let r;for(;r=t.match(jf);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):jr(t.slice(2)),e]}let Zl=0;const S_=Promise.resolve(),I_=()=>Zl||(S_.then(()=>Zl=0),Zl=Date.now());function A_(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ln(x_(r,n.value),e,5,[r])};return n.value=t,n.attached=I_(),n}function x_(t,e){if(xe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Uf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,C_=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?m_(t,r,o):e==="style"?b_(t,n,r):Ka(e)?pc(e)||E_(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):P_(t,e,r,o))?(Ff(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&$f(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ct(r))?Ff(t,mn(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),$f(t,e,r,o))};function P_(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Uf(e)&&Ve(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Uf(e)&&ct(n)?!1:e in t}const zf=t=>{const e=t.props["onUpdate:modelValue"]||!1;return xe(e)?n=>ra(e,n):e};function R_(t){t.target.composing=!0}function qf(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const eu=Symbol("_assign"),yt={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[eu]=zf(s);const i=r||s.props&&s.props.type==="number";Fs(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Su(a)),t[eu](a)}),n&&Fs(t,"change",()=>{t.value=t.value.trim()}),e||(Fs(t,"compositionstart",R_),Fs(t,"compositionend",qf),Fs(t,"change",qf))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[eu]=zf(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Su(t.value):t.value,u=e??"";a!==u&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===u)||(t.value=u))}},k_=["ctrl","shift","alt","meta"],O_={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>k_.some(n=>t[`${n}Key`]&&!e.includes(n))},Ar=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=O_[e[o]];if(a&&a(s,e))return}return t(s,...i)})},D_={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Hf=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=jr(s.key);if(e.some(o=>o===i||D_[o]===i))return t(s)})},V_=qt({patchProp:C_},h_);let Gf;function M_(){return Gf||(Gf=Nb(V_))}const L_=(...t)=>{const e=M_().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=$_(r);if(!s)return;const i=e._component;!Ve(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,N_(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function N_(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function $_(t){return ct(t)?document.querySelector(t):t}const ys={site:"site",trips:"trips"},F_=()=>{};var Wf={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},B_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Zm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;u||(m=64,o||(p=64)),r.push(n[d],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Jm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):B_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new j_;const p=i<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const y=c<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class j_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U_=function(t){const e=Jm(t);return Zm.encodeByteArray(e,!0)},Aa=function(t){return U_(t).replace(/\./g,"")},z_=function(t){try{return Zm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=()=>q_().__FIREBASE_DEFAULTS__,G_=()=>{if(typeof process>"u"||typeof Wf>"u")return;const t=Wf.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&z_(t[1]);return e&&JSON.parse(e)},Pc=()=>{try{return F_()||H_()||G_()||W_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},K_=t=>{var e,n;return(n=(e=Pc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Q_=t=>{const e=K_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eg=()=>{var t;return(t=Pc())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Aa(JSON.stringify(n)),Aa(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z_(){var t;const e=(t=Pc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ew(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tw(){return!Z_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tg(){try{return typeof indexedDB=="object"}catch{return!1}}function ng(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function nw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="FirebaseError";class qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rw,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,al.prototype.create)}}class al{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?sw(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new qr(s,a,r)}}function sw(t,e){return t.replace(iw,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const iw=/\{\$([^}]+)}/g;function uo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Kf(i)&&Kf(o)){if(!uo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Kf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=1e3,aw=2,lw=4*60*60*1e3,uw=.5;function Qf(t,e=ow,n=aw){const r=e*Math.pow(n,t),s=Math.round(uw*r*(Math.random()-.5)*2);return Math.min(lw,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t){return t&&t._delegate?t._delegate:t}class sr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Y_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fw(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dw(t){return t===is?void 0:t}function fw(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const pw={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},mw=qe.INFO,gw={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},vw=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=gw[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rc{constructor(e){this.name=e,this._logLevel=mw,this._logHandler=vw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const yw=(t,e)=>e.some(n=>t instanceof n);let Yf,Xf;function bw(){return Yf||(Yf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _w(){return Xf||(Xf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rg=new WeakMap,Lu=new WeakMap,sg=new WeakMap,tu=new WeakMap,kc=new WeakMap;function ww(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(xr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&rg.set(n,t)}).catch(()=>{}),kc.set(e,t),e}function Ew(t){if(Lu.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Lu.set(t,e)}let Nu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Tw(t){Nu=t(Nu)}function Sw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nu(this),e,...n);return sg.set(r,e.sort?e.sort():[e]),xr(r)}:_w().includes(t)?function(...e){return t.apply(nu(this),e),xr(rg.get(this))}:function(...e){return xr(t.apply(nu(this),e))}}function Iw(t){return typeof t=="function"?Sw(t):(t instanceof IDBTransaction&&Ew(t),yw(t,bw())?new Proxy(t,Nu):t)}function xr(t){if(t instanceof IDBRequest)return ww(t);if(tu.has(t))return tu.get(t);const e=Iw(t);return e!==t&&(tu.set(t,e),kc.set(e,t)),e}const nu=t=>kc.get(t);function ig(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=xr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(xr(o.result),u.oldVersion,u.newVersion,xr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Aw=["get","getKey","getAll","getAllKeys","count"],xw=["put","add","delete","clear"],ru=new Map;function Jf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ru.get(e))return ru.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=xw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Aw.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return ru.set(e,i),i}Tw(t=>({...t,get:(e,n,r)=>Jf(e,n)||t.get(e,n,r),has:(e,n)=>!!Jf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Pw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Pw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $u="@firebase/app",Zf="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new Rc("@firebase/app"),Rw="@firebase/app-compat",kw="@firebase/analytics-compat",Ow="@firebase/analytics",Dw="@firebase/app-check-compat",Vw="@firebase/app-check",Mw="@firebase/auth",Lw="@firebase/auth-compat",Nw="@firebase/database",$w="@firebase/data-connect",Fw="@firebase/database-compat",Bw="@firebase/functions",jw="@firebase/functions-compat",Uw="@firebase/installations",zw="@firebase/installations-compat",qw="@firebase/messaging",Hw="@firebase/messaging-compat",Gw="@firebase/performance",Ww="@firebase/performance-compat",Kw="@firebase/remote-config",Qw="@firebase/remote-config-compat",Yw="@firebase/storage",Xw="@firebase/storage-compat",Jw="@firebase/firestore",Zw="@firebase/vertexai",eE="@firebase/firestore-compat",tE="firebase",nE="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu="[DEFAULT]",rE={[$u]:"fire-core",[Rw]:"fire-core-compat",[Ow]:"fire-analytics",[kw]:"fire-analytics-compat",[Vw]:"fire-app-check",[Dw]:"fire-app-check-compat",[Mw]:"fire-auth",[Lw]:"fire-auth-compat",[Nw]:"fire-rtdb",[$w]:"fire-data-connect",[Fw]:"fire-rtdb-compat",[Bw]:"fire-fn",[jw]:"fire-fn-compat",[Uw]:"fire-iid",[zw]:"fire-iid-compat",[qw]:"fire-fcm",[Hw]:"fire-fcm-compat",[Gw]:"fire-perf",[Ww]:"fire-perf-compat",[Kw]:"fire-rc",[Qw]:"fire-rc-compat",[Yw]:"fire-gcs",[Xw]:"fire-gcs-compat",[Jw]:"fire-fst",[eE]:"fire-fst-compat",[Zw]:"fire-vertex","fire-js":"fire-js",[tE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Map,sE=new Map,Bu=new Map;function eh(t,e){try{t.container.addComponent(e)}catch(n){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dr(t){const e=t.name;if(Bu.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;Bu.set(e,t);for(const n of xa.values())eh(n,t);for(const n of sE.values())eh(n,t);return!0}function Ao(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function iE(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new al("app","Firebase",oE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=nE;function og(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Fu,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Cr.create("bad-app-name",{appName:String(s)});if(n||(n=eg()),!n)throw Cr.create("no-options");const i=xa.get(s);if(i){if(uo(n,i.options)&&uo(r,i.config))return i;throw Cr.create("duplicate-app",{appName:s})}const o=new hw(s);for(const u of Bu.values())o.addComponent(u);const a=new aE(n,r,o);return xa.set(s,a),a}function ag(t=Fu){const e=xa.get(t);if(!e&&t===Fu&&eg())return og();if(!e)throw Cr.create("no-app",{appName:t});return e}function Dn(t,e,n){var r;let s=(r=rE[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(a.join(" "));return}Dr(new sr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="firebase-heartbeat-database",cE=1,co="firebase-heartbeat-store";let su=null;function lg(){return su||(su=ig(uE,cE,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(co)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cr.create("idb-open",{originalErrorMessage:t.message})})),su}async function dE(t){try{const n=(await lg()).transaction(co),r=await n.objectStore(co).get(ug(t));return await n.done,r}catch(e){if(e instanceof qr)ir.warn(e.message);else{const n=Cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ir.warn(n.message)}}}async function th(t,e){try{const r=(await lg()).transaction(co,"readwrite");await r.objectStore(co).put(e,ug(t)),await r.done}catch(n){if(n instanceof qr)ir.warn(n.message);else{const r=Cr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ir.warn(r.message)}}}function ug(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=1024,hE=30;class pE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=nh();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>hE){const o=vE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ir.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nh(),{heartbeatsToSend:r,unsentEntries:s}=mE(this._heartbeatsCache.heartbeats),i=Aa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ir.warn(n),""}}}function nh(){return new Date().toISOString().substring(0,10)}function mE(t,e=fE){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),rh(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),rh(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tg()?ng().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return th(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return th(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function rh(t){return Aa(JSON.stringify({version:2,heartbeats:t})).length}function vE(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(t){Dr(new sr("platform-logger",e=>new Cw(e),"PRIVATE")),Dr(new sr("heartbeat",e=>new pE(e),"PRIVATE")),Dn($u,Zf,t),Dn($u,Zf,"esm2017"),Dn("fire-js","")}yE("");var bE="firebase",_E="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn(bE,_E,"app");var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pr,cg;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,w){function _(){}_.prototype=w.prototype,T.D=w.prototype,T.prototype=new _,T.prototype.constructor=T,T.C=function(I,k,O){for(var R=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)R[ae-2]=arguments[ae];return w.prototype[k].apply(I,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,w,_){_||(_=0);var I=Array(16);if(typeof w=="string")for(var k=0;16>k;++k)I[k]=w.charCodeAt(_++)|w.charCodeAt(_++)<<8|w.charCodeAt(_++)<<16|w.charCodeAt(_++)<<24;else for(k=0;16>k;++k)I[k]=w[_++]|w[_++]<<8|w[_++]<<16|w[_++]<<24;w=T.g[0],_=T.g[1],k=T.g[2];var O=T.g[3],R=w+(O^_&(k^O))+I[0]+3614090360&4294967295;w=_+(R<<7&4294967295|R>>>25),R=O+(k^w&(_^k))+I[1]+3905402710&4294967295,O=w+(R<<12&4294967295|R>>>20),R=k+(_^O&(w^_))+I[2]+606105819&4294967295,k=O+(R<<17&4294967295|R>>>15),R=_+(w^k&(O^w))+I[3]+3250441966&4294967295,_=k+(R<<22&4294967295|R>>>10),R=w+(O^_&(k^O))+I[4]+4118548399&4294967295,w=_+(R<<7&4294967295|R>>>25),R=O+(k^w&(_^k))+I[5]+1200080426&4294967295,O=w+(R<<12&4294967295|R>>>20),R=k+(_^O&(w^_))+I[6]+2821735955&4294967295,k=O+(R<<17&4294967295|R>>>15),R=_+(w^k&(O^w))+I[7]+4249261313&4294967295,_=k+(R<<22&4294967295|R>>>10),R=w+(O^_&(k^O))+I[8]+1770035416&4294967295,w=_+(R<<7&4294967295|R>>>25),R=O+(k^w&(_^k))+I[9]+2336552879&4294967295,O=w+(R<<12&4294967295|R>>>20),R=k+(_^O&(w^_))+I[10]+4294925233&4294967295,k=O+(R<<17&4294967295|R>>>15),R=_+(w^k&(O^w))+I[11]+2304563134&4294967295,_=k+(R<<22&4294967295|R>>>10),R=w+(O^_&(k^O))+I[12]+1804603682&4294967295,w=_+(R<<7&4294967295|R>>>25),R=O+(k^w&(_^k))+I[13]+4254626195&4294967295,O=w+(R<<12&4294967295|R>>>20),R=k+(_^O&(w^_))+I[14]+2792965006&4294967295,k=O+(R<<17&4294967295|R>>>15),R=_+(w^k&(O^w))+I[15]+1236535329&4294967295,_=k+(R<<22&4294967295|R>>>10),R=w+(k^O&(_^k))+I[1]+4129170786&4294967295,w=_+(R<<5&4294967295|R>>>27),R=O+(_^k&(w^_))+I[6]+3225465664&4294967295,O=w+(R<<9&4294967295|R>>>23),R=k+(w^_&(O^w))+I[11]+643717713&4294967295,k=O+(R<<14&4294967295|R>>>18),R=_+(O^w&(k^O))+I[0]+3921069994&4294967295,_=k+(R<<20&4294967295|R>>>12),R=w+(k^O&(_^k))+I[5]+3593408605&4294967295,w=_+(R<<5&4294967295|R>>>27),R=O+(_^k&(w^_))+I[10]+38016083&4294967295,O=w+(R<<9&4294967295|R>>>23),R=k+(w^_&(O^w))+I[15]+3634488961&4294967295,k=O+(R<<14&4294967295|R>>>18),R=_+(O^w&(k^O))+I[4]+3889429448&4294967295,_=k+(R<<20&4294967295|R>>>12),R=w+(k^O&(_^k))+I[9]+568446438&4294967295,w=_+(R<<5&4294967295|R>>>27),R=O+(_^k&(w^_))+I[14]+3275163606&4294967295,O=w+(R<<9&4294967295|R>>>23),R=k+(w^_&(O^w))+I[3]+4107603335&4294967295,k=O+(R<<14&4294967295|R>>>18),R=_+(O^w&(k^O))+I[8]+1163531501&4294967295,_=k+(R<<20&4294967295|R>>>12),R=w+(k^O&(_^k))+I[13]+2850285829&4294967295,w=_+(R<<5&4294967295|R>>>27),R=O+(_^k&(w^_))+I[2]+4243563512&4294967295,O=w+(R<<9&4294967295|R>>>23),R=k+(w^_&(O^w))+I[7]+1735328473&4294967295,k=O+(R<<14&4294967295|R>>>18),R=_+(O^w&(k^O))+I[12]+2368359562&4294967295,_=k+(R<<20&4294967295|R>>>12),R=w+(_^k^O)+I[5]+4294588738&4294967295,w=_+(R<<4&4294967295|R>>>28),R=O+(w^_^k)+I[8]+2272392833&4294967295,O=w+(R<<11&4294967295|R>>>21),R=k+(O^w^_)+I[11]+1839030562&4294967295,k=O+(R<<16&4294967295|R>>>16),R=_+(k^O^w)+I[14]+4259657740&4294967295,_=k+(R<<23&4294967295|R>>>9),R=w+(_^k^O)+I[1]+2763975236&4294967295,w=_+(R<<4&4294967295|R>>>28),R=O+(w^_^k)+I[4]+1272893353&4294967295,O=w+(R<<11&4294967295|R>>>21),R=k+(O^w^_)+I[7]+4139469664&4294967295,k=O+(R<<16&4294967295|R>>>16),R=_+(k^O^w)+I[10]+3200236656&4294967295,_=k+(R<<23&4294967295|R>>>9),R=w+(_^k^O)+I[13]+681279174&4294967295,w=_+(R<<4&4294967295|R>>>28),R=O+(w^_^k)+I[0]+3936430074&4294967295,O=w+(R<<11&4294967295|R>>>21),R=k+(O^w^_)+I[3]+3572445317&4294967295,k=O+(R<<16&4294967295|R>>>16),R=_+(k^O^w)+I[6]+76029189&4294967295,_=k+(R<<23&4294967295|R>>>9),R=w+(_^k^O)+I[9]+3654602809&4294967295,w=_+(R<<4&4294967295|R>>>28),R=O+(w^_^k)+I[12]+3873151461&4294967295,O=w+(R<<11&4294967295|R>>>21),R=k+(O^w^_)+I[15]+530742520&4294967295,k=O+(R<<16&4294967295|R>>>16),R=_+(k^O^w)+I[2]+3299628645&4294967295,_=k+(R<<23&4294967295|R>>>9),R=w+(k^(_|~O))+I[0]+4096336452&4294967295,w=_+(R<<6&4294967295|R>>>26),R=O+(_^(w|~k))+I[7]+1126891415&4294967295,O=w+(R<<10&4294967295|R>>>22),R=k+(w^(O|~_))+I[14]+2878612391&4294967295,k=O+(R<<15&4294967295|R>>>17),R=_+(O^(k|~w))+I[5]+4237533241&4294967295,_=k+(R<<21&4294967295|R>>>11),R=w+(k^(_|~O))+I[12]+1700485571&4294967295,w=_+(R<<6&4294967295|R>>>26),R=O+(_^(w|~k))+I[3]+2399980690&4294967295,O=w+(R<<10&4294967295|R>>>22),R=k+(w^(O|~_))+I[10]+4293915773&4294967295,k=O+(R<<15&4294967295|R>>>17),R=_+(O^(k|~w))+I[1]+2240044497&4294967295,_=k+(R<<21&4294967295|R>>>11),R=w+(k^(_|~O))+I[8]+1873313359&4294967295,w=_+(R<<6&4294967295|R>>>26),R=O+(_^(w|~k))+I[15]+4264355552&4294967295,O=w+(R<<10&4294967295|R>>>22),R=k+(w^(O|~_))+I[6]+2734768916&4294967295,k=O+(R<<15&4294967295|R>>>17),R=_+(O^(k|~w))+I[13]+1309151649&4294967295,_=k+(R<<21&4294967295|R>>>11),R=w+(k^(_|~O))+I[4]+4149444226&4294967295,w=_+(R<<6&4294967295|R>>>26),R=O+(_^(w|~k))+I[11]+3174756917&4294967295,O=w+(R<<10&4294967295|R>>>22),R=k+(w^(O|~_))+I[2]+718787259&4294967295,k=O+(R<<15&4294967295|R>>>17),R=_+(O^(k|~w))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+w&4294967295,T.g[1]=T.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+k&4294967295,T.g[3]=T.g[3]+O&4294967295}r.prototype.u=function(T,w){w===void 0&&(w=T.length);for(var _=w-this.blockSize,I=this.B,k=this.h,O=0;O<w;){if(k==0)for(;O<=_;)s(this,T,O),O+=this.blockSize;if(typeof T=="string"){for(;O<w;)if(I[k++]=T.charCodeAt(O++),k==this.blockSize){s(this,I),k=0;break}}else for(;O<w;)if(I[k++]=T[O++],k==this.blockSize){s(this,I),k=0;break}}this.h=k,this.o+=w},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var w=1;w<T.length-8;++w)T[w]=0;var _=8*this.o;for(w=T.length-8;w<T.length;++w)T[w]=_&255,_/=256;for(this.u(T),T=Array(16),w=_=0;4>w;++w)for(var I=0;32>I;I+=8)T[_++]=this.g[w]>>>I&255;return T};function i(T,w){var _=a;return Object.prototype.hasOwnProperty.call(_,T)?_[T]:_[T]=w(T)}function o(T,w){this.h=w;for(var _=[],I=!0,k=T.length-1;0<=k;k--){var O=T[k]|0;I&&O==w||(_[k]=O,I=!1)}this.g=_}var a={};function u(T){return-128<=T&&128>T?i(T,function(w){return new o([w|0],0>w?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return A(c(-T));for(var w=[],_=1,I=0;T>=_;I++)w[I]=T/_|0,_*=4294967296;return new o(w,0)}function d(T,w){if(T.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(T.charAt(0)=="-")return A(d(T.substring(1),w));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=c(Math.pow(w,8)),I=f,k=0;k<T.length;k+=8){var O=Math.min(8,T.length-k),R=parseInt(T.substring(k,k+O),w);8>O?(O=c(Math.pow(w,O)),I=I.j(O).add(c(R))):(I=I.j(_),I=I.add(c(R)))}return I}var f=u(0),p=u(1),m=u(16777216);t=o.prototype,t.m=function(){if(S(this))return-A(this).m();for(var T=0,w=1,_=0;_<this.g.length;_++){var I=this.i(_);T+=(0<=I?I:4294967296+I)*w,w*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(y(this))return"0";if(S(this))return"-"+A(this).toString(T);for(var w=c(Math.pow(T,6)),_=this,I="";;){var k=x(_,w).g;_=C(_,k.j(w));var O=((0<_.g.length?_.g[0]:_.h)>>>0).toString(T);if(_=k,y(_))return O+I;for(;6>O.length;)O="0"+O;I=O+I}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function y(T){if(T.h!=0)return!1;for(var w=0;w<T.g.length;w++)if(T.g[w]!=0)return!1;return!0}function S(T){return T.h==-1}t.l=function(T){return T=C(this,T),S(T)?-1:y(T)?0:1};function A(T){for(var w=T.g.length,_=[],I=0;I<w;I++)_[I]=~T.g[I];return new o(_,~T.h).add(p)}t.abs=function(){return S(this)?A(this):this},t.add=function(T){for(var w=Math.max(this.g.length,T.g.length),_=[],I=0,k=0;k<=w;k++){var O=I+(this.i(k)&65535)+(T.i(k)&65535),R=(O>>>16)+(this.i(k)>>>16)+(T.i(k)>>>16);I=R>>>16,O&=65535,R&=65535,_[k]=R<<16|O}return new o(_,_[_.length-1]&-2147483648?-1:0)};function C(T,w){return T.add(A(w))}t.j=function(T){if(y(this)||y(T))return f;if(S(this))return S(T)?A(this).j(A(T)):A(A(this).j(T));if(S(T))return A(this.j(A(T)));if(0>this.l(m)&&0>T.l(m))return c(this.m()*T.m());for(var w=this.g.length+T.g.length,_=[],I=0;I<2*w;I++)_[I]=0;for(I=0;I<this.g.length;I++)for(var k=0;k<T.g.length;k++){var O=this.i(I)>>>16,R=this.i(I)&65535,ae=T.i(k)>>>16,ye=T.i(k)&65535;_[2*I+2*k]+=R*ye,b(_,2*I+2*k),_[2*I+2*k+1]+=O*ye,b(_,2*I+2*k+1),_[2*I+2*k+1]+=R*ae,b(_,2*I+2*k+1),_[2*I+2*k+2]+=O*ae,b(_,2*I+2*k+2)}for(I=0;I<w;I++)_[I]=_[2*I+1]<<16|_[2*I];for(I=w;I<2*w;I++)_[I]=0;return new o(_,0)};function b(T,w){for(;(T[w]&65535)!=T[w];)T[w+1]+=T[w]>>>16,T[w]&=65535,w++}function v(T,w){this.g=T,this.h=w}function x(T,w){if(y(w))throw Error("division by zero");if(y(T))return new v(f,f);if(S(T))return w=x(A(T),w),new v(A(w.g),A(w.h));if(S(w))return w=x(T,A(w)),new v(A(w.g),w.h);if(30<T.g.length){if(S(T)||S(w))throw Error("slowDivide_ only works with positive integers.");for(var _=p,I=w;0>=I.l(T);)_=V(_),I=V(I);var k=M(_,1),O=M(I,1);for(I=M(I,2),_=M(_,2);!y(I);){var R=O.add(I);0>=R.l(T)&&(k=k.add(_),O=R),I=M(I,1),_=M(_,1)}return w=C(T,k.j(w)),new v(k,w)}for(k=f;0<=T.l(w);){for(_=Math.max(1,Math.floor(T.m()/w.m())),I=Math.ceil(Math.log(_)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),O=c(_),R=O.j(w);S(R)||0<R.l(T);)_-=I,O=c(_),R=O.j(w);y(O)&&(O=p),k=k.add(O),T=C(T,R)}return new v(k,T)}t.A=function(T){return x(this,T).h},t.and=function(T){for(var w=Math.max(this.g.length,T.g.length),_=[],I=0;I<w;I++)_[I]=this.i(I)&T.i(I);return new o(_,this.h&T.h)},t.or=function(T){for(var w=Math.max(this.g.length,T.g.length),_=[],I=0;I<w;I++)_[I]=this.i(I)|T.i(I);return new o(_,this.h|T.h)},t.xor=function(T){for(var w=Math.max(this.g.length,T.g.length),_=[],I=0;I<w;I++)_[I]=this.i(I)^T.i(I);return new o(_,this.h^T.h)};function V(T){for(var w=T.g.length+1,_=[],I=0;I<w;I++)_[I]=T.i(I)<<1|T.i(I-1)>>>31;return new o(_,T.h)}function M(T,w){var _=w>>5;w%=32;for(var I=T.g.length-_,k=[],O=0;O<I;O++)k[O]=0<w?T.i(O+_)>>>w|T.i(O+_+1)<<32-w:T.i(O+_);return new o(k,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,cg=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Pr=o}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});var Qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dg,Fi,fg,ua,ju,hg,pg,mg;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,g){return l==Array.prototype||l==Object.prototype||(l[h]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qo=="object"&&Qo];for(var h=0;h<l.length;++h){var g=l[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(l,h){if(h)e:{var g=r;l=l.split(".");for(var P=0;P<l.length-1;P++){var B=l[P];if(!(B in g))break e;g=g[B]}l=l[l.length-1],P=g[l],h=h(P),h!=P&&h!=null&&e(g,l,{configurable:!0,writable:!0,value:h})}}function i(l,h){l instanceof String&&(l+="");var g=0,P=!1,B={next:function(){if(!P&&g<l.length){var U=g++;return{value:h(U,l[U]),done:!1}}return P=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}s("Array.prototype.values",function(l){return l||function(){return i(this,function(h,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,g){return l.call.apply(l.bind,arguments)}function f(l,h,g){if(!l)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,P),l.apply(h,B)}}return function(){return l.apply(h,arguments)}}function p(l,h,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function m(l,h){var g=Array.prototype.slice.call(arguments,1);return function(){var P=g.slice();return P.push.apply(P,arguments),l.apply(this,P)}}function y(l,h){function g(){}g.prototype=h.prototype,l.aa=h.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(P,B,U){for(var ie=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)ie[Je-2]=arguments[Je];return h.prototype[B].apply(P,ie)}}function S(l){const h=l.length;if(0<h){const g=Array(h);for(let P=0;P<h;P++)g[P]=l[P];return g}return[]}function A(l,h){for(let g=1;g<arguments.length;g++){const P=arguments[g];if(u(P)){const B=l.length||0,U=P.length||0;l.length=B+U;for(let ie=0;ie<U;ie++)l[B+ie]=P[ie]}else l.push(P)}}class C{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function b(l){return/^[\s\xa0]*$/.test(l)}function v(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function x(l){return x[" "](l),l}x[" "]=function(){};var V=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function M(l,h,g){for(const P in l)h.call(g,l[P],P,l)}function T(l,h){for(const g in l)h.call(void 0,l[g],g,l)}function w(l){const h={};for(const g in l)h[g]=l[g];return h}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(l,h){let g,P;for(let B=1;B<arguments.length;B++){P=arguments[B];for(g in P)l[g]=P[g];for(let U=0;U<_.length;U++)g=_[U],Object.prototype.hasOwnProperty.call(P,g)&&(l[g]=P[g])}}function k(l){var h=1;l=l.split(":");const g=[];for(;0<h&&l.length;)g.push(l.shift()),h--;return l.length&&g.push(l.join(":")),g}function O(l){a.setTimeout(()=>{throw l},0)}function R(){var l=_e;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class ae{constructor(){this.h=this.g=null}add(h,g){const P=ye.get();P.set(h,g),this.h?this.h.next=P:this.g=P,this.h=P}}var ye=new C(()=>new Z,l=>l.reset());class Z{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let se,he=!1,_e=new ae,Fe=()=>{const l=a.Promise.resolve(void 0);se=()=>{l.then(Pe)}};var Pe=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(g){O(g)}var h=ye;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}he=!1};function ke(){this.s=this.s,this.C=this.C}ke.prototype.s=!1,ke.prototype.ma=function(){this.s||(this.s=!0,this.N())},ke.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Be(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Be.prototype.h=function(){this.defaultPrevented=!0};var je=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,h),a.removeEventListener("test",g,h)}catch{}return l}();function Ee(l,h){if(Be.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,P=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(V){e:{try{x(h.nodeName);var B=!0;break e}catch{}B=!1}B||(h=null)}}else g=="mouseover"?h=l.fromElement:g=="mouseout"&&(h=l.toElement);this.relatedTarget=h,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Y[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ee.aa.h.call(this)}}y(Ee,Be);var Y={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),te=0;function ne(l,h,g,P,B){this.listener=l,this.proxy=null,this.src=h,this.type=g,this.capture=!!P,this.ha=B,this.key=++te,this.da=this.fa=!1}function ue(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Ne(l){this.src=l,this.g={},this.h=0}Ne.prototype.add=function(l,h,g,P,B){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var ie=L(l,h,P,B);return-1<ie?(h=l[ie],g||(h.fa=!1)):(h=new ne(h,this.src,U,!!P,B),h.fa=g,l.push(h)),h};function D(l,h){var g=h.type;if(g in l.g){var P=l.g[g],B=Array.prototype.indexOf.call(P,h,void 0),U;(U=0<=B)&&Array.prototype.splice.call(P,B,1),U&&(ue(h),l.g[g].length==0&&(delete l.g[g],l.h--))}}function L(l,h,g,P){for(var B=0;B<l.length;++B){var U=l[B];if(!U.da&&U.listener==h&&U.capture==!!g&&U.ha==P)return B}return-1}var $="closure_lm_"+(1e6*Math.random()|0),q={};function G(l,h,g,P,B){if(Array.isArray(h)){for(var U=0;U<h.length;U++)G(l,h[U],g,P,B);return null}return g=pe(g),l&&l[F]?l.K(h,g,c(P)?!!P.capture:!1,B):H(l,h,g,!1,P,B)}function H(l,h,g,P,B,U){if(!h)throw Error("Invalid event type");var ie=c(B)?!!B.capture:!!B,Je=oe(l);if(Je||(l[$]=Je=new Ne(l)),g=Je.add(h,g,P,ie,U),g.proxy)return g;if(P=re(),g.proxy=P,P.src=l,P.listener=g,l.addEventListener)je||(B=ie),B===void 0&&(B=!1),l.addEventListener(h.toString(),P,B);else if(l.attachEvent)l.attachEvent(K(h.toString()),P);else if(l.addListener&&l.removeListener)l.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return g}function re(){function l(g){return h.call(l.src,l.listener,g)}const h=be;return l}function J(l,h,g,P,B){if(Array.isArray(h))for(var U=0;U<h.length;U++)J(l,h[U],g,P,B);else P=c(P)?!!P.capture:!!P,g=pe(g),l&&l[F]?(l=l.i,h=String(h).toString(),h in l.g&&(U=l.g[h],g=L(U,g,P,B),-1<g&&(ue(U[g]),Array.prototype.splice.call(U,g,1),U.length==0&&(delete l.g[h],l.h--)))):l&&(l=oe(l))&&(h=l.g[h.toString()],l=-1,h&&(l=L(h,g,P,B)),(g=-1<l?h[l]:null)&&X(g))}function X(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[F])D(h.i,l);else{var g=l.type,P=l.proxy;h.removeEventListener?h.removeEventListener(g,P,l.capture):h.detachEvent?h.detachEvent(K(g),P):h.addListener&&h.removeListener&&h.removeListener(P),(g=oe(h))?(D(g,l),g.h==0&&(g.src=null,h[$]=null)):ue(l)}}}function K(l){return l in q?q[l]:q[l]="on"+l}function be(l,h){if(l.da)l=!0;else{h=new Ee(h,this);var g=l.listener,P=l.ha||l.src;l.fa&&X(l),l=g.call(P,h)}return l}function oe(l){return l=l[$],l instanceof Ne?l:null}var fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function pe(l){return typeof l=="function"?l:(l[fe]||(l[fe]=function(h){return l.handleEvent(h)}),l[fe])}function me(){ke.call(this),this.i=new Ne(this),this.M=this,this.F=null}y(me,ke),me.prototype[F]=!0,me.prototype.removeEventListener=function(l,h,g,P){J(this,l,h,g,P)};function Se(l,h){var g,P=l.F;if(P)for(g=[];P;P=P.F)g.push(P);if(l=l.M,P=h.type||h,typeof h=="string")h=new Be(h,l);else if(h instanceof Be)h.target=h.target||l;else{var B=h;h=new Be(P,l),I(h,B)}if(B=!0,g)for(var U=g.length-1;0<=U;U--){var ie=h.g=g[U];B=Me(ie,P,!0,h)&&B}if(ie=h.g=l,B=Me(ie,P,!0,h)&&B,B=Me(ie,P,!1,h)&&B,g)for(U=0;U<g.length;U++)ie=h.g=g[U],B=Me(ie,P,!1,h)&&B}me.prototype.N=function(){if(me.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var g=l.g[h],P=0;P<g.length;P++)ue(g[P]);delete l.g[h],l.h--}}this.F=null},me.prototype.K=function(l,h,g,P){return this.i.add(String(l),h,!1,g,P)},me.prototype.L=function(l,h,g,P){return this.i.add(String(l),h,!0,g,P)};function Me(l,h,g,P){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var B=!0,U=0;U<h.length;++U){var ie=h[U];if(ie&&!ie.da&&ie.capture==g){var Je=ie.listener,Pt=ie.ha||ie.src;ie.fa&&D(l.i,ie),B=Je.call(Pt,P)!==!1&&B}}return B&&!P.defaultPrevented}function Et(l,h,g){if(typeof l=="function")g&&(l=p(l,g));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function dt(l){l.g=Et(()=>{l.g=null,l.i&&(l.i=!1,dt(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class Mt extends ke{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:dt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tt(l){ke.call(this),this.h=l,this.g={}}y(Tt,ke);var Tn=[];function Qr(l){M(l.g,function(h,g){this.g.hasOwnProperty(g)&&X(h)},l),l.g={}}Tt.prototype.N=function(){Tt.aa.N.call(this),Qr(this)},Tt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rt=a.JSON.stringify,pt=a.JSON.parse,Ts=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function wi(){}wi.prototype.h=null;function qn(l){return l.h||(l.h=l.i())}function Hn(){}var fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ss(){Be.call(this,"d")}y(Ss,Be);function Ei(){Be.call(this,"c")}y(Ei,Be);var Sn={},fn=null;function hr(){return fn=fn||new me}Sn.La="serverreachability";function Is(l){Be.call(this,Sn.La,l)}y(Is,Be);function Yr(l){const h=hr();Se(h,new Is(h))}Sn.STAT_EVENT="statevent";function Ti(l,h){Be.call(this,Sn.STAT_EVENT,l),this.stat=h}y(Ti,Be);function Ct(l){const h=hr();Se(h,new Ti(h,l))}Sn.Ma="timingevent";function As(l,h){Be.call(this,Sn.Ma,l),this.size=h}y(As,Be);function Xr(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Jr(){this.g=!0}Jr.prototype.xa=function(){this.g=!1};function Ml(l,h,g,P,B,U){l.info(function(){if(l.g)if(U)for(var ie="",Je=U.split("&"),Pt=0;Pt<Je.length;Pt++){var He=Je[Pt].split("=");if(1<He.length){var Lt=He[0];He=He[1];var Nt=Lt.split("_");ie=2<=Nt.length&&Nt[1]=="type"?ie+(Lt+"="+He+"&"):ie+(Lt+"=redacted&")}}else ie=null;else ie=U;return"XMLHTTP REQ ("+P+") [attempt "+B+"]: "+h+`
`+g+`
`+ie})}function gn(l,h,g,P,B,U,ie){l.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+B+"]: "+h+`
`+g+`
`+U+" "+ie})}function pr(l,h,g,P){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+Nl(l,g)+(P?" "+P:"")})}function Ll(l,h){l.info(function(){return"TIMEOUT: "+h})}Jr.prototype.info=function(){};function Nl(l,h){if(!l.g)return h;if(!h)return null;try{var g=JSON.parse(h);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var P=g[l];if(!(2>P.length)){var B=P[1];if(Array.isArray(B)&&!(1>B.length)){var U=B[0];if(U!="noop"&&U!="stop"&&U!="close")for(var ie=1;ie<B.length;ie++)B[ie]=""}}}}return rt(g)}catch{return h}}var xs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zr;function Gn(){}y(Gn,wi),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},Zr=new Gn;function en(l,h,g,P){this.j=l,this.i=h,this.l=g,this.R=P||1,this.U=new Tt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ps}function Ps(){this.i=null,this.g="",this.h=!1}var Do={},mr={};function Rs(l,h,g){l.L=1,l.v=Lo(Kn(h)),l.m=g,l.P=!0,N(l,null)}function N(l,h){l.F=Date.now(),et(l),l.A=Kn(l.v);var g=l.A,P=l.R;Array.isArray(P)||(P=[String(P)]),Hd(g.i,"t",P),l.C=0,g=l.j.J,l.h=new Ps,l.g=cf(l.j,g?h:null,!l.m),0<l.O&&(l.M=new Mt(p(l.Y,l,l.g),l.O)),h=l.U,g=l.g,P=l.ca;var B="readystatechange";Array.isArray(B)||(B&&(Tn[0]=B.toString()),B=Tn);for(var U=0;U<B.length;U++){var ie=G(g,B[U],P||h.handleEvent,!1,h.h||h);if(!ie)break;h.g[ie.key]=ie}h=l.H?w(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Yr(),Ml(l.i,l.u,l.A,l.l,l.R,l.m)}en.prototype.ca=function(l){l=l.target;const h=this.M;h&&Qn(l)==3?h.j():this.Y(l)},en.prototype.Y=function(l){try{if(l==this.g)e:{const Nt=Qn(this.g);var h=this.g.Ba();const Ls=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Jd(this.g)))){this.J||Nt!=4||h==7||(h==8||0>=Ls?Yr(3):Yr(2)),ks(this);var g=this.g.Z();this.X=g;t:if(ee(this)){var P=Jd(this.g);l="";var B=P.length,U=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wn(this),Os(this);var ie="";break t}this.h.i=new a.TextDecoder}for(h=0;h<B;h++)this.h.h=!0,l+=this.h.i.decode(P[h],{stream:!(U&&h==B-1)});P.length=0,this.h.g+=l,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=g==200,gn(this.i,this.u,this.A,this.l,this.R,Nt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,Pt=this.g;if((Je=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Je)){var He=Je;break t}}He=null}if(g=He)pr(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ds(this,g);else{this.o=!1,this.s=3,Ct(12),Wn(this),Os(this);break e}}if(this.P){g=!0;let vn;for(;!this.J&&this.C<ie.length;)if(vn=$e(this,ie),vn==mr){Nt==4&&(this.s=4,Ct(14),g=!1),pr(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==Do){this.s=4,Ct(15),pr(this.i,this.l,ie,"[Invalid Chunk]"),g=!1;break}else pr(this.i,this.l,vn,null),Ds(this,vn);if(ee(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||ie.length!=0||this.h.h||(this.s=1,Ct(16),g=!1),this.o=this.o&&g,!g)pr(this.i,this.l,ie,"[Invalid Chunked Response]"),Wn(this),Os(this);else if(0<ie.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),zl(Lt),Lt.M=!0,Ct(11))}}else pr(this.i,this.l,ie,null),Ds(this,ie);Nt==4&&Wn(this),this.o&&!this.J&&(Nt==4?of(this.j,this):(this.o=!1,et(this)))}else v0(this.g),g==400&&0<ie.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),Wn(this),Os(this)}}}catch{}finally{}};function ee(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function $e(l,h){var g=l.C,P=h.indexOf(`
`,g);return P==-1?mr:(g=Number(h.substring(g,P)),isNaN(g)?Do:(P+=1,P+g>h.length?mr:(h=h.slice(P,P+g),l.C=P+g,h)))}en.prototype.cancel=function(){this.J=!0,Wn(this)};function et(l){l.S=Date.now()+l.I,In(l,l.I)}function In(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Xr(p(l.ba,l),h)}function ks(l){l.B&&(a.clearTimeout(l.B),l.B=null)}en.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Ll(this.i,this.A),this.L!=2&&(Yr(),Ct(17)),Wn(this),this.s=2,Os(this)):In(this,this.S-l)};function Os(l){l.j.G==0||l.J||of(l.j,l)}function Wn(l){ks(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,Qr(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Ds(l,h){try{var g=l.j;if(g.G!=0&&(g.g==l||$l(g.h,l))){if(!l.K&&$l(g.h,l)&&g.G==3){try{var P=g.Da.g.parse(h)}catch{P=null}if(Array.isArray(P)&&P.length==3){var B=P;if(B[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)Uo(g),Bo(g);else break e;Ul(g),Ct(18)}}else g.za=B[1],0<g.za-g.T&&37500>B[2]&&g.F&&g.v==0&&!g.C&&(g.C=Xr(p(g.Za,g),6e3));if(1>=Ld(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ts(g,11)}else if((l.K||g.g==l)&&Uo(g),!b(h))for(B=g.Da.g.parse(h),h=0;h<B.length;h++){let He=B[h];if(g.T=He[0],He=He[1],g.G==2)if(He[0]=="c"){g.K=He[1],g.ia=He[2];const Lt=He[3];Lt!=null&&(g.la=Lt,g.j.info("VER="+g.la));const Nt=He[4];Nt!=null&&(g.Aa=Nt,g.j.info("SVER="+g.Aa));const Ls=He[5];Ls!=null&&typeof Ls=="number"&&0<Ls&&(P=1.5*Ls,g.L=P,g.j.info("backChannelRequestTimeoutMs_="+P)),P=g;const vn=l.g;if(vn){const qo=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qo){var U=P.h;U.g||qo.indexOf("spdy")==-1&&qo.indexOf("quic")==-1&&qo.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Fl(U,U.h),U.h=null))}if(P.D){const ql=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;ql&&(P.ya=ql,nt(P.I,P.D,ql))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),P=g;var ie=l;if(P.qa=uf(P,P.J?P.ia:null,P.W),ie.K){Nd(P.h,ie);var Je=ie,Pt=P.L;Pt&&(Je.I=Pt),Je.B&&(ks(Je),et(Je)),P.g=ie}else rf(P);0<g.i.length&&jo(g)}else He[0]!="stop"&&He[0]!="close"||ts(g,7);else g.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?ts(g,7):jl(g):He[0]!="noop"&&g.l&&g.l.ta(He),g.v=0)}}Yr(4)}catch{}}var t0=class{constructor(l,h){this.g=l,this.map=h}};function Vd(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Md(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ld(l){return l.h?1:l.g?l.g.size:0}function $l(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Fl(l,h){l.g?l.g.add(h):l.h=h}function Nd(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Vd.prototype.cancel=function(){if(this.i=$d(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function $d(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const g of l.g.values())h=h.concat(g.D);return h}return S(l.i)}function n0(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],g=l.length,P=0;P<g;P++)h.push(l[P]);return h}h=[],g=0;for(P in l)h[g++]=l[P];return h}function r0(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var g=0;g<l;g++)h.push(g);return h}h=[],g=0;for(const P in l)h[g++]=P;return h}}}function Fd(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var g=r0(l),P=n0(l),B=P.length,U=0;U<B;U++)h.call(void 0,P[U],g&&g[U],l)}var Bd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function s0(l,h){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var P=l[g].indexOf("="),B=null;if(0<=P){var U=l[g].substring(0,P);B=l[g].substring(P+1)}else U=l[g];h(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function es(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof es){this.h=l.h,Vo(this,l.j),this.o=l.o,this.g=l.g,Mo(this,l.s),this.l=l.l;var h=l.i,g=new Ai;g.i=h.i,h.g&&(g.g=new Map(h.g),g.h=h.h),jd(this,g),this.m=l.m}else l&&(h=String(l).match(Bd))?(this.h=!1,Vo(this,h[1]||"",!0),this.o=Si(h[2]||""),this.g=Si(h[3]||"",!0),Mo(this,h[4]),this.l=Si(h[5]||"",!0),jd(this,h[6]||"",!0),this.m=Si(h[7]||"")):(this.h=!1,this.i=new Ai(null,this.h))}es.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Ii(h,Ud,!0),":");var g=this.g;return(g||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Ii(h,Ud,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Ii(g,g.charAt(0)=="/"?a0:o0,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Ii(g,u0)),l.join("")};function Kn(l){return new es(l)}function Vo(l,h,g){l.j=g?Si(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Mo(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function jd(l,h,g){h instanceof Ai?(l.i=h,c0(l.i,l.h)):(g||(h=Ii(h,l0)),l.i=new Ai(h,l.h))}function nt(l,h,g){l.i.set(h,g)}function Lo(l){return nt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Si(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ii(l,h,g){return typeof l=="string"?(l=encodeURI(l).replace(h,i0),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function i0(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ud=/[#\/\?@]/g,o0=/[#\?:]/g,a0=/[#\?]/g,l0=/[#\?@]/g,u0=/#/g;function Ai(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function gr(l){l.g||(l.g=new Map,l.h=0,l.i&&s0(l.i,function(h,g){l.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}t=Ai.prototype,t.add=function(l,h){gr(this),this.i=null,l=Vs(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(h),this.h+=1,this};function zd(l,h){gr(l),h=Vs(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function qd(l,h){return gr(l),h=Vs(l,h),l.g.has(h)}t.forEach=function(l,h){gr(this),this.g.forEach(function(g,P){g.forEach(function(B){l.call(h,B,P,this)},this)},this)},t.na=function(){gr(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),g=[];for(let P=0;P<h.length;P++){const B=l[P];for(let U=0;U<B.length;U++)g.push(h[P])}return g},t.V=function(l){gr(this);let h=[];if(typeof l=="string")qd(this,l)&&(h=h.concat(this.g.get(Vs(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)h=h.concat(l[g])}return h},t.set=function(l,h){return gr(this),this.i=null,l=Vs(this,l),qd(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Hd(l,h,g){zd(l,h),0<g.length&&(l.i=null,l.g.set(Vs(l,h),S(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var g=0;g<h.length;g++){var P=h[g];const U=encodeURIComponent(String(P)),ie=this.V(P);for(P=0;P<ie.length;P++){var B=U;ie[P]!==""&&(B+="="+encodeURIComponent(String(ie[P]))),l.push(B)}}return this.i=l.join("&")};function Vs(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function c0(l,h){h&&!l.j&&(gr(l),l.i=null,l.g.forEach(function(g,P){var B=P.toLowerCase();P!=B&&(zd(this,P),Hd(this,B,g))},l)),l.j=h}function d0(l,h){const g=new Jr;if(a.Image){const P=new Image;P.onload=m(vr,g,"TestLoadImage: loaded",!0,h,P),P.onerror=m(vr,g,"TestLoadImage: error",!1,h,P),P.onabort=m(vr,g,"TestLoadImage: abort",!1,h,P),P.ontimeout=m(vr,g,"TestLoadImage: timeout",!1,h,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=l}else h(!1)}function f0(l,h){const g=new Jr,P=new AbortController,B=setTimeout(()=>{P.abort(),vr(g,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:P.signal}).then(U=>{clearTimeout(B),U.ok?vr(g,"TestPingServer: ok",!0,h):vr(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(B),vr(g,"TestPingServer: error",!1,h)})}function vr(l,h,g,P,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),P(g)}catch{}}function h0(){this.g=new Ts}function p0(l,h,g){const P=g||"";try{Fd(l,function(B,U){let ie=B;c(B)&&(ie=rt(B)),h.push(P+U+"="+encodeURIComponent(ie))})}catch(B){throw h.push(P+"type="+encodeURIComponent("_badmap")),B}}function No(l){this.l=l.Ub||null,this.j=l.eb||!1}y(No,wi),No.prototype.g=function(){return new $o(this.l,this.j)},No.prototype.i=function(l){return function(){return l}}({});function $o(l,h){me.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y($o,me),t=$o.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Ci(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xi(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gd(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gd(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?xi(this):Ci(this),this.readyState==3&&Gd(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,xi(this))},t.Qa=function(l){this.g&&(this.response=l,xi(this))},t.ga=function(){this.g&&xi(this)};function xi(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Ci(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=h.next();return l.join(`\r
`)};function Ci(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty($o.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Wd(l){let h="";return M(l,function(g,P){h+=P,h+=":",h+=g,h+=`\r
`}),h}function Bl(l,h,g){e:{for(P in g){var P=!1;break e}P=!0}P||(g=Wd(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):nt(l,h,g))}function ut(l){me.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(ut,me);var m0=/^https?$/i,g0=["POST","PUT"];t=ut.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,g,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zr.g(),this.v=this.o?qn(this.o):qn(Zr),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(U){Kd(this,U);return}if(l=g||"",g=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var B in P)g.set(B,P[B]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const U of P.keys())g.set(U,P.get(U));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),B=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(g0,h,void 0))||P||B||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,ie]of g)this.g.setRequestHeader(U,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xd(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){Kd(this,U)}};function Kd(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,Qd(l),Fo(l)}function Qd(l){l.A||(l.A=!0,Se(l,"complete"),Se(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Se(this,"complete"),Se(this,"abort"),Fo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fo(this,!0)),ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Yd(this):this.bb())},t.bb=function(){Yd(this)};function Yd(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Qn(l)!=4||l.Z()!=2)){if(l.u&&Qn(l)==4)Et(l.Ea,0,l);else if(Se(l,"readystatechange"),Qn(l)==4){l.h=!1;try{const ie=l.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var P;if(P=ie===0){var B=String(l.D).match(Bd)[1]||null;!B&&a.self&&a.self.location&&(B=a.self.location.protocol.slice(0,-1)),P=!m0.test(B?B.toLowerCase():"")}g=P}if(g)Se(l,"complete"),Se(l,"success");else{l.m=6;try{var U=2<Qn(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",Qd(l)}}finally{Fo(l)}}}}function Fo(l,h){if(l.g){Xd(l);const g=l.g,P=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||Se(l,"ready");try{g.onreadystatechange=P}catch{}}}function Xd(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Qn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),pt(h)}};function Jd(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function v0(l){const h={};l=(l.g&&2<=Qn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<l.length;P++){if(b(l[P]))continue;var g=k(l[P]);const B=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=h[B]||[];h[B]=U,U.push(g)}T(h,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(l,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||h}function Zd(l){this.Aa=0,this.i=[],this.j=new Jr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pi("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pi("baseRetryDelayMs",5e3,l),this.cb=Pi("retryDelaySeedMs",1e4,l),this.Wa=Pi("forwardChannelMaxRetries",2,l),this.wa=Pi("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Vd(l&&l.concurrentRequestLimit),this.Da=new h0,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Zd.prototype,t.la=8,t.G=1,t.connect=function(l,h,g,P){Ct(0),this.W=l,this.H=h||{},g&&P!==void 0&&(this.H.OSID=g,this.H.OAID=P),this.F=this.X,this.I=uf(this,null,this.W),jo(this)};function jl(l){if(ef(l),l.G==3){var h=l.U++,g=Kn(l.I);if(nt(g,"SID",l.K),nt(g,"RID",h),nt(g,"TYPE","terminate"),Ri(l,g),h=new en(l,l.j,h),h.L=2,h.v=Lo(Kn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=h.v,g=!0),g||(h.g=cf(h.j,null),h.g.ea(h.v)),h.F=Date.now(),et(h)}lf(l)}function Bo(l){l.g&&(zl(l),l.g.cancel(),l.g=null)}function ef(l){Bo(l),l.u&&(a.clearTimeout(l.u),l.u=null),Uo(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function jo(l){if(!Md(l.h)&&!l.s){l.s=!0;var h=l.Ga;se||Fe(),he||(se(),he=!0),_e.add(h,l),l.B=0}}function y0(l,h){return Ld(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Xr(p(l.Ga,l,h),af(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const B=new en(this,this.j,l);let U=this.o;if(this.S&&(U?(U=w(U),I(U,this.S)):U=this.S),this.m!==null||this.O||(B.H=U,U=null),this.P)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var P=this.i[g];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(h+=P,4096<h){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=nf(this,B,h),g=Kn(this.I),nt(g,"RID",l),nt(g,"CVER",22),this.D&&nt(g,"X-HTTP-Session-Id",this.D),Ri(this,g),U&&(this.O?h="headers="+encodeURIComponent(String(Wd(U)))+"&"+h:this.m&&Bl(g,this.m,U)),Fl(this.h,B),this.Ua&&nt(g,"TYPE","init"),this.P?(nt(g,"$req",h),nt(g,"SID","null"),B.T=!0,Rs(B,g,null)):Rs(B,g,h),this.G=2}}else this.G==3&&(l?tf(this,l):this.i.length==0||Md(this.h)||tf(this))};function tf(l,h){var g;h?g=h.l:g=l.U++;const P=Kn(l.I);nt(P,"SID",l.K),nt(P,"RID",g),nt(P,"AID",l.T),Ri(l,P),l.m&&l.o&&Bl(P,l.m,l.o),g=new en(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),h&&(l.i=h.D.concat(l.i)),h=nf(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Fl(l.h,g),Rs(g,P,h)}function Ri(l,h){l.H&&M(l.H,function(g,P){nt(h,P,g)}),l.l&&Fd({},function(g,P){nt(h,P,g)})}function nf(l,h,g){g=Math.min(l.i.length,g);var P=l.l?p(l.l.Na,l.l,l):null;e:{var B=l.i;let U=-1;for(;;){const ie=["count="+g];U==-1?0<g?(U=B[0].g,ie.push("ofs="+U)):U=0:ie.push("ofs="+U);let Je=!0;for(let Pt=0;Pt<g;Pt++){let He=B[Pt].g;const Lt=B[Pt].map;if(He-=U,0>He)U=Math.max(0,B[Pt].g-100),Je=!1;else try{p0(Lt,ie,"req"+He+"_")}catch{P&&P(Lt)}}if(Je){P=ie.join("&");break e}}}return l=l.i.splice(0,g),h.D=l,P}function rf(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;se||Fe(),he||(se(),he=!0),_e.add(h,l),l.v=0}}function Ul(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Xr(p(l.Fa,l),af(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,sf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Xr(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),Bo(this),sf(this))};function zl(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function sf(l){l.g=new en(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Kn(l.qa);nt(h,"RID","rpc"),nt(h,"SID",l.K),nt(h,"AID",l.T),nt(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&nt(h,"TO",l.ja),nt(h,"TYPE","xmlhttp"),Ri(l,h),l.m&&l.o&&Bl(h,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Lo(Kn(h)),g.m=null,g.P=!0,N(g,l)}t.Za=function(){this.C!=null&&(this.C=null,Bo(this),Ul(this),Ct(19))};function Uo(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function of(l,h){var g=null;if(l.g==h){Uo(l),zl(l),l.g=null;var P=2}else if($l(l.h,h))g=h.D,Nd(l.h,h),P=1;else return;if(l.G!=0){if(h.o)if(P==1){g=h.m?h.m.length:0,h=Date.now()-h.F;var B=l.B;P=hr(),Se(P,new As(P,g)),jo(l)}else rf(l);else if(B=h.s,B==3||B==0&&0<h.X||!(P==1&&y0(l,h)||P==2&&Ul(l)))switch(g&&0<g.length&&(h=l.h,h.i=h.i.concat(g)),B){case 1:ts(l,5);break;case 4:ts(l,10);break;case 3:ts(l,6);break;default:ts(l,2)}}}function af(l,h){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*h}function ts(l,h){if(l.j.info("Error code "+h),h==2){var g=p(l.fb,l),P=l.Xa;const B=!P;P=new es(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Vo(P,"https"),Lo(P),B?d0(P.toString(),g):f0(P.toString(),g)}else Ct(2);l.G=0,l.l&&l.l.sa(h),lf(l),ef(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function lf(l){if(l.G=0,l.ka=[],l.l){const h=$d(l.h);(h.length!=0||l.i.length!=0)&&(A(l.ka,h),A(l.ka,l.i),l.h.i.length=0,S(l.i),l.i.length=0),l.l.ra()}}function uf(l,h,g){var P=g instanceof es?Kn(g):new es(g);if(P.g!="")h&&(P.g=h+"."+P.g),Mo(P,P.s);else{var B=a.location;P=B.protocol,h=h?h+"."+B.hostname:B.hostname,B=+B.port;var U=new es(null);P&&Vo(U,P),h&&(U.g=h),B&&Mo(U,B),g&&(U.l=g),P=U}return g=l.D,h=l.ya,g&&h&&nt(P,g,h),nt(P,"VER",l.la),Ri(l,P),P}function cf(l,h,g){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new ut(new No({eb:g})):new ut(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function df(){}t=df.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function zo(){}zo.prototype.g=function(l,h){return new tn(l,h)};function tn(l,h){me.call(this),this.g=new Zd(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!b(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!b(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Ms(this)}y(tn,me),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){jl(this.g)},tn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=rt(l),l=g);h.i.push(new t0(h.Ya++,l)),h.G==3&&jo(h)},tn.prototype.N=function(){this.g.l=null,delete this.j,jl(this.g),delete this.g,tn.aa.N.call(this)};function ff(l){Ss.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const g in h){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}y(ff,Ss);function hf(){Ei.call(this),this.status=1}y(hf,Ei);function Ms(l){this.g=l}y(Ms,df),Ms.prototype.ua=function(){Se(this.g,"a")},Ms.prototype.ta=function(l){Se(this.g,new ff(l))},Ms.prototype.sa=function(l){Se(this.g,new hf)},Ms.prototype.ra=function(){Se(this.g,"b")},zo.prototype.createWebChannel=zo.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,mg=function(){return new zo},pg=function(){return hr()},hg=Sn,ju={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xs.NO_ERROR=0,xs.TIMEOUT=8,xs.HTTP_ERROR=6,ua=xs,Cs.COMPLETE="complete",fg=Cs,Hn.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",me.prototype.listen=me.prototype.K,Fi=Hn,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,dg=ut}).apply(typeof Qo<"u"?Qo:typeof self<"u"?self:typeof window<"u"?window:{});const ih="@firebase/firestore",oh="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mi="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new Rc("@firebase/firestore");function Bs(){return fs.logLevel}function ce(t,...e){if(fs.logLevel<=qe.DEBUG){const n=e.map(Oc);fs.debug(`Firestore (${mi}): ${t}`,...n)}}function or(t,...e){if(fs.logLevel<=qe.ERROR){const n=e.map(Oc);fs.error(`Firestore (${mi}): ${t}`,...n)}}function ti(t,...e){if(fs.logLevel<=qe.WARN){const n=e.map(Oc);fs.warn(`Firestore (${mi}): ${t}`,...n)}}function Oc(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,gg(t,r,n)}function gg(t,e,n){let r=`FIRESTORE (${mi}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw or(r),new Error(r)}function Ye(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||gg(e,s,r)}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class EE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class TE{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new nr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new nr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new vg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Bt(e)}}class SE{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IE{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new SE(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ah{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AE{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,iE(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const r=i=>{i.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ah(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ah(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=xE(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function Uu(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Le(r,s);{const i=yg(),o=CE(i.encode(lh(t,n)),i.encode(lh(e,n)));return o!==0?o:Le(r,s)}}n+=r>65535?2:1}return Le(t.length,e.length)}function lh(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function CE(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Le(t[n],e[n]);return Le(t.length,e.length)}function ni(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=-62135596800,ch=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ch);return new _t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uh)throw new ve(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ch}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-uh;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new _t(0,0))}static max(){return new Ce(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh="__name__";class Pn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Pn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Le(e.length,n.length)}static compareSegments(e,n){const r=Pn.isNumericId(e),s=Pn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Pn.extractNumericId(e).compare(Pn.extractNumericId(n)):Uu(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pr.fromString(e.substring(4,e.length-2))}}class st extends Pn{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new st(n)}static emptyPath(){return new st([])}}const PE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends Pn{construct(e,n,r){return new Ot(e,n,r)}static isValidIdentifier(e){return PE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dh}static keyField(){return new Ot([dh])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ve(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ve(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ve(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ve(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(n)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(st.fromString(e))}static fromName(e){return new Te(st.fromString(e).popFirst(5))}static empty(){return new Te(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=-1;function RE(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ce.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new Vr(s,Te.empty(),e)}function kE(t){return new Vr(t.readTime,t.key,fo)}class Vr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vr(Ce.min(),Te.empty(),fo)}static max(){return new Vr(Ce.max(),Te.empty(),fo)}}function OE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gi(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==DE)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(s=>s?W.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new W((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new W((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function ME(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ll.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=-1;function ul(t){return t==null}function Ca(t){return t===0&&1/t==-1/0}function LE(t){return typeof t=="number"&&Number.isInteger(t)&&!Ca(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="";function NE(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=fh(e)),e=$E(t.get(n),e);return fh(e)}function $E(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case _g:n+="";break;default:n+=i}}return n}function fh(t){return t+_g+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yo(this.root,e,this.comparator,!0)}}class Yo{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=s??Rt.EMPTY,this.right=i??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Rt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Rt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ph(this.data.getIterator())}getIteratorFrom(e){return new ph(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wt(this.comparator);return n.data=e,n}}class ph{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new an([])}unionWith(e){let n=new wt(Ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new an(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ni(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Eg("Invalid base64 string: "+i):i}}(e);return new Vt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const FE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=FE.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(t.seconds),nanos:ft(t.nanos)}}function ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Lr(t){return typeof t=="string"?Vt.fromBase64String(t):Vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="server_timestamp",Sg="__type__",Ig="__previous_value__",Ag="__local_write_time__";function Vc(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Sg])===null||n===void 0?void 0:n.stringValue)===Tg}function cl(t){const e=t.mapValue.fields[Ig];return Vc(e)?cl(e):e}function ho(t){const e=Mr(t.mapValue.fields[Ag].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n,r,s,i,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}const Pa="(default)";class po{constructor(e,n){this.projectId=e,this.database=n||Pa}static empty(){return new po("","")}get isDefaultDatabase(){return this.database===Pa}isEqual(e){return e instanceof po&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="__type__",jE="__max__",Xo={mapValue:{}},Cg="__vector__",Ra="value";function Nr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vc(t)?4:zE(t)?9007199254740991:UE(t)?10:11:Ie(28295,{value:t})}function $n(t,e){if(t===e)return!0;const n=Nr(t);if(n!==Nr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ho(t).isEqual(ho(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Mr(s.timestampValue),a=Mr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Lr(s.bytesValue).isEqual(Lr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ft(s.geoPointValue.latitude)===ft(i.geoPointValue.latitude)&&ft(s.geoPointValue.longitude)===ft(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ft(s.integerValue)===ft(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ft(s.doubleValue),a=ft(i.doubleValue);return o===a?Ca(o)===Ca(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ni(t.arrayValue.values||[],e.arrayValue.values||[],$n);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(hh(o)!==hh(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!$n(o[u],a[u])))return!1;return!0}(t,e);default:return Ie(52216,{left:t})}}function mo(t,e){return(t.values||[]).find(n=>$n(n,e))!==void 0}function ri(t,e){if(t===e)return 0;const n=Nr(t),r=Nr(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ft(i.integerValue||i.doubleValue),u=ft(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return mh(t.timestampValue,e.timestampValue);case 4:return mh(ho(t),ho(e));case 5:return Uu(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Lr(i),u=Lr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=Le(a[c],u[c]);if(d!==0)return d}return Le(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Le(ft(i.latitude),ft(o.latitude));return a!==0?a:Le(ft(i.longitude),ft(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return gh(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,u,c,d;const f=i.fields||{},p=o.fields||{},m=(a=f[Ra])===null||a===void 0?void 0:a.arrayValue,y=(u=p[Ra])===null||u===void 0?void 0:u.arrayValue,S=Le(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return S!==0?S:gh(m,y)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Xo.mapValue&&o===Xo.mapValue)return 0;if(i===Xo.mapValue)return 1;if(o===Xo.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const p=Uu(u[f],d[f]);if(p!==0)return p;const m=ri(a[u[f]],c[d[f]]);if(m!==0)return m}return Le(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Ie(23264,{Pe:n})}}function mh(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=Mr(t),r=Mr(e),s=Le(n.seconds,r.seconds);return s!==0?s:Le(n.nanos,r.nanos)}function gh(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ri(n[s],r[s]);if(i)return i}return Le(n.length,r.length)}function si(t){return zu(t)}function zu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Mr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Lr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=zu(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${zu(n.fields[o])}`;return s+"}"}(t.mapValue):Ie(61005,{value:t})}function ca(t){switch(Nr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cl(t);return e?16+ca(e):16;case 5:return 2*t.stringValue.length;case 6:return Lr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+ca(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Hr(r.fields,(i,o)=>{s+=i.length+ca(o)}),s}(t.mapValue);default:throw Ie(13486,{value:t})}}function qu(t){return!!t&&"integerValue"in t}function Mc(t){return!!t&&"arrayValue"in t}function vh(t){return!!t&&"nullValue"in t}function yh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function da(t){return!!t&&"mapValue"in t}function UE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[xg])===null||n===void 0?void 0:n.stringValue)===Cg}function Qi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qi(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qi(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zE(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===jE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!da(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qi(n)}setAll(e){let n=Ot.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Qi(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());da(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];da(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Hr(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Xt(Qi(this.value))}}function Pg(t){const e=[];return Hr(t.fields,(n,r)=>{const s=new Ot([n]);if(da(r)){const i=Pg(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new an(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zt(e,0,Ce.min(),Ce.min(),Ce.min(),Xt.empty(),0)}static newFoundDocument(e,n,r,s){return new zt(e,1,n,Ce.min(),r,s,0)}static newNoDocument(e,n){return new zt(e,2,n,Ce.min(),Ce.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,Ce.min(),Ce.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n){this.position=e,this.inclusive=n}}function bh(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Te.comparator(Te.fromName(o.referenceValue),n.key):r=ri(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function _h(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$n(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n="asc"){this.field=e,this.dir=n}}function qE(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{}class bt extends Rg{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new GE(e,n,r):n==="array-contains"?new QE(e,r):n==="in"?new YE(e,r):n==="not-in"?new XE(e,r):n==="array-contains-any"?new JE(e,r):new bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new WE(e,r):new KE(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ri(n,this.value)):n!==null&&Nr(this.value)===Nr(n)&&this.matchesComparison(ri(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends Rg{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Fn(e,n)}matches(e){return kg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function kg(t){return t.op==="and"}function Og(t){return HE(t)&&kg(t)}function HE(t){for(const e of t.filters)if(e instanceof Fn)return!1;return!0}function Hu(t){if(t instanceof bt)return t.field.canonicalString()+t.op.toString()+si(t.value);if(Og(t))return t.filters.map(e=>Hu(e)).join(",");{const e=t.filters.map(n=>Hu(n)).join(",");return`${t.op}(${e})`}}function Dg(t,e){return t instanceof bt?function(r,s){return s instanceof bt&&r.op===s.op&&r.field.isEqual(s.field)&&$n(r.value,s.value)}(t,e):t instanceof Fn?function(r,s){return s instanceof Fn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Dg(o,s.filters[a]),!0):!1}(t,e):void Ie(19439)}function Vg(t){return t instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${si(n.value)}`}(t):t instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(Vg).join(" ,")+"}"}(t):"Filter"}class GE extends bt{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class WE extends bt{constructor(e,n){super(e,"in",n),this.keys=Mg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class KE extends bt{constructor(e,n){super(e,"not-in",n),this.keys=Mg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Mg(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Te.fromName(r.referenceValue))}class QE extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mc(n)&&mo(n.arrayValue,this.value)}}class YE extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mo(this.value.arrayValue,n)}}class XE extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(mo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mo(this.value.arrayValue,n)}}class JE extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function wh(t,e=null,n=[],r=[],s=null,i=null,o=null){return new ZE(t,e,n,r,s,i,o)}function Lc(t){const e=Re(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Hu(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ul(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>si(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>si(r)).join(",")),e.Ie=n}return e.Ie}function Nc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qE(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Dg(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_h(t.startAt,e.startAt)&&_h(t.endAt,e.endAt)}function Gu(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function eT(t,e,n,r,s,i,o,a){return new dl(t,e,n,r,s,i,o,a)}function $c(t){return new dl(t)}function Eh(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tT(t){return t.collectionGroup!==null}function Yi(t){const e=Re(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new wt(Ot.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Oa(i,r))}),n.has(Ot.keyField().canonicalString())||e.Ee.push(new Oa(Ot.keyField(),r))}return e.Ee}function Vn(t){const e=Re(t);return e.de||(e.de=nT(e,Yi(t))),e.de}function nT(t,e){if(t.limitType==="F")return wh(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Oa(s.field,i)});const n=t.endAt?new ka(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ka(t.startAt.position,t.startAt.inclusive):null;return wh(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wu(t,e,n){return new dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fl(t,e){return Nc(Vn(t),Vn(e))&&t.limitType===e.limitType}function Lg(t){return`${Lc(Vn(t))}|lt:${t.limitType}`}function js(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Vg(s)).join(", ")}]`),ul(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>si(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>si(s)).join(",")),`Target(${r})`}(Vn(t))}; limitType=${t.limitType})`}function hl(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Yi(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=bh(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Yi(r),s)||r.endAt&&!function(o,a,u){const c=bh(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Yi(r),s))}(t,e)}function rT(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ng(t){return(e,n)=>{let r=!1;for(const s of Yi(t)){const i=sT(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function sT(t,e,n){const r=t.field.isKeyField()?Te.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?ri(u,c):Ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Hr(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return wg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=new lt(Te.comparator);function ar(){return iT}const $g=new lt(Te.comparator);function Bi(...t){let e=$g;for(const n of t)e=e.insert(n.key,n);return e}function Fg(t){let e=$g;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function as(){return Xi()}function Bg(){return Xi()}function Xi(){return new bs(t=>t.toString(),(t,e)=>t.isEqual(e))}const oT=new lt(Te.comparator),aT=new wt(Te.comparator);function Ue(...t){let e=aT;for(const n of t)e=e.add(n);return e}const lT=new wt(Le);function uT(){return lT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ca(e)?"-0":e}}function jg(t){return{integerValue:""+t}}function cT(t,e){return LE(e)?jg(e):Fc(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this._=void 0}}function dT(t,e,n){return t instanceof Da?function(s,i){const o={fields:{[Sg]:{stringValue:Tg},[Ag]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Vc(i)&&(i=cl(i)),i&&(o.fields[Ig]=i),{mapValue:o}}(n,e):t instanceof go?zg(t,e):t instanceof vo?qg(t,e):function(s,i){const o=Ug(s,i),a=Th(o)+Th(s.Re);return qu(o)&&qu(s.Re)?jg(a):Fc(s.serializer,a)}(t,e)}function fT(t,e,n){return t instanceof go?zg(t,e):t instanceof vo?qg(t,e):n}function Ug(t,e){return t instanceof Va?function(r){return qu(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Da extends pl{}class go extends pl{constructor(e){super(),this.elements=e}}function zg(t,e){const n=Hg(e);for(const r of t.elements)n.some(s=>$n(s,r))||n.push(r);return{arrayValue:{values:n}}}class vo extends pl{constructor(e){super(),this.elements=e}}function qg(t,e){let n=Hg(e);for(const r of t.elements)n=n.filter(s=>!$n(s,r));return{arrayValue:{values:n}}}class Va extends pl{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Th(t){return ft(t.integerValue||t.doubleValue)}function Hg(t){return Mc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function hT(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof go&&s instanceof go||r instanceof vo&&s instanceof vo?ni(r.elements,s.elements,$n):r instanceof Va&&s instanceof Va?$n(r.Re,s.Re):r instanceof Da&&s instanceof Da}(t.transform,e.transform)}class pT{constructor(e,n){this.version=e,this.transformResults=n}}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fa(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ml{}function Gg(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bc(t.key,_n.none()):new xo(t.key,t.data,_n.none());{const n=t.data,r=Xt.empty();let s=new wt(Ot.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Gr(t.key,r,new an(s.toArray()),_n.none())}}function mT(t,e,n){t instanceof xo?function(s,i,o){const a=s.value.clone(),u=Ih(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Gr?function(s,i,o){if(!fa(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Ih(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(Wg(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ji(t,e,n,r){return t instanceof xo?function(i,o,a,u){if(!fa(i.precondition,o))return a;const c=i.value.clone(),d=Ah(i.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gr?function(i,o,a,u){if(!fa(i.precondition,o))return a;const c=Ah(i.fieldTransforms,u,o),d=o.data;return d.setAll(Wg(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return fa(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function gT(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Ug(r.transform,s||null);i!=null&&(n===null&&(n=Xt.empty()),n.set(r.field,i))}return n||null}function Sh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ni(r,s,(i,o)=>hT(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xo extends ml{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Gr extends ml{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Wg(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ih(t,e,n){const r=new Map;Ye(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,fT(o,a,n[s]))}return r}function Ah(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,dT(i,o,e))}return r}class Bc extends ml{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vT extends ml{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&mT(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ji(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ji(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Bg();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=Gg(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&ni(this.mutations,e.mutations,(n,r)=>Sh(n,r))&&ni(this.baseMutations,e.baseMutations,(n,r)=>Sh(n,r))}}class jc{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ye(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return oT}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new jc(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,ze;function wT(t){switch(t){case Q.OK:return Ie(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Ie(15467,{code:t})}}function Kg(t){if(t===void 0)return or("GRPC error has no .code"),Q.UNKNOWN;switch(t){case mt.OK:return Q.OK;case mt.CANCELLED:return Q.CANCELLED;case mt.UNKNOWN:return Q.UNKNOWN;case mt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case mt.INTERNAL:return Q.INTERNAL;case mt.UNAVAILABLE:return Q.UNAVAILABLE;case mt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case mt.NOT_FOUND:return Q.NOT_FOUND;case mt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case mt.ABORTED:return Q.ABORTED;case mt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case mt.DATA_LOSS:return Q.DATA_LOSS;default:return Ie(39323,{code:t})}}(ze=mt||(mt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=new Pr([4294967295,4294967295],0);function xh(t){const e=yg().encode(t),n=new cg;return n.update(e),new Uint8Array(n.digest())}function Ch(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Pr([n,r],0),new Pr([s,i],0)]}class Uc{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ji(`Invalid padding: ${n}`);if(r<0)throw new ji(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ji(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ji(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Pr.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Pr.fromNumber(r)));return s.compare(ET)===1&&(s=new Pr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=xh(e),[r,s]=Ch(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.be(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Uc(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=xh(e),[r,s]=Ch(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ji extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Co.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gl(Ce.min(),s,new lt(Le),ar(),Ue())}}class Co{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Co(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class Qg{constructor(e,n){this.targetId=e,this.Ce=n}}class Yg{constructor(e,n,r=Vt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Ph{constructor(){this.Fe=0,this.Me=Rh(),this.xe=Vt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ue(),n=Ue(),r=Ue();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ie(38017,{changeType:i})}}),new Co(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Rh()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ye(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class TT{constructor(e){this.ze=e,this.je=new Map,this.He=ar(),this.Je=Jo(),this.Ye=Jo(),this.Ze=new lt(Le)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Gu(i))if(r===0){const o=new Te(i.path);this.tt(n,o,zt.newNoDocument(o,Ce.min()))}else Ye(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),u=a?this.lt(a,e,o):1;if(u!==0){this.st(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Lr(r).toUint8Array()}catch(u){if(u instanceof Eg)return ti("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Uc(o,s,i)}catch(u){return ti(u instanceof ji?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&Gu(a.target)){const u=new Te(a.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,zt.newNoDocument(u,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=Ue();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this._t(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new gl(e,n,this.Ze,this.He,r);return this.He=ar(),this.Je=Jo(),this.Ye=Jo(),this.Ze=new lt(Le),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Ph,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new wt(Le),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new wt(Le),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ph),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Jo(){return new lt(Te.comparator)}function Rh(){return new lt(Te.comparator)}const ST={asc:"ASCENDING",desc:"DESCENDING"},IT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AT={and:"AND",or:"OR"};class xT{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ku(t,e){return t.useProto3Json||ul(e)?e:{value:e}}function Ma(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xg(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function CT(t,e){return Ma(t,e.toTimestamp())}function Mn(t){return Ye(!!t,49232),Ce.fromTimestamp(function(n){const r=Mr(n);return new _t(r.seconds,r.nanos)}(t))}function zc(t,e){return Qu(t,e).canonicalString()}function Qu(t,e){const n=function(s){return new st(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Jg(t){const e=st.fromString(t);return Ye(rv(e),10190,{key:e.toString()}),e}function Yu(t,e){return zc(t.databaseId,e.path)}function iu(t,e){const n=Jg(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(ev(n))}function Zg(t,e){return zc(t.databaseId,e)}function PT(t){const e=Jg(t);return e.length===4?st.emptyPath():ev(e)}function Xu(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ev(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function kh(t,e,n){return{name:Yu(t,e),fields:n.value.mapValue.fields}}function RT(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ie(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Ye(d===void 0||typeof d=="string",58123),Vt.fromBase64String(d||"")):(Ye(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Vt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?Q.UNKNOWN:Kg(c.code);return new ve(d,c.message||"")}(o);n=new Yg(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=iu(t,r.document.name),i=Mn(r.document.updateTime),o=r.document.createTime?Mn(r.document.createTime):Ce.min(),a=new Xt({mapValue:{fields:r.document.fields}}),u=zt.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new ha(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=iu(t,r.document),i=r.readTime?Mn(r.readTime):Ce.min(),o=zt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ha([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=iu(t,r.document),i=r.removedTargetIds||[];n=new ha([],i,s,null)}else{if(!("filter"in e))return Ie(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new _T(s,i),a=r.targetId;n=new Qg(a,o)}}return n}function kT(t,e){let n;if(e instanceof xo)n={update:kh(t,e.key,e.value)};else if(e instanceof Bc)n={delete:Yu(t,e.key)};else if(e instanceof Gr)n={update:kh(t,e.key,e.data),updateMask:BT(e.fieldMask)};else{if(!(e instanceof vT))return Ie(16599,{ft:e.type});n={verify:Yu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Da)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof go)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof vo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Va)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw Ie(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:CT(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ie(27497)}(t,e.precondition)),n}function OT(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Mn(s.updateTime):Mn(i);return o.isEqual(Ce.min())&&(o=Mn(i)),new pT(o,s.transformResults||[])}(n,e))):[]}function DT(t,e){return{documents:[Zg(t,e.path)]}}function VT(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Zg(t,s);const i=function(c){if(c.length!==0)return nv(Fn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Us(p.field),direction:NT(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ku(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:s}}function MT(t){let e=PT(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ye(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=tv(f);return p instanceof Fn&&Og(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(y){return new Oa(zs(y.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,ul(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,m=f.values||[];return new ka(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,m=f.values||[];return new ka(m,p)}(n.endAt)),eT(e,s,o,i,a,"F",u,c)}function LT(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tv(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zs(n.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=zs(n.unaryFilter.field);return bt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=zs(n.unaryFilter.field);return bt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zs(n.unaryFilter.field);return bt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return bt.create(zs(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(r=>tv(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}}(n.compositeFilter.op))}(t):Ie(30097,{filter:t})}function NT(t){return ST[t]}function $T(t){return IT[t]}function FT(t){return AT[t]}function Us(t){return{fieldPath:t.canonicalString()}}function zs(t){return Ot.fromServerFormat(t.fieldPath)}function nv(t){return t instanceof bt?function(n){if(n.op==="=="){if(yh(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NAN"}};if(vh(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yh(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NAN"}};if(vh(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(n.field),op:$T(n.op),value:n.value}}}(t):t instanceof Fn?function(n){const r=n.getFilters().map(s=>nv(s));return r.length===1?r[0]:{compositeFilter:{op:FT(n.op),filters:r}}}(t):Ie(54877,{filter:t})}function BT(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n,r,s,i=Ce.min(),o=Ce.min(),a=Vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e){this.wt=e}}function UT(t){const e=MT({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.yn=new qT}addToCollectionParentIndex(e,n){return this.yn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Vr.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Vr.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class qT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new wt(st.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new wt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sv=41943040;class Qt{static withCacheSize(e){return new Qt(e,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(sv,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new ii(0)}static ir(){return new ii(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="LruGarbageCollector",HT=1048576;function Vh([t,e],[n,r]){const s=Le(t,n);return s===0?Le(e,r):s}class GT{constructor(e){this.cr=e,this.buffer=new wt(Vh),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Vh(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WT{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ce(Dh,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vi(n)?ce(Dh,"Ignoring IndexedDB error during garbage collection: ",n):await gi(n)}await this.Ir(3e5)})}}class KT{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return W.resolve(ll.le);const r=new GT(n);return this.Er.forEachTarget(e,s=>r.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>r.Pr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Oh)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Oh):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,s,i,o,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Bs()<=qe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function QT(t,e){return new KT(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(){this.changes=new bs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ji(r.mutation,s,an.empty(),_t.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ue()){const s=as();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Bi();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=as();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ue()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ar();const o=Xi(),a=function(){return Xi()}();return n.forEach((u,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Gr)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ji(d.mutation,c,d.mutation.getFieldMask(),_t.now())):o.set(c.key,an.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new XT(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Xi();let s=new lt((o,a)=>o-a),i=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||an.empty();d=a.applyToLocalView(c,d),r.set(u,d);const f=(s.get(a.batchId)||Ue()).add(u);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,f=Bg();d.forEach(p=>{if(!i.has(p)){const m=Gg(n.get(p),r.get(p));m!==null&&f.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):W.resolve(as());let a=fo,u=i;return o.next(c=>W.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?W.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,Ue())).next(d=>({batchId:a,changes:Fg(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(r=>{let s=Bi();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Bi();return this.indexManager.getCollectionParents(e,i).next(a=>W.forEach(a,u=>{const c=function(f,p){return new dl(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,zt.newInvalidDocument(d)))});let a=Bi();return o.forEach((u,c)=>{const d=i.get(u);d!==void 0&&Ji(d.mutation,c,an.empty(),_t.now()),hl(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return W.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Mn(s.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(s){return{name:s.name,query:UT(s.bundledQuery),readTime:Mn(s.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.overlays=new lt(Te.comparator),this.Or=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=as();return W.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Or.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const s=as(),i=n.length+1,o=new Te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return W.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new lt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=as(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=as(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return W.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Or.get(s.largestBatchId).delete(r.key);this.Or.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bT(n,r));let i=this.Or.get(n);i===void 0&&(i=Ue(),this.Or.set(n,i)),this.Or.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this.Nr=new wt(St.Br),this.Lr=new wt(St.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new St(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new St(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new Te(new st([])),r=new St(n,e),s=new St(n,e+1),i=[];return this.Lr.forEachInRange([r,s],o=>{this.Qr(o),i.push(o.key)}),i}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new Te(new st([])),r=new St(n,e),s=new St(n,e+1);let i=Ue();return this.Lr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new St(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return Te.comparator(e.key,n.key)||Le(e.Gr,n.Gr)}static kr(e,n){return Le(e.Gr,n.Gr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new wt(St.Br)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new yT(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.zr=this.zr.add(new St(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,n){return W.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Hr(r),i=s<0?0:s;return W.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Dc:this.Jn-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),s=new St(n,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([r,s],o=>{const a=this.jr(o.Gr);i.push(a)}),W.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wt(Le);return n.forEach(s=>{const i=new St(s,0),o=new St(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,o],a=>{r=r.add(a.Gr)})}),W.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Te.isDocumentKey(i)||(i=i.child(""));const o=new St(new Te(i),0);let a=new wt(Le);return this.zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.Gr)),!0)},o),W.resolve(this.Jr(a))}Jr(e){const n=[];return e.forEach(r=>{const s=this.jr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ye(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return W.forEach(n.mutations,s=>{const i=new St(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new St(n,0),s=this.zr.firstAfterOrEqual(r);return W.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.Zr=e,this.docs=function(){return new lt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=ar();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():zt.newInvalidDocument(s))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ar();const o=n.path,a=new Te(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||OE(kE(d),r)<=0||(s.has(d.key)||hl(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return W.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ie(9500)}Xr(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new s1(this)}getSize(e){return W.resolve(this.size)}}class s1 extends YT{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.vr.addEntry(e,s)):this.vr.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.persistence=e,this.ei=new bs(n=>Lc(n),Nc),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.ti=0,this.ni=new qc,this.targetCount=0,this.ri=ii.rr()}forEachTarget(e,n){return this.ei.forEach((r,s)=>n(s)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),W.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new ii(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.ar(n),W.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ei.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),W.waitFor(i).next(()=>s)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),W.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n){this.ii={},this.overlays={},this.si=new ll(0),this.oi=!1,this.oi=!0,this._i=new t1,this.referenceDelegate=e(this),this.ai=new i1(this),this.indexManager=new zT,this.remoteDocumentCache=function(s){return new r1(s)}(r=>this.referenceDelegate.ui(r)),this.serializer=new jT(n),this.ci=new ZT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new e1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new n1(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const s=new o1(this.si.next());return this.referenceDelegate.li(),r(s).next(i=>this.referenceDelegate.hi(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Pi(e,n){return W.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class o1 extends VE{constructor(e){super(),this.currentSequenceNumber=e}}class Hc{constructor(e){this.persistence=e,this.Ti=new qc,this.Ii=null}static Ei(e){return new Hc(e)}get di(){if(this.Ii)return this.Ii;throw Ie(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,r=>{const s=Te.fromPath(r);return this.Ai(e,s).next(i=>{i||n.removeEntry(s,Ce.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return W.or([()=>W.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class La{constructor(e,n){this.persistence=e,this.Ri=new bs(r=>NE(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=QT(this,n)}static Ei(e,n){return new La(e,n)}li(){}hi(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return W.forEach(this.Ri,(r,s)=>this.gr(e,r,s).next(i=>i?W.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.Xr(e,o=>this.gr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Ce.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),W.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ca(e.data.value)),n}gr(e,n,r){return W.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.Ri.get(n);return W.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=s}static Ps(e,n){let r=Ue(),s=Ue();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Gc(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return tw()?8:ME(J_())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Vs(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new a1;return this.fs(e,n,o).next(a=>{if(i.result=a,this.Is)return this.gs(e,n,o,a.size)})}).next(()=>i.result)}gs(e,n,r,s){return r.documentReadCount<this.Es?(Bs()<=qe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",js(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),W.resolve()):(Bs()<=qe.DEBUG&&ce("QueryEngine","Query:",js(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Bs()<=qe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",js(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vn(n))):W.resolve())}Rs(e,n){if(Eh(n))return W.resolve(null);let r=Vn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Wu(n,null,"F"),r=Vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ue(...i);return this.As.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ps(n,a);return this.ys(n,c,o,u.readTime)?this.Rs(e,Wu(n,null,"F")):this.ws(e,c,n,u)}))})))}Vs(e,n,r,s){return Eh(n)||s.isEqual(Ce.min())?W.resolve(null):this.As.getDocuments(e,r).next(i=>{const o=this.ps(n,i);return this.ys(n,o,r,s)?W.resolve(null):(Bs()<=qe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),js(n)),this.ws(e,o,n,RE(s,fo)).next(a=>a))})}ps(e,n){let r=new wt(Ng(e));return n.forEach((s,i)=>{hl(e,i)&&(r=r.add(i))}),r}ys(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}fs(e,n,r){return Bs()<=qe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",js(n)),this.As.getDocumentsMatchingQuery(e,n,Vr.min(),r)}ws(e,n,r,s){return this.As.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc="LocalStore",u1=3e8;class c1{constructor(e,n,r,s){this.persistence=e,this.bs=n,this.serializer=s,this.Ss=new lt(Le),this.Ds=new bs(i=>Lc(i),Nc),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JT(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function d1(t,e,n,r){return new c1(t,e,n,r)}async function ov(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=Ue();for(const c of s){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ms:c,removedBatchIds:o,addedBatchIds:a}))})})}function f1(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const f=c.batch,p=f.keys();let m=W.resolve();return p.forEach(y=>{m=m.next(()=>d.getEntry(u,y)).next(S=>{const A=c.docVersions.get(y);Ye(A!==null,48541),S.version.compareTo(A)<0&&(f.applyToRemoteDocument(S,c),S.isValidDocument()&&(S.setReadTime(c.commitVersion),d.addEntry(S)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ue();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function av(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function h1(t,e){const n=Re(t),r=e.snapshotVersion;let s=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});s=n.Ss;const a=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;a.push(n.ai.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.ai.addMatchingKeys(i,d.addedDocuments,f)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Vt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(f,m),function(S,A,C){return S.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=u1?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(p,m,d)&&a.push(n.ai.updateTargetData(i,m))});let u=ar(),c=Ue();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(p1(i,o,e.documentUpdates).next(d=>{u=d.xs,c=d.Os})),!r.isEqual(Ce.min())){const d=n.ai.getLastRemoteSnapshotVersion(i).next(f=>n.ai.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return W.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.Ss=s,i))}function p1(t,e,n){let r=Ue(),s=Ue();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ar();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(Ce.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):ce(Wc,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{xs:o,Os:s}})}function m1(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Dc),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function g1(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.ai.getTargetData(r,e).next(i=>i?(s=i,W.resolve(s)):n.ai.allocateTargetId(r).next(o=>(s=new Er(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ss.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function Ju(t,e,n){const r=Re(t),s=r.Ss.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!vi(o))throw o;ce(Wc,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(s.target)}function Mh(t,e,n){const r=Re(t);let s=Ce.min(),i=Ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const f=Re(u),p=f.Ds.get(d);return p!==void 0?W.resolve(f.Ss.get(p)):f.ai.getTargetData(c,d)}(r,o,Vn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,n?s:Ce.min(),n?i:Ue())).next(a=>(v1(r,rT(e),a),{documents:a,Ns:i})))}function v1(t,e,n){let r=t.vs.get(e)||Ce.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.vs.set(e,r)}class Lh{constructor(){this.activeTargetIds=uT()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y1{constructor(){this.So=new Lh,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Lh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="ConnectivityMonitor";class $h{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ce(Nh,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ce(Nh,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo=null;function Zu(){return Zo===null?Zo=function(){return 268435456+Math.round(2147483648*Math.random())}():Zo++,"0x"+Zo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou="RestConnection",_1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class w1{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${s}`,this.qo=this.databaseId.database===Pa?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Qo(e,n,r,s,i){const o=Zu(),a=this.$o(e,n.toUriEncodedString());ce(ou,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(u,s,i),this.Ko(e,a,u,r).then(c=>(ce(ou,`Received RPC '${e}' ${o}: `,c),c),c=>{throw ti(ou,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Wo(e,n,r,s,i,o){return this.Qo(e,n,r,s,i)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mi}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}$o(e,n){const r=_1[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class T1 extends w1{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,s){const i=Zu();return new Promise((o,a)=>{const u=new dg;u.setWithCredentials(!0),u.listenOnce(fg.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ua.NO_ERROR:const d=u.getResponseJson();ce($t,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case ua.TIMEOUT:ce($t,`RPC '${e}' ${i} timed out`),a(new ve(Q.DEADLINE_EXCEEDED,"Request time out"));break;case ua.HTTP_ERROR:const f=u.getStatus();if(ce($t,`RPC '${e}' ${i} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const y=function(A){const C=A.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(C)>=0?C:Q.UNKNOWN}(m.status);a(new ve(y,m.message))}else a(new ve(Q.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ve(Q.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{s_:e,streamId:i,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{ce($t,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);ce($t,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",c,r,15)})}a_(e,n,r){const s=Zu(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mg(),a=pg(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=i.join("");ce($t,`Creating RPC '${e}' stream ${s}: ${d}`,u);const f=o.createWebChannel(d,u);let p=!1,m=!1;const y=new E1({Go:A=>{m?ce($t,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(p||(ce($t,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),ce($t,`RPC '${e}' stream ${s} sending:`,A),f.send(A))},zo:()=>f.close()}),S=(A,C,b)=>{A.listen(C,v=>{try{b(v)}catch(x){setTimeout(()=>{throw x},0)}})};return S(f,Fi.EventType.OPEN,()=>{m||(ce($t,`RPC '${e}' stream ${s} transport opened.`),y.t_())}),S(f,Fi.EventType.CLOSE,()=>{m||(m=!0,ce($t,`RPC '${e}' stream ${s} transport closed`),y.r_())}),S(f,Fi.EventType.ERROR,A=>{m||(m=!0,ti($t,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),y.r_(new ve(Q.UNAVAILABLE,"The operation could not be completed")))}),S(f,Fi.EventType.MESSAGE,A=>{var C;if(!m){const b=A.data[0];Ye(!!b,16349);const v=b,x=(v==null?void 0:v.error)||((C=v[0])===null||C===void 0?void 0:C.error);if(x){ce($t,`RPC '${e}' stream ${s} received error:`,x);const V=x.status;let M=function(_){const I=mt[_];if(I!==void 0)return Kg(I)}(V),T=x.message;M===void 0&&(M=Q.INTERNAL,T="Unknown error status: "+V+" with message "+x.message),m=!0,y.r_(new ve(M,T)),f.close()}else ce($t,`RPC '${e}' stream ${s} received:`,b),y.i_(b)}}),S(a,hg.STAT_EVENT,A=>{A.stat===ju.PROXY?ce($t,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===ju.NOPROXY&&ce($t,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.n_()},0),y}}function au(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(t){return new xT(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n,r=1e3,s=1.5,i=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=s,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),s=Math.max(0,n-r);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh="PersistentStream";class uv{constructor(e,n,r,s,i,o,a,u){this.bi=e,this.R_=r,this.V_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new lv(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.m_===n&&this.B_(r,s)},r=>{e(()=>{const s=new ve(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(s)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{r(()=>this.L_(s))}),this.stream.onMessage(s=>{r(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ce(Fh,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(ce(Fh,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class S1 extends uv{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=RT(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ce.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ce.min():o.readTime?Mn(o.readTime):Ce.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=Xu(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=Gu(u)?{documents:DT(i,u)}:{query:VT(i,u).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Xg(i,o.resumeToken);const c=Ku(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ce.min())>0){a.readTime=Ma(i,o.snapshotVersion.toTimestamp());const c=Ku(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=LT(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=Xu(this.serializer),n.removeTarget=e,this.F_(n)}}class I1 extends uv{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=OT(e.writeResults,e.commitTime),r=Mn(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=Xu(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>kT(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{}class x1 extends A1{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new ve(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Qo(e,Qu(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ve(Q.UNKNOWN,i.toString())})}Wo(e,n,r,s,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,Qu(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(Q.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class C1{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(or(n),this.ea=!1):ce("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="RemoteStore";class P1{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(o=>{r.enqueueAndForget(async()=>{_s(this)&&(ce(hs,"Restarting streams for network reachability change."),await async function(u){const c=Re(u);c.aa.add(4),await Po(c),c.la.set("Unknown"),c.aa.delete(4),await yl(c)}(this))})}),this.la=new C1(r,s)}}async function yl(t){if(_s(t))for(const e of t.ua)await e(!0)}async function Po(t){for(const e of t.ua)await e(!1)}function cv(t,e){const n=Re(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Xc(n)?Yc(n):yi(n).b_()&&Qc(n,e))}function Kc(t,e){const n=Re(t),r=yi(n);n._a.delete(e),r.b_()&&dv(n,e),n._a.size===0&&(r.b_()?r.v_():_s(n)&&n.la.set("Unknown"))}function Qc(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yi(t).U_(e)}function dv(t,e){t.ha.Ke(e),yi(t).K_(e)}function Yc(t){t.ha=new TT({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),yi(t).start(),t.la.ta()}function Xc(t){return _s(t)&&!yi(t).w_()&&t._a.size>0}function _s(t){return Re(t).aa.size===0}function fv(t){t.ha=void 0}async function R1(t){t.la.set("Online")}async function k1(t){t._a.forEach((e,n)=>{Qc(t,e)})}async function O1(t,e){fv(t),Xc(t)?(t.la.ia(e),Yc(t)):t.la.set("Unknown")}async function D1(t,e,n){if(t.la.set("Online"),e instanceof Yg&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s._a.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s._a.delete(a),s.ha.removeTarget(a))}(t,e)}catch(r){ce(hs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Na(t,r)}else if(e instanceof ha?t.ha.Xe(e):e instanceof Qg?t.ha.ot(e):t.ha.nt(e),!n.isEqual(Ce.min()))try{const r=await av(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.ha.It(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=i._a.get(c);d&&i._a.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=i._a.get(u);if(!d)return;i._a.set(u,d.withResumeToken(Vt.EMPTY_BYTE_STRING,d.snapshotVersion)),dv(i,u);const f=new Er(d.target,u,c,d.sequenceNumber);Qc(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ce(hs,"Failed to raise snapshot:",r),await Na(t,r)}}async function Na(t,e,n){if(!vi(e))throw e;t.aa.add(1),await Po(t),t.la.set("Offline"),n||(n=()=>av(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce(hs,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await yl(t)})}function hv(t,e){return e().catch(n=>Na(t,n,e))}async function bl(t){const e=Re(t),n=$r(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Dc;for(;V1(e);)try{const s=await m1(e.localStore,r);if(s===null){e.oa.length===0&&n.v_();break}r=s.batchId,M1(e,s)}catch(s){await Na(e,s)}pv(e)&&mv(e)}function V1(t){return _s(t)&&t.oa.length<10}function M1(t,e){t.oa.push(e);const n=$r(t);n.b_()&&n.W_&&n.G_(e.mutations)}function pv(t){return _s(t)&&!$r(t).w_()&&t.oa.length>0}function mv(t){$r(t).start()}async function L1(t){$r(t).H_()}async function N1(t){const e=$r(t);for(const n of t.oa)e.G_(n.mutations)}async function $1(t,e,n){const r=t.oa.shift(),s=jc.from(r,e,n);await hv(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await bl(t)}async function F1(t,e){e&&$r(t).W_&&await async function(r,s){if(function(o){return wT(o)&&o!==Q.ABORTED}(s.code)){const i=r.oa.shift();$r(r).D_(),await hv(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await bl(r)}}(t,e),pv(t)&&mv(t)}async function Bh(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),ce(hs,"RemoteStore received new credentials");const r=_s(n);n.aa.add(3),await Po(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await yl(n)}async function B1(t,e){const n=Re(t);e?(n.aa.delete(2),await yl(n)):e||(n.aa.add(2),await Po(n),n.la.set("Unknown"))}function yi(t){return t.Pa||(t.Pa=function(n,r,s){const i=Re(n);return i.Y_(),new S1(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{jo:R1.bind(null,t),Jo:k1.bind(null,t),Zo:O1.bind(null,t),Q_:D1.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),Xc(t)?Yc(t):t.la.set("Unknown")):(await t.Pa.stop(),fv(t))})),t.Pa}function $r(t){return t.Ta||(t.Ta=function(n,r,s){const i=Re(n);return i.Y_(),new I1(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:L1.bind(null,t),Zo:F1.bind(null,t),z_:N1.bind(null,t),j_:$1.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await bl(t)):(await t.Ta.stop(),t.oa.length>0&&(ce(hs,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Jc(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zc(t,e){if(or("AsyncQueue",`${e}: ${t}`),vi(t))return new ve(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{static emptySet(e){return new Js(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=Bi(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Js)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Js;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this.Ia=new lt(Te.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Ie(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class oi{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new oi(e,n,Js.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class U1{constructor(){this.queries=Uh(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const s=Re(n),i=s.queries;s.queries=Uh(),i.forEach((o,a)=>{for(const u of a.Ra)u.onError(r)})})(this,new ve(Q.ABORTED,"Firestore shutting down"))}}function Uh(){return new bs(t=>Lg(t),fl)}async function gv(t,e){const n=Re(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Va()&&e.ma()&&(r=2):(i=new j1,r=e.ma()?0:1);try{switch(r){case 0:i.Aa=await n.onListen(s,!0);break;case 1:i.Aa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Zc(o,`Initialization of query '${js(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Ra.push(e),e.ga(n.onlineState),i.Aa&&e.pa(i.Aa)&&ed(n)}async function vv(t,e){const n=Re(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Ra.indexOf(e);o>=0&&(i.Ra.splice(o,1),i.Ra.length===0?s=e.ma()?0:1:!i.Va()&&e.ma()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function z1(t,e){const n=Re(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Ra)a.pa(s)&&(r=!0);o.Aa=s}}r&&ed(n)}function q1(t,e,n){const r=Re(t),s=r.queries.get(e);if(s)for(const i of s.Ra)i.onError(n);r.queries.delete(e)}function ed(t){t.fa.forEach(e=>{e.next()})}var ec,zh;(zh=ec||(ec={})).ya="default",zh.Cache="cache";class yv{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new oi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=oi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==ec.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this.key=e}}class _v{constructor(e){this.key=e}}class H1{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ue(),this.mutatedKeys=Ue(),this.Ua=Ng(e),this.Ka=new Js(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new jh,s=n?n.Ka:this.Ka;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),m=hl(this.query,f)?f:null,y=!!p&&this.mutatedKeys.has(p.key),S=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let A=!1;p&&m?p.data.isEqual(m.data)?y!==S&&(r.track({type:3,doc:m}),A=!0):this.ja(p,m)||(r.track({type:2,doc:m}),A=!0,(u&&this.Ua(m,u)>0||c&&this.Ua(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),A=!0):p&&!m&&(r.track({type:1,doc:p}),A=!0,(u||c)&&(a=!0)),A&&(m?(o=o.add(m),i=S?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ka:o,za:r,ys:a,mutatedKeys:i}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((d,f)=>function(m,y){const S=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Vt:A})}};return S(m)-S(y)}(d.type,f.type)||this.Ua(d.doc,f.doc)),this.Ha(r),s=s!=null&&s;const a=n&&!s?this.Ja():[],u=this.$a.size===0&&this.current&&!s?1:0,c=u!==this.Qa;return this.Qa=u,o.length!==0||c?{snapshot:new oi(this.query,e.Ka,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new jh,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Ue(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new _v(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new bv(r))}),n}Xa(e){this.qa=e.Ns,this.$a=Ue();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return oi.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const td="SyncEngine";class G1{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class W1{constructor(e){this.key=e,this.tu=!1}}class K1{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new bs(a=>Lg(a),fl),this.iu=new Map,this.su=new Set,this.ou=new lt(Te.comparator),this._u=new Map,this.au=new qc,this.uu={},this.cu=new Map,this.lu=ii.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Q1(t,e,n=!0){const r=Av(t);let s;const i=r.ru.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.eu()):s=await wv(r,e,n,!0),s}async function Y1(t,e){const n=Av(t);await wv(n,e,!0,!1)}async function wv(t,e,n,r){const s=await g1(t.localStore,Vn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await X1(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&cv(t.remoteStore,s),a}async function X1(t,e,n,r,s){t.Pu=(f,p,m)=>async function(S,A,C,b){let v=A.view.Ga(C);v.ys&&(v=await Mh(S.localStore,A.query,!1).then(({documents:T})=>A.view.Ga(T,v)));const x=b&&b.targetChanges.get(A.targetId),V=b&&b.targetMismatches.get(A.targetId)!=null,M=A.view.applyChanges(v,S.isPrimaryClient,x,V);return Hh(S,A.targetId,M.Ya),M.snapshot}(t,f,p,m);const i=await Mh(t.localStore,e,!0),o=new H1(e,i.Ns),a=o.Ga(i.documents),u=Co.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);Hh(t,n,c.Ya);const d=new G1(e,n,o);return t.ru.set(e,d),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),c.snapshot}async function J1(t,e,n){const r=Re(t),s=r.ru.get(e),i=r.iu.get(s.targetId);if(i.length>1)return r.iu.set(s.targetId,i.filter(o=>!fl(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ju(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Kc(r.remoteStore,s.targetId),tc(r,s.targetId)}).catch(gi)):(tc(r,s.targetId),await Ju(r.localStore,s.targetId,!0))}async function Z1(t,e){const n=Re(t),r=n.ru.get(e),s=n.iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kc(n.remoteStore,r.targetId))}async function eS(t,e,n){const r=aS(t);try{const s=await function(o,a){const u=Re(o),c=_t.now(),d=a.reduce((m,y)=>m.add(y.key),Ue());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=ar(),S=Ue();return u.Cs.getEntries(m,d).next(A=>{y=A,y.forEach((C,b)=>{b.isValidDocument()||(S=S.add(C))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,y)).next(A=>{f=A;const C=[];for(const b of a){const v=gT(b,f.get(b.key).overlayedDocument);v!=null&&C.push(new Gr(b.key,v,Pg(v.value.mapValue),_n.exists(!0)))}return u.mutationQueue.addMutationBatch(m,c,C,a)}).next(A=>{p=A;const C=A.applyToLocalDocumentSet(f,S);return u.documentOverlayCache.saveOverlays(m,A.batchId,C)})}).then(()=>({batchId:p.batchId,changes:Fg(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.uu[o.currentUser.toKey()];c||(c=new lt(Le)),c=c.insert(a,u),o.uu[o.currentUser.toKey()]=c}(r,s.batchId,n),await Ro(r,s.changes),await bl(r.remoteStore)}catch(s){const i=Zc(s,"Failed to persist write");n.reject(i)}}async function Ev(t,e){const n=Re(t);try{const r=await h1(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n._u.get(i);o&&(Ye(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.tu=!0:s.modifiedDocuments.size>0?Ye(o.tu,14607):s.removedDocuments.size>0&&(Ye(o.tu,42227),o.tu=!1))}),await Ro(n,r,e)}catch(r){await gi(r)}}function qh(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ru.forEach((i,o)=>{const a=o.view.ga(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=Re(o);u.onlineState=a;let c=!1;u.queries.forEach((d,f)=>{for(const p of f.Ra)p.ga(a)&&(c=!0)}),c&&ed(u)}(r.eventManager,e),s.length&&r.nu.Q_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function tS(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r._u.get(e),i=s&&s.key;if(i){let o=new lt(Te.comparator);o=o.insert(i,zt.newNoDocument(i,Ce.min()));const a=Ue().add(i),u=new gl(Ce.min(),new Map,new lt(Le),o,a);await Ev(r,u),r.ou=r.ou.remove(i),r._u.delete(e),nd(r)}else await Ju(r.localStore,e,!1).then(()=>tc(r,e,n)).catch(gi)}async function nS(t,e){const n=Re(t),r=e.batch.batchId;try{const s=await f1(n.localStore,e);Sv(n,r,null),Tv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ro(n,s)}catch(s){await gi(s)}}async function rS(t,e,n){const r=Re(t);try{const s=await function(o,a){const u=Re(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ye(f!==null,37113),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);Sv(r,e,n),Tv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ro(r,s)}catch(s){await gi(s)}}function Tv(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function Sv(t,e,n){const r=Re(t);let s=r.uu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.uu[r.currentUser.toKey()]=s}}function tc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||Iv(t,r)})}function Iv(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(Kc(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),nd(t))}function Hh(t,e,n){for(const r of n)r instanceof bv?(t.au.addReference(r.key,e),sS(t,r)):r instanceof _v?(ce(td,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||Iv(t,r.key)):Ie(19791,{Iu:r})}function sS(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(ce(td,"New document in limbo: "+n),t.su.add(r),nd(t))}function nd(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new Te(st.fromString(e)),r=t.lu.next();t._u.set(r,new W1(n)),t.ou=t.ou.insert(n,r),cv(t.remoteStore,new Er(Vn($c(n.path)),r,"TargetPurposeLimboResolution",ll.le))}}async function Ro(t,e,n){const r=Re(t),s=[],i=[],o=[];r.ru.isEmpty()||(r.ru.forEach((a,u)=>{o.push(r.Pu(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){s.push(c);const f=Gc.Ps(u.targetId,c);i.push(f)}}))}),await Promise.all(o),r.nu.Q_(s),await async function(u,c){const d=Re(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>W.forEach(c,p=>W.forEach(p.ls,m=>d.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>W.forEach(p.hs,m=>d.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!vi(f))throw f;ce(Wc,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const m=d.Ss.get(p),y=m.snapshotVersion,S=m.withLastLimboFreeSnapshotVersion(y);d.Ss=d.Ss.insert(p,S)}}}(r.localStore,i))}async function iS(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){ce(td,"User change. New user:",e.toKey());const r=await ov(n.localStore,e);n.currentUser=e,function(i,o){i.cu.forEach(a=>{a.forEach(u=>{u.reject(new ve(Q.CANCELLED,o))})}),i.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ro(n,r.Ms)}}function oS(t,e){const n=Re(t),r=n._u.get(e);if(r&&r.tu)return Ue().add(r.key);{let s=Ue();const i=n.iu.get(e);if(!i)return s;for(const o of i){const a=n.ru.get(o);s=s.unionWith(a.view.Wa)}return s}}function Av(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ev.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tS.bind(null,e),e.nu.Q_=z1.bind(null,e.eventManager),e.nu.Tu=q1.bind(null,e.eventManager),e}function aS(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rS.bind(null,e),e}class $a{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vl(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return d1(this.persistence,new l1,e.initialUser,this.serializer)}Ru(e){return new iv(Hc.Ei,this.serializer)}Au(e){return new y1}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$a.provider={build:()=>new $a};class lS extends $a{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Ye(this.persistence.referenceDelegate instanceof La,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new WT(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new iv(r=>La.Ei(r,n),this.serializer)}}class nc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qh(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iS.bind(null,this.syncEngine),await B1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new U1}()}createDatastore(e){const n=vl(e.databaseInfo.databaseId),r=function(i){return new T1(i)}(e.databaseInfo);return function(i,o,a,u){return new x1(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new P1(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>qh(this.syncEngine,n,0),function(){return $h.C()?new $h:new b1}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,d){const f=new K1(s,i,o,a,u,c);return d&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Re(s);ce(hs,"RemoteStore shutting down."),i.aa.add(5),await Po(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}nc.provider={build:()=>new nc};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="FirestoreClient";class uS{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Bt.UNAUTHENTICATED,this.clientId=bg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ce(Fr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ce(Fr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zc(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lu(t,e){t.asyncQueue.verifyOperationInProgress(),ce(Fr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await ov(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Gh(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cS(t);ce(Fr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Bh(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Bh(e.remoteStore,s)),t._onlineComponents=e}async function cS(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(Fr,"Using user provided OfflineComponentProvider");try{await lu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Q.FAILED_PRECONDITION||s.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ti("Error using user provided cache. Falling back to memory cache: "+n),await lu(t,new $a)}}else ce(Fr,"Using default OfflineComponentProvider"),await lu(t,new lS(void 0));return t._offlineComponents}async function Cv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(Fr,"Using user provided OnlineComponentProvider"),await Gh(t,t._uninitializedComponentsProvider._online)):(ce(Fr,"Using default OnlineComponentProvider"),await Gh(t,new nc))),t._onlineComponents}function dS(t){return Cv(t).then(e=>e.syncEngine)}async function Pv(t){const e=await Cv(t),n=e.eventManager;return n.onListen=Q1.bind(null,e.syncEngine),n.onUnlisten=J1.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Y1.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Z1.bind(null,e.syncEngine),n}function fS(t,e,n={}){const r=new nr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new xv({next:p=>{d.yu(),o.enqueueAndForget(()=>vv(i,f));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new ve(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&u&&u.source==="server"?c.reject(new ve(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new yv($c(a.path),d,{includeMetadataChanges:!0,Fa:!0});return gv(i,f)}(await Pv(t),t.asyncQueue,e,n,r)),r.promise}function hS(t,e,n={}){const r=new nr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new xv({next:p=>{d.yu(),o.enqueueAndForget(()=>vv(i,f)),p.fromCache&&u.source==="server"?c.reject(new ve(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new yv(a,d,{includeMetadataChanges:!0,Fa:!0});return gv(i,f)}(await Pv(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(t,e,n){if(!n)throw new ve(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pS(t,e,n,r){if(e===!0&&r===!0)throw new ve(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Kh(t){if(!Te.isDocumentKey(t))throw new ve(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Qh(t){if(Te.isDocumentKey(t))throw new ve(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie(12329,{type:typeof t})}function Bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rd(t);throw new ve(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="firestore.googleapis.com",Yh=!0;class Xh{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ov,this.ssl=Yh}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Yh;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HT)throw new ve(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rv((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ve(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ve(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ve(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _l{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wE;switch(r.type){case"firstParty":return new IE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Wh.get(n);r&&(ce("ComponentProvider","Removing Datastore"),Wh.delete(n),r.terminate())}(this),Promise.resolve()}}function mS(t,e,n,r={}){var s;const i=(t=Bn(t,_l))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i.host!==Ov&&i.host!==a&&ti("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},i),{host:a,ssl:!1,emulatorOptions:r});if(!uo(u,o)&&(t._setSettings(u),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=Bt.MOCK_USER;else{c=X_(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new ve(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Bt(f)}t._authCredentials=new EE(new vg(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wl(this.firestore,e,this._query)}}class Jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}}class Rr extends wl{constructor(e,n,r){super(e,n,$c(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new Te(e))}withConverter(e){return new Rr(this.firestore,e,this._path)}}function Dv(t,e,...n){if(t=Nn(t),kv("collection","path",e),t instanceof _l){const r=st.fromString(e,...n);return Qh(r),new Rr(t,null,r)}{if(!(t instanceof Jt||t instanceof Rr))throw new ve(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return Qh(r),new Rr(t.firestore,null,r)}}function ws(t,e,...n){if(t=Nn(t),arguments.length===1&&(e=bg.newId()),kv("doc","path",e),t instanceof _l){const r=st.fromString(e,...n);return Kh(r),new Jt(t,null,new Te(r))}{if(!(t instanceof Jt||t instanceof Rr))throw new ve(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return Kh(r),new Jt(t.firestore,t instanceof Rr?t.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="AsyncQueue";class Zh{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new lv(this,"async_queue_retry"),this.ju=()=>{const r=au();r&&ce(Jh,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=au();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=au();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new nr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!vi(e))throw e;ce(Jh,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,or("INTERNAL UNHANDLED ERROR: ",ep(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const s=Jc.createAndSchedule(this,e,n,r,i=>this.Xu(i));return this.Uu.push(s),s}Ju(){this.Ku&&Ie(47125,{ec:ep(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function ep(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class bi extends _l{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Zh,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zh(e),this._firestoreClient=void 0,await e}}}function gS(t,e){const n=typeof t=="object"?t:ag(),r=typeof t=="string"?t:Pa,s=Ao(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Q_("firestore");i&&mS(s,...i)}return s}function sd(t){if(t._terminated)throw new ve(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vS(t),t._firestoreClient}function vS(t){var e,n,r;const s=t._freezeSettings(),i=function(a,u,c,d){return new BE(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Rv(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new uS(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(Vt.fromBase64String(e))}catch(n){throw new ve(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ai(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=/^__.*__$/;class bS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gr(e,this.data,this.fieldMask,n,this.fieldTransforms):new xo(e,this.data,n,this.fieldTransforms)}}class Vv{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Mv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{oc:t})}}class ld{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new ld(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s.lc(e),s}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Fa(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Mv(this.oc)&&yS.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class _S{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vl(e)}dc(e,n,r,s=!1){return new ld({oc:e,methodName:n,Ec:r,path:Ot.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lv(t){const e=t._freezeSettings(),n=vl(t._databaseId);return new _S(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wS(t,e,n,r,s,i={}){const o=t.dc(i.merge||i.mergeFields?2:0,e,n,s);ud("Data must be an object, but it was:",o,r);const a=Nv(r,o);let u,c;if(i.merge)u=new an(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=rc(e,f,n);if(!o.contains(p))throw new ve(Q.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Fv(d,p)||d.push(p)}u=new an(d),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new bS(new Xt(a),u,c)}class Tl extends id{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tl}}function ES(t,e,n,r){const s=t.dc(1,e,n);ud("Data must be an object, but it was:",s,r);const i=[],o=Xt.empty();Hr(r,(u,c)=>{const d=cd(e,u,n);c=Nn(c);const f=s.hc(d);if(c instanceof Tl)i.push(d);else{const p=Sl(c,f);p!=null&&(i.push(d),o.set(d,p))}});const a=new an(i);return new Vv(o,a,s.fieldTransforms)}function TS(t,e,n,r,s,i){const o=t.dc(1,e,n),a=[rc(e,r,n)],u=[s];if(i.length%2!=0)throw new ve(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(rc(e,i[p])),u.push(i[p+1]);const c=[],d=Xt.empty();for(let p=a.length-1;p>=0;--p)if(!Fv(c,a[p])){const m=a[p];let y=u[p];y=Nn(y);const S=o.hc(m);if(y instanceof Tl)c.push(m);else{const A=Sl(y,S);A!=null&&(c.push(m),d.set(m,A))}}const f=new an(c);return new Vv(d,f,o.fieldTransforms)}function Sl(t,e){if($v(t=Nn(t)))return ud("Unsupported field value:",e,t),Nv(t,e);if(t instanceof id)return function(r,s){if(!Mv(s.oc))throw s.Tc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=Sl(a,s.Pc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Nn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cT(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=_t.fromDate(r);return{timestampValue:Ma(s.serializer,i)}}if(r instanceof _t){const i=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ma(s.serializer,i)}}if(r instanceof od)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ai)return{bytesValue:Xg(s.serializer,r._byteString)};if(r instanceof Jt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zc(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ad)return function(o,a){return{mapValue:{fields:{[xg]:{stringValue:Cg},[Ra]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Tc("VectorValues must only contain numeric values.");return Fc(a.serializer,c)})}}}}}}(r,s);throw s.Tc(`Unsupported field value: ${rd(r)}`)}(t,e)}function Nv(t,e){const n={};return wg(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hr(t,(r,s)=>{const i=Sl(s,e.uc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function $v(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof od||t instanceof ai||t instanceof Jt||t instanceof id||t instanceof ad)}function ud(t,e,n){if(!$v(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=rd(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function rc(t,e,n){if((e=Nn(e))instanceof El)return e._internalPath;if(typeof e=="string")return cd(t,e);throw Fa("Field path arguments must be of type string or ",t,!1,void 0,n)}const SS=new RegExp("[~\\*/\\[\\]]");function cd(t,e,n){if(e.search(SS)>=0)throw Fa(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new El(...e.split("."))._internalPath}catch{throw Fa(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fa(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new ve(Q.INVALID_ARGUMENT,a+t+u)}function Fv(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IS extends Bv{data(){return super.data()}}function jv(t,e){return typeof e=="string"?cd(t,e):e instanceof El?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xS{convertValue(e,n="none"){switch(Nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hr(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Ra].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>ft(o.doubleValue));return new ad(i)}convertGeoPoint(e){return new od(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=cl(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ho(e));default:return null}}convertTimestamp(e){const n=Mr(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Ye(rv(r),9688,{name:e});const s=new po(r.get(1),r.get(3)),i=new Te(r.popFirst(5));return s.isEqual(n)||or(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uv extends Bv{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(jv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pa extends Uv{data(e={}){return super.data(e)}}class PS{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ui(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pa(this._firestore,this._userDataWriter,r.key,r,new Ui(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new pa(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ui(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new pa(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ui(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:RS(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function RS(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t){t=Bn(t,Jt);const e=Bn(t.firestore,bi);return fS(sd(e),t._key).then(n=>VS(e,t,n))}class zv extends xS{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function qv(t){t=Bn(t,wl);const e=Bn(t.firestore,bi),n=sd(e),r=new zv(e);return AS(t._query),hS(n,t._query).then(s=>new PS(e,r,t,s))}function kS(t,e,n){t=Bn(t,Jt);const r=Bn(t.firestore,bi),s=CS(t.converter,e);return dd(r,[wS(Lv(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,_n.none())])}function OS(t,e,n,...r){t=Bn(t,Jt);const s=Bn(t.firestore,bi),i=Lv(s);let o;return o=typeof(e=Nn(e))=="string"||e instanceof El?TS(i,"updateDoc",t._key,e,n,r):ES(i,"updateDoc",t._key,e),dd(s,[o.toMutation(t._key,_n.exists(!0))])}function DS(t){return dd(Bn(t.firestore,bi),[new Bc(t._key,_n.none())])}function dd(t,e){return function(r,s){const i=new nr;return r.asyncQueue.enqueueAndForget(async()=>eS(await dS(r),s,i)),i.promise}(sd(t),e)}function VS(t,e,n){const r=n.docs.get(e._key),s=new zv(t);return new Uv(t,s,e._key,r,new Ui(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){mi=s})(lE),Dr(new sr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new bi(new TE(r.getProvider("auth-internal")),new AE(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ve(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new po(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Dn(ih,oh,e),Dn(ih,oh,"esm2017")})();const Hv="@firebase/installations",fd="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=1e4,Wv=`w:${fd}`,Kv="FIS_v2",MS="https://firebaseinstallations.googleapis.com/v1",LS=60*60*1e3,NS="installations",$S="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ps=new al(NS,$S,FS);function Qv(t){return t instanceof qr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv({projectId:t}){return`${MS}/projects/${t}/installations`}function Xv(t){return{token:t.token,requestStatus:2,expiresIn:jS(t.expiresIn),creationTime:Date.now()}}async function Jv(t,e){const r=(await e.json()).error;return ps.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Zv({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function BS(t,{refreshToken:e}){const n=Zv(t);return n.append("Authorization",US(e)),n}async function ey(t){const e=await t();return e.status>=500&&e.status<600?t():e}function jS(t){return Number(t.replace("s","000"))}function US(t){return`${Kv} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zS({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Yv(t),s=Zv(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:Kv,appId:t.appId,sdkVersion:Wv},a={method:"POST",headers:s,body:JSON.stringify(o)},u=await ey(()=>fetch(r,a));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Xv(c.authToken)}}else throw await Jv("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=/^[cdef][\w-]{21}$/,sc="";function GS(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=WS(t);return HS.test(n)?n:sc}catch{return sc}}function WS(t){return qS(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=new Map;function ry(t,e){const n=Il(t);sy(n,e),KS(n,e)}function sy(t,e){const n=ny.get(t);if(n)for(const r of n)r(e)}function KS(t,e){const n=QS();n&&n.postMessage({key:t,fid:e}),YS()}let ls=null;function QS(){return!ls&&"BroadcastChannel"in self&&(ls=new BroadcastChannel("[Firebase] FID Change"),ls.onmessage=t=>{sy(t.data.key,t.data.fid)}),ls}function YS(){ny.size===0&&ls&&(ls.close(),ls=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="firebase-installations-database",JS=1,ms="firebase-installations-store";let uu=null;function hd(){return uu||(uu=ig(XS,JS,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ms)}}})),uu}async function Ba(t,e){const n=Il(t),s=(await hd()).transaction(ms,"readwrite"),i=s.objectStore(ms),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&ry(t,e.fid),e}async function iy(t){const e=Il(t),r=(await hd()).transaction(ms,"readwrite");await r.objectStore(ms).delete(e),await r.done}async function Al(t,e){const n=Il(t),s=(await hd()).transaction(ms,"readwrite"),i=s.objectStore(ms),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&ry(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pd(t){let e;const n=await Al(t.appConfig,r=>{const s=ZS(r),i=eI(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===sc?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function ZS(t){const e=t||{fid:GS(),registrationStatus:0};return oy(e)}function eI(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ps.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=tI(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:nI(t)}:{installationEntry:e}}async function tI(t,e){try{const n=await zS(t,e);return Ba(t.appConfig,n)}catch(n){throw Qv(n)&&n.customData.serverCode===409?await iy(t.appConfig):await Ba(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function nI(t){let e=await tp(t.appConfig);for(;e.registrationStatus===1;)await ty(100),e=await tp(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await pd(t);return r||n}return e}function tp(t){return Al(t,e=>{if(!e)throw ps.create("installation-not-found");return oy(e)})}function oy(t){return rI(t)?{fid:t.fid,registrationStatus:0}:t}function rI(t){return t.registrationStatus===1&&t.registrationTime+Gv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI({appConfig:t,heartbeatServiceProvider:e},n){const r=iI(t,n),s=BS(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:Wv,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},u=await ey(()=>fetch(r,a));if(u.ok){const c=await u.json();return Xv(c)}else throw await Jv("Generate Auth Token",u)}function iI(t,{fid:e}){return`${Yv(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(t,e=!1){let n;const r=await Al(t.appConfig,i=>{if(!ay(i))throw ps.create("not-registered");const o=i.authToken;if(!e&&lI(o))return i;if(o.requestStatus===1)return n=oI(t,e),i;{if(!navigator.onLine)throw ps.create("app-offline");const a=cI(i);return n=aI(t,a),a}});return n?await n:r.authToken}async function oI(t,e){let n=await np(t.appConfig);for(;n.authToken.requestStatus===1;)await ty(100),n=await np(t.appConfig);const r=n.authToken;return r.requestStatus===0?md(t,e):r}function np(t){return Al(t,e=>{if(!ay(e))throw ps.create("not-registered");const n=e.authToken;return dI(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function aI(t,e){try{const n=await sI(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Ba(t.appConfig,r),n}catch(n){if(Qv(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await iy(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ba(t.appConfig,r)}throw n}}function ay(t){return t!==void 0&&t.registrationStatus===2}function lI(t){return t.requestStatus===2&&!uI(t)}function uI(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+LS}function cI(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function dI(t){return t.requestStatus===1&&t.requestTime+Gv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(t){const e=t,{installationEntry:n,registrationPromise:r}=await pd(e);return r?r.catch(console.error):md(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(t,e=!1){const n=t;return await pI(n),(await md(n,e)).token}async function pI(t){const{registrationPromise:e}=await pd(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t){if(!t||!t.options)throw cu("App Configuration");if(!t.name)throw cu("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw cu(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function cu(t){return ps.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="installations",gI="installations-internal",vI=t=>{const e=t.getProvider("app").getImmediate(),n=mI(e),r=Ao(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},yI=t=>{const e=t.getProvider("app").getImmediate(),n=Ao(e,ly).getImmediate();return{getId:()=>fI(n),getToken:s=>hI(n,s)}};function bI(){Dr(new sr(ly,vI,"PUBLIC")),Dr(new sr(gI,yI,"PRIVATE"))}bI();Dn(Hv,fd);Dn(Hv,fd,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="analytics",_I="firebase_id",wI="origin",EI=60*1e3,TI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt=new Rc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},un=new al("analytics","Analytics",SI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t){if(!t.startsWith(gd)){const e=un.create("invalid-gtag-resource",{gtagURL:t});return Zt.warn(e.message),""}return t}function uy(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function AI(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function xI(t,e){const n=AI("firebase-js-sdk-policy",{createScriptURL:II}),r=document.createElement("script"),s=`${gd}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function CI(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function PI(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const u=(await uy(n)).find(c=>c.measurementId===s);u&&await e[u.appId]}}catch(a){Zt.error(a)}t("config",s,i)}async function RI(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await uy(n);for(const u of o){const c=a.find(f=>f.measurementId===u),d=c&&e[c.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Zt.error(i)}}function kI(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,u]=o;await RI(t,e,n,a,u)}else if(i==="config"){const[a,u]=o;await PI(t,e,n,r,a,u)}else if(i==="consent"){const[a,u]=o;t("consent",a,u)}else if(i==="get"){const[a,u,c]=o;t("get",a,u,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Zt.error(a)}}return s}function OI(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=kI(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function DI(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(gd)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=30,MI=1e3;class LI{constructor(e={},n=MI){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const cy=new LI;function NI(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function $I(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:NI(r)},i=TI.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw un.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function FI(t,e=cy,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw un.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw un.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new UI;return setTimeout(async()=>{a.abort()},EI),dy({appId:r,apiKey:s,measurementId:i},o,a,e)}async function dy(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=cy){var i;const{appId:o,measurementId:a}=t;try{await BI(r,e)}catch(u){if(a)return Zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw u}try{const u=await $I(t);return s.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!jI(c)){if(s.deleteThrottleMetadata(o),a)return Zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw u}const d=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?Qf(n,s.intervalMillis,VI):Qf(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(o,f),Zt.debug(`Calling attemptFetch again in ${d} millis`),dy(t,f,r,s)}}function BI(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function jI(t){if(!(t instanceof qr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class UI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function zI(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(){if(tg())try{await ng()}catch(t){return Zt.warn(un.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Zt.warn(un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function HI(t,e,n,r,s,i,o){var a;const u=FI(t);u.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&Zt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Zt.error(m)),e.push(u);const c=qI().then(m=>{if(m)return r.getId()}),[d,f]=await Promise.all([u,c]);DI(i)||xI(i,d.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[wI]="firebase",p.update=!0,f!=null&&(p[_I]=f),s("config",d.measurementId,p),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.app=e}_delete(){return delete Zi[this.app.options.appId],Promise.resolve()}}let Zi={},rp=[];const sp={};let du="dataLayer",WI="gtag",ip,fy,op=!1;function KI(){const t=[];if(ew()&&t.push("This is a browser extension environment."),nw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=un.create("invalid-analytics-context",{errorInfo:e});Zt.warn(n.message)}}function QI(t,e,n){KI();const r=t.options.appId;if(!r)throw un.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw un.create("no-api-key");if(Zi[r]!=null)throw un.create("already-exists",{id:r});if(!op){CI(du);const{wrappedGtag:i,gtagCore:o}=OI(Zi,rp,sp,du,WI);fy=i,ip=o,op=!0}return Zi[r]=HI(t,rp,sp,e,ip,du,n),new GI(t)}function YI(t=ag()){t=Nn(t);const e=Ao(t,ja);return e.isInitialized()?e.getImmediate():XI(t)}function XI(t,e={}){const n=Ao(t,ja);if(n.isInitialized()){const s=n.getImmediate();if(uo(e,n.getOptions()))return s;throw un.create("already-initialized")}return n.initialize({options:e})}function JI(t,e,n,r){t=Nn(t),zI(fy,Zi[t.app.options.appId],e,n,r).catch(s=>Zt.error(s))}const ap="@firebase/analytics",lp="0.10.12";function ZI(){Dr(new sr(ja,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return QI(r,s,n)},"PUBLIC")),Dr(new sr("analytics-internal",t,"PRIVATE")),Dn(ap,lp),Dn(ap,lp,"esm2017");function t(e){try{const n=e.getProvider(ja).getImmediate();return{logEvent:(r,s,i)=>JI(n,r,s,i)}}catch(n){throw un.create("interop-component-reg-failed",{reason:n})}}}ZI();const eA={apiKey:"AIzaSyBLe2TOSDo7xeMZh4ARVXbd1FiPCVCUNGo",authDomain:"roteiroviagem-b5116.firebaseapp.com",projectId:"roteiroviagem-b5116",storageBucket:"roteiroviagem-b5116.firebasestorage.app",messagingSenderId:"872269638046",appId:"1:872269638046:web:2718740bd2eba8ba028e8f",measurementId:"G-EV395T3365"},hy=og(eA);YI(hy);const dr=gS(hy);async function tA(){try{const t=ws(dr,ys.site,"header"),e=await ko(t);return e.exists()?e.data():null}catch(t){return console.error("Erro ao buscar header do site:",t),null}}async function nA(){try{const t=ws(dr,ys.site,"footer"),e=await ko(t);return e.exists()?e.data():null}catch(t){return console.error("Erro ao buscar footer do site:",t),null}}async function rA(t="santiago"){try{return(await qv(Dv(dr,ys.trips,t,"itinerary"))).docs.map(r=>({id:r.id,...r.data()})).sort((r,s)=>r.dayNumber-s.dayNumber)}catch(e){return console.error(`Erro ao buscar itinerário da viagem ${t}:`,e),[]}}async function sA(t="santiago"){try{return(await qv(Dv(dr,ys.trips,t,"activities"))).docs.map(n=>({id:n.id,...n.data()}))}catch(e){return console.error(`Erro ao buscar atividades da viagem ${t}:`,e),[]}}async function iA(t="santiago"){try{const e=ws(dr,ys.trips,t,"info","tips"),n=await ko(e);return n.exists()?n.data():null}catch(e){return console.error(`Erro ao buscar dicas da viagem ${t}:`,e),null}}async function oA(t,e="santiago"){try{const n=ws(dr,ys.trips,e,"activities",t),r=await ko(n);return r.exists()?{id:r.id,...r.data()}:null}catch(n){return console.error(`Erro ao buscar atividade ${t}:`,n),null}}async function aA(t,e="santiago"){try{const n=ws(dr,ys.trips,e,"itinerary",t),r=await ko(n);return r.exists()?{id:r.id,...r.data()}:null}catch(n){return console.error(`Erro ao buscar dia ${t}:`,n),null}}const py="Oxd3Xk7F7XTzfELkxS74",lA=t=>({...t,adminToken:py}),Oo=async(t,e,n)=>{try{const r=ws(dr,t,e);return await kS(r,lA(n)),{success:!0,id:e}}catch(r){return console.error(`Erro ao salvar documento ${e} em ${t}:`,r),{success:!1,error:r}}},my=async(t,e)=>{try{const n=ws(dr,t,e);return await OS(n,{adminToken:py}),await DS(n),{success:!0}}catch(n){return console.error(`Erro ao excluir documento ${e} em ${t}:`,n),{success:!1,error:n}}},uA=async t=>await Oo("site","header",t),cA=async t=>await Oo("site","footer",t),dA=async(t,e)=>await Oo(`trips/${t}/info`,"tips",e),fA=async(t,e,n)=>await Oo(`trips/${t}/activities`,e,n),hA=async(t,e,n)=>await Oo(`trips/${t}/itinerary`,e,n);async function gy(){return tA()}async function vy(){return nA()}async function vd(t="santiago"){return rA(t)}async function yd(t="santiago"){return sA(t)}async function bd(t="santiago"){return iA(t)}async function pA(t,e="santiago"){return oA(t,e)}async function mA(t,e="santiago"){return aA(t,e)}const zn=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},gA={class:"p-4 border-b border-gray-700"},vA={class:"flex items-center justify-between"},yA={class:"mt-4"},bA={__name:"AdminSidebar",props:{isOpen:{type:Boolean,default:!1}},emits:["close"],setup(t){return(e,n)=>{const r=pi("router-link");return j(),z(De,null,[E("div",{class:Oe(["admin-sidebar fixed inset-y-0 left-0 z-50 w-64 bg-gray-800 text-white transform transition-transform duration-300 ease-in-out",t.isOpen?"translate-x-0":"-translate-x-full"])},[E("div",gA,[E("div",vA,[n[8]||(n[8]=E("h2",{class:"text-xl font-semibold"},"Administração",-1)),E("button",{onClick:n[0]||(n[0]=s=>e.$emit("close")),class:"text-white p-2 rounded-md hover:bg-gray-700"},n[7]||(n[7]=[E("i",{class:"fas fa-times"},null,-1)]))])]),E("nav",yA,[n[14]||(n[14]=E("div",{class:"px-4 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider"}," Configurações do Site ",-1)),E("ul",null,[E("li",null,[ge(r,{to:"/admin/header",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200",onClick:n[1]||(n[1]=s=>e.$emit("close"))},{default:We(()=>n[9]||(n[9]=[E("i",{class:"fas fa-heading mr-2"},null,-1),ht(" Header ")])),_:1})]),E("li",null,[ge(r,{to:"/admin/footer",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200",onClick:n[2]||(n[2]=s=>e.$emit("close"))},{default:We(()=>n[10]||(n[10]=[E("i",{class:"fas fa-shoe-prints mr-2"},null,-1),ht(" Footer ")])),_:1})])]),n[15]||(n[15]=E("div",{class:"mt-6 px-4 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider"}," Conteúdo da Viagem ",-1)),E("ul",null,[E("li",null,[ge(r,{to:"/admin/itinerario",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200",onClick:n[3]||(n[3]=s=>e.$emit("close"))},{default:We(()=>n[11]||(n[11]=[E("i",{class:"fas fa-calendar-alt mr-2"},null,-1),ht(" Itinerário ")])),_:1})]),E("li",null,[ge(r,{to:"/admin/atividades",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200",onClick:n[4]||(n[4]=s=>e.$emit("close"))},{default:We(()=>n[12]||(n[12]=[E("i",{class:"fas fa-hiking mr-2"},null,-1),ht(" Atividades ")])),_:1})]),E("li",null,[ge(r,{to:"/admin/dicas",class:"block px-4 py-2 hover:bg-gray-700 transition-colors duration-200",onClick:n[5]||(n[5]=s=>e.$emit("close"))},{default:We(()=>n[13]||(n[13]=[E("i",{class:"fas fa-lightbulb mr-2"},null,-1),ht(" Dicas ")])),_:1})])])]),n[16]||(n[16]=E("div",{class:"absolute bottom-0 w-full p-4 border-t border-gray-700"},[E("p",{class:"text-sm text-gray-400"},[ht(" Logado como "),E("span",{class:"font-semibold"},"Administrador")])],-1))],2),t.isOpen?(j(),z("div",{key:0,onClick:n[6]||(n[6]=s=>e.$emit("close")),class:"fixed inset-0 bg-black bg-opacity-50 z-40"})):le("",!0)],64)}}},_A=zn(bA,[["__scopeId","data-v-8fd32f79"]]),wA={class:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4"},EA={class:"text-lg sm:text-xl lg:text-2xl mb-8"},TA={class:"inline-flex bg-white text-blue-900 font-bold rounded-full px-6 py-2"},SA={__name:"header",setup(t){const e=de(null),n=de(!1),r=()=>{n.value=!n.value},s=()=>{n.value=!1},i=Ae(()=>!e.value||!e.value.backgroundImage?{}:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${e.value.backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center"}),o=(a,u)=>{const[c,d,f]=a.split("/"),[p,m,y]=u.split("/"),S=new Date(`${f}-${d}-${c}`),A=S.toLocaleString("pt-BR",{month:"long"}),C=S.getFullYear();return`${parseInt(c)} a ${parseInt(p)} de ${A} de ${C}`};return vt(async()=>{try{e.value=await gy()}catch(a){console.error("Erro ao carregar dados do header:",a)}}),(a,u)=>(j(),z(De,null,[e.value?(j(),z("header",{key:0,class:"relative hero-bg text-white py-12 sm:py-16 lg:py-24 px-4 sm:px-6 lg:px-8 text-center",style:Za(i.value)},[E("button",{onClick:r,class:"absolute top-4 left-4 text-white p-2 bg-blue-900 bg-opacity-50 rounded-md hover:bg-opacity-70 transition-all"},u[0]||(u[0]=[E("i",{class:"fas fa-bars text-xl"},null,-1)])),E("h1",wA,we(e.value.title),1),E("p",EA,we(e.value.subtitle),1),E("div",TA,[u[1]||(u[1]=E("span",{class:"mr-2"},[E("i",{class:"fas fa-calendar-alt"})],-1)),ht(" "+we(o(e.value.period.start,e.value.period.end)),1)])],4)):le("",!0),ge(_A,{isOpen:n.value,onClose:s},null,8,["isOpen"])],64))}},IA={id:"visao-geral",class:"p-6"},AA={__name:"TripOverview",setup(t){return(e,n)=>(j(),z("section",IA,n[0]||(n[0]=[e_('<h2 class="text-3xl font-bold text-blue-800 mb-6 pb-2 border-b-2 border-blue-300" data-v-e4bae3b2>Visão Geral da Viagem</h2><div class="bg-white rounded-lg shadow-lg p-6 mb-8" data-v-e4bae3b2><p class="text-lg mb-4" data-v-e4bae3b2>Este roteiro inclui 8 dias no Chile, com base em Santiago, combinando experiências incríveis:</p><ul class="grid grid-cols-1 md:grid-cols-2 gap-4 my-6" data-v-e4bae3b2><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-snowflake" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Aventuras na neve (Valle Nevado e Portillo)</p></li><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-city" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Turismo urbano em Santiago</p></li><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-mountain" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Passeios a Valparaíso e Viña del Mar</p></li><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-wine-glass-alt" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Degustação em vinícolas</p></li><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-utensils" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Experiências gastronômicas</p></li><li class="flex items-start" data-v-e4bae3b2><div class="flex-shrink-0 h-6 w-6 text-blue-600 mr-2" data-v-e4bae3b2><i class="fas fa-church" data-v-e4bae3b2></i></div><p data-v-e4bae3b2>Visitas culturais e religiosas</p></li></ul><div class="text-gray-700 italic" data-v-e4bae3b2><p data-v-e4bae3b2>A probabilidade de neve em Valle Nevado durante nossa visita é classificada como média a alta, o que promete uma experiência incrível com a neve andina.</p></div></div>',2)])))}},xA=zn(AA,[["__scopeId","data-v-e4bae3b2"]]);function up(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function _d(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:up(e[r])&&up(t[r])&&Object.keys(e[r]).length>0&&_d(t[r],e[r])})}const yy={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Es(){const t=typeof document<"u"?document:{};return _d(t,yy),t}const CA={document:yy,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Kt(){const t=typeof window<"u"?window:{};return _d(t,CA),t}function PA(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function RA(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Ua(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function za(){return Date.now()}function kA(t){const e=Kt();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function OA(t,e){e===void 0&&(e="x");const n=Kt();let r,s,i;const o=kA(t);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(a=>a.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function ea(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function DA(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function rn(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!DA(r)){const s=Object.keys(Object(r)).filter(i=>e.indexOf(i)<0);for(let i=0,o=s.length;i<o;i+=1){const a=s[i],u=Object.getOwnPropertyDescriptor(r,a);u!==void 0&&u.enumerable&&(ea(t[a])&&ea(r[a])?r[a].__swiper__?t[a]=r[a]:rn(t[a],r[a]):!ea(t[a])&&ea(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:rn(t[a],r[a])):t[a]=r[a])}}}return t}function ta(t,e,n){t.style.setProperty(e,n)}function by(t){let{swiper:e,targetPosition:n,side:r}=t;const s=Kt(),i=-e.translate;let o=null,a;const u=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const c=n>i?"next":"prev",d=(p,m)=>c==="next"&&p>=m||c==="prev"&&p<=m,f=()=>{a=new Date().getTime(),o===null&&(o=a);const p=Math.max(Math.min((a-o)/u,1),0),m=.5-Math.cos(p*Math.PI)/2;let y=i+m*(n-i);if(d(y,n)&&(y=n),e.wrapperEl.scrollTo({[r]:y}),d(y,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:y})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(f)};f()}function kn(t,e){e===void 0&&(e="");const n=Kt(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(s=>s.matches(e)):r}function VA(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function MA(t,e){const n=Kt();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=VA(t,e))),r}function qa(t){try{console.warn(t);return}catch{}}function Ha(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:PA(e)),n}function LA(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function NA(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Tr(t,e){return Kt().getComputedStyle(t,null).getPropertyValue(e)}function Ga(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function _y(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function $A(t,e){function n(r){r.target===t&&(e.call(t,r),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function ic(t,e,n){const r=Kt();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function It(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let fu;function FA(){const t=Kt(),e=Es();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function wy(){return fu||(fu=FA()),fu}let hu;function BA(t){let{userAgent:e}=t===void 0?{}:t;const n=wy(),r=Kt(),s=r.navigator.platform,i=e||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,u=r.screen.height,c=i.match(/(Android);?[\s\/]+([\d.]+)?/);let d=i.match(/(iPad).*OS\s([\d_]+)/);const f=i.match(/(iPod)(.*OS\s([\d_]+))?/),p=!d&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=s==="Win32";let y=s==="MacIntel";const S=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&y&&n.touch&&S.indexOf(`${a}x${u}`)>=0&&(d=i.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),y=!1),c&&!m&&(o.os="android",o.android=!0),(d||p||f)&&(o.os="ios",o.ios=!0),o}function Ey(t){return t===void 0&&(t={}),hu||(hu=BA(t)),hu}let pu;function jA(){const t=Kt(),e=Ey();let n=!1;function r(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(r()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[u,c]=a.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=u<16||u===16&&c<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=r(),o=i||s&&e.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:o,isWebView:s}}function Ty(){return pu||(pu=jA()),pu}function UA(t){let{swiper:e,on:n,emit:r}=t;const s=Kt();let i=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},u=()=>{!e||e.destroyed||!e.initialized||(i=new ResizeObserver(f=>{o=s.requestAnimationFrame(()=>{const{width:p,height:m}=e;let y=p,S=m;f.forEach(A=>{let{contentBoxSize:C,contentRect:b,target:v}=A;v&&v!==e.el||(y=b?b.width:(C[0]||C).inlineSize,S=b?b.height:(C[0]||C).blockSize)}),(y!==p||S!==m)&&a()})}),i.observe(e.el))},c=()=>{o&&s.cancelAnimationFrame(o),i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null)},d=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){u();return}s.addEventListener("resize",a),s.addEventListener("orientationchange",d)}),n("destroy",()=>{c(),s.removeEventListener("resize",a),s.removeEventListener("orientationchange",d)})}function zA(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const i=[],o=Kt(),a=function(d,f){f===void 0&&(f={});const p=o.MutationObserver||o.WebkitMutationObserver,m=new p(y=>{if(e.__preventObserver__)return;if(y.length===1){s("observerUpdate",y[0]);return}const S=function(){s("observerUpdate",y[0])};o.requestAnimationFrame?o.requestAnimationFrame(S):o.setTimeout(S,0)});m.observe(d,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),i.push(m)},u=()=>{if(e.params.observer){if(e.params.observeParents){const d=_y(e.hostEl);for(let f=0;f<d.length;f+=1)a(d[f])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{i.forEach(d=>{d.disconnect()}),i.splice(0,i.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",u),r("destroy",c)}var qA={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy;for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];e.apply(r,o)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return typeof i[0]=="string"||Array.isArray(i[0])?(e=i[0],n=i.slice(1,i.length),r=t):(e=i[0].events,n=i[0].data,r=i[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(u=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(r,[u,...n])}),t.eventsListeners&&t.eventsListeners[u]&&t.eventsListeners[u].forEach(c=>{c.apply(r,n)})}),t}};function HA(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Tr(r,"padding-left")||0,10)-parseInt(Tr(r,"padding-right")||0,10),n=n-parseInt(Tr(r,"padding-top")||0,10)-parseInt(Tr(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function GA(){const t=this;function e(I,k){return parseFloat(I.getPropertyValue(t.getDirectionLabel(k))||0)}const n=t.params,{wrapperEl:r,slidesEl:s,size:i,rtlTranslate:o,wrongRTL:a}=t,u=t.virtual&&n.virtual.enabled,c=u?t.virtual.slides.length:t.slides.length,d=kn(s,`.${t.params.slideClass}, swiper-slide`),f=u?t.virtual.slides.length:d.length;let p=[];const m=[],y=[];let S=n.slidesOffsetBefore;typeof S=="function"&&(S=n.slidesOffsetBefore.call(t));let A=n.slidesOffsetAfter;typeof A=="function"&&(A=n.slidesOffsetAfter.call(t));const C=t.snapGrid.length,b=t.slidesGrid.length;let v=n.spaceBetween,x=-S,V=0,M=0;if(typeof i>"u")return;typeof v=="string"&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*i:typeof v=="string"&&(v=parseFloat(v)),t.virtualSize=-v,d.forEach(I=>{o?I.style.marginLeft="":I.style.marginRight="",I.style.marginBottom="",I.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(ta(r,"--swiper-centered-offset-before",""),ta(r,"--swiper-centered-offset-after",""));const T=n.grid&&n.grid.rows>1&&t.grid;T?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let w;const _=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(I=>typeof n.breakpoints[I].slidesPerView<"u").length>0;for(let I=0;I<f;I+=1){w=0;let k;if(d[I]&&(k=d[I]),T&&t.grid.updateSlide(I,k,d),!(d[I]&&Tr(k,"display")==="none")){if(n.slidesPerView==="auto"){_&&(d[I].style[t.getDirectionLabel("width")]="");const O=getComputedStyle(k),R=k.style.transform,ae=k.style.webkitTransform;if(R&&(k.style.transform="none"),ae&&(k.style.webkitTransform="none"),n.roundLengths)w=t.isHorizontal()?ic(k,"width"):ic(k,"height");else{const ye=e(O,"width"),Z=e(O,"padding-left"),se=e(O,"padding-right"),he=e(O,"margin-left"),_e=e(O,"margin-right"),Fe=O.getPropertyValue("box-sizing");if(Fe&&Fe==="border-box")w=ye+he+_e;else{const{clientWidth:Pe,offsetWidth:ke}=k;w=ye+Z+se+he+_e+(ke-Pe)}}R&&(k.style.transform=R),ae&&(k.style.webkitTransform=ae),n.roundLengths&&(w=Math.floor(w))}else w=(i-(n.slidesPerView-1)*v)/n.slidesPerView,n.roundLengths&&(w=Math.floor(w)),d[I]&&(d[I].style[t.getDirectionLabel("width")]=`${w}px`);d[I]&&(d[I].swiperSlideSize=w),y.push(w),n.centeredSlides?(x=x+w/2+V/2+v,V===0&&I!==0&&(x=x-i/2-v),I===0&&(x=x-i/2-v),Math.abs(x)<1/1e3&&(x=0),n.roundLengths&&(x=Math.floor(x)),M%n.slidesPerGroup===0&&p.push(x),m.push(x)):(n.roundLengths&&(x=Math.floor(x)),(M-Math.min(t.params.slidesPerGroupSkip,M))%t.params.slidesPerGroup===0&&p.push(x),m.push(x),x=x+w+v),t.virtualSize+=w+v,V=w,M+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+A,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+v}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+v}px`),T&&t.grid.updateWrapperSize(w,p),!n.centeredSlides){const I=[];for(let k=0;k<p.length;k+=1){let O=p[k];n.roundLengths&&(O=Math.floor(O)),p[k]<=t.virtualSize-i&&I.push(O)}p=I,Math.floor(t.virtualSize-i)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-i)}if(u&&n.loop){const I=y[0]+v;if(n.slidesPerGroup>1){const k=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),O=I*n.slidesPerGroup;for(let R=0;R<k;R+=1)p.push(p[p.length-1]+O)}for(let k=0;k<t.virtual.slidesBefore+t.virtual.slidesAfter;k+=1)n.slidesPerGroup===1&&p.push(p[p.length-1]+I),m.push(m[m.length-1]+I),t.virtualSize+=I}if(p.length===0&&(p=[0]),v!==0){const I=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");d.filter((k,O)=>!n.cssMode||n.loop?!0:O!==d.length-1).forEach(k=>{k.style[I]=`${v}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let I=0;y.forEach(O=>{I+=O+(v||0)}),I-=v;const k=I>i?I-i:0;p=p.map(O=>O<=0?-S:O>k?k+A:O)}if(n.centerInsufficientSlides){let I=0;y.forEach(O=>{I+=O+(v||0)}),I-=v;const k=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(I+k<i){const O=(i-I-k)/2;p.forEach((R,ae)=>{p[ae]=R-O}),m.forEach((R,ae)=>{m[ae]=R+O})}}if(Object.assign(t,{slides:d,snapGrid:p,slidesGrid:m,slidesSizesGrid:y}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){ta(r,"--swiper-centered-offset-before",`${-p[0]}px`),ta(r,"--swiper-centered-offset-after",`${t.size/2-y[y.length-1]/2}px`);const I=-t.snapGrid[0],k=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(O=>O+I),t.slidesGrid=t.slidesGrid.map(O=>O+k)}if(f!==c&&t.emit("slidesLengthChange"),p.length!==C&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),m.length!==b&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!u&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const I=`${n.containerModifierClass}backface-hidden`,k=t.el.classList.contains(I);f<=n.maxBackfaceHiddenSlides?k||t.el.classList.add(I):k&&t.el.classList.remove(I)}}function WA(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const a=e.activeIndex+i;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const a=n[i].offsetHeight;s=a>s?a:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function KA(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const cp=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function QA(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;s&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let u=0;u<r.length;u+=1){const c=r[u];let d=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=r[0].swiperSlideOffset);const f=(o+(n.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),p=(o-i[0]+(n.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),m=-(o-d),y=m+e.slidesSizesGrid[u],S=m>=0&&m<=e.size-e.slidesSizesGrid[u],A=m>=0&&m<e.size-1||y>1&&y<=e.size||m<=0&&y>=e.size;A&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(u)),cp(c,A,n.slideVisibleClass),cp(c,S,n.slideFullyVisibleClass),c.progress=s?-f:f,c.originalProgress=s?-p:p}}function YA(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:o,progressLoop:a}=e;const u=i,c=o;if(r===0)s=0,i=!0,o=!0;else{s=(t-e.minTranslate())/r;const d=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;i=d||s<=0,o=f||s>=1,d&&(s=0),f&&(s=1)}if(n.loop){const d=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[d],m=e.slidesGrid[f],y=e.slidesGrid[e.slidesGrid.length-1],S=Math.abs(t);S>=p?a=(S-p)/y:a=(S+y-m)/y,a>1&&(a-=1)}Object.assign(e,{progress:s,progressLoop:a,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!u&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(u&&!i||c&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}const mu=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function XA(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:s}=t,i=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=f=>kn(r,`.${n.slideClass}${f}, swiper-slide${f}`)[0];let u,c,d;if(i)if(n.loop){let f=s-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),u=a(`[data-swiper-slide-index="${f}"]`)}else u=a(`[data-swiper-slide-index="${s}"]`);else o?(u=e.find(f=>f.column===s),d=e.find(f=>f.column===s+1),c=e.find(f=>f.column===s-1)):u=e[s];u&&(o||(d=NA(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),c=LA(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(f=>{mu(f,f===u,n.slideActiveClass),mu(f,f===d,n.slideNextClass),mu(f,f===c,n.slidePrevClass)}),t.emitSlidesClasses()}const ma=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let s=r.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},gu=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},oc=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=s,a=[o-e];a.push(...Array.from({length:e}).map((u,c)=>o+r+c)),t.slides.forEach((u,c)=>{a.includes(u.column)&&gu(t,c)});return}const i=s+r-1;if(t.params.rewind||t.params.loop)for(let o=s-e;o<=i+e;o+=1){const a=(o%n+n)%n;(a<s||a>i)&&gu(t,a)}else for(let o=Math.max(s-e,0);o<=Math.min(i+e,n-1);o+=1)o!==s&&(o>i||o<s)&&gu(t,o)};function JA(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let s;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?r>=e[i]&&r<e[i+1]-(e[i+1]-e[i])/2?s=i:r>=e[i]&&r<e[i+1]&&(s=i+1):r>=e[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function ZA(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:o,snapIndex:a}=e;let u=t,c;const d=m=>{let y=m-e.virtual.slidesBefore;return y<0&&(y=e.virtual.slides.length+y),y>=e.virtual.slides.length&&(y-=e.virtual.slides.length),y};if(typeof u>"u"&&(u=JA(e)),r.indexOf(n)>=0)c=r.indexOf(n);else{const m=Math.min(s.slidesPerGroupSkip,u);c=m+Math.floor((u-m)/s.slidesPerGroup)}if(c>=r.length&&(c=r.length-1),u===i&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(u===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(u);return}const f=e.grid&&s.grid&&s.grid.rows>1;let p;if(e.virtual&&s.virtual.enabled&&s.loop)p=d(u);else if(f){const m=e.slides.find(S=>S.column===u);let y=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(y)&&(y=Math.max(e.slides.indexOf(m),0)),p=Math.floor(y/s.grid.rows)}else if(e.slides[u]){const m=e.slides[u].getAttribute("data-swiper-slide-index");m?p=parseInt(m,10):p=u}else p=u;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:p,previousIndex:i,activeIndex:u}),e.initialized&&oc(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function ex(t,e){const n=this,r=n.params;let s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!s&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(s=a)});let i=!1,o;if(s){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===s){i=!0,o=a;break}}if(s&&i)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var tx={updateSize:HA,updateSlides:GA,updateAutoHeight:WA,updateSlidesOffset:KA,updateSlidesProgress:QA,updateProgress:YA,updateSlidesClasses:XA,updateActiveIndex:ZA,updateClickedSlide:ex};function nx(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:s,wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let o=OA(i,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function rx(t,e){const n=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:o}=n;let a=0,u=0;const c=0;n.isHorizontal()?a=r?-t:t:u=t,s.roundLengths&&(a=Math.floor(a),u=Math.floor(u)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:u,s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-u:s.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():u-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${a}px, ${u}px, ${c}px)`);let d;const f=n.maxTranslate()-n.minTranslate();f===0?d=0:d=(t-n.minTranslate())/f,d!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function sx(){return-this.snapGrid[0]}function ix(){return-this.snapGrid[this.snapGrid.length-1]}function ox(t,e,n,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const i=this,{params:o,wrapperEl:a}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const u=i.minTranslate(),c=i.maxTranslate();let d;if(r&&t>u?d=u:r&&t<c?d=c:d=t,i.updateProgress(d),o.cssMode){const f=i.isHorizontal();if(e===0)a[f?"scrollLeft":"scrollTop"]=-d;else{if(!i.support.smoothScroll)return by({swiper:i,targetPosition:-d,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(p){!i||i.destroyed||p.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var ax={getTranslate:nx,setTranslate:rx,minTranslate:sx,maxTranslate:ix,translateTo:ox};function lx(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function Sy(t){let{swiper:e,runCallbacks:n,direction:r,step:s}=t;const{activeIndex:i,previousIndex:o}=e;let a=r;if(a||(i>o?a="next":i<o?a="prev":a="reset"),e.emit(`transition${s}`),n&&i!==o){if(a==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),a==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function ux(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),Sy({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function cx(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),Sy({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var dx={setTransition:lx,transitionStart:ux,transitionEnd:cx};function fx(t,e,n,r,s){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:u,slidesGrid:c,previousIndex:d,activeIndex:f,rtlTranslate:p,wrapperEl:m,enabled:y}=i;if(!y&&!r&&!s||i.destroyed||i.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=i.params.speed);const S=Math.min(i.params.slidesPerGroupSkip,o);let A=S+Math.floor((o-S)/i.params.slidesPerGroup);A>=u.length&&(A=u.length-1);const C=-u[A];if(a.normalizeSlideIndex)for(let T=0;T<c.length;T+=1){const w=-Math.floor(C*100),_=Math.floor(c[T]*100),I=Math.floor(c[T+1]*100);typeof c[T+1]<"u"?w>=_&&w<I-(I-_)/2?o=T:w>=_&&w<I&&(o=T+1):w>=_&&(o=T)}if(i.initialized&&o!==f&&(!i.allowSlideNext&&(p?C>i.translate&&C>i.minTranslate():C<i.translate&&C<i.minTranslate())||!i.allowSlidePrev&&C>i.translate&&C>i.maxTranslate()&&(f||0)!==o))return!1;o!==(d||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(C);let b;o>f?b="next":o<f?b="prev":b="reset";const v=i.virtual&&i.params.virtual.enabled;if(!(v&&s)&&(p&&-C===i.translate||!p&&C===i.translate))return i.updateActiveIndex(o),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),a.effect!=="slide"&&i.setTranslate(C),b!=="reset"&&(i.transitionStart(n,b),i.transitionEnd(n,b)),!1;if(a.cssMode){const T=i.isHorizontal(),w=p?C:-C;if(e===0)v&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),v&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[T?"scrollLeft":"scrollTop"]=w})):m[T?"scrollLeft":"scrollTop"]=w,v&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return by({swiper:i,targetPosition:w,side:T?"left":"top"}),!0;m.scrollTo({[T?"left":"top"]:w,behavior:"smooth"})}return!0}const M=Ty().isSafari;return v&&!s&&M&&i.isElement&&i.virtual.update(!1,!1,o),i.setTransition(e),i.setTranslate(C),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,b),e===0?i.transitionEnd(n,b):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(w){!i||i.destroyed||w.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,b))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function hx(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o=o+s.virtual.slidesBefore;else{let a;if(i){const p=o*s.params.grid.rows;a=s.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===p).column}else a=s.getSlideIndexByData(o);const u=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:c}=s.params;let d=s.params.slidesPerView;d==="auto"?d=s.slidesPerViewDynamic():(d=Math.ceil(parseFloat(s.params.slidesPerView,10)),c&&d%2===0&&(d=d+1));let f=u-a<d;if(c&&(f=f||a<Math.ceil(d/2)),r&&c&&s.params.slidesPerView!=="auto"&&!i&&(f=!1),f){const p=c?a<s.activeIndex?"prev":"next":a-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?a+1:a-u+1,slideRealIndex:p==="next"?s.realIndex:void 0})}if(i){const p=o*s.params.grid.rows;o=s.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===p).column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,e,n,r)}),s}function px(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:s,params:i,animating:o}=r;if(!s||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let a=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const u=r.activeIndex<i.slidesPerGroupSkip?1:a,c=r.virtual&&i.virtual.enabled;if(i.loop){if(o&&!c&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+u,t,e,n)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+u,t,e,n)}function mx(t,e,n){e===void 0&&(e=!0);const r=this,{params:s,snapGrid:i,slidesGrid:o,rtlTranslate:a,enabled:u,animating:c}=r;if(!u||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const d=r.virtual&&s.virtual.enabled;if(s.loop){if(c&&!d&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=a?r.translate:-r.translate;function p(b){return b<0?-Math.floor(Math.abs(b)):Math.floor(b)}const m=p(f),y=i.map(b=>p(b)),S=s.freeMode&&s.freeMode.enabled;let A=i[y.indexOf(m)-1];if(typeof A>"u"&&(s.cssMode||S)){let b;i.forEach((v,x)=>{m>=v&&(b=x)}),typeof b<"u"&&(A=S?i[b]:i[b>0?b-1:b])}let C=0;if(typeof A<"u"&&(C=o.indexOf(A),C<0&&(C=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(C=C-r.slidesPerViewDynamic("previous",!0)+1,C=Math.max(C,0))),s.rewind&&r.isBeginning){const b=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(b,t,e,n)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(C,t,e,n)}),!0;return r.slideTo(C,t,e,n)}function gx(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function vx(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),a=o+Math.floor((i-o)/s.params.slidesPerGroup),u=s.rtlTranslate?s.translate:-s.translate;if(u>=s.snapGrid[a]){const c=s.snapGrid[a],d=s.snapGrid[a+1];u-c>(d-c)*r&&(i+=s.params.slidesPerGroup)}else{const c=s.snapGrid[a-1],d=s.snapGrid[a];u-c<=(d-c)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function yx(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,i;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=t.getSlideIndex(kn(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),Ua(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=t.getSlideIndex(kn(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),Ua(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var bx={slideTo:fx,slideToLoop:hx,slideNext:px,slidePrev:mx,slideReset:gx,slideToClosest:vx,slideToClickedSlide:yx};function _x(t,e){const n=this,{params:r,slidesEl:s}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const i=()=>{kn(s,`.${r.slideClass}, swiper-slide`).forEach((p,m)=>{p.setAttribute("data-swiper-slide-index",m)})},o=n.grid&&r.grid&&r.grid.rows>1,a=r.slidesPerGroup*(o?r.grid.rows:1),u=n.slides.length%a!==0,c=o&&n.slides.length%r.grid.rows!==0,d=f=>{for(let p=0;p<f;p+=1){const m=n.isElement?Ha("swiper-slide",[r.slideBlankClass]):Ha("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(m)}};if(u){if(r.loopAddBlankSlides){const f=a-n.slides.length%a;d(f),n.recalcSlides(),n.updateSlides()}else qa("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(c){if(r.loopAddBlankSlides){const f=r.grid.rows-n.slides.length%r.grid.rows;d(f),n.recalcSlides(),n.updateSlides()}else qa("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();n.loopFix({slideRealIndex:t,direction:r.centeredSlides?void 0:"next",initial:e})}function wx(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:s,activeSlideIndex:i,initial:o,byController:a,byMousewheel:u}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:d,allowSlidePrev:f,allowSlideNext:p,slidesEl:m,params:y}=c,{centeredSlides:S,initialSlide:A}=y;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&y.virtual.enabled){n&&(!y.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):y.centeredSlides&&c.snapIndex<y.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=f,c.allowSlideNext=p,c.emit("loopFix");return}let C=y.slidesPerView;C==="auto"?C=c.slidesPerViewDynamic():(C=Math.ceil(parseFloat(y.slidesPerView,10)),S&&C%2===0&&(C=C+1));const b=y.slidesPerGroupAuto?C:y.slidesPerGroup;let v=b;v%b!==0&&(v+=b-v%b),v+=y.loopAdditionalSlides,c.loopedSlides=v;const x=c.grid&&y.grid&&y.grid.rows>1;d.length<C+v||c.params.effect==="cards"&&d.length<C+v*2?qa("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):x&&y.grid.fill==="row"&&qa("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const V=[],M=[],T=x?Math.ceil(d.length/y.grid.rows):d.length,w=o&&T-A<C&&!S;let _=w?A:c.activeIndex;typeof i>"u"?i=c.getSlideIndex(d.find(Z=>Z.classList.contains(y.slideActiveClass))):_=i;const I=r==="next"||!r,k=r==="prev"||!r;let O=0,R=0;const ye=(x?d[i].column:i)+(S&&typeof s>"u"?-C/2+.5:0);if(ye<v){O=Math.max(v-ye,b);for(let Z=0;Z<v-ye;Z+=1){const se=Z-Math.floor(Z/T)*T;if(x){const he=T-se-1;for(let _e=d.length-1;_e>=0;_e-=1)d[_e].column===he&&V.push(_e)}else V.push(T-se-1)}}else if(ye+C>T-v){R=Math.max(ye-(T-v*2),b),w&&(R=Math.max(R,C-T+A+1));for(let Z=0;Z<R;Z+=1){const se=Z-Math.floor(Z/T)*T;x?d.forEach((he,_e)=>{he.column===se&&M.push(_e)}):M.push(se)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&d.length<C+v*2&&(M.includes(i)&&M.splice(M.indexOf(i),1),V.includes(i)&&V.splice(V.indexOf(i),1)),k&&V.forEach(Z=>{d[Z].swiperLoopMoveDOM=!0,m.prepend(d[Z]),d[Z].swiperLoopMoveDOM=!1}),I&&M.forEach(Z=>{d[Z].swiperLoopMoveDOM=!0,m.append(d[Z]),d[Z].swiperLoopMoveDOM=!1}),c.recalcSlides(),y.slidesPerView==="auto"?c.updateSlides():x&&(V.length>0&&k||M.length>0&&I)&&c.slides.forEach((Z,se)=>{c.grid.updateSlide(se,Z,c.slides)}),y.watchSlidesProgress&&c.updateSlidesOffset(),n){if(V.length>0&&k){if(typeof e>"u"){const Z=c.slidesGrid[_],he=c.slidesGrid[_+O]-Z;u?c.setTranslate(c.translate-he):(c.slideTo(_+Math.ceil(O),0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-he,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-he))}else if(s){const Z=x?V.length/y.grid.rows:V.length;c.slideTo(c.activeIndex+Z,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(M.length>0&&I)if(typeof e>"u"){const Z=c.slidesGrid[_],he=c.slidesGrid[_-R]-Z;u?c.setTranslate(c.translate-he):(c.slideTo(_-R,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-he,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-he))}else{const Z=x?M.length/y.grid.rows:M.length;c.slideTo(c.activeIndex-Z,0,!1,!0)}}if(c.allowSlidePrev=f,c.allowSlideNext=p,c.controller&&c.controller.control&&!a){const Z={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:i,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(se=>{!se.destroyed&&se.params.loop&&se.loopFix({...Z,slideTo:se.params.slidesPerView===y.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...Z,slideTo:c.controller.control.params.slidesPerView===y.slidesPerView?n:!1})}c.emit("loopFix")}function Ex(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[i]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var Tx={loopCreate:_x,loopFix:wx,loopDestroy:Ex};function Sx(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Ix(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Ax={setGrabCursor:Sx,unsetGrabCursor:Ix};function xx(t,e){e===void 0&&(e=this);function n(r){if(!r||r===Es()||r===Kt())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function dp(t,e,n){const r=Kt(),{params:s}=t,i=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return i&&(n<=o||n>=r.innerWidth-o)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function Cx(t){const e=this,n=Es();let r=t;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){dp(e,r,r.targetTouches[0].pageX);return}const{params:i,touches:o,enabled:a}=e;if(!a||!i.simulateTouch&&r.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let u=r.target;if(i.touchEventsTarget==="wrapper"&&!MA(u,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const c=!!i.noSwipingClass&&i.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;c&&r.target&&r.target.shadowRoot&&d&&(u=d[0]);const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,p=!!(r.target&&r.target.shadowRoot);if(i.noSwiping&&(p?xx(f,u):u.closest(f))){e.allowClick=!0;return}if(i.swipeHandler&&!u.closest(i.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const m=o.currentX,y=o.currentY;if(!dp(e,r,m))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=y,s.touchStartTime=za(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let S=!0;u.matches(s.focusableElements)&&(S=!1,u.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==u&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!u.matches(s.focusableElements))&&n.activeElement.blur();const A=S&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||A)&&!u.isContentEditable&&r.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function Px(t){const e=Es(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:a}=n;if(!a||!s.simulateTouch&&t.pointerType==="mouse")return;let u=t;if(u.originalEvent&&(u=u.originalEvent),u.type==="pointermove"&&(r.touchId!==null||u.pointerId!==r.pointerId))return;let c;if(u.type==="touchmove"){if(c=[...u.changedTouches].find(V=>V.identifier===r.touchId),!c||c.identifier!==r.touchId)return}else c=u;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",u);return}const d=c.pageX,f=c.pageY;if(u.preventedByNestedSwiper){i.startX=d,i.startY=f;return}if(!n.allowTouchMove){u.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:d,startY:f,currentX:d,currentY:f}),r.touchStartTime=za());return}if(s.touchReleaseOnEdges&&!s.loop)if(n.isVertical()){if(f<i.startY&&n.translate<=n.maxTranslate()||f>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(o&&(d>i.startX&&-n.translate<=n.maxTranslate()||d<i.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(d<i.startX&&n.translate<=n.maxTranslate()||d>i.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==u.target&&u.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&u.target===e.activeElement&&u.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",u),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=d,i.currentY=f;const p=i.currentX-i.startX,m=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(p**2+m**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let V;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:p*p+m*m>=25&&(V=Math.atan2(Math.abs(m),Math.abs(p))*180/Math.PI,r.isScrolling=n.isHorizontal()?V>s.touchAngle:90-V>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",u),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling||u.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&u.cancelable&&u.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&u.stopPropagation();let y=n.isHorizontal()?p:m,S=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(y=Math.abs(y)*(o?1:-1),S=Math.abs(S)*(o?1:-1)),i.diff=y,y*=s.touchRatio,o&&(y=-y,S=-S);const A=n.touchesDirection;n.swipeDirection=y>0?"prev":"next",n.touchesDirection=S>0?"prev":"next";const C=n.params.loop&&!s.cssMode,b=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(C&&b&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const V=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(V)}r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",u)}if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&A!==n.touchesDirection&&C&&b&&Math.abs(y)>=1){Object.assign(i,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",u),r.isMoved=!0,r.currentTranslate=y+r.startTranslate;let v=!0,x=s.resistanceRatio;if(s.touchReleaseOnEdges&&(x=0),y>0?(C&&b&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(v=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+y)**x))):y<0&&(C&&b&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(v=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-y)**x))),v&&(u.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(y)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function Rx(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(V=>V.identifier===n.touchId),!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:u,slidesGrid:c,enabled:d}=e;if(!d||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=za(),p=f-n.touchStartTime;if(e.allowClick){const V=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(V&&V[0]||r.target,V),e.emit("tap click",r),p<300&&f-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=za(),Ua(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let m;if(o.followFinger?m=u?e.translate:-e.translate:m=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:m});return}const y=m>=-e.maxTranslate()&&!e.params.loop;let S=0,A=e.slidesSizesGrid[0];for(let V=0;V<c.length;V+=V<o.slidesPerGroupSkip?1:o.slidesPerGroup){const M=V<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[V+M]<"u"?(y||m>=c[V]&&m<c[V+M])&&(S=V,A=c[V+M]-c[V]):(y||m>=c[V])&&(S=V,A=c[c.length-1]-c[c.length-2])}let C=null,b=null;o.rewind&&(e.isBeginning?b=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(C=0));const v=(m-c[S])/A,x=S<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(p>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(v>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?C:S+x):e.slideTo(S)),e.swipeDirection==="prev"&&(v>1-o.longSwipesRatio?e.slideTo(S+x):b!==null&&v<0&&Math.abs(v)>o.longSwipesRatio?e.slideTo(b):e.slideTo(S))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(S+x):e.slideTo(S):(e.swipeDirection==="next"&&e.slideTo(C!==null?C:S+x),e.swipeDirection==="prev"&&e.slideTo(b!==null?b:S))}}function fp(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function kx(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Ox(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Dx(t){const e=this;ma(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function Vx(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const Iy=(t,e)=>{const n=Es(),{params:r,el:s,wrapperEl:i,device:o}=t,a=!!r.nested,u=e==="on"?"addEventListener":"removeEventListener",c=e;!s||typeof s=="string"||(n[u]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),s[u]("touchstart",t.onTouchStart,{passive:!1}),s[u]("pointerdown",t.onTouchStart,{passive:!1}),n[u]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[u]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[u]("touchend",t.onTouchEnd,{passive:!0}),n[u]("pointerup",t.onTouchEnd,{passive:!0}),n[u]("pointercancel",t.onTouchEnd,{passive:!0}),n[u]("touchcancel",t.onTouchEnd,{passive:!0}),n[u]("pointerout",t.onTouchEnd,{passive:!0}),n[u]("pointerleave",t.onTouchEnd,{passive:!0}),n[u]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[u]("click",t.onClick,!0),r.cssMode&&i[u]("scroll",t.onScroll),r.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",fp,!0):t[c]("observerUpdate",fp,!0),s[u]("load",t.onLoad,{capture:!0}))};function Mx(){const t=this,{params:e}=t;t.onTouchStart=Cx.bind(t),t.onTouchMove=Px.bind(t),t.onTouchEnd=Rx.bind(t),t.onDocumentTouchStart=Vx.bind(t),e.cssMode&&(t.onScroll=Ox.bind(t)),t.onClick=kx.bind(t),t.onLoad=Dx.bind(t),Iy(t,"on")}function Lx(){Iy(this,"off")}var Nx={attachEvents:Mx,detachEvents:Lx};const hp=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function $x(){const t=this,{realIndex:e,initialized:n,params:r,el:s}=t,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const o=Es(),a=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",u=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:o.querySelector(r.breakpointsBase),c=t.getBreakpoint(i,a,u);if(!c||t.currentBreakpoint===c)return;const f=(c in i?i[c]:void 0)||t.originalParams,p=hp(t,r),m=hp(t,f),y=t.params.grabCursor,S=f.grabCursor,A=r.enabled;p&&!m?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!p&&m&&(s.classList.add(`${r.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),y&&!S?t.unsetGrabCursor():!y&&S&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(M=>{if(typeof f[M]>"u")return;const T=r[M]&&r[M].enabled,w=f[M]&&f[M].enabled;T&&!w&&t[M].disable(),!T&&w&&t[M].enable()});const C=f.direction&&f.direction!==r.direction,b=r.loop&&(f.slidesPerView!==r.slidesPerView||C),v=r.loop;C&&n&&t.changeDirection(),rn(t.params,f);const x=t.params.enabled,V=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),A&&!x?t.disable():!A&&x&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",f),n&&(b?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!v&&V?(t.loopCreate(e),t.updateSlides()):v&&!V&&t.loopDestroy()),t.emit("breakpoint",f)}function Fx(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const s=Kt(),i=e==="window"?s.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const u=parseFloat(a.substr(1));return{value:i*u,point:a}}return{value:a,point:a}});o.sort((a,u)=>parseInt(a.value,10)-parseInt(u.value,10));for(let a=0;a<o.length;a+=1){const{point:u,value:c}=o[a];e==="window"?s.matchMedia(`(min-width: ${c}px)`).matches&&(r=u):c<=n.clientWidth&&(r=u)}return r||"max"}var Bx={setBreakpoint:$x,getBreakpoint:Fx};function jx(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function Ux(){const t=this,{classNames:e,params:n,rtl:r,el:s,device:i}=t,o=jx(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),s.classList.add(...e),t.emitContainerClasses()}function zx(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var qx={addClasses:Ux,removeClasses:zx};function Hx(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var Gx={checkOverflow:Hx},ac={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Wx(t,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){rn(e,r);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in i)){rn(e,r);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),rn(e,r)}}const vu={eventsEmitter:qA,update:tx,translate:ax,transition:dx,slide:bx,loop:Tx,grabCursor:Ax,events:Nx,breakpoints:Bx,checkOverflow:Gx,classes:qx},yu={};let wd=class Jn{constructor(){let e,n;for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?n=s[0]:[e,n]=s,n||(n={}),n=rn({},n),e&&!n.el&&(n.el=e);const o=Es();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const d=[];return o.querySelectorAll(n.el).forEach(f=>{const p=rn({},n,{el:f});d.push(new Jn(p))}),d}const a=this;a.__swiper__=!0,a.support=wy(),a.device=Ey({userAgent:n.userAgent}),a.browser=Ty(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const u={};a.modules.forEach(d=>{d({params:n,swiper:a,extendParams:Wx(n,u),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=rn({},ac,u);return a.params=rn({},c,yu,n),a.originalParams=rn({},a.params),a.passedParams=rn({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(d=>{a.on(d,a.params.on[d])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,s=kn(n,`.${r.slideClass}, swiper-slide`),i=Ga(s[0]);return Ga(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=kn(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),o=(r.maxTranslate()-s)*e+s;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:a,size:u,activeIndex:c}=r;let d=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let f=i[c]?Math.ceil(i[c].swiperSlideSize):0,p;for(let m=c+1;m<i.length;m+=1)i[m]&&!p&&(f+=Math.ceil(i[m].swiperSlideSize),d+=1,f>u&&(p=!0));for(let m=c-1;m>=0;m-=1)i[m]&&!p&&(f+=i[m].swiperSlideSize,d+=1,f>u&&(p=!0))}else if(e==="current")for(let f=c+1;f<i.length;f+=1)(n?o[f]+a[f]-o[c]<u:o[f]-o[c]<u)&&(d+=1);else for(let f=c-1;f>=0;f-=1)o[c]-o[f]<u&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&ma(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(o.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||s()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):kn(r,s())[0];return!o&&n.params.createElements&&(o=Ha("div",n.params.wrapperClass),r.append(o),kn(r,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Tr(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Tr(r,"direction")==="rtl"),wrongRTL:Tr(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?ma(n,i):i.addEventListener("load",o=>{ma(n,o.target)})}),oc(n),n.initialized=!0,oc(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:s,el:i,wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(u=>{u.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),u.removeAttribute("style"),u.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(u=>{r.off(u)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),RA(r)),r.destroyed=!0),null}static extendDefaults(e){rn(yu,e)}static get extendedDefaults(){return yu}static get defaults(){return ac}static installModule(e){Jn.prototype.__modules__||(Jn.prototype.__modules__=[]);const n=Jn.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Jn.installModule(n)),Jn):(Jn.installModule(e),Jn)}};Object.keys(vu).forEach(t=>{Object.keys(vu[t]).forEach(e=>{wd.prototype[e]=vu[t][e]})});wd.use([UA,zA]);const Ay=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function gs(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Zs(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:gs(e[r])&&gs(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Zs(t[r],e[r]):t[r]=e[r]})}function xy(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function Cy(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Py(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function Ry(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function Kx(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function Qx(t){let{swiper:e,slides:n,passedParams:r,changedParams:s,nextEl:i,prevEl:o,scrollbarEl:a,paginationEl:u}=t;const c=s.filter(_=>_!=="children"&&_!=="direction"&&_!=="wrapperClass"),{params:d,pagination:f,navigation:p,scrollbar:m,virtual:y,thumbs:S}=e;let A,C,b,v,x,V,M,T;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(A=!0),s.includes("controller")&&r.controller&&r.controller.control&&d.controller&&!d.controller.control&&(C=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||u)&&(d.pagination||d.pagination===!1)&&f&&!f.el&&(b=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(d.scrollbar||d.scrollbar===!1)&&m&&!m.el&&(v=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||i)&&(d.navigation||d.navigation===!1)&&p&&!p.prevEl&&!p.nextEl&&(x=!0);const w=_=>{e[_]&&(e[_].destroy(),_==="navigation"?(e.isElement&&(e[_].prevEl.remove(),e[_].nextEl.remove()),d[_].prevEl=void 0,d[_].nextEl=void 0,e[_].prevEl=void 0,e[_].nextEl=void 0):(e.isElement&&e[_].el.remove(),d[_].el=void 0,e[_].el=void 0))};s.includes("loop")&&e.isElement&&(d.loop&&!r.loop?V=!0:!d.loop&&r.loop?M=!0:T=!0),c.forEach(_=>{if(gs(d[_])&&gs(r[_]))Object.assign(d[_],r[_]),(_==="navigation"||_==="pagination"||_==="scrollbar")&&"enabled"in r[_]&&!r[_].enabled&&w(_);else{const I=r[_];(I===!0||I===!1)&&(_==="navigation"||_==="pagination"||_==="scrollbar")?I===!1&&w(_):d[_]=r[_]}}),c.includes("controller")&&!C&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),s.includes("children")&&n&&y&&d.virtual.enabled?(y.slides=n,y.update(!0)):s.includes("virtual")&&y&&d.virtual.enabled&&(n&&(y.slides=n),y.update(!0)),s.includes("children")&&n&&d.loop&&(T=!0),A&&S.init()&&S.update(!0),C&&(e.controller.control=d.controller.control),b&&(e.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-pagination"),u.part.add("pagination"),e.el.appendChild(u)),u&&(d.pagination.el=u),f.init(),f.render(),f.update()),v&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(d.scrollbar.el=a),m.init(),m.updateSize(),m.setTranslate()),x&&(e.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),i.innerHTML=e.hostEl.constructor.nextButtonSvg,i.part.add("button-next"),e.el.appendChild(i)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),i&&(d.navigation.nextEl=i),o&&(d.navigation.prevEl=o),p.init(),p.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(V||T)&&e.loopDestroy(),(M||T)&&e.loopCreate(),e.update()}function pp(t,e){t===void 0&&(t={});const n={on:{}},r={},s={};Zs(n,ac),n._emitClasses=!0,n.init=!1;const i={},o=Ay.map(u=>u.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(u=>{typeof t[u]>"u"||(o.indexOf(u)>=0?gs(t[u])?(n[u]={},s[u]={},Zs(n[u],t[u]),Zs(s[u],t[u])):(n[u]=t[u],s[u]=t[u]):u.search(/on[A-Z]/)===0&&typeof t[u]=="function"?n.on[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:i[u]=t[u])}),["navigation","pagination","scrollbar"].forEach(u=>{n[u]===!0&&(n[u]={}),n[u]===!1&&delete n[u]}),{params:n,passedParams:s,rest:i,events:r}}function Yx(t,e){let{el:n,nextEl:r,prevEl:s,paginationEl:i,scrollbarEl:o,swiper:a}=t;xy(e)&&r&&s&&(a.params.navigation.nextEl=r,a.originalParams.navigation.nextEl=r,a.params.navigation.prevEl=s,a.originalParams.navigation.prevEl=s),Cy(e)&&i&&(a.params.pagination.el=i,a.originalParams.pagination.el=i),Py(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function Xx(t,e,n,r,s){const i=[];if(!e)return i;const o=u=>{i.indexOf(u)<0&&i.push(u)};if(n&&r){const u=r.map(s),c=n.map(s);u.join("")!==c.join("")&&o("children"),r.length!==n.length&&o("children")}return Ay.filter(u=>u[0]==="_").map(u=>u.replace(/_/,"")).forEach(u=>{if(u in t&&u in e)if(gs(t[u])&&gs(e[u])){const c=Object.keys(t[u]),d=Object.keys(e[u]);c.length!==d.length?o(u):(c.forEach(f=>{t[u][f]!==e[u][f]&&o(u)}),d.forEach(f=>{t[u][f]!==e[u][f]&&o(u)}))}else t[u]!==e[u]&&o(u)}),i}const Jx=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function bu(t,e,n){t===void 0&&(t={});const r=[],s={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},i=(o,a)=>{Array.isArray(o)&&o.forEach(u=>{const c=typeof u.type=="symbol";a==="default"&&(a="container-end"),c&&u.children?i(u.children,a):u.type&&(u.type.name==="SwiperSlide"||u.type.name==="AsyncComponentWrapper")||u.componentOptions&&u.componentOptions.tag==="SwiperSlide"?r.push(u):s[a]&&s[a].push(u)})};return Object.keys(t).forEach(o=>{if(typeof t[o]!="function")return;const a=t[o]();i(a,o)}),n.value=e.value,e.value=r,{slides:r,slots:s}}function Zx(t,e,n){if(!n)return null;const r=d=>{let f=d;return d<0?f=e.length+d:f>=e.length&&(f=f-e.length),f},s=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:o}=n,a=t.value.params.loop?-e.length:0,u=t.value.params.loop?e.length*2:e.length,c=[];for(let d=a;d<u;d+=1)d>=i&&d<=o&&c.length<e.length&&c.push(e[r(d)]);return c.map(d=>{if(d.props||(d.props={}),d.props.style||(d.props.style={}),d.props.swiperRef=t,d.props.style=s,d.type)return Yt(d.type,{...d.props},d.children);if(d.componentOptions)return Yt(d.componentOptions.Ctor,{...d.props},d.componentOptions.children)})}const Ed={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:n,emit:r}=e;const{tag:s,wrapperTag:i}=t,o=de("swiper"),a=de(null),u=de(!1),c=de(!1),d=de(null),f=de(null),p=de(null),m={value:[]},y={value:[]},S=de(null),A=de(null),C=de(null),b=de(null),{params:v,passedParams:x}=pp(t);bu(n,m,y),p.value=x,y.value=m.value;const V=()=>{bu(n,m,y),u.value=!0};v.onAny=function(w){for(var _=arguments.length,I=new Array(_>1?_-1:0),k=1;k<_;k++)I[k-1]=arguments[k];r(w,...I)},Object.assign(v.on,{_beforeBreakpoint:V,_containerClasses(w,_){o.value=_}});const M={...v};if(delete M.wrapperClass,f.value=new wd(M),f.value.virtual&&f.value.params.virtual.enabled){f.value.virtual.slides=m.value;const w={cache:!1,slides:m.value,renderExternal:_=>{a.value=_},renderExternalUpdate:!1};Zs(f.value.params.virtual,w),Zs(f.value.originalParams.virtual,w)}Ic(()=>{!c.value&&f.value&&(f.value.emitSlidesClasses(),c.value=!0);const{passedParams:w}=pp(t),_=Xx(w,p.value,m.value,y.value,I=>I.props&&I.props.key);p.value=w,(_.length||u.value)&&f.value&&!f.value.destroyed&&Qx({swiper:f.value,slides:m.value,passedParams:w,changedParams:_,nextEl:S.value,prevEl:A.value,scrollbarEl:b.value,paginationEl:C.value}),u.value=!1}),Xs("swiper",f),At(a,()=>{Ir(()=>{Jx(f.value)})}),vt(()=>{d.value&&(Yx({el:d.value,nextEl:S.value,prevEl:A.value,paginationEl:C.value,scrollbarEl:b.value,swiper:f.value},v),r("swiper",f.value))}),To(()=>{f.value&&!f.value.destroyed&&f.value.destroy(!0,!1)});function T(w){return v.virtual?Zx(f,w,a.value):(w.forEach((_,I)=>{_.props||(_.props={}),_.props.swiperRef=f,_.props.swiperSlideIndex=I}),w)}return()=>{const{slides:w,slots:_}=bu(n,m,y);return Yt(s,{ref:d,class:Ry(o.value)},[_["container-start"],Yt(i,{class:Kx(v.wrapperClass)},[_["wrapper-start"],T(w),_["wrapper-end"]]),xy(t)&&[Yt("div",{ref:A,class:"swiper-button-prev"}),Yt("div",{ref:S,class:"swiper-button-next"})],Py(t)&&Yt("div",{ref:b,class:"swiper-scrollbar"}),Cy(t)&&Yt("div",{ref:C,class:"swiper-pagination"}),_["container-end"]])}}},Td={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:n}=e,r=!1;const{swiperRef:s}=t,i=de(null),o=de("swiper-slide"),a=de(!1);function u(f,p,m){p===i.value&&(o.value=m)}vt(()=>{!s||!s.value||(s.value.on("_slideClass",u),r=!0)}),Tm(()=>{r||!s||!s.value||(s.value.on("_slideClass",u),r=!0)}),Ic(()=>{!i.value||!s||!s.value||(typeof t.swiperSlideIndex<"u"&&(i.value.swiperSlideIndex=t.swiperSlideIndex),s.value.destroyed&&o.value!=="swiper-slide"&&(o.value="swiper-slide"))}),To(()=>{!s||!s.value||s.value.off("_slideClass",u)});const c=Ae(()=>({isActive:o.value.indexOf("swiper-slide-active")>=0,isVisible:o.value.indexOf("swiper-slide-visible")>=0,isPrev:o.value.indexOf("swiper-slide-prev")>=0,isNext:o.value.indexOf("swiper-slide-next")>=0}));Xs("swiperSlide",c);const d=()=>{a.value=!0};return()=>Yt(t.tag,{class:Ry(`${o.value}`),ref:i,"data-swiper-slide-index":typeof t.virtualIndex>"u"&&s&&s.value&&s.value.params.loop?t.swiperSlideIndex:t.virtualIndex,onLoadCapture:d},t.zoom?Yt("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},[n.default&&n.default(c.value),t.lazy&&!a.value&&Yt("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(c.value),t.lazy&&!a.value&&Yt("div",{class:"swiper-lazy-preloader"})])}};function ky(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(s=>{if(!n[s]&&n.auto===!0){let i=kn(t.el,`.${r[s]}`)[0];i||(i=Ha("div",r[s]),i.className=r[s],t.el.append(i)),n[s]=i,e[s]=i}}),n}function Oy(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function i(y){let S;return y&&typeof y=="string"&&e.isElement&&(S=e.el.querySelector(y)||e.hostEl.querySelector(y),S)?S:(y&&(typeof y=="string"&&(S=[...document.querySelectorAll(y)]),e.params.uniqueNavElements&&typeof y=="string"&&S&&S.length>1&&e.el.querySelectorAll(y).length===1?S=e.el.querySelector(y):S&&S.length===1&&(S=S[0])),y&&!S?y:S)}function o(y,S){const A=e.params.navigation;y=It(y),y.forEach(C=>{C&&(C.classList[S?"add":"remove"](...A.disabledClass.split(" ")),C.tagName==="BUTTON"&&(C.disabled=S),e.params.watchOverflow&&e.enabled&&C.classList[e.isLocked?"add":"remove"](A.lockClass))})}function a(){const{nextEl:y,prevEl:S}=e.navigation;if(e.params.loop){o(S,!1),o(y,!1);return}o(S,e.isBeginning&&!e.params.rewind),o(y,e.isEnd&&!e.params.rewind)}function u(y){y.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function c(y){y.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function d(){const y=e.params.navigation;if(e.params.navigation=ky(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(y.nextEl||y.prevEl))return;let S=i(y.nextEl),A=i(y.prevEl);Object.assign(e.navigation,{nextEl:S,prevEl:A}),S=It(S),A=It(A);const C=(b,v)=>{b&&b.addEventListener("click",v==="next"?c:u),!e.enabled&&b&&b.classList.add(...y.lockClass.split(" "))};S.forEach(b=>C(b,"next")),A.forEach(b=>C(b,"prev"))}function f(){let{nextEl:y,prevEl:S}=e.navigation;y=It(y),S=It(S);const A=(C,b)=>{C.removeEventListener("click",b==="next"?c:u),C.classList.remove(...e.params.navigation.disabledClass.split(" "))};y.forEach(C=>A(C,"next")),S.forEach(C=>A(C,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?m():(d(),a())}),r("toEdge fromEdge lock unlock",()=>{a()}),r("destroy",()=>{f()}),r("enable disable",()=>{let{nextEl:y,prevEl:S}=e.navigation;if(y=It(y),S=It(S),e.enabled){a();return}[...y,...S].filter(A=>!!A).forEach(A=>A.classList.add(e.params.navigation.lockClass))}),r("click",(y,S)=>{let{nextEl:A,prevEl:C}=e.navigation;A=It(A),C=It(C);const b=S.target;let v=C.includes(b)||A.includes(b);if(e.isElement&&!v){const x=S.path||S.composedPath&&S.composedPath();x&&(v=x.find(V=>A.includes(V)||C.includes(V)))}if(e.params.navigation.hideOnClick&&!v){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===b||e.pagination.el.contains(b)))return;let x;A.length?x=A[0].classList.contains(e.params.navigation.hiddenClass):C.length&&(x=C[0].classList.contains(e.params.navigation.hiddenClass)),s(x===!0?"navigationShow":"navigationHide"),[...A,...C].filter(V=>!!V).forEach(V=>V.classList.toggle(e.params.navigation.hiddenClass))}});const p=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),a()},m=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:p,disable:m,update:a,init:d,destroy:f})}function Vi(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Dy(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const i="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:b=>b,formatFractionTotal:b=>b,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function u(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(b,v){const{bulletActiveClass:x}=e.params.pagination;b&&(b=b[`${v==="prev"?"previous":"next"}ElementSibling`],b&&(b.classList.add(`${x}-${v}`),b=b[`${v==="prev"?"previous":"next"}ElementSibling`],b&&b.classList.add(`${x}-${v}-${v}`)))}function d(b,v,x){if(b=b%x,v=v%x,v===b+1)return"next";if(v===b-1)return"previous"}function f(b){const v=b.target.closest(Vi(e.params.pagination.bulletClass));if(!v)return;b.preventDefault();const x=Ga(v)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===x)return;const V=d(e.realIndex,x,e.slides.length);V==="next"?e.slideNext():V==="previous"?e.slidePrev():e.slideToLoop(x)}else e.slideTo(x)}function p(){const b=e.rtl,v=e.params.pagination;if(u())return;let x=e.pagination.el;x=It(x);let V,M;const T=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,w=e.params.loop?Math.ceil(T/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(M=e.previousRealIndex||0,V=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(V=e.snapIndex,M=e.previousSnapIndex):(M=e.previousIndex||0,V=e.activeIndex||0),v.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const _=e.pagination.bullets;let I,k,O;if(v.dynamicBullets&&(o=ic(_[0],e.isHorizontal()?"width":"height"),x.forEach(R=>{R.style[e.isHorizontal()?"width":"height"]=`${o*(v.dynamicMainBullets+4)}px`}),v.dynamicMainBullets>1&&M!==void 0&&(a+=V-(M||0),a>v.dynamicMainBullets-1?a=v.dynamicMainBullets-1:a<0&&(a=0)),I=Math.max(V-a,0),k=I+(Math.min(_.length,v.dynamicMainBullets)-1),O=(k+I)/2),_.forEach(R=>{const ae=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(ye=>`${v.bulletActiveClass}${ye}`)].map(ye=>typeof ye=="string"&&ye.includes(" ")?ye.split(" "):ye).flat();R.classList.remove(...ae)}),x.length>1)_.forEach(R=>{const ae=Ga(R);ae===V?R.classList.add(...v.bulletActiveClass.split(" ")):e.isElement&&R.setAttribute("part","bullet"),v.dynamicBullets&&(ae>=I&&ae<=k&&R.classList.add(...`${v.bulletActiveClass}-main`.split(" ")),ae===I&&c(R,"prev"),ae===k&&c(R,"next"))});else{const R=_[V];if(R&&R.classList.add(...v.bulletActiveClass.split(" ")),e.isElement&&_.forEach((ae,ye)=>{ae.setAttribute("part",ye===V?"bullet-active":"bullet")}),v.dynamicBullets){const ae=_[I],ye=_[k];for(let Z=I;Z<=k;Z+=1)_[Z]&&_[Z].classList.add(...`${v.bulletActiveClass}-main`.split(" "));c(ae,"prev"),c(ye,"next")}}if(v.dynamicBullets){const R=Math.min(_.length,v.dynamicMainBullets+4),ae=(o*R-o)/2-O*o,ye=b?"right":"left";_.forEach(Z=>{Z.style[e.isHorizontal()?ye:"top"]=`${ae}px`})}}x.forEach((_,I)=>{if(v.type==="fraction"&&(_.querySelectorAll(Vi(v.currentClass)).forEach(k=>{k.textContent=v.formatFractionCurrent(V+1)}),_.querySelectorAll(Vi(v.totalClass)).forEach(k=>{k.textContent=v.formatFractionTotal(w)})),v.type==="progressbar"){let k;v.progressbarOpposite?k=e.isHorizontal()?"vertical":"horizontal":k=e.isHorizontal()?"horizontal":"vertical";const O=(V+1)/w;let R=1,ae=1;k==="horizontal"?R=O:ae=O,_.querySelectorAll(Vi(v.progressbarFillClass)).forEach(ye=>{ye.style.transform=`translate3d(0,0,0) scaleX(${R}) scaleY(${ae})`,ye.style.transitionDuration=`${e.params.speed}ms`})}v.type==="custom"&&v.renderCustom?(_.innerHTML=v.renderCustom(e,V+1,w),I===0&&s("paginationRender",_)):(I===0&&s("paginationRender",_),s("paginationUpdate",_)),e.params.watchOverflow&&e.enabled&&_.classList[e.isLocked?"add":"remove"](v.lockClass)})}function m(){const b=e.params.pagination;if(u())return;const v=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let x=e.pagination.el;x=It(x);let V="";if(b.type==="bullets"){let M=e.params.loop?Math.ceil(v/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&M>v&&(M=v);for(let T=0;T<M;T+=1)b.renderBullet?V+=b.renderBullet.call(e,T,b.bulletClass):V+=`<${b.bulletElement} ${e.isElement?'part="bullet"':""} class="${b.bulletClass}"></${b.bulletElement}>`}b.type==="fraction"&&(b.renderFraction?V=b.renderFraction.call(e,b.currentClass,b.totalClass):V=`<span class="${b.currentClass}"></span> / <span class="${b.totalClass}"></span>`),b.type==="progressbar"&&(b.renderProgressbar?V=b.renderProgressbar.call(e,b.progressbarFillClass):V=`<span class="${b.progressbarFillClass}"></span>`),e.pagination.bullets=[],x.forEach(M=>{b.type!=="custom"&&(M.innerHTML=V||""),b.type==="bullets"&&e.pagination.bullets.push(...M.querySelectorAll(Vi(b.bulletClass)))}),b.type!=="custom"&&s("paginationRender",x[0])}function y(){e.params.pagination=ky(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const b=e.params.pagination;if(!b.el)return;let v;typeof b.el=="string"&&e.isElement&&(v=e.el.querySelector(b.el)),!v&&typeof b.el=="string"&&(v=[...document.querySelectorAll(b.el)]),v||(v=b.el),!(!v||v.length===0)&&(e.params.uniqueNavElements&&typeof b.el=="string"&&Array.isArray(v)&&v.length>1&&(v=[...e.el.querySelectorAll(b.el)],v.length>1&&(v=v.find(x=>_y(x,".swiper")[0]===e.el))),Array.isArray(v)&&v.length===1&&(v=v[0]),Object.assign(e.pagination,{el:v}),v=It(v),v.forEach(x=>{b.type==="bullets"&&b.clickable&&x.classList.add(...(b.clickableClass||"").split(" ")),x.classList.add(b.modifierClass+b.type),x.classList.add(e.isHorizontal()?b.horizontalClass:b.verticalClass),b.type==="bullets"&&b.dynamicBullets&&(x.classList.add(`${b.modifierClass}${b.type}-dynamic`),a=0,b.dynamicMainBullets<1&&(b.dynamicMainBullets=1)),b.type==="progressbar"&&b.progressbarOpposite&&x.classList.add(b.progressbarOppositeClass),b.clickable&&x.addEventListener("click",f),e.enabled||x.classList.add(b.lockClass)}))}function S(){const b=e.params.pagination;if(u())return;let v=e.pagination.el;v&&(v=It(v),v.forEach(x=>{x.classList.remove(b.hiddenClass),x.classList.remove(b.modifierClass+b.type),x.classList.remove(e.isHorizontal()?b.horizontalClass:b.verticalClass),b.clickable&&(x.classList.remove(...(b.clickableClass||"").split(" ")),x.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(x=>x.classList.remove(...b.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const b=e.params.pagination;let{el:v}=e.pagination;v=It(v),v.forEach(x=>{x.classList.remove(b.horizontalClass,b.verticalClass),x.classList.add(e.isHorizontal()?b.horizontalClass:b.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?C():(y(),m(),p())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&p()}),r("snapIndexChange",()=>{p()}),r("snapGridLengthChange",()=>{m(),p()}),r("destroy",()=>{S()}),r("enable disable",()=>{let{el:b}=e.pagination;b&&(b=It(b),b.forEach(v=>v.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{p()}),r("click",(b,v)=>{const x=v.target,V=It(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&V&&V.length>0&&!x.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&x===e.navigation.nextEl||e.navigation.prevEl&&x===e.navigation.prevEl))return;const M=V[0].classList.contains(e.params.pagination.hiddenClass);s(M===!0?"paginationShow":"paginationHide"),V.forEach(T=>T.classList.toggle(e.params.pagination.hiddenClass))}});const A=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:b}=e.pagination;b&&(b=It(b),b.forEach(v=>v.classList.remove(e.params.pagination.paginationDisabledClass))),y(),m(),p()},C=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:b}=e.pagination;b&&(b=It(b),b.forEach(v=>v.classList.add(e.params.pagination.paginationDisabledClass))),S()};Object.assign(e.pagination,{enable:A,disable:C,render:m,update:p,init:y,destroy:S})}function Vy(t){let{swiper:e,extendParams:n,on:r}=t;n({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0};function s(c,d){const f=function(){let S,A,C;return(b,v)=>{for(A=-1,S=b.length;S-A>1;)C=S+A>>1,b[C]<=v?A=C:S=C;return S}}();this.x=c,this.y=d,this.lastIndex=c.length-1;let p,m;return this.interpolate=function(S){return S?(m=f(this.x,S),p=m-1,(S-this.x[p])*(this.y[m]-this.y[p])/(this.x[m]-this.x[p])+this.y[p]):0},this}function i(c){e.controller.spline=e.params.loop?new s(e.slidesGrid,c.slidesGrid):new s(e.snapGrid,c.snapGrid)}function o(c,d){const f=e.controller.control;let p,m;const y=e.constructor;function S(A){if(A.destroyed)return;const C=e.rtlTranslate?-e.translate:e.translate;e.params.controller.by==="slide"&&(i(A),m=-e.controller.spline.interpolate(-C)),(!m||e.params.controller.by==="container")&&(p=(A.maxTranslate()-A.minTranslate())/(e.maxTranslate()-e.minTranslate()),(Number.isNaN(p)||!Number.isFinite(p))&&(p=1),m=(C-e.minTranslate())*p+A.minTranslate()),e.params.controller.inverse&&(m=A.maxTranslate()-m),A.updateProgress(m),A.setTranslate(m,e),A.updateActiveIndex(),A.updateSlidesClasses()}if(Array.isArray(f))for(let A=0;A<f.length;A+=1)f[A]!==d&&f[A]instanceof y&&S(f[A]);else f instanceof y&&d!==f&&S(f)}function a(c,d){const f=e.constructor,p=e.controller.control;let m;function y(S){S.destroyed||(S.setTransition(c,e),c!==0&&(S.transitionStart(),S.params.autoHeight&&Ua(()=>{S.updateAutoHeight()}),$A(S.wrapperEl,()=>{p&&S.transitionEnd()})))}if(Array.isArray(p))for(m=0;m<p.length;m+=1)p[m]!==d&&p[m]instanceof f&&y(p[m]);else p instanceof f&&d!==p&&y(p)}function u(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}r("beforeInit",()=>{if(typeof window<"u"&&(typeof e.params.controller.control=="string"||e.params.controller.control instanceof HTMLElement)){(typeof e.params.controller.control=="string"?[...document.querySelectorAll(e.params.controller.control)]:[e.params.controller.control]).forEach(d=>{if(e.controller.control||(e.controller.control=[]),d&&d.swiper)e.controller.control.push(d.swiper);else if(d){const f=`${e.params.eventsPrefix}init`,p=m=>{e.controller.control.push(m.detail[0]),e.update(),d.removeEventListener(f,p)};d.addEventListener(f,p)}});return}e.controller.control=e.params.controller.control}),r("update",()=>{u()}),r("resize",()=>{u()}),r("observerUpdate",()=>{u()}),r("setTranslate",(c,d,f)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTranslate(d,f)}),r("setTransition",(c,d,f)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTransition(d,f)}),Object.assign(e.controller,{setTranslate:o,setTransition:a})}const eC={class:"day-menu-swiper-container bg-[#eaeaea] p-4 sticky top-0 z-40 border-b border-gray-300"},tC=["onClick"],nC={__name:"DayMenu",props:{days:{type:Array,required:!0},controlledSwiper:{type:Object,default:null},activeIndex:{type:Number,default:0}},emits:["goToDay","swiper"],setup(t,{emit:e}){const n=t,r=e;function s(u){if(!u||!u.id)return"Dia";const c=u.id.replace("day-",""),d=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];let f=null,p,m,y;if(u.date)[p,m,y]=u.date.split("-").map(Number),f=new Date(p,m-1,y,12,0,0);else if(u.data){const b=u.data.match(/(\d{2})\/(\d{2})\/(\d{4})/);b&&(y=parseInt(b[1]),m=parseInt(b[2]),p=parseInt(b[3]),f=new Date(p,m-1,y,12,0,0))}if(!f||isNaN(f.getTime()))return`Dia ${c}`;const S=new Date;S.setHours(12,0,0,0),S.setHours(0,0,0,0);const A=new Date(S);A.setDate(S.getDate()+1);let C="";if(f.getDate()===S.getDate()&&f.getMonth()===S.getMonth()&&f.getFullYear()===S.getFullYear())C="Hoje";else if(f.getDate()===A.getDate()&&f.getMonth()===A.getMonth()&&f.getFullYear()===A.getFullYear())C="Amanhã";else{const b=f.getDate(),v=d[f.getMonth()];C=`${b} de ${v}`}return`Dia ${c} - ${C}`}function i(u){r("goToDay",u)}function o(u){r("swiper",u)}const a=[Vy];return(u,c)=>(j(),z("nav",eC,[ge(ln(Ed),{modules:a,"slides-per-view":"auto","space-between":10,"centered-slides":!0,"grab-cursor":!0,onSwiper:o,class:"day-menu-swiper"},{default:We(()=>[(j(!0),z(De,null,Xe(n.days,(d,f)=>(j(),ot(ln(Td),{key:d.id,class:"day-menu-slide"},{default:We(()=>[E("button",{onClick:p=>i(f),class:Oe(["px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ease-in-out cursor-pointer whitespace-nowrap",f===n.activeIndex?"bg-blue-600 text-white font-semibold":"bg-blue-100 text-blue-700 hover:bg-blue-200"])},we(s(d)),11,tC)]),_:2},1024))),128))]),_:1})]))}},rC=zn(nC,[["__scopeId","data-v-fdd8d238"]]),sC={class:"bg-blue-900 text-white py-8 px-4"},iC={class:"container mx-auto"},oC={class:"flex justify-between items-center"},aC={class:"text-lg md:text-xl font-medium truncate max-w-[70%]"},lC={class:"flex items-center space-x-4"},uC=["href"],cC=["href"],dC=["href"],fC=["href"],hC={key:0,class:"border-b border-blue-800 mt-5"},pC={class:"border-t border-blue-700 mt-8 pt-6 text-center"},mC={__name:"FooterSection",setup(t){const e=de({}),n=r=>r?r.includes("instagram.com")?r.startsWith("http")?r:`https://${r}`:`https://instagram.com/${r.startsWith("@")?r.substring(1):r}`:"#";return vt(async()=>{try{const r=await vy();r&&(e.value=r)}catch(r){console.error("Erro ao carregar os dados do footer:",r)}}),(r,s)=>(j(),z("footer",sC,[E("div",iC,[E("div",null,[s[4]||(s[4]=E("h3",{class:"text-xl font-bold mb-6"},"Contatos Importantes",-1)),(j(!0),z(De,null,Xe(e.value.contatos_importantes,(i,o)=>(j(),z("div",{key:i.id,class:"mb-5"},[E("div",oC,[E("p",aC,we(i.nome),1),E("div",lC,[i.contato&&i.contato.match(/^\+?\d/)?(j(),z("a",{key:0,href:`tel:${i.contato.replace(/\s+/g,"")}`,class:"text-white hover:text-blue-300 transition"},s[0]||(s[0]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor"},[E("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})],-1)]),8,uC)):le("",!0),i.whatsapp?(j(),z("a",{key:1,href:`https://wa.me/${i.whatsapp}`,target:"_blank",class:"text-white hover:text-blue-300 transition"},s[1]||(s[1]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 24 24",fill:"currentColor"},[E("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})],-1)]),8,cC)):le("",!0),i.instagram?(j(),z("a",{key:2,href:n(i.instagram),target:"_blank",class:"text-white hover:text-blue-300 transition"},s[2]||(s[2]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 24 24",fill:"currentColor"},[E("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})],-1)]),8,dC)):le("",!0),i.rota?(j(),z("a",{key:3,href:i.rota,target:"_blank",class:"text-white hover:text-blue-300 transition"},s[3]||(s[3]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor"},[E("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)]),8,fC)):le("",!0)])]),o<e.value.contatos_importantes.length-1?(j(),z("div",hC)):le("",!0)]))),128))]),E("div",pC,[E("p",null,we(e.value.copyright),1)])])]))}},gC=zn(mC,[["__scopeId","data-v-ca0082fd"]]),vC={class:"activity-item"},yC={class:"font-medium"},bC={class:"text-gray-600"},_C={key:0,class:"mt-2 text-sm italic text-gray-700 bg-gray-50 p-2 rounded whitespace-pre-wrap"},wC={class:"mt-1 flex gap-2 flex-wrap"},EC=["href"],TC=["href"],SC=["href"],IC={__name:"ActivityItem",props:{atividade:{type:Object,required:!0}},setup(t){return(e,n)=>(j(),z("div",vC,[E("p",yC,we(t.atividade.titulo),1),E("p",bC,we(t.atividade.descricao),1),t.atividade.note?(j(),z("p",_C,we(t.atividade.note),1)):le("",!0),E("div",wC,[t.atividade.location?(j(),z("a",{key:0,href:t.atividade.location,target:"_blank",class:"inline-flex items-center text-blue-600 hover:text-blue-800 text-sm"},n[0]||(n[0]=[E("i",{class:"fas fa-map-marker-alt mr-1"},null,-1)]),8,EC)):le("",!0),t.atividade.links&&t.atividade.links.site?(j(),z("a",{key:1,href:t.atividade.links.site,target:"_blank",class:"inline-flex items-center text-blue-600 hover:text-blue-800 text-sm"},n[1]||(n[1]=[E("i",{class:"fas fa-globe mr-1"},null,-1)]),8,TC)):le("",!0),t.atividade.links&&t.atividade.links.instagram?(j(),z("a",{key:2,href:t.atividade.links.instagram,target:"_blank",class:"inline-flex items-center text-blue-600 hover:text-blue-800 text-sm"},n[2]||(n[2]=[E("i",{class:"fab fa-instagram mr-1"},null,-1)]),8,SC)):le("",!0)])]))}},Mi=zn(IC,[["__scopeId","data-v-08edac37"]]),AC=["id"],xC={class:"flex flex-wrap items-center mb-1"},CC={class:"text-2xl sm:text-3xl font-bold text-blue-800 mr-4 mb-1 sm:mb-0"},PC={class:"mb-5"},RC={class:"text-sm text-gray-700"},kC={class:"mb-8"},OC={key:0,class:"photo-container h-60 sm:h-80 mb-8"},DC=["src","alt"],VC={class:"photo-container h-60 sm:h-72"},MC=["src","alt"],LC={class:"bg-white rounded-lg shadow-md p-6"},NC={key:0,class:"mb-4"},$C={key:1,class:"mb-4"},FC={key:2},BC={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},jC={key:0},UC={key:1},zC={class:"font-semibold text-blue-600 mb-2"},qC={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6"},HC={key:0},GC={key:1},WC={key:0,class:"mt-6"},KC={key:3,class:"mt-6 bg-blue-50 p-4 rounded-lg"},QC={class:"text-gray-700 space-y-2"},YC={key:0,class:"text-xl font-bold text-blue-700 mb-4"},XC={key:1,class:"font-bold text-blue-800 mb-2"},JC={class:"text-gray-700 mb-4"},ZC={key:1,class:"bg-white rounded-lg shadow-md p-6"},eP={class:"text-xl font-bold text-blue-700 mb-4"},tP={class:"text-gray-700"},nP={__name:"DayCard",props:{day:{type:Object,required:!0}},setup(t){const e=t,n=de(0),r=[Oy,Dy],s=de([]),i=de(!0),o=Ae(()=>{const f=[];return Object.values(d.value).forEach(p=>{p.forEach(m=>{m.images&&m.images.length&&f.push(...m.images)})}),[...new Set(f)]}),a=f=>{if(!f)return"";const p=new Date;p.setHours(0,0,0,0);const m=new Date(p);m.setDate(m.getDate()+1);let y,S,A,C;if(f.match(/^\d{4}-\d{2}-\d{2}$/))y=f.split("-"),C=parseInt(y[0],10),A=parseInt(y[1],10)-1,S=parseInt(y[2],10);else if(f.includes("/"))y=f.split("/"),S=parseInt(y[0],10),A=parseInt(y[1],10)-1,C=y[2].length===2?2e3+parseInt(y[2],10):parseInt(y[2],10);else if(f.includes("-"))y=f.split("-"),S=parseInt(y[0],10),A=parseInt(y[1],10)-1,C=y[2].length===2?2e3+parseInt(y[2],10):parseInt(y[2],10);else return f;if(isNaN(S)||isNaN(A)||isNaN(C))return f;const b=new Date(C,A,S),v=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],x=["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"];let V=`${S} de ${v[A]}`;if(b.getTime()===p.getTime()?V+=" (hoje)":b.getTime()===m.getTime()&&(V+=" (amanhã)"),V+=` - ${x[b.getDay()]}`,e.day.id&&e.day.id.includes("day-")){const M=e.day.id.replace("day-","");isNaN(parseInt(M,10))||(V+=` - ${M}º dia`)}return V},u=f=>{n.value=f.activeIndex},c=async()=>{try{i.value=!0,s.value=await yd()}catch(f){console.error("Erro ao carregar atividades:",f),s.value=[]}finally{i.value=!1}};vt(async()=>{await c()});const d=Ae(()=>{if(!e.day.schedule||s.value.length===0)return{morning:[],lunch:[],midDay:[],afternoon:[],evening:[],night:[]};const f=m=>!m||m.length===0||!m.map?[]:m.map(y=>{let S,A="";if(typeof y=="string")S=y;else if(typeof y=="object"&&y!==null)S=y.activityId,A=y.note||"";else return{id:"",titulo:"",descricao:"",title:"",description:"",note:""};const C=s.value.find(b=>b.id===S);return C?{...C,titulo:C.title,descricao:C.description,note:A}:{id:S,titulo:S,descricao:"",title:S,description:"",note:A}});return{morning:f(e.day.schedule.morning),lunch:f(e.day.schedule.lunch),midDay:f(e.day.schedule.midDay),afternoon:f(e.day.schedule.afternoon),evening:f(e.day.schedule.evening),night:f(e.day.schedule.night)}});return(f,p)=>(j(),z("section",{id:t.day.id,class:"mb-20"},[E("div",xC,[E("h2",CC,we(t.day.title),1)]),E("div",PC,[E("h3",RC,we(a(t.day.date)),1)]),E("div",kC,[o.value.length===1?(j(),z("div",OC,[E("img",{src:o.value[0],alt:t.day.title,class:"w-full h-full object-cover rounded-lg shadow-md"},null,8,DC)])):le("",!0),o.value.length>1?(j(),ot(ln(Ed),{key:1,modules:r,"slides-per-view":3,"space-between":20,loop:!0,pagination:{clickable:!0},navigation:!1,nested:!0,activeIndex:n.value,"onUpdate:activeIndex":p[0]||(p[0]=m=>n.value=m),onSlideChange:u,class:"photo-swiper mb-8",breakpoints:{320:{slidesPerView:1,spaceBetween:10},768:{slidesPerView:2,spaceBetween:15},1024:{slidesPerView:3,spaceBetween:20}}},{default:We(()=>[(j(!0),z(De,null,Xe(o.value,(m,y)=>(j(),ot(ln(Td),{key:y},{default:We(()=>[E("div",VC,[E("img",{src:m,alt:`${t.day.title} ${y+1}`,class:"w-full h-full object-cover rounded-lg shadow-md"},null,8,MC)])]),_:2},1024))),128))]),_:1},8,["activeIndex"])):le("",!0),E("div",LC,[p[7]||(p[7]=E("h3",{class:"text-xl font-bold text-blue-700 mb-4"}," Atividades Planejadas ",-1)),i.value?(j(),z("div",NC,p[1]||(p[1]=[E("p",{class:"text-gray-600 italic"},"Carregando atividades...",-1)]))):d.value.morning.length+d.value.lunch.length+d.value.midDay.length+d.value.afternoon.length+d.value.evening.length+d.value.night.length>0?(j(),z("div",$C)):le("",!0),i.value?le("",!0):(j(),z("div",FC,[E("div",BC,[d.value.morning.length>0?(j(),z("div",jC,[p[2]||(p[2]=E("h4",{class:"font-semibold text-blue-600 mb-2"},"Manhã",-1)),(j(!0),z(De,null,Xe(d.value.morning,(m,y)=>(j(),ot(Mi,{key:"manha-"+y,atividade:m},null,8,["atividade"]))),128))])):le("",!0),d.value.lunch.length>0||d.value.midDay.length>0?(j(),z("div",UC,[E("h4",zC,we(d.value.lunch.length>0?"Almoço":"Meio-dia"),1),(j(!0),z(De,null,Xe(d.value.lunch.length>0?d.value.lunch:d.value.midDay,(m,y)=>(j(),ot(Mi,{key:"almoco-"+y,atividade:m},null,8,["atividade"]))),128))])):le("",!0)]),E("div",qC,[d.value.afternoon.length>0?(j(),z("div",HC,[p[3]||(p[3]=E("h4",{class:"font-semibold text-blue-600 mb-2"},"Tarde",-1)),(j(!0),z(De,null,Xe(d.value.afternoon,(m,y)=>(j(),ot(Mi,{key:"tarde-"+y,atividade:m},null,8,["atividade"]))),128))])):le("",!0),d.value.evening.length>0?(j(),z("div",GC,[p[4]||(p[4]=E("h4",{class:"font-semibold text-blue-600 mb-2"},"Fim de tarde",-1)),(j(!0),z(De,null,Xe(d.value.evening,(m,y)=>(j(),ot(Mi,{key:"fimtarde-"+y,atividade:m},null,8,["atividade"]))),128))])):le("",!0)]),d.value.night.length>0?(j(),z("div",WC,[p[5]||(p[5]=E("h4",{class:"font-semibold text-blue-600 mb-2"},"Noite",-1)),(j(!0),z(De,null,Xe(d.value.night,(m,y)=>(j(),ot(Mi,{key:"noite-"+y,atividade:m},null,8,["atividade"]))),128))])):le("",!0)])),t.day.tips&&t.day.tips.length>0?(j(),z("div",KC,[p[6]||(p[6]=E("h4",{class:"font-bold text-blue-800 mb-2"},[E("i",{class:"fas fa-lightbulb text-yellow-500 mr-2"}),ht(" Dicas para o dia:")],-1)),E("ul",QC,[(j(!0),z(De,null,Xe(t.day.tips,(m,y)=>(j(),z("li",{key:y},"• "+we(m),1))),128))])])):le("",!0)])]),t.day.additionalDetails&&t.day.additionalDetails.length>0?(j(),z("div",{key:0,class:Oe([{"bg-white":!t.day.about,"bg-blue-50":t.day.about},"rounded-lg shadow-md p-6 mb-8"])},[(j(!0),z(De,null,Xe(t.day.additionalDetails,(m,y)=>(j(),z("div",{key:y},[y===0?(j(),z("h3",YC,we(m.title),1)):(j(),z("h4",XC,we(m.title),1)),E("p",JC,we(m.content),1)]))),128))],2)):le("",!0),t.day.about&&!t.day.additionalDetails?(j(),z("div",ZC,[E("h3",eP,"Sobre "+we(t.day.title.split(" - ")[1]||t.day.title),1),E("p",tP,we(t.day.about),1)])):le("",!0)],8,AC))}},rP=zn(nP,[["__scopeId","data-v-7ab2325b"]]),sP={id:"tips",class:"mb-20"},iP={class:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8"},oP={class:"text-xl font-bold text-blue-700 mb-4"},aP={class:"flex-shrink-0 h-6 w-6 text-blue-600 mr-2"},lP={class:"font-medium"},uP={class:"text-gray-600"},cP={key:0,class:"bg-blue-50 rounded-lg shadow-md p-6"},dP={class:"text-gray-700 mb-4"},fP={__name:"Recommendations",props:{recommendations:{type:Object,required:!0}},setup(t){return(e,n)=>(j(),z("section",sP,[n[1]||(n[1]=E("h2",{class:"text-3xl font-bold text-blue-800 mb-6 pb-2 border-b-2 border-blue-300"},"Dicas e Recomendações",-1)),E("div",iP,[(j(!0),z(De,null,Xe(t.recommendations.categories,(r,s)=>(j(),z("div",{key:s,class:"bg-white rounded-lg shadow-md p-6"},[E("h3",oP,we(r.title),1),(j(!0),z(De,null,Xe(r.items,(i,o)=>(j(),z("div",{key:o,class:"flex items-start mb-4"},[E("div",aP,[E("i",{class:Oe(i.icon)},null,2)]),E("div",null,[E("p",lP,we(i.title),1),E("p",uP,we(i.description),1)])]))),128))]))),128))]),t.recommendations.observations?(j(),z("div",cP,[n[0]||(n[0]=E("h3",{class:"text-xl font-bold text-blue-700 mb-4"},"Observações Finais",-1)),E("p",dP,we(t.recommendations.observations),1)])):le("",!0)]))}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const qs=typeof document<"u";function My(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function hP(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&My(t.default)}const Ke=Object.assign;function _u(t,e){const n={};for(const r in e){const s=e[r];n[r]=En(s)?s.map(t):t(s)}return n}const eo=()=>{},En=Array.isArray,Ly=/#/g,pP=/&/g,mP=/\//g,gP=/=/g,vP=/\?/g,Ny=/\+/g,yP=/%5B/g,bP=/%5D/g,$y=/%5E/g,_P=/%60/g,Fy=/%7B/g,wP=/%7C/g,By=/%7D/g,EP=/%20/g;function Sd(t){return encodeURI(""+t).replace(wP,"|").replace(yP,"[").replace(bP,"]")}function TP(t){return Sd(t).replace(Fy,"{").replace(By,"}").replace($y,"^")}function lc(t){return Sd(t).replace(Ny,"%2B").replace(EP,"+").replace(Ly,"%23").replace(pP,"%26").replace(_P,"`").replace(Fy,"{").replace(By,"}").replace($y,"^")}function SP(t){return lc(t).replace(gP,"%3D")}function IP(t){return Sd(t).replace(Ly,"%23").replace(vP,"%3F")}function AP(t){return t==null?"":IP(t).replace(mP,"%2F")}function yo(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const xP=/\/$/,CP=t=>t.replace(xP,"");function wu(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let u=e.indexOf("?");return a<u&&a>=0&&(u=-1),u>-1&&(r=e.slice(0,u),i=e.slice(u+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=OP(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:yo(o)}}function PP(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function mp(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function RP(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&li(e.matched[r],n.matched[s])&&jy(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function li(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function jy(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!kP(t[n],e[n]))return!1;return!0}function kP(t,e){return En(t)?gp(t,e):En(e)?gp(e,t):t===e}function gp(t,e){return En(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function OP(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const yr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var bo;(function(t){t.pop="pop",t.push="push"})(bo||(bo={}));var to;(function(t){t.back="back",t.forward="forward",t.unknown=""})(to||(to={}));function DP(t){if(!t)if(qs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),CP(t)}const VP=/^[^#]+#/;function MP(t,e){return t.replace(VP,"#")+e}function LP(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const xl=()=>({left:window.scrollX,top:window.scrollY});function NP(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=LP(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function vp(t,e){return(history.state?history.state.position-e:-1)+t}const uc=new Map;function $P(t,e){uc.set(t,e)}function FP(t){const e=uc.get(t);return uc.delete(t),e}let BP=()=>location.protocol+"//"+location.host;function Uy(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,u=s.slice(a);return u[0]!=="/"&&(u="/"+u),mp(u,"")}return mp(n,t)+r+s}function jP(t,e,n,r){let s=[],i=[],o=null;const a=({state:p})=>{const m=Uy(t,location),y=n.value,S=e.value;let A=0;if(p){if(n.value=m,e.value=p,o&&o===y){o=null;return}A=S?p.position-S.position:0}else r(m);s.forEach(C=>{C(n.value,y,{delta:A,type:bo.pop,direction:A?A>0?to.forward:to.back:to.unknown})})};function u(){o=n.value}function c(p){s.push(p);const m=()=>{const y=s.indexOf(p);y>-1&&s.splice(y,1)};return i.push(m),m}function d(){const{history:p}=window;p.state&&p.replaceState(Ke({},p.state,{scroll:xl()}),"")}function f(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:u,listen:c,destroy:f}}function yp(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?xl():null}}function UP(t){const{history:e,location:n}=window,r={value:Uy(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,c,d){const f=t.indexOf("#"),p=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+u:BP()+t+u;try{e[d?"replaceState":"pushState"](c,"",p),s.value=c}catch(m){console.error(m),n[d?"replace":"assign"](p)}}function o(u,c){const d=Ke({},e.state,yp(s.value.back,u,s.value.forward,!0),c,{position:s.value.position});i(u,d,!0),r.value=u}function a(u,c){const d=Ke({},s.value,e.state,{forward:u,scroll:xl()});i(d.current,d,!0);const f=Ke({},yp(r.value,u,null),{position:d.position+1},c);i(u,f,!1),r.value=u}return{location:r,state:s,push:a,replace:o}}function zP(t){t=DP(t);const e=UP(t),n=jP(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Ke({location:"",base:t,go:r,createHref:MP.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function qP(t){return typeof t=="string"||t&&typeof t=="object"}function zy(t){return typeof t=="string"||typeof t=="symbol"}const qy=Symbol("");var bp;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(bp||(bp={}));function ui(t,e){return Ke(new Error,{type:t,[qy]:!0},e)}function Xn(t,e){return t instanceof Error&&qy in t&&(e==null||!!(t.type&e))}const _p="[^/]+?",HP={sensitive:!1,strict:!1,start:!0,end:!0},GP=/[.+*?^${}()[\]/\\]/g;function WP(t,e){const n=Ke({},HP,e),r=[];let s=n.start?"^":"";const i=[];for(const c of t){const d=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let f=0;f<c.length;f++){const p=c[f];let m=40+(n.sensitive?.25:0);if(p.type===0)f||(s+="/"),s+=p.value.replace(GP,"\\$&"),m+=40;else if(p.type===1){const{value:y,repeatable:S,optional:A,regexp:C}=p;i.push({name:y,repeatable:S,optional:A});const b=C||_p;if(b!==_p){m+=10;try{new RegExp(`(${b})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${y}" (${b}): `+x.message)}}let v=S?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;f||(v=A&&c.length<2?`(?:/${v})`:"/"+v),A&&(v+="?"),s+=v,m+=20,A&&(m+=-8),S&&(m+=-20),b===".*"&&(m+=-50)}d.push(m)}r.push(d)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const d=c.match(o),f={};if(!d)return null;for(let p=1;p<d.length;p++){const m=d[p]||"",y=i[p-1];f[y.name]=m&&y.repeatable?m.split("/"):m}return f}function u(c){let d="",f=!1;for(const p of t){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const m of p)if(m.type===0)d+=m.value;else if(m.type===1){const{value:y,repeatable:S,optional:A}=m,C=y in c?c[y]:"";if(En(C)&&!S)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const b=En(C)?C.join("/"):C;if(!b)if(A)p.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);d+=b}}return d||"/"}return{re:o,score:r,keys:i,parse:a,stringify:u}}function KP(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Hy(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=KP(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(wp(r))return 1;if(wp(s))return-1}return s.length-r.length}function wp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const QP={type:0,value:""},YP=/[a-zA-Z0-9_]/;function XP(t){if(!t)return[[]];if(t==="/")return[[QP]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${n})/"${c}": ${m}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,u,c="",d="";function f(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),c="")}function p(){c+=u}for(;a<t.length;){if(u=t[a++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(c&&f(),o()):u===":"?(f(),n=1):p();break;case 4:p(),n=r;break;case 1:u==="("?n=2:YP.test(u)?p():(f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:n=3:d+=u;break;case 3:f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),o(),s}function JP(t,e,n){const r=WP(XP(t.path),n),s=Ke(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function ZP(t,e){const n=[],r=new Map;e=Ip({strict:!1,end:!0,sensitive:!1},e);function s(f){return r.get(f)}function i(f,p,m){const y=!m,S=Tp(f);S.aliasOf=m&&m.record;const A=Ip(e,f),C=[S];if("alias"in f){const x=typeof f.alias=="string"?[f.alias]:f.alias;for(const V of x)C.push(Tp(Ke({},S,{components:m?m.record.components:S.components,path:V,aliasOf:m?m.record:S})))}let b,v;for(const x of C){const{path:V}=x;if(p&&V[0]!=="/"){const M=p.record.path,T=M[M.length-1]==="/"?"":"/";x.path=p.record.path+(V&&T+V)}if(b=JP(x,p,A),m?m.alias.push(b):(v=v||b,v!==b&&v.alias.push(b),y&&f.name&&!Sp(b)&&o(f.name)),Gy(b)&&u(b),S.children){const M=S.children;for(let T=0;T<M.length;T++)i(M[T],b,m&&m.children[T])}m=m||b}return v?()=>{o(v)}:eo}function o(f){if(zy(f)){const p=r.get(f);p&&(r.delete(f),n.splice(n.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=n.indexOf(f);p>-1&&(n.splice(p,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function u(f){const p=nR(f,n);n.splice(p,0,f),f.record.name&&!Sp(f)&&r.set(f.record.name,f)}function c(f,p){let m,y={},S,A;if("name"in f&&f.name){if(m=r.get(f.name),!m)throw ui(1,{location:f});A=m.record.name,y=Ke(Ep(p.params,m.keys.filter(v=>!v.optional).concat(m.parent?m.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),f.params&&Ep(f.params,m.keys.map(v=>v.name))),S=m.stringify(y)}else if(f.path!=null)S=f.path,m=n.find(v=>v.re.test(S)),m&&(y=m.parse(S),A=m.record.name);else{if(m=p.name?r.get(p.name):n.find(v=>v.re.test(p.path)),!m)throw ui(1,{location:f,currentLocation:p});A=m.record.name,y=Ke({},p.params,f.params),S=m.stringify(y)}const C=[];let b=m;for(;b;)C.unshift(b.record),b=b.parent;return{name:A,path:S,params:y,matched:C,meta:tR(C)}}t.forEach(f=>i(f));function d(){n.length=0,r.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:s}}function Ep(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Tp(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:eR(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function eR(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Sp(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function tR(t){return t.reduce((e,n)=>Ke(e,n.meta),{})}function Ip(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function nR(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;Hy(t,e[i])<0?r=i:n=i+1}const s=rR(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function rR(t){let e=t;for(;e=e.parent;)if(Gy(e)&&Hy(t,e)===0)return e}function Gy({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function sR(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Ny," "),o=i.indexOf("="),a=yo(o<0?i:i.slice(0,o)),u=o<0?null:yo(i.slice(o+1));if(a in e){let c=e[a];En(c)||(c=e[a]=[c]),c.push(u)}else e[a]=u}return e}function Ap(t){let e="";for(let n in t){const r=t[n];if(n=SP(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(En(r)?r.map(i=>i&&lc(i)):[r&&lc(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function iR(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=En(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const oR=Symbol(""),xp=Symbol(""),Cl=Symbol(""),Id=Symbol(""),cc=Symbol("");function Li(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function wr(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,u)=>{const c=p=>{p===!1?u(ui(4,{from:n,to:e})):p instanceof Error?u(p):qP(p)?u(ui(2,{from:e,to:p})):(o&&r.enterCallbacks[s]===o&&typeof p=="function"&&o.push(p),a())},d=i(()=>t.call(r&&r.instances[s],e,n,c));let f=Promise.resolve(d);t.length<3&&(f=f.then(c)),f.catch(p=>u(p))})}function Eu(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let u=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(My(u)){const d=(u.__vccOpts||u)[e];d&&i.push(wr(d,n,r,o,a,s))}else{let c=u();i.push(()=>c.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=hP(d)?d.default:d;o.mods[a]=d,o.components[a]=f;const m=(f.__vccOpts||f)[e];return m&&wr(m,n,r,o,a,s)()}))}}return i}function Cp(t){const e=bn(Cl),n=bn(Id),r=Ae(()=>{const u=ln(t.to);return e.resolve(u)}),s=Ae(()=>{const{matched:u}=r.value,{length:c}=u,d=u[c-1],f=n.matched;if(!d||!f.length)return-1;const p=f.findIndex(li.bind(null,d));if(p>-1)return p;const m=Pp(u[c-2]);return c>1&&Pp(d)===m&&f[f.length-1].path!==m?f.findIndex(li.bind(null,u[c-2])):p}),i=Ae(()=>s.value>-1&&dR(n.params,r.value.params)),o=Ae(()=>s.value>-1&&s.value===n.matched.length-1&&jy(n.params,r.value.params));function a(u={}){if(cR(u)){const c=e[ln(t.replace)?"replace":"push"](ln(t.to)).catch(eo);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:Ae(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function aR(t){return t.length===1?t[0]:t}const lR=bm({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Cp,setup(t,{slots:e}){const n=wo(Cp(t)),{options:r}=bn(Cl),s=Ae(()=>({[Rp(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Rp(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&aR(e.default(n));return t.custom?i:Yt("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),uR=lR;function cR(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function dR(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!En(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Pp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Rp=(t,e,n)=>t??e??n,fR=bm({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=bn(cc),s=Ae(()=>t.route||r.value),i=bn(xp,0),o=Ae(()=>{let c=ln(i);const{matched:d}=s.value;let f;for(;(f=d[c])&&!f.components;)c++;return c}),a=Ae(()=>s.value.matched[o.value]);Xs(xp,Ae(()=>o.value+1)),Xs(oR,a),Xs(cc,s);const u=de();return At(()=>[u.value,a.value,t.name],([c,d,f],[p,m,y])=>{d&&(d.instances[f]=c,m&&m!==d&&c&&c===p&&(d.leaveGuards.size||(d.leaveGuards=m.leaveGuards),d.updateGuards.size||(d.updateGuards=m.updateGuards))),c&&d&&(!m||!li(d,m)||!p)&&(d.enterCallbacks[f]||[]).forEach(S=>S(c))},{flush:"post"}),()=>{const c=s.value,d=t.name,f=a.value,p=f&&f.components[d];if(!p)return kp(n.default,{Component:p,route:c});const m=f.props[d],y=m?m===!0?c.params:typeof m=="function"?m(c):m:null,A=Yt(p,Ke({},y,e,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(f.instances[d]=null)},ref:u}));return kp(n.default,{Component:A,route:c})||A}}});function kp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const hR=fR;function pR(t){const e=ZP(t.routes,t),n=t.parseQuery||sR,r=t.stringifyQuery||Ap,s=t.history,i=Li(),o=Li(),a=Li(),u=os(yr);let c=yr;qs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=_u.bind(null,F=>""+F),f=_u.bind(null,AP),p=_u.bind(null,yo);function m(F,te){let ne,ue;return zy(F)?(ne=e.getRecordMatcher(F),ue=te):ue=F,e.addRoute(ue,ne)}function y(F){const te=e.getRecordMatcher(F);te&&e.removeRoute(te)}function S(){return e.getRoutes().map(F=>F.record)}function A(F){return!!e.getRecordMatcher(F)}function C(F,te){if(te=Ke({},te||u.value),typeof F=="string"){const $=wu(n,F,te.path),q=e.resolve({path:$.path},te),G=s.createHref($.fullPath);return Ke($,q,{params:p(q.params),hash:yo($.hash),redirectedFrom:void 0,href:G})}let ne;if(F.path!=null)ne=Ke({},F,{path:wu(n,F.path,te.path).path});else{const $=Ke({},F.params);for(const q in $)$[q]==null&&delete $[q];ne=Ke({},F,{params:f($)}),te.params=f(te.params)}const ue=e.resolve(ne,te),Ne=F.hash||"";ue.params=d(p(ue.params));const D=PP(r,Ke({},F,{hash:TP(Ne),path:ue.path})),L=s.createHref(D);return Ke({fullPath:D,hash:Ne,query:r===Ap?iR(F.query):F.query||{}},ue,{redirectedFrom:void 0,href:L})}function b(F){return typeof F=="string"?wu(n,F,u.value.path):Ke({},F)}function v(F,te){if(c!==F)return ui(8,{from:te,to:F})}function x(F){return T(F)}function V(F){return x(Ke(b(F),{replace:!0}))}function M(F){const te=F.matched[F.matched.length-1];if(te&&te.redirect){const{redirect:ne}=te;let ue=typeof ne=="function"?ne(F):ne;return typeof ue=="string"&&(ue=ue.includes("?")||ue.includes("#")?ue=b(ue):{path:ue},ue.params={}),Ke({query:F.query,hash:F.hash,params:ue.path!=null?{}:F.params},ue)}}function T(F,te){const ne=c=C(F),ue=u.value,Ne=F.state,D=F.force,L=F.replace===!0,$=M(ne);if($)return T(Ke(b($),{state:typeof $=="object"?Ke({},Ne,$.state):Ne,force:D,replace:L}),te||ne);const q=ne;q.redirectedFrom=te;let G;return!D&&RP(r,ue,ne)&&(G=ui(16,{to:q,from:ue}),Pe(ue,ue,!0,!1)),(G?Promise.resolve(G):I(q,ue)).catch(H=>Xn(H)?Xn(H,2)?H:Fe(H):he(H,q,ue)).then(H=>{if(H){if(Xn(H,2))return T(Ke({replace:L},b(H.to),{state:typeof H.to=="object"?Ke({},Ne,H.to.state):Ne,force:D}),te||q)}else H=O(q,ue,!0,L,Ne);return k(q,ue,H),H})}function w(F,te){const ne=v(F,te);return ne?Promise.reject(ne):Promise.resolve()}function _(F){const te=je.values().next().value;return te&&typeof te.runWithContext=="function"?te.runWithContext(F):F()}function I(F,te){let ne;const[ue,Ne,D]=mR(F,te);ne=Eu(ue.reverse(),"beforeRouteLeave",F,te);for(const $ of ue)$.leaveGuards.forEach(q=>{ne.push(wr(q,F,te))});const L=w.bind(null,F,te);return ne.push(L),Y(ne).then(()=>{ne=[];for(const $ of i.list())ne.push(wr($,F,te));return ne.push(L),Y(ne)}).then(()=>{ne=Eu(Ne,"beforeRouteUpdate",F,te);for(const $ of Ne)$.updateGuards.forEach(q=>{ne.push(wr(q,F,te))});return ne.push(L),Y(ne)}).then(()=>{ne=[];for(const $ of D)if($.beforeEnter)if(En($.beforeEnter))for(const q of $.beforeEnter)ne.push(wr(q,F,te));else ne.push(wr($.beforeEnter,F,te));return ne.push(L),Y(ne)}).then(()=>(F.matched.forEach($=>$.enterCallbacks={}),ne=Eu(D,"beforeRouteEnter",F,te,_),ne.push(L),Y(ne))).then(()=>{ne=[];for(const $ of o.list())ne.push(wr($,F,te));return ne.push(L),Y(ne)}).catch($=>Xn($,8)?$:Promise.reject($))}function k(F,te,ne){a.list().forEach(ue=>_(()=>ue(F,te,ne)))}function O(F,te,ne,ue,Ne){const D=v(F,te);if(D)return D;const L=te===yr,$=qs?history.state:{};ne&&(ue||L?s.replace(F.fullPath,Ke({scroll:L&&$&&$.scroll},Ne)):s.push(F.fullPath,Ne)),u.value=F,Pe(F,te,ne,L),Fe()}let R;function ae(){R||(R=s.listen((F,te,ne)=>{if(!Ee.listening)return;const ue=C(F),Ne=M(ue);if(Ne){T(Ke(Ne,{replace:!0,force:!0}),ue).catch(eo);return}c=ue;const D=u.value;qs&&$P(vp(D.fullPath,ne.delta),xl()),I(ue,D).catch(L=>Xn(L,12)?L:Xn(L,2)?(T(Ke(b(L.to),{force:!0}),ue).then($=>{Xn($,20)&&!ne.delta&&ne.type===bo.pop&&s.go(-1,!1)}).catch(eo),Promise.reject()):(ne.delta&&s.go(-ne.delta,!1),he(L,ue,D))).then(L=>{L=L||O(ue,D,!1),L&&(ne.delta&&!Xn(L,8)?s.go(-ne.delta,!1):ne.type===bo.pop&&Xn(L,20)&&s.go(-1,!1)),k(ue,D,L)}).catch(eo)}))}let ye=Li(),Z=Li(),se;function he(F,te,ne){Fe(F);const ue=Z.list();return ue.length?ue.forEach(Ne=>Ne(F,te,ne)):console.error(F),Promise.reject(F)}function _e(){return se&&u.value!==yr?Promise.resolve():new Promise((F,te)=>{ye.add([F,te])})}function Fe(F){return se||(se=!F,ae(),ye.list().forEach(([te,ne])=>F?ne(F):te()),ye.reset()),F}function Pe(F,te,ne,ue){const{scrollBehavior:Ne}=t;if(!qs||!Ne)return Promise.resolve();const D=!ne&&FP(vp(F.fullPath,0))||(ue||!ne)&&history.state&&history.state.scroll||null;return Ir().then(()=>Ne(F,te,D)).then(L=>L&&NP(L)).catch(L=>he(L,F,te))}const ke=F=>s.go(F);let Be;const je=new Set,Ee={currentRoute:u,listening:!0,addRoute:m,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:A,getRoutes:S,resolve:C,options:t,push:x,replace:V,go:ke,back:()=>ke(-1),forward:()=>ke(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Z.add,isReady:_e,install(F){const te=this;F.component("RouterLink",uR),F.component("RouterView",hR),F.config.globalProperties.$router=te,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>ln(u)}),qs&&!Be&&u.value===yr&&(Be=!0,x(s.location).catch(Ne=>{}));const ne={};for(const Ne in yr)Object.defineProperty(ne,Ne,{get:()=>u.value[Ne],enumerable:!0});F.provide(Cl,te),F.provide(Id,am(ne)),F.provide(cc,u);const ue=F.unmount;je.add(F),F.unmount=function(){je.delete(F),je.size<1&&(c=yr,R&&R(),R=null,u.value=yr,Be=!1,se=!1),ue()}}};function Y(F){return F.reduce((te,ne)=>te.then(()=>_(ne)),Promise.resolve())}return Ee}function mR(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>li(c,a))?r.push(a):n.push(a));const u=t.matched[o];u&&(e.matched.find(c=>li(c,u))||s.push(u))}return[n,r,s]}function _i(){return bn(Cl)}function Pl(t){return bn(Id)}const gR={key:1},vR={key:0,class:"container container-swiper mx-auto px-4 sm:px-6 lg:px-8"},yR={key:1,class:"container"},bR={__name:"App",setup(t){const e=Pl(),n=Ae(()=>{const m=e.path.startsWith("/admin");return console.log("Current route:",e.path,"isAdmin:",m),m}),r=de([]),s=de(null);vt(async()=>{if(!n.value)try{const m=await vd();m&&(r.value=m.filter(S=>S.id.startsWith("day")));const y=await bd();y&&(s.value=y)}catch(m){console.error("Erro ao carregar dados:",m)}});const i=[Oy,Dy,Vy],o=de(null),a=de(null),u=de(0),c=m=>{o.value=m,u.value=m.activeIndex},d=m=>{a.value=m},f=m=>{var y;(y=o.value)==null||y.slideTo(m)},p=m=>{u.value=m.activeIndex,a.value&&a.value.slideTo(m.activeIndex)};return(m,y)=>{const S=pi("router-view");return n.value?(j(),ot(S,{key:0})):(j(),z("div",gR,[ge(SA),gt(ge(xA,null,null,512),[[g_,!1]]),r.value.length>0?(j(),z("main",vR,[ge(rC,{days:r.value,onGoToDay:f,onSwiper:d,"controlled-swiper":o.value,"active-index":u.value},null,8,["days","controlled-swiper","active-index"]),ge(ln(Ed),{modules:i,"slides-per-view":1,"space-between":50,navigation:!1,pagination:{el:".main-swiper-pagination",clickable:!0},"auto-height":!0,onSwiper:c,onSlideChange:p,class:"main-day-swiper"},{default:We(()=>[(j(!0),z(De,null,Xe(r.value,(A,C)=>(j(),ot(ln(Td),{key:A.id},{default:We(()=>[ge(rP,{day:A},null,8,["day"])]),_:2},1024))),128))]),_:1}),y[0]||(y[0]=E("div",{class:"main-swiper-pagination"},null,-1))])):le("",!0),s.value?(j(),z("div",yR,[ge(fP,{recommendations:s.value},null,8,["recommendations"])])):le("",!0),ge(gC)]))}}},_R={class:"flex items-center"},wR={key:0,class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ER={key:1,class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},TR={key:2,class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},SR={key:3,class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},IR={__name:"AlertNotification",props:{show:{type:Boolean,default:!1},message:{type:String,default:""},type:{type:String,default:"success",validator:t=>["success","error","warning","info"].includes(t)},autoClose:{type:Boolean,default:!0},duration:{type:Number,default:5e3}},emits:["update:show","close"],setup(t,{emit:e}){const n=t,r=e;let s=null;At(()=>n.show,a=>{a&&n.autoClose?i():!a&&s&&(clearTimeout(s),s=null)});const i=()=>{s&&clearTimeout(s),s=setTimeout(()=>{o()},n.duration)},o=()=>{s&&(clearTimeout(s),s=null),r("update:show",!1),r("close")};return vt(()=>{n.show&&n.autoClose&&i()}),To(()=>{s&&clearTimeout(s)}),(a,u)=>t.show?(j(),z("div",{key:0,class:Oe(["fixed top-4 left-0 right-0 mx-auto max-w-md z-50 p-4 rounded-md flex items-center justify-between transition-all duration-300 shadow-lg",t.type==="success"?"bg-green-100 text-green-800 border border-green-200":t.type==="error"?"bg-red-100 text-red-800 border border-red-200":t.type==="warning"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-blue-100 text-blue-800 border border-blue-200"])},[E("div",_R,[t.type==="success"?(j(),z("svg",wR,u[0]||(u[0]=[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))):t.type==="error"?(j(),z("svg",ER,u[1]||(u[1]=[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):t.type==="warning"?(j(),z("svg",TR,u[2]||(u[2]=[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)]))):(j(),z("svg",SR,u[3]||(u[3]=[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))),E("span",null,we(t.message),1)]),E("button",{onClick:o,class:"text-gray-500 hover:text-gray-700"},u[4]||(u[4]=[E("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))],2)):le("",!0)}},AR=zn(IR,[["__scopeId","data-v-184102e3"]]),xR={class:"bg-white rounded-lg shadow-md p-6"},CR={class:"flex items-center mb-6"},PR={class:"text-xl font-semibold"},RR={__name:"AdminFormLayout",props:{title:{type:String,required:!0},alert:{type:Object,required:!0}},emits:["update:alert","close-alert"],setup(t,{emit:e}){const n=e,r=_i(),s=()=>{n("close-alert")},i=()=>{r.back()};return(o,a)=>(j(),z("div",xR,[ge(AR,{show:t.alert.show,"onUpdate:show":a[0]||(a[0]=u=>t.alert.show=u),message:t.alert.message,type:t.alert.type,onClose:s},null,8,["show","message","type"]),E("div",CR,[E("button",{class:"mr-3 flex items-center text-gray-700",onClick:i},a[1]||(a[1]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])),E("h2",PR,we(t.title),1)]),Ft(o.$slots,"default",{},void 0,!0)]))}},Wr=zn(RR,[["__scopeId","data-v-b67f0bb0"]]),kR={class:"mb-4"},OR=["for"],DR=["type","id","value"],sn={__name:"FormField",props:{id:{type:String,required:!0},label:{type:String,required:!0},modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"}},emits:["update:modelValue"],setup(t){return(e,n)=>(j(),z("div",kR,[E("label",{for:t.id,class:"block text-sm font-medium text-gray-700 mb-1"},we(t.label),9,OR),E("input",{type:t.type,id:t.id,value:t.modelValue,onInput:n[0]||(n[0]=r=>e.$emit("update:modelValue",r.target.value)),class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,40,DR)]))}},VR={class:"flex justify-end space-x-3"},MR={type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},Rl={__name:"FormActions",props:{submitLabel:{type:String,default:"Salvar"},cancelLabel:{type:String,default:"Cancelar"}},emits:["cancel"],setup(t){return(e,n)=>(j(),z("div",VR,[E("button",{type:"button",class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",onClick:n[0]||(n[0]=r=>e.$emit("cancel"))},we(t.cancelLabel),1),E("button",MR,we(t.submitLabel),1)]))}},LR={class:"mb-2"},NR={__name:"SiteHeaderForm",setup(t){const e=_i(),n=de({title:"",subtitle:"",backgroundImage:"",period:{start:"",end:""}}),r=de({show:!1,message:"",type:"success"}),s=(d,f="success")=>{r.value={show:!0,message:d,type:f}},i=()=>{r.value.show=!1};function o(d){if(!d)return"";const f=d.split("/");return f.length!==3?"":`${f[2]}-${f[1]}-${f[0]}`}function a(d){if(!d)return"";const f=d.split("-");return f.length!==3?"":`${f[2]}/${f[1]}/${f[0]}`}vt(async()=>{var f,p;const d=await gy();d&&(n.value={title:d.title||"",subtitle:d.subtitle||"",backgroundImage:d.backgroundImage||"",period:{start:o((f=d.period)==null?void 0:f.start)||"",end:o((p=d.period)==null?void 0:p.end)||""}})});const u=async()=>{const d={...n.value,period:{start:a(n.value.period.start),end:a(n.value.period.end)}};(await uA(d)).success?s("Cabeçalho salvo com sucesso!","success"):s("Erro ao salvar cabeçalho!","error")},c=()=>{e.back()};return(d,f)=>(j(),ot(Wr,{title:"Configuração de Cabeçalho",alert:r.value,onCloseAlert:i},{default:We(()=>[E("form",{onSubmit:Ar(u,["prevent"])},[ge(sn,{id:"title",label:"Título",modelValue:n.value.title,"onUpdate:modelValue":f[0]||(f[0]=p=>n.value.title=p)},null,8,["modelValue"]),ge(sn,{id:"subtitle",label:"Subtítulo",modelValue:n.value.subtitle,"onUpdate:modelValue":f[1]||(f[1]=p=>n.value.subtitle=p)},null,8,["modelValue"]),ge(sn,{id:"backgroundImage",label:"Imagem de Fundo (URL)",modelValue:n.value.backgroundImage,"onUpdate:modelValue":f[2]||(f[2]=p=>n.value.backgroundImage=p)},null,8,["modelValue"]),ge(sn,{id:"periodStart",label:"Data de Início",type:"date",modelValue:n.value.period.start,"onUpdate:modelValue":f[3]||(f[3]=p=>n.value.period.start=p)},null,8,["modelValue"]),E("div",LR,[ge(sn,{id:"periodEnd",label:"Data de Término",type:"date",modelValue:n.value.period.end,"onUpdate:modelValue":f[4]||(f[4]=p=>n.value.period.end=p)},null,8,["modelValue"])]),ge(Rl,{onCancel:c})],32)]),_:1},8,["alert"]))}},$R=zn(NR,[["__scopeId","data-v-267f41f8"]]),FR={class:"mb-4"},BR={class:"flex justify-between mb-2"},jR={class:"flex items-center"},UR=["onClick"],zR={class:"font-medium"},qR={class:"flex"},HR=["onClick","disabled"],GR=["onClick","disabled"],WR={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},KR=["for"],QR=["id","onUpdate:modelValue"],YR=["for"],XR=["id","onUpdate:modelValue"],JR=["for"],ZR=["id","onUpdate:modelValue"],e2=["for"],t2=["id","onUpdate:modelValue"],n2=["for"],r2=["id","onUpdate:modelValue"],s2=["for"],i2=["id","onUpdate:modelValue"],o2={key:0,class:"mt-3 border-t border-gray-100 pt-3"},a2={class:"flex justify-between items-center mb-2"},l2=["onClick"],u2=["onClick"],c2={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-3"},d2=["for"],f2=["id","value","onInput"],h2=["for"],p2=["id","value","onInput"],m2={__name:"SiteFooterForm",setup(t){const e=_i(),n=de({titulo:"",descricao:"",data:"",contatos_importantes:[],copyright:""}),r=wo({}),s=de({show:!1,message:"",type:"success"}),i=(A,C="success")=>{s.value={show:!0,message:A,type:C}},o=()=>{s.value.show=!1},a=()=>{const A={id:`contato-${n.value.contatos_importantes.length+1}`,nome:"",contato:"",instagram:"",whatsapp:"",rota:""};n.value.contatos_importantes.push(A)},u=A=>{n.value.contatos_importantes.splice(A,1)},c=(A,C)=>{const b=n.value.contatos_importantes;C==="up"&&A>0?[b[A],b[A-1]]=[b[A-1],b[A]]:C==="down"&&A<b.length-1&&([b[A],b[A+1]]=[b[A+1],b[A]])},d=(A,C)=>{A.link||(A.link={titulo:"",url:""}),A.link.titulo=C.target.value},f=(A,C)=>{A.link||(A.link={titulo:"",url:""}),A.link.url=C.target.value},p=A=>{const C=n.value.contatos_importantes[A];C.link||(C.link={titulo:"",url:""}),r[A]=!0},m=A=>{const C=n.value.contatos_importantes[A];delete C.link,r[A]=!1};vt(async()=>{try{const A=await vy();A&&(n.value={titulo:A.titulo||"",descricao:A.descricao||"",data:A.data||"",contatos_importantes:Array.isArray(A.contatos_importantes)?A.contatos_importantes:[],copyright:A.copyright||""},n.value.contatos_importantes.forEach((C,b)=>{C.id||(C.id=`contato-${b+1}`),r[b]=!!C.link,C.link&&typeof C.link!="object"&&(C.link={titulo:"",url:""})}))}catch(A){console.error("Erro ao carregar dados do rodapé:",A),i("Erro ao carregar dados do rodapé!","error")}});const y=async()=>{try{(await cA(n.value)).success?i("Rodapé salvo com sucesso!","success"):i("Erro ao salvar rodapé!","error")}catch(A){console.error("Erro ao salvar rodapé:",A),i("Erro ao salvar rodapé!","error")}},S=()=>{e.back()};return(A,C)=>(j(),ot(Wr,{title:"Configuração de Rodapé",alert:s.value,onCloseAlert:o},{default:We(()=>[E("form",{onSubmit:Ar(y,["prevent"])},[ge(sn,{id:"titulo",label:"Título",modelValue:n.value.titulo,"onUpdate:modelValue":C[0]||(C[0]=b=>n.value.titulo=b)},null,8,["modelValue"]),ge(sn,{id:"descricao",label:"Descrição",modelValue:n.value.descricao,"onUpdate:modelValue":C[1]||(C[1]=b=>n.value.descricao=b)},null,8,["modelValue"]),ge(sn,{id:"data",label:"Data",modelValue:n.value.data,"onUpdate:modelValue":C[2]||(C[2]=b=>n.value.data=b)},null,8,["modelValue"]),E("div",FR,[C[9]||(C[9]=E("div",{class:"flex justify-between items-center mb-2"},[E("label",{class:"block text-sm font-medium text-gray-700"},"Contatos Importantes")],-1)),(j(!0),z(De,null,Xe(n.value.contatos_importantes,(b,v)=>(j(),z("div",{key:v,class:"border border-gray-200 rounded-md p-4 mb-3"},[E("div",BR,[E("div",jR,[E("button",{type:"button",class:"text-red-600 hover:text-red-800 mr-3",onClick:x=>u(v)},C[4]||(C[4]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,UR),E("h3",zR,"Contato #"+we(v+1),1)]),E("div",qR,[E("button",{type:"button",class:Oe(["text-gray-600 hover:text-gray-800 mr-1",{"opacity-50 cursor-not-allowed":v===0}]),onClick:x=>c(v,"up"),disabled:v===0},C[5]||(C[5]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"})],-1)]),10,HR),E("button",{type:"button",class:Oe(["text-gray-600 hover:text-gray-800",{"opacity-50 cursor-not-allowed":v===n.value.contatos_importantes.length-1}]),onClick:x=>c(v,"down"),disabled:v===n.value.contatos_importantes.length-1},C[6]||(C[6]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]),10,GR)])]),E("div",WR,[E("div",null,[E("label",{for:`contato-id-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"ID",8,KR),gt(E("input",{type:"text",id:`contato-id-${v}`,"onUpdate:modelValue":x=>b.id=x,class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,8,QR),[[yt,b.id]])]),E("div",null,[E("label",{for:`contato-nome-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Nome",8,YR),gt(E("input",{type:"text",id:`contato-nome-${v}`,"onUpdate:modelValue":x=>b.nome=x,class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,8,XR),[[yt,b.nome]])]),E("div",null,[E("label",{for:`contato-contato-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Contato",8,JR),gt(E("input",{type:"text",id:`contato-contato-${v}`,"onUpdate:modelValue":x=>b.contato=x,class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,8,ZR),[[yt,b.contato]])]),E("div",null,[E("label",{for:`contato-instagram-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Instagram",8,e2),gt(E("input",{type:"text",id:`contato-instagram-${v}`,"onUpdate:modelValue":x=>b.instagram=x,class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,8,t2),[[yt,b.instagram]])]),E("div",null,[E("label",{for:`contato-whatsapp-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"WhatsApp",8,n2),gt(E("input",{type:"text",id:`contato-whatsapp-${v}`,"onUpdate:modelValue":x=>b.whatsapp=x,class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"+55 (00) 00000-0000"},null,8,r2),[[yt,b.whatsapp]])]),E("div",null,[E("label",{for:`contato-rota-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Rota",8,s2),gt(E("input",{type:"text",id:`contato-rota-${v}`,"onUpdate:modelValue":x=>b.rota=x,class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,8,i2),[[yt,b.rota]])])]),b.link||r[v]?(j(),z("div",o2,[E("div",a2,[C[7]||(C[7]=E("h4",{class:"text-sm font-medium"},"Link",-1)),!b.link&&r[v]?(j(),z("button",{key:0,type:"button",class:"text-red-600 hover:text-red-800 text-sm",onClick:x=>m(v)}," Remover Link ",8,l2)):le("",!0),!b.link&&!r[v]?(j(),z("button",{key:1,type:"button",class:"text-blue-600 hover:text-blue-800 text-sm",onClick:x=>p(v)}," Adicionar Link ",8,u2)):le("",!0)]),b.link||r[v]?(j(),z("div",c2,[E("div",null,[E("label",{for:`contato-link-titulo-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Título do Link",8,d2),E("input",{type:"text",id:`contato-link-titulo-${v}`,value:b.link?b.link.titulo:"",onInput:x=>d(b,x),class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,40,f2)]),E("div",null,[E("label",{for:`contato-link-url-${v}`,class:"block text-sm font-medium text-gray-700 mb-1"},"URL do Link",8,h2),E("input",{type:"text",id:`contato-link-url-${v}`,value:b.link?b.link.url:"",onInput:x=>f(b,x),class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,40,p2)])])):le("",!0)])):le("",!0)]))),128)),E("button",{type:"button",class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm flex items-center justify-center",onClick:a},C[8]||(C[8]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),ht(" Adicionar Contato ")]))]),ge(sn,{id:"copyright",label:"Copyright",modelValue:n.value.copyright,"onUpdate:modelValue":C[3]||(C[3]=b=>n.value.copyright=b),class:"mb-6"},null,8,["modelValue"]),ge(Rl,{onCancel:S})],32)]),_:1},8,["alert"]))}},g2=zn(m2,[["__scopeId","data-v-3eecb0bb"]]),v2={class:"mb-6"},y2={class:"flex justify-end mb-4"},b2={key:0,class:"text-center py-8"},_2={key:1,class:"bg-gray-50 rounded-lg p-8 text-center"},w2={key:2,class:"bg-white shadow rounded-lg overflow-hidden"},E2={class:"divide-y divide-gray-200"},T2={class:"flex items-center"},S2={class:"flex-shrink-0 mr-4"},I2=["src","alt"],A2={class:"flex-1"},x2={class:"text-lg font-medium text-gray-900"},C2={key:0,class:"text-sm text-gray-500 mt-1 line-clamp-2"},P2={__name:"ActivitiesList",setup(t){const e=de([]),n=de(!0),r=de({show:!1,message:"",type:"success"}),s=(o,a="success")=>{r.value={show:!0,message:o,type:a}},i=()=>{r.value.show=!1};return vt(async()=>{try{n.value=!0,e.value=await yd(),e.value.sort((o,a)=>o.title&&a.title?o.title.localeCompare(a.title):0)}catch(o){console.error("Erro ao carregar atividades:",o),s("Erro ao carregar lista de atividades!","error")}finally{n.value=!1}}),(o,a)=>{const u=pi("router-link");return j(),ot(Wr,{title:"Gestão de Atividades",alert:r.value,onCloseAlert:i},{default:We(()=>[E("div",v2,[a[7]||(a[7]=E("p",{class:"text-sm text-gray-600 mb-4"}," Gerencie as atividades disponíveis no sistema. Clique em uma atividade para editá-la ou adicione uma nova atividade. ",-1)),E("div",y2,[ge(u,{to:"/admin/atividades/novo",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center text-sm"},{default:We(()=>a[0]||(a[0]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),ht(" Nova Atividade ")])),_:1})]),n.value?(j(),z("div",b2,a[1]||(a[1]=[E("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-600"},null,-1),E("p",{class:"mt-2 text-gray-500"},"Carregando atividades...",-1)]))):e.value.length===0?(j(),z("div",_2,[a[3]||(a[3]=E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})],-1)),a[4]||(a[4]=E("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Nenhuma atividade cadastrada",-1)),a[5]||(a[5]=E("p",{class:"text-gray-500 mb-4"},"Comece adicionando sua primeira atividade ao sistema.",-1)),ge(u,{to:"/admin/atividades/novo",class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},{default:We(()=>a[2]||(a[2]=[ht(" Adicionar Nova Atividade ")])),_:1})])):(j(),z("div",w2,[E("ul",E2,[(j(!0),z(De,null,Xe(e.value,c=>(j(),z("li",{key:c.id,class:"hover:bg-gray-50"},[ge(u,{to:`/admin/atividades/${c.id}`,class:"block p-4"},{default:We(()=>[E("div",T2,[E("div",S2,[E("img",{src:c.images&&c.images.length>0?c.images[0]:"https://www2.camara.leg.br/atividade-legislativa/comissoes/comissoes-permanentes/cindra/imagens/sem.jpg.gif",alt:c.title,class:"h-16 w-16 object-cover rounded-md"},null,8,I2)]),E("div",A2,[E("h3",x2,we(c.title),1),c.description?(j(),z("p",C2,we(c.description),1)):le("",!0)]),a[6]||(a[6]=E("div",{class:"text-gray-400"},[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))])]),_:2},1032,["to"])]))),128))])]))])]),_:1},8,["alert"])}}},R2={class:"mb-4"},k2={class:"mb-4"},O2={class:"mb-4"},D2={class:"flex justify-between mb-2"},V2={class:"flex items-center"},M2=["onClick"],L2={class:"font-medium"},N2={class:"flex"},$2=["onClick","disabled"],F2=["onClick","disabled"],B2={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},j2={class:"col-span-2"},U2=["for"],z2=["id","onUpdate:modelValue"],q2={key:0,class:"mt-3"},H2=["src","alt"],G2={class:"mb-6"},W2={class:"flex justify-between mb-2"},K2={class:"flex items-center"},Q2=["onClick"],Y2={class:"font-medium"},X2={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},J2=["for"],Z2=["id","onUpdate:modelValue"],ek=["for"],tk=["id","onUpdate:modelValue"],nk={class:"flex gap-3 mt-8"},rk={key:0,class:"fixed inset-0 flex items-center justify-center z-50"},sk={class:"bg-white rounded-lg p-6 max-w-md w-full z-10"},ik={class:"mb-4 text-gray-600"},ok={class:"flex justify-end gap-3"},ak={__name:"ActivityForm",setup(t){const e=_i(),n=Pl(),r=de(!1),s=Ae(()=>n.params.id==="novo"),i=de({title:"",location:"",description:"",type:"",images:[],links:[]}),o=de({show:!1,message:"",type:"success"}),a=(b,v="success")=>{o.value={show:!0,message:b,type:v}},u=()=>{o.value.show=!1};vt(async()=>{if(!s.value)try{const b=n.params.id,v=await pA(b);v?(console.log("Dados da atividade carregados:",v),i.value={title:v.title||"",location:v.location||"",description:v.description||"",type:v.type||"",images:[],links:[]},v.images&&(Array.isArray(v.images)?i.value.images=v.images.map(x=>({url:typeof x=="object"?x.url||"":x,alt:typeof x=="object"&&x.alt||""})):typeof v.images=="string"&&(i.value.images=[{url:v.images,alt:""}])),v.links&&typeof v.links=="object"&&!Array.isArray(v.links)&&(i.value.links=Object.entries(v.links).map(([x,V])=>({title:x,url:V}))),console.log("Formulário preenchido:",i.value)):(a("Atividade não encontrada!","error"),e.push("/admin/atividades"))}catch(b){console.error("Erro ao carregar dados da atividade:",b),a("Erro ao carregar dados da atividade!","error")}});const c=()=>{i.value.images.push({url:""})},d=b=>{i.value.images.splice(b,1)},f=(b,v)=>{const x=i.value.images;v==="up"&&b>0?[x[b],x[b-1]]=[x[b-1],x[b]]:v==="down"&&b<x.length-1&&([x[b],x[b+1]]=[x[b+1],x[b]])},p=()=>{i.value.links.push({title:"",url:""})},m=b=>{i.value.links.splice(b,1)},y=async()=>{try{if(!i.value.title.trim()){a("O nome da atividade é obrigatório!","error");return}const b=s.value?i.value.title.toLowerCase().replace(/\s+/g,"-").normalize("NFD").replace(/[\u0300-\u036f]/g,""):n.params.id,v={...i.value};v.images=v.images.filter(V=>V.url.trim()!=="").map(V=>V.url),v.links=v.links.filter(V=>V.url.trim()!=="").reduce((V,M)=>{const T=M.title.trim()||"link";return V[T]=M.url,V},{}),console.log("Dados a serem salvos:",v),(await fA("santiago",b,v)).success?(a("Atividade salva com sucesso!","success"),s.value&&e.push(`/admin/atividades/${b}`)):a("Erro ao salvar atividade!","error")}catch(b){console.error("Erro ao salvar atividade:",b),a("Erro ao salvar atividade!","error")}},S=()=>{r.value=!0},A=async()=>{try{const b=n.params.id;(await my("trips/santiago/activities",b)).success?(a("Atividade excluída com sucesso!","success"),e.push("/admin/atividades")):a("Erro ao excluir atividade!","error"),r.value=!1}catch(b){console.error("Erro ao excluir atividade:",b),a("Erro ao excluir atividade!","error"),r.value=!1}},C=()=>{e.push("/admin/atividades")};return(b,v)=>(j(),ot(Wr,{title:s.value?"Nova Atividade":`Editar Atividade: ${i.value.title}`,alert:o.value,onCloseAlert:u},{default:We(()=>[E("form",{onSubmit:Ar(y,["prevent"])},[ge(sn,{id:"title",label:"Nome da Atividade",modelValue:i.value.title,"onUpdate:modelValue":v[0]||(v[0]=x=>i.value.title=x),required:""},null,8,["modelValue"]),E("div",R2,[v[5]||(v[5]=E("label",{for:"location",class:"block text-sm font-medium text-gray-700 mb-1"},"Local (URL do Google Maps)",-1)),gt(E("input",{type:"text",id:"location","onUpdate:modelValue":v[1]||(v[1]=x=>i.value.location=x),class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://maps.app.goo.gl/..."},null,512),[[yt,i.value.location]]),v[6]||(v[6]=E("p",{class:"text-xs text-gray-500 mt-1"},"Cole aqui a URL do Google Maps para o local da atividade",-1))]),E("div",k2,[v[7]||(v[7]=E("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-1"},"Descrição",-1)),gt(E("textarea",{id:"description","onUpdate:modelValue":v[2]||(v[2]=x=>i.value.description=x),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Descreva esta atividade"},null,512),[[yt,i.value.description]])]),ge(sn,{id:"type",label:"Tipo",modelValue:i.value.type,"onUpdate:modelValue":v[3]||(v[3]=x=>i.value.type=x),class:"mb-4"},null,8,["modelValue"]),E("div",O2,[v[12]||(v[12]=E("div",{class:"flex justify-between items-center mb-2"},[E("label",{class:"block text-sm font-medium text-gray-700"},"Imagens")],-1)),(j(!0),z(De,null,Xe(i.value.images,(x,V)=>(j(),z("div",{key:V,class:"border border-gray-200 rounded-md p-4 mb-3"},[E("div",D2,[E("div",V2,[E("button",{type:"button",class:"text-red-600 hover:text-red-800 mr-3",onClick:M=>d(V)},v[8]||(v[8]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,M2),E("h3",L2,"Imagem #"+we(V+1),1)]),E("div",N2,[E("button",{type:"button",class:Oe(["text-gray-600 hover:text-gray-800 mr-1",{"opacity-50 cursor-not-allowed":V===0}]),onClick:M=>f(V,"up"),disabled:V===0},v[9]||(v[9]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"})],-1)]),10,$2),E("button",{type:"button",class:Oe(["text-gray-600 hover:text-gray-800",{"opacity-50 cursor-not-allowed":V===i.value.images.length-1}]),onClick:M=>f(V,"down"),disabled:V===i.value.images.length-1},v[10]||(v[10]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]),10,F2)])]),E("div",B2,[E("div",j2,[E("label",{for:`imagem-url-${V}`,class:"block text-sm font-medium text-gray-700 mb-1"},"URL da Imagem",8,U2),gt(E("input",{type:"text",id:`imagem-url-${V}`,"onUpdate:modelValue":M=>x.url=M,class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://exemplo.com/imagem.jpg"},null,8,z2),[[yt,x.url]])])]),x.url?(j(),z("div",q2,[E("img",{src:x.url,alt:x.name||"Imagem da atividade",class:"h-32 object-cover rounded-md"},null,8,H2)])):le("",!0)]))),128)),E("button",{type:"button",class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm flex items-center justify-center",onClick:c},v[11]||(v[11]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),ht(" Adicionar Imagem ")]))]),E("div",G2,[v[15]||(v[15]=E("div",{class:"flex justify-between items-center mb-2"},[E("label",{class:"block text-sm font-medium text-gray-700"},"Links Relacionados")],-1)),(j(!0),z(De,null,Xe(i.value.links,(x,V)=>(j(),z("div",{key:V,class:"border border-gray-200 rounded-md p-4 mb-3"},[E("div",W2,[E("div",K2,[E("button",{type:"button",class:"text-red-600 hover:text-red-800 mr-3",onClick:M=>m(V)},v[13]||(v[13]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Q2),E("h3",Y2,"Link #"+we(V+1),1)])]),E("div",X2,[E("div",null,[E("label",{for:`link-titulo-${V}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Título",8,J2),gt(E("input",{type:"text",id:`link-titulo-${V}`,"onUpdate:modelValue":M=>x.title=M,class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: Site Oficial"},null,8,Z2),[[yt,x.title]])]),E("div",null,[E("label",{for:`link-url-${V}`,class:"block text-sm font-medium text-gray-700 mb-1"},"URL",8,ek),gt(E("input",{type:"text",id:`link-url-${V}`,"onUpdate:modelValue":M=>x.url=M,class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://exemplo.com"},null,8,tk),[[yt,x.url]])])])]))),128)),E("button",{type:"button",class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm flex items-center justify-center",onClick:p},v[14]||(v[14]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),ht(" Adicionar Link ")]))]),E("div",nk,[s.value?le("",!0):(j(),z("button",{key:0,type:"button",onClick:S,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700"}," Excluir ")),v[16]||(v[16]=E("div",{class:"flex-grow"},null,-1)),ge(Rl,{onCancel:C})])],32),r.value?(j(),z("div",rk,[v[18]||(v[18]=E("div",{class:"fixed inset-0 bg-black opacity-50"},null,-1)),E("div",sk,[v[17]||(v[17]=E("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Confirmar Exclusão",-1)),E("p",ik,' Tem certeza de que deseja excluir a atividade "'+we(i.value.title)+'"? Esta ação não pode ser desfeita. ',1),E("div",ok,[E("button",{onClick:v[4]||(v[4]=x=>r.value=!1),class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300"}," Cancelar "),E("button",{onClick:A,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700"}," Excluir ")])])])):le("",!0)]),_:1},8,["title","alert"]))}},lk={class:"mb-6"},uk={class:"flex justify-end mb-4"},ck={key:0,class:"text-center py-8"},dk={key:1,class:"bg-gray-50 rounded-lg p-8 text-center"},fk={key:2,class:"bg-white shadow rounded-lg overflow-hidden"},hk={class:"divide-y divide-gray-200"},pk={class:"flex items-center justify-between"},mk={class:"text-lg font-medium text-gray-900"},gk={class:"text-sm text-gray-500 mt-1 flex items-center"},vk={class:"mr-3"},yk={key:0,class:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded"},bk={__name:"ItineraryList",setup(t){const e=de([]),n=de(!0),r=de({show:!1,message:"",type:"success"}),s=(u,c="success")=>{r.value={show:!0,message:u,type:c}},i=()=>{r.value.show=!1},o=u=>{if(!u)return"";const c={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(u).toLocaleDateString("pt-BR",c)},a=u=>{if(!u)return 0;let c=0;return["morning","lunch","midDay","afternoon","evening","night"].forEach(f=>{u[f]&&Array.isArray(u[f])&&(c+=u[f].length)}),c};return vt(async()=>{try{n.value=!0;const u=await vd();e.value=u.filter(c=>c.id.startsWith("day")),e.value.sort((c,d)=>c.date&&d.date?new Date(c.date)-new Date(d.date):c.id.localeCompare(d.id))}catch(u){console.error("Erro ao carregar itinerário:",u),s("Erro ao carregar lista de dias do itinerário!","error")}finally{n.value=!1}}),(u,c)=>{const d=pi("router-link");return j(),ot(Wr,{title:"Gestão de Itinerário",alert:r.value,onCloseAlert:i},{default:We(()=>[E("div",lk,[c[7]||(c[7]=E("p",{class:"text-sm text-gray-600 mb-4"}," Gerencie os dias do roteiro de viagem. Clique em um dia para editá-lo ou adicione um novo dia. ",-1)),E("div",uk,[ge(d,{to:"/admin/itinerario/novo",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center text-sm"},{default:We(()=>c[0]||(c[0]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),ht(" Novo Dia ")])),_:1})]),n.value?(j(),z("div",ck,c[1]||(c[1]=[E("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-600"},null,-1),E("p",{class:"mt-2 text-gray-500"},"Carregando itinerário...",-1)]))):e.value.length===0?(j(),z("div",dk,[c[3]||(c[3]=E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),c[4]||(c[4]=E("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Nenhum dia no itinerário",-1)),c[5]||(c[5]=E("p",{class:"text-gray-500 mb-4"},"Comece adicionando o primeiro dia ao roteiro da viagem.",-1)),ge(d,{to:"/admin/itinerario/novo",class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},{default:We(()=>c[2]||(c[2]=[ht(" Adicionar Primeiro Dia ")])),_:1})])):(j(),z("div",fk,[E("ul",hk,[(j(!0),z(De,null,Xe(e.value,f=>(j(),z("li",{key:f.id,class:"hover:bg-gray-50"},[ge(d,{to:`/admin/itinerario/${f.id}`,class:"block p-4"},{default:We(()=>[E("div",pk,[E("div",null,[E("h3",mk,we(f.title),1),E("p",gk,[E("span",vk,we(o(f.date)),1),f.schedule?(j(),z("span",yk,we(a(f.schedule))+" atividades ",1)):le("",!0)])]),c[6]||(c[6]=E("div",{class:"text-gray-400"},[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))])]),_:2},1032,["to"])]))),128))])]))])]),_:1},8,["alert"])}}};function Cn(t){return t==null}function _k(t,e,n){const{object:r,valueProp:s,mode:i}=dn(t),o=So().proxy,a=n.iv,u=(f,p=!0)=>{a.value=d(f);const m=c(f);e.emit("change",m,o),p&&(e.emit("input",m),e.emit("update:modelValue",m))},c=f=>r.value||Cn(f)?f:Array.isArray(f)?f.map(p=>p[s.value]):f[s.value],d=f=>Cn(f)?i.value==="single"?{}:[]:f;return{update:u}}function at(t){return tb(()=>({get:t,set:()=>{}}))}function wk(t,e){const{value:n,modelValue:r,mode:s,valueProp:i}=dn(t),o=de(s.value!=="single"?[]:{}),a=at(()=>r.value!==void 0?r.value:n.value),u=Ae(()=>s.value==="single"?o.value[i.value]:o.value.map(d=>d[i.value])),c=at(()=>s.value!=="single"?o.value.map(d=>d[i.value]).join(","):o.value[i.value]);return{iv:o,internalValue:o,ev:a,externalValue:a,textValue:c,plainValue:u}}function Ek(t,e,n){const{regex:r}=dn(t),s=So().proxy,i=n.isOpen,o=n.open,a=de(null),u=()=>{a.value=""},c=p=>{a.value=p.target.value},d=p=>{if(r.value){let m=r.value;typeof m=="string"&&(m=new RegExp(m)),p.key.match(m)||p.preventDefault()}},f=p=>{if(r.value){let y=(p.clipboardData||window.clipboardData).getData("Text"),S=r.value;typeof S=="string"&&(S=new RegExp(S)),y.split("").every(A=>!!A.match(S))||p.preventDefault()}e.emit("paste",p,s)};return At(a,p=>{!i.value&&p&&o(),e.emit("search-change",p,s)}),{search:a,clearSearch:u,handleSearchInput:c,handleKeypress:d,handlePaste:f}}function Tk(t,e,n){const{groupSelect:r,mode:s,groups:i,disabledProp:o}=dn(t),a=de(null),u=d=>{d===void 0||d!==null&&d[o.value]||i.value&&d&&d.group&&(s.value==="single"||!r.value)||(a.value=d)};return{pointer:a,setPointer:u,clearPointer:()=>{u(null)}}}function Tu(t,e=!0){return e?String(t).toLowerCase().trim():String(t).toLowerCase().normalize("NFD").trim().replace(/æ/g,"ae").replace(/œ/g,"oe").replace(/ø/g,"o").replace(new RegExp("\\p{Diacritic}","gu"),"")}function Sk(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ik(t,e){if(t.length!==e.length)return!1;const n=e.slice().sort();return t.slice().sort().every(function(r,s){return r===n[s]})}const Wy=(t,e)=>{if(t===e)return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let s of n)if(!r.includes(s)||!Wy(t[s],e[s]))return!1;return!0};function Ak(t,e,n){const{options:r,mode:s,trackBy:i,limit:o,hideSelected:a,createTag:u,createOption:c,label:d,appendNewTag:f,appendNewOption:p,multipleLabel:m,object:y,loading:S,delay:A,resolveOnLoad:C,minChars:b,filterResults:v,clearOnSearch:x,clearOnSelect:V,valueProp:M,allowAbsent:T,groupLabel:w,canDeselect:_,max:I,strict:k,closeOnSelect:O,closeOnDeselect:R,groups:ae,reverse:ye,infinite:Z,groupOptions:se,groupHideEmpty:he,groupSelect:_e,onCreate:Fe,disabledProp:Pe,searchStart:ke,searchFilter:Be}=dn(t),je=So().proxy,Ee=n.iv,Y=n.ev,F=n.search,te=n.clearSearch,ne=n.update,ue=n.pointer,Ne=n.setPointer,D=n.clearPointer,L=n.focus,$=n.deactivate,q=n.close,G=n.localize,H=de([]),re=de([]),J=de(!1),X=de(null),K=de(Z.value&&o.value===-1?10:o.value),be=Ae({get:()=>re.value,set:N=>re.value=N}),oe=at(()=>u.value||c.value||!1),fe=at(()=>f.value!==void 0?f.value:p.value!==void 0?p.value:!0),pe=Ae(()=>{if(ae.value){let N=Me.value||[],ee=[];return N.forEach($e=>{Zr($e[se.value]).forEach(et=>{ee.push(Object.assign({},et,$e[Pe.value]?{[Pe.value]:!0}:{}))})}),ee}else{let N=Zr(re.value||[]);return H.value.length&&(N=N.concat(H.value)),N}}),me=Ae(()=>{let N=pe.value;return ye.value&&(N=N.reverse()),rt.value.length&&(N=rt.value.concat(N)),Cs(N)}),Se=Ae(()=>{let N=me.value;return K.value>0&&(N=N.slice(0,K.value)),N}),Me=Ae(()=>{if(!ae.value)return[];let N=[],ee=re.value||[];return H.value.length&&N.push({[w.value]:" ",[se.value]:[...H.value],__CREATE__:!0}),N.concat(ee)}),Et=Ae(()=>{let N=[...Me.value].map(ee=>({...ee}));return rt.value.length&&(N[0]&&N[0].__CREATE__?N[0][se.value]=[...rt.value,...N[0][se.value]]:N=[{[w.value]:" ",[se.value]:[...rt.value],__CREATE__:!0}].concat(N)),N}),dt=Ae(()=>{if(!ae.value)return[];let N=Et.value;return xs((N||[]).map((ee,$e)=>{const et=Zr(ee[se.value]);return{...ee,index:$e,group:!0,[se.value]:Cs(et,!1).map(In=>Object.assign({},In,ee[Pe.value]?{[Pe.value]:!0}:{})),__VISIBLE__:Cs(et).map(In=>Object.assign({},In,ee[Pe.value]?{[Pe.value]:!0}:{}))}}))}),Mt=Ae(()=>{switch(s.value){case"single":return!Cn(Ee.value[M.value]);case"multiple":case"tags":return!Cn(Ee.value)&&Ee.value.length>0}}),Tt=Ae(()=>m.value!==void 0?m.value(Ee.value,je):Ee.value&&Ee.value.length>1?`${Ee.value.length} options selected`:"1 option selected"),Tn=at(()=>!pe.value.length&&!J.value&&!rt.value.length),Qr=at(()=>pe.value.length>0&&Se.value.length==0&&(F.value&&ae.value||!ae.value)),rt=Ae(()=>oe.value===!1||!F.value?[]:pr(F.value)!==-1?[]:[{[M.value]:F.value,[pt.value[0]]:F.value,[d.value]:F.value,__CREATE__:!0}]),pt=Ae(()=>i.value?Array.isArray(i.value)?i.value:[i.value]:[d.value]),Ts=at(()=>{switch(s.value){case"single":return null;case"multiple":case"tags":return[]}}),wi=at(()=>S.value||J.value),qn=N=>{switch(typeof N!="object"&&(N=gn(N)),s.value){case"single":ne(N);break;case"multiple":case"tags":ne(Ee.value.concat(N));break}e.emit("select",fr(N),N,je)},Hn=N=>{switch(typeof N!="object"&&(N=gn(N)),s.value){case"single":Sn();break;case"tags":case"multiple":ne(Array.isArray(N)?Ee.value.filter(ee=>N.map($e=>$e[M.value]).indexOf(ee[M.value])===-1):Ee.value.filter(ee=>ee[M.value]!=N[M.value]));break}e.emit("deselect",fr(N),N,je)},fr=N=>y.value?N:N[M.value],Ss=N=>{Hn(N)},Ei=(N,ee)=>{if(ee.button!==0){ee.preventDefault();return}Ss(N)},Sn=()=>{ne(Ts.value),e.emit("clear",je)},fn=N=>{if(N.group!==void 0)return s.value==="single"?!1:Ml(N[se.value])&&N[se.value].length;switch(s.value){case"single":return!Cn(Ee.value)&&(Ee.value[M.value]==N[M.value]||typeof Ee.value[M.value]=="object"&&typeof N[M.value]=="object"&&Wy(Ee.value[M.value],N[M.value]));case"tags":case"multiple":return!Cn(Ee.value)&&Ee.value.map(ee=>ee[M.value]).indexOf(N[M.value])!==-1}},hr=N=>N[Pe.value]===!0,Is=()=>I===void 0||I.value===-1||!Mt.value&&I.value>0?!1:Ee.value.length>=I.value,Yr=N=>{if(!hr(N)){if(Fe.value&&!fn(N)&&N.__CREATE__&&(N={...N},delete N.__CREATE__,N=Fe.value(N,je),N instanceof Promise)){J.value=!0,N.then(ee=>{J.value=!1,Ti(ee)});return}Ti(N)}},Ti=N=>{switch(N.__CREATE__&&(N={...N},delete N.__CREATE__),s.value){case"single":if(N&&fn(N)){_.value&&Hn(N),R.value&&(D(),q());return}N&&As(N),V.value&&te(),O.value&&(D(),q()),N&&qn(N);break;case"multiple":if(N&&fn(N)){Hn(N),R.value&&(D(),q());return}if(Is()){e.emit("max",je);return}N&&(As(N),qn(N)),V.value&&te(),a.value&&D(),O.value&&q();break;case"tags":if(N&&fn(N)){Hn(N),R.value&&(D(),q());return}if(Is()){e.emit("max",je);return}N&&As(N),V.value&&te(),N&&qn(N),a.value&&D(),O.value&&q();break}O.value||L()},Ct=N=>{if(!(hr(N)||s.value==="single"||!_e.value)){switch(s.value){case"multiple":case"tags":Jr(N[se.value])?Hn(N[se.value]):qn(N[se.value].filter(ee=>Ee.value.map($e=>$e[M.value]).indexOf(ee[M.value])===-1).filter(ee=>!ee[Pe.value]).filter((ee,$e)=>Ee.value.length+1+$e<=I.value||I.value===-1)),a.value&&ue.value&&Ne(dt.value.filter(ee=>!ee[Pe.value])[ue.value.index]);break}O.value&&$()}},As=N=>{gn(N[M.value])===void 0&&oe.value&&(e.emit("tag",N[M.value],je),e.emit("option",N[M.value],je),e.emit("create",N[M.value],je),fe.value&&Nl(N),te())},Xr=()=>{s.value!=="single"&&qn(Se.value.filter(N=>!N.disabled&&!fn(N)))},Jr=N=>N.find(ee=>!fn(ee)&&!ee[Pe.value])===void 0,Ml=N=>N.find(ee=>!fn(ee))===void 0,gn=N=>pe.value[pe.value.map(ee=>String(ee[M.value])).indexOf(String(N))],pr=N=>pe.value.findIndex(ee=>pt.value.some($e=>(parseInt(ee[$e])==ee[$e]?parseInt(ee[$e]):ee[$e])===(parseInt(N)==N?parseInt(N):N))),Ll=N=>["tags","multiple"].indexOf(s.value)!==-1&&a.value&&fn(N),Nl=N=>{H.value.push(N)},xs=N=>he.value?N.filter(ee=>F.value?ee.__VISIBLE__.length:ee[se.value].length):N.filter(ee=>F.value?ee.__VISIBLE__.length:!0),Cs=(N,ee=!0)=>{let $e=N;if(F.value&&v.value){let et=Be.value;et||(et=(In,ks,Os)=>pt.value.some(Wn=>{let Ds=Tu(G(In[Wn]),k.value);return ke.value?Ds.startsWith(Tu(ks,k.value)):Ds.indexOf(Tu(ks,k.value))!==-1})),$e=$e.filter(In=>et(In,F.value,je))}return a.value&&ee&&($e=$e.filter(et=>!Ll(et))),$e},Zr=N=>{let ee=N;return Sk(ee)&&(ee=Object.keys(ee).map($e=>{let et=ee[$e];return{[M.value]:$e,[pt.value[0]]:et,[d.value]:et}})),ee&&Array.isArray(ee)?ee=ee.map($e=>typeof $e=="object"?$e:{[M.value]:$e,[pt.value[0]]:$e,[d.value]:$e}):ee=[],ee},Gn=()=>{Cn(Y.value)||(Ee.value=mr(Y.value))},en=N=>(J.value=!0,new Promise((ee,$e)=>{r.value(F.value,je).then(et=>{re.value=et||[],typeof N=="function"&&N(et),J.value=!1}).catch(et=>{console.error(et),re.value=[],J.value=!1}).finally(()=>{ee()})})),Ps=()=>{if(Mt.value)if(s.value==="single"){let N=gn(Ee.value[M.value]);if(N!==void 0){let ee=N[d.value];Ee.value[d.value]=ee,y.value&&(Y.value[d.value]=ee)}}else Ee.value.forEach((N,ee)=>{let $e=gn(Ee.value[ee][M.value]);if($e!==void 0){let et=$e[d.value];Ee.value[ee][d.value]=et,y.value&&(Y.value[ee][d.value]=et)}})},Do=N=>{en(N)},mr=N=>Cn(N)?s.value==="single"?{}:[]:y.value?N:s.value==="single"?gn(N)||(T.value?{[d.value]:N,[M.value]:N,[pt.value[0]]:N}:{}):N.filter(ee=>!!gn(ee)||T.value).map(ee=>gn(ee)||{[d.value]:ee,[M.value]:ee,[pt.value[0]]:ee}),Rs=()=>{X.value=At(F,N=>{N.length<b.value||!N&&b.value!==0||(J.value=!0,x.value&&(re.value=[]),setTimeout(()=>{N==F.value&&r.value(F.value,je).then(ee=>{(N==F.value||!F.value)&&(re.value=ee,ue.value=Se.value.filter($e=>$e[Pe.value]!==!0)[0]||null,J.value=!1)}).catch(ee=>{console.error(ee)})},A.value))},{flush:"sync"})};if(s.value!=="single"&&!Cn(Y.value)&&!Array.isArray(Y.value))throw new Error(`v-model must be an array when using "${s.value}" mode`);return r&&typeof r.value=="function"?C.value?en(Gn):y.value==!0&&Gn():(re.value=r.value,Gn()),A.value>-1&&Rs(),At(A,(N,ee)=>{X.value&&X.value(),N>=0&&Rs()}),At(Y,N=>{if(Cn(N)){ne(mr(N),!1);return}switch(s.value){case"single":(y.value?N[M.value]!=Ee.value[M.value]:N!=Ee.value[M.value])&&ne(mr(N),!1);break;case"multiple":case"tags":Ik(y.value?N.map(ee=>ee[M.value]):N,Ee.value.map(ee=>ee[M.value]))||ne(mr(N),!1);break}},{deep:!0}),At(r,(N,ee)=>{typeof t.options=="function"?C.value&&(!ee||N&&N.toString()!==ee.toString())&&en():(re.value=t.options,Object.keys(Ee.value).length||Gn(),Ps())}),At(d,Ps),At(o,(N,ee)=>{K.value=Z.value&&N===-1?10:N}),{resolvedOptions:be,pfo:me,fo:Se,filteredOptions:Se,hasSelected:Mt,multipleLabelText:Tt,eo:pe,extendedOptions:pe,eg:Me,extendedGroups:Me,fg:dt,filteredGroups:dt,noOptions:Tn,noResults:Qr,resolving:J,busy:wi,offset:K,select:qn,deselect:Hn,remove:Ss,selectAll:Xr,clear:Sn,isSelected:fn,isDisabled:hr,isMax:Is,getOption:gn,handleOptionClick:Yr,handleGroupClick:Ct,handleTagRemove:Ei,refreshOptions:Do,resolveOptions:en,refreshLabels:Ps}}function xk(t,e,n){const{valueProp:r,showOptions:s,searchable:i,groupLabel:o,groups:a,mode:u,groupSelect:c,disabledProp:d,groupOptions:f}=dn(t),p=n.fo,m=n.fg,y=n.handleOptionClick,S=n.handleGroupClick,A=n.search,C=n.pointer,b=n.setPointer,v=n.clearPointer,x=n.multiselect,V=n.isOpen,M=Ae(()=>p.value.filter(Y=>!Y[d.value])),T=Ae(()=>m.value.filter(Y=>!Y[d.value])),w=at(()=>u.value!=="single"&&c.value),_=at(()=>C.value&&C.value.group),I=Ae(()=>je(C.value)),k=Ae(()=>{const Y=_.value?C.value:je(C.value),F=T.value.map(ne=>ne[o.value]).indexOf(Y[o.value]);let te=T.value[F-1];return te===void 0&&(te=R.value),te}),O=Ae(()=>{let Y=T.value.map(F=>F.label).indexOf(_.value?C.value[o.value]:je(C.value)[o.value])+1;return T.value.length<=Y&&(Y=0),T.value[Y]}),R=Ae(()=>[...T.value].slice(-1)[0]),ae=Ae(()=>C.value.__VISIBLE__.filter(Y=>!Y[d.value])[0]),ye=Ae(()=>{const Y=I.value.__VISIBLE__.filter(F=>!F[d.value]);return Y[Y.map(F=>F[r.value]).indexOf(C.value[r.value])-1]}),Z=Ae(()=>{const Y=je(C.value).__VISIBLE__.filter(F=>!F[d.value]);return Y[Y.map(F=>F[r.value]).indexOf(C.value[r.value])+1]}),se=Ae(()=>[...k.value.__VISIBLE__.filter(Y=>!Y[d.value])].slice(-1)[0]),he=Ae(()=>[...R.value.__VISIBLE__.filter(Y=>!Y[d.value])].slice(-1)[0]),_e=Y=>C.value&&(!Y.group&&C.value[r.value]===Y[r.value]||Y.group!==void 0&&C.value[o.value]===Y[o.value])?!0:void 0,Fe=()=>{b(M.value[0]||null)},Pe=()=>{!C.value||C.value[d.value]===!0||(_.value?S(C.value):y(C.value))},ke=()=>{if(C.value===null)b((a.value&&w.value?T.value[0].__CREATE__?M.value[0]:T.value[0]:M.value[0])||null);else if(a.value&&w.value){let Y=_.value?ae.value:Z.value;Y===void 0&&(Y=O.value,Y.__CREATE__&&(Y=Y[f.value][0])),b(Y||null)}else{let Y=M.value.map(F=>F[r.value]).indexOf(C.value[r.value])+1;M.value.length<=Y&&(Y=0),b(M.value[Y]||null)}Ir(()=>{Ee()})},Be=()=>{if(C.value===null){let Y=M.value[M.value.length-1];a.value&&w.value&&(Y=he.value,Y===void 0&&(Y=R.value)),b(Y||null)}else if(a.value&&w.value){let Y=_.value?se.value:ye.value;Y===void 0&&(Y=_.value?k.value:I.value,Y.__CREATE__&&(Y=se.value,Y===void 0&&(Y=k.value))),b(Y||null)}else{let Y=M.value.map(F=>F[r.value]).indexOf(C.value[r.value])-1;Y<0&&(Y=M.value.length-1),b(M.value[Y]||null)}Ir(()=>{Ee()})},je=Y=>T.value.find(F=>F.__VISIBLE__.map(te=>te[r.value]).indexOf(Y[r.value])!==-1),Ee=()=>{let Y=x.value.querySelector("[data-pointed]");if(!Y)return;let F=Y.parentElement.parentElement;a.value&&(F=_.value?Y.parentElement.parentElement.parentElement:Y.parentElement.parentElement.parentElement.parentElement),Y.offsetTop+Y.offsetHeight>F.clientHeight+F.scrollTop&&(F.scrollTop=Y.offsetTop+Y.offsetHeight-F.clientHeight),Y.offsetTop<F.scrollTop&&(F.scrollTop=Y.offsetTop)};return At(A,Y=>{i.value&&(Y.length&&s.value?Fe():v())}),At(V,Y=>{if(Y&&x&&x.value){let F=x.value.querySelectorAll("[data-selected]")[0];if(!F)return;let te=F.parentElement.parentElement;Ir(()=>{te.scrollTop=F.offsetTop})}}),{pointer:C,canPointGroups:w,isPointed:_e,setPointerFirst:Fe,selectPointer:Pe,forwardPointer:ke,backwardPointer:Be}}function cn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function vs(t){var e=cn(t).Element;return t instanceof e||t instanceof Element}function pn(t){var e=cn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Ad(t){if(typeof ShadowRoot>"u")return!1;var e=cn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var cs=Math.max,Wa=Math.min,ci=Math.round;function dc(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ky(){return!/^((?!chrome|android).)*safari/i.test(dc())}function di(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&pn(t)&&(s=t.offsetWidth>0&&ci(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&ci(r.height)/t.offsetHeight||1);var o=vs(t)?cn(t):window,a=o.visualViewport,u=!Ky()&&n,c=(r.left+(u&&a?a.offsetLeft:0))/s,d=(r.top+(u&&a?a.offsetTop:0))/i,f=r.width/s,p=r.height/i;return{width:f,height:p,top:d,right:c+f,bottom:d+p,left:c,x:c,y:d}}function xd(t){var e=cn(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Ck(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Pk(t){return t===cn(t)||!pn(t)?xd(t):Ck(t)}function jn(t){return t?(t.nodeName||"").toLowerCase():null}function Kr(t){return((vs(t)?t.ownerDocument:t.document)||window.document).documentElement}function Cd(t){return di(Kr(t)).left+xd(t).scrollLeft}function lr(t){return cn(t).getComputedStyle(t)}function Pd(t){var e=lr(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function Rk(t){var e=t.getBoundingClientRect(),n=ci(e.width)/t.offsetWidth||1,r=ci(e.height)/t.offsetHeight||1;return n!==1||r!==1}function kk(t,e,n){n===void 0&&(n=!1);var r=pn(e),s=pn(e)&&Rk(e),i=Kr(e),o=di(t,s,n),a={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((jn(e)!=="body"||Pd(i))&&(a=Pk(e)),pn(e)?(u=di(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):i&&(u.x=Cd(i))),{x:o.left+a.scrollLeft-u.x,y:o.top+a.scrollTop-u.y,width:o.width,height:o.height}}function Qy(t){var e=di(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function kl(t){return jn(t)==="html"?t:t.assignedSlot||t.parentNode||(Ad(t)?t.host:null)||Kr(t)}function Yy(t){return["html","body","#document"].indexOf(jn(t))>=0?t.ownerDocument.body:pn(t)&&Pd(t)?t:Yy(kl(t))}function no(t,e){var n;e===void 0&&(e=[]);var r=Yy(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=cn(r),o=s?[i].concat(i.visualViewport||[],Pd(r)?r:[]):r,a=e.concat(o);return s?a:a.concat(no(kl(o)))}function Ok(t){return["table","td","th"].indexOf(jn(t))>=0}function Op(t){return!pn(t)||lr(t).position==="fixed"?null:t.offsetParent}function Dk(t){var e=/firefox/i.test(dc()),n=/Trident/i.test(dc());if(n&&pn(t)){var r=lr(t);if(r.position==="fixed")return null}var s=kl(t);for(Ad(s)&&(s=s.host);pn(s)&&["html","body"].indexOf(jn(s))<0;){var i=lr(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function Ol(t){for(var e=cn(t),n=Op(t);n&&Ok(n)&&lr(n).position==="static";)n=Op(n);return n&&(jn(n)==="html"||jn(n)==="body"&&lr(n).position==="static")?e:n||Dk(t)||e}var wn="top",Un="bottom",Br="right",rr="left",Rd="auto",Dl=[wn,Un,Br,rr],fi="start",_o="end",Vk="clippingParents",Xy="viewport",Ni="popper",Mk="reference",Dp=Dl.reduce(function(t,e){return t.concat([e+"-"+fi,e+"-"+_o])},[]),Lk=[].concat(Dl,[Rd]).reduce(function(t,e){return t.concat([e,e+"-"+fi,e+"-"+_o])},[]),Nk="beforeRead",$k="read",Fk="afterRead",Bk="beforeMain",jk="main",Uk="afterMain",zk="beforeWrite",qk="write",Hk="afterWrite",Gk=[Nk,$k,Fk,Bk,jk,Uk,zk,qk,Hk];function Wk(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var u=e.get(a);u&&s(u)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function Kk(t){var e=Wk(t);return Gk.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function Qk(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Yk(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}function Xk(t,e){var n=cn(t),r=Kr(t),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,a=0,u=0;if(s){i=s.width,o=s.height;var c=Ky();(c||!c&&e==="fixed")&&(a=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:a+Cd(t),y:u}}function Jk(t){var e,n=Kr(t),r=xd(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=cs(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=cs(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+Cd(t),u=-r.scrollTop;return lr(s||n).direction==="rtl"&&(a+=cs(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:u}}function Zk(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Ad(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function fc(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function eO(t,e){var n=di(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Vp(t,e,n){return e===Xy?fc(Xk(t,n)):vs(e)?eO(e,n):fc(Jk(Kr(t)))}function tO(t){var e=no(kl(t)),n=["absolute","fixed"].indexOf(lr(t).position)>=0,r=n&&pn(t)?Ol(t):t;return vs(r)?e.filter(function(s){return vs(s)&&Zk(s,r)&&jn(s)!=="body"}):[]}function nO(t,e,n,r){var s=e==="clippingParents"?tO(t):[].concat(e),i=[].concat(s,[n]),o=i[0],a=i.reduce(function(u,c){var d=Vp(t,c,r);return u.top=cs(d.top,u.top),u.right=Wa(d.right,u.right),u.bottom=Wa(d.bottom,u.bottom),u.left=cs(d.left,u.left),u},Vp(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function kr(t){return t.split("-")[0]}function hi(t){return t.split("-")[1]}function Jy(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Zy(t){var e=t.reference,n=t.element,r=t.placement,s=r?kr(r):null,i=r?hi(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,u;switch(s){case wn:u={x:o,y:e.y-n.height};break;case Un:u={x:o,y:e.y+e.height};break;case Br:u={x:e.x+e.width,y:a};break;case rr:u={x:e.x-n.width,y:a};break;default:u={x:e.x,y:e.y}}var c=s?Jy(s):null;if(c!=null){var d=c==="y"?"height":"width";switch(i){case fi:u[c]=u[c]-(e[d]/2-n[d]/2);break;case _o:u[c]=u[c]+(e[d]/2-n[d]/2);break}}return u}function e0(){return{top:0,right:0,bottom:0,left:0}}function rO(t){return Object.assign({},e0(),t)}function sO(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}function kd(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,o=i===void 0?t.strategy:i,a=n.boundary,u=a===void 0?Vk:a,c=n.rootBoundary,d=c===void 0?Xy:c,f=n.elementContext,p=f===void 0?Ni:f,m=n.altBoundary,y=m===void 0?!1:m,S=n.padding,A=S===void 0?0:S,C=rO(typeof A!="number"?A:sO(A,Dl)),b=p===Ni?Mk:Ni,v=t.rects.popper,x=t.elements[y?b:p],V=nO(vs(x)?x:x.contextElement||Kr(t.elements.popper),u,d,o),M=di(t.elements.reference),T=Zy({reference:M,element:v,placement:s}),w=fc(Object.assign({},v,T)),_=p===Ni?w:M,I={top:V.top-_.top+C.top,bottom:_.bottom-V.bottom+C.bottom,left:V.left-_.left+C.left,right:_.right-V.right+C.right},k=t.modifiersData.offset;if(p===Ni&&k){var O=k[s];Object.keys(I).forEach(function(R){var ae=[Br,Un].indexOf(R)>=0?1:-1,ye=[wn,Un].indexOf(R)>=0?"y":"x";I[R]+=O[ye]*ae})}return I}var Mp={placement:"bottom",modifiers:[],strategy:"absolute"};function Lp(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function iO(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?Mp:s;return function(a,u,c){c===void 0&&(c=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Mp,i),modifiersData:{},elements:{reference:a,popper:u},attributes:{},styles:{}},f=[],p=!1,m={state:d,setOptions:function(C){var b=typeof C=="function"?C(d.options):C;S(),d.options=Object.assign({},i,d.options,b),d.scrollParents={reference:vs(a)?no(a):a.contextElement?no(a.contextElement):[],popper:no(u)};var v=Kk(Yk([].concat(r,d.options.modifiers)));return d.orderedModifiers=v.filter(function(x){return x.enabled}),y(),m.update()},forceUpdate:function(){if(!p){var C=d.elements,b=C.reference,v=C.popper;if(Lp(b,v)){d.rects={reference:kk(b,Ol(v),d.options.strategy==="fixed"),popper:Qy(v)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(I){return d.modifiersData[I.name]=Object.assign({},I.data)});for(var x=0;x<d.orderedModifiers.length;x++){if(d.reset===!0){d.reset=!1,x=-1;continue}var V=d.orderedModifiers[x],M=V.fn,T=V.options,w=T===void 0?{}:T,_=V.name;typeof M=="function"&&(d=M({state:d,options:w,name:_,instance:m})||d)}}}},update:Qk(function(){return new Promise(function(A){m.forceUpdate(),A(d)})}),destroy:function(){S(),p=!0}};if(!Lp(a,u))return m;m.setOptions(c).then(function(A){!p&&c.onFirstUpdate&&c.onFirstUpdate(A)});function y(){d.orderedModifiers.forEach(function(A){var C=A.name,b=A.options,v=b===void 0?{}:b,x=A.effect;if(typeof x=="function"){var V=x({state:d,name:C,instance:m,options:v}),M=function(){};f.push(V||M)}})}function S(){f.forEach(function(A){return A()}),f=[]}return m}}var na={passive:!0};function oO(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,u=cn(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&c.forEach(function(d){d.addEventListener("scroll",n.update,na)}),a&&u.addEventListener("resize",n.update,na),function(){i&&c.forEach(function(d){d.removeEventListener("scroll",n.update,na)}),a&&u.removeEventListener("resize",n.update,na)}}var aO={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:oO,data:{}};function lO(t){var e=t.state,n=t.name;e.modifiersData[n]=Zy({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}var uO={name:"popperOffsets",enabled:!0,phase:"read",fn:lO,data:{}},cO={top:"auto",right:"auto",bottom:"auto",left:"auto"};function dO(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:ci(n*s)/s||0,y:ci(r*s)/s||0}}function Np(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,a=t.position,u=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,f=t.isFixed,p=o.x,m=p===void 0?0:p,y=o.y,S=y===void 0?0:y,A=typeof d=="function"?d({x:m,y:S}):{x:m,y:S};m=A.x,S=A.y;var C=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),v=rr,x=wn,V=window;if(c){var M=Ol(n),T="clientHeight",w="clientWidth";if(M===cn(n)&&(M=Kr(n),lr(M).position!=="static"&&a==="absolute"&&(T="scrollHeight",w="scrollWidth")),M=M,s===wn||(s===rr||s===Br)&&i===_o){x=Un;var _=f&&M===V&&V.visualViewport?V.visualViewport.height:M[T];S-=_-r.height,S*=u?1:-1}if(s===rr||(s===wn||s===Un)&&i===_o){v=Br;var I=f&&M===V&&V.visualViewport?V.visualViewport.width:M[w];m-=I-r.width,m*=u?1:-1}}var k=Object.assign({position:a},c&&cO),O=d===!0?dO({x:m,y:S},cn(n)):{x:m,y:S};if(m=O.x,S=O.y,u){var R;return Object.assign({},k,(R={},R[x]=b?"0":"",R[v]=C?"0":"",R.transform=(V.devicePixelRatio||1)<=1?"translate("+m+"px, "+S+"px)":"translate3d("+m+"px, "+S+"px, 0)",R))}return Object.assign({},k,(e={},e[x]=b?S+"px":"",e[v]=C?m+"px":"",e.transform="",e))}function fO(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,u=a===void 0?!0:a,c={placement:kr(e.placement),variation:hi(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Np(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Np(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var hO={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:fO,data:{}};function pO(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!pn(i)||!jn(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function mO(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(u,c){return u[c]="",u},{});!pn(s)||!jn(s)||(Object.assign(s.style,a),Object.keys(i).forEach(function(u){s.removeAttribute(u)}))})}}var gO={name:"applyStyles",enabled:!0,phase:"write",fn:pO,effect:mO,requires:["computeStyles"]},vO=[aO,uO,hO,gO],yO=iO({defaultModifiers:vO});function bO(t){return t==="x"?"y":"x"}function ga(t,e,n){return cs(t,Wa(e,n))}function _O(t,e,n){var r=ga(t,e,n);return r>n?n:r}function wO(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!1:o,u=n.boundary,c=n.rootBoundary,d=n.altBoundary,f=n.padding,p=n.tether,m=p===void 0?!0:p,y=n.tetherOffset,S=y===void 0?0:y,A=kd(e,{boundary:u,rootBoundary:c,padding:f,altBoundary:d}),C=kr(e.placement),b=hi(e.placement),v=!b,x=Jy(C),V=bO(x),M=e.modifiersData.popperOffsets,T=e.rects.reference,w=e.rects.popper,_=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,I=typeof _=="number"?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),k=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(M){if(i){var R,ae=x==="y"?wn:rr,ye=x==="y"?Un:Br,Z=x==="y"?"height":"width",se=M[x],he=se+A[ae],_e=se-A[ye],Fe=m?-w[Z]/2:0,Pe=b===fi?T[Z]:w[Z],ke=b===fi?-w[Z]:-T[Z],Be=e.elements.arrow,je=m&&Be?Qy(Be):{width:0,height:0},Ee=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:e0(),Y=Ee[ae],F=Ee[ye],te=ga(0,T[Z],je[Z]),ne=v?T[Z]/2-Fe-te-Y-I.mainAxis:Pe-te-Y-I.mainAxis,ue=v?-T[Z]/2+Fe+te+F+I.mainAxis:ke+te+F+I.mainAxis,Ne=e.elements.arrow&&Ol(e.elements.arrow),D=Ne?x==="y"?Ne.clientTop||0:Ne.clientLeft||0:0,L=(R=k==null?void 0:k[x])!=null?R:0,$=se+ne-L-D,q=se+ue-L,G=ga(m?Wa(he,$):he,se,m?cs(_e,q):_e);M[x]=G,O[x]=G-se}if(a){var H,re=x==="x"?wn:rr,J=x==="x"?Un:Br,X=M[V],K=V==="y"?"height":"width",be=X+A[re],oe=X-A[J],fe=[wn,rr].indexOf(C)!==-1,pe=(H=k==null?void 0:k[V])!=null?H:0,me=fe?be:X-T[K]-w[K]-pe+I.altAxis,Se=fe?X+T[K]+w[K]-pe-I.altAxis:oe,Me=m&&fe?_O(me,X,Se):ga(m?me:be,X,m?Se:oe);M[V]=Me,O[V]=Me-X}e.modifiersData[r]=O}}var EO={name:"preventOverflow",enabled:!0,phase:"main",fn:wO,requiresIfExists:["offset"]},TO={left:"right",right:"left",bottom:"top",top:"bottom"};function va(t){return t.replace(/left|right|bottom|top/g,function(e){return TO[e]})}var SO={start:"end",end:"start"};function $p(t){return t.replace(/start|end/g,function(e){return SO[e]})}function IO(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,u=n.allowedAutoPlacements,c=u===void 0?Lk:u,d=hi(r),f=d?a?Dp:Dp.filter(function(y){return hi(y)===d}):Dl,p=f.filter(function(y){return c.indexOf(y)>=0});p.length===0&&(p=f);var m=p.reduce(function(y,S){return y[S]=kd(t,{placement:S,boundary:s,rootBoundary:i,padding:o})[kr(S)],y},{});return Object.keys(m).sort(function(y,S){return m[y]-m[S]})}function AO(t){if(kr(t)===Rd)return[];var e=va(t);return[$p(t),e,$p(e)]}function xO(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!0:o,u=n.fallbackPlacements,c=n.padding,d=n.boundary,f=n.rootBoundary,p=n.altBoundary,m=n.flipVariations,y=m===void 0?!0:m,S=n.allowedAutoPlacements,A=e.options.placement,C=kr(A),b=C===A,v=u||(b||!y?[va(A)]:AO(A)),x=[A].concat(v).reduce(function(je,Ee){return je.concat(kr(Ee)===Rd?IO(e,{placement:Ee,boundary:d,rootBoundary:f,padding:c,flipVariations:y,allowedAutoPlacements:S}):Ee)},[]),V=e.rects.reference,M=e.rects.popper,T=new Map,w=!0,_=x[0],I=0;I<x.length;I++){var k=x[I],O=kr(k),R=hi(k)===fi,ae=[wn,Un].indexOf(O)>=0,ye=ae?"width":"height",Z=kd(e,{placement:k,boundary:d,rootBoundary:f,altBoundary:p,padding:c}),se=ae?R?Br:rr:R?Un:wn;V[ye]>M[ye]&&(se=va(se));var he=va(se),_e=[];if(i&&_e.push(Z[O]<=0),a&&_e.push(Z[se]<=0,Z[he]<=0),_e.every(function(je){return je})){_=k,w=!1;break}T.set(k,_e)}if(w)for(var Fe=y?3:1,Pe=function(Ee){var Y=x.find(function(F){var te=T.get(F);if(te)return te.slice(0,Ee).every(function(ne){return ne})});if(Y)return _=Y,"break"},ke=Fe;ke>0;ke--){var Be=Pe(ke);if(Be==="break")break}e.placement!==_&&(e.modifiersData[r]._skip=!0,e.placement=_,e.reset=!0)}}var CO={name:"flip",enabled:!0,phase:"main",fn:xO,requiresIfExists:["offset"],data:{_skip:!1}};function PO(t,e,n){const{disabled:r,appendTo:s,appendToBody:i,openDirection:o}=dn(t),a=So().proxy,u=n.multiselect,c=n.dropdown,d=de(!1),f=de(null),p=de(null),m=at(()=>s.value||i.value),y=at(()=>o.value==="top"&&p.value==="bottom"||o.value==="bottom"&&p.value!=="top"?"bottom":"top"),S=()=>{d.value||r.value||(d.value=!0,e.emit("open",a),m.value&&Ir(()=>{C()}))},A=()=>{d.value&&(d.value=!1,e.emit("close",a))},C=()=>{if(!f.value)return;let v=parseInt(window.getComputedStyle(c.value).borderTopWidth.replace("px","")),x=parseInt(window.getComputedStyle(c.value).borderBottomWidth.replace("px",""));f.value.setOptions(V=>({...V,modifiers:[...V.modifiers,{name:"offset",options:{offset:[0,(y.value==="top"?v:x)*-1]}}]})),f.value.update()},b=v=>{for(;v&&v!==document.body;){if(getComputedStyle(v).position==="fixed")return!0;v=v.parentElement}return!1};return vt(()=>{m.value&&(f.value=yO(u.value,c.value,{strategy:b(u.value)?"fixed":void 0,placement:o.value,modifiers:[EO,CO,{name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:v})=>{v.styles.popper.width=`${v.rects.reference.width}px`},effect:({state:v})=>{v.elements.popper.style.width=`${v.elements.reference.offsetWidth}px`}},{name:"toggleClass",enabled:!0,phase:"write",fn({state:v}){p.value=v.placement}}]}))}),To(()=>{!m.value||!f.value||(f.value.destroy(),f.value=null)}),{popper:f,isOpen:d,open:S,close:A,placement:y,updatePopper:C}}function RO(t,e,n){const{searchable:r,disabled:s,clearOnBlur:i}=dn(t),o=n.input,a=n.open,u=n.close,c=n.clearSearch,d=n.isOpen,f=n.wrapper,p=n.tags,m=de(!1),y=de(!1),S=at(()=>r.value||s.value?-1:0),A=()=>{r.value&&o.value.blur(),f.value.blur()},C=()=>{r.value&&!s.value&&o.value.focus()},b=(w=!0)=>{s.value||(m.value=!0,w&&a())},v=()=>{m.value=!1,setTimeout(()=>{m.value||(u(),i.value&&c())},1)};return{tabindex:S,isActive:m,mouseClicked:y,blur:A,focus:C,activate:b,deactivate:v,handleFocusIn:w=>{w.target.closest("[data-tags]")&&w.target.nodeName!=="INPUT"||w.target.closest("[data-clear]")||b(y.value)},handleFocusOut:()=>{v()},handleCaretClick:()=>{v(),A()},handleMousedown:w=>{y.value=!0,d.value&&(w.target.isEqualNode(f.value)||w.target.isEqualNode(p.value))?setTimeout(()=>{v()},0):!d.value&&(document.activeElement.isEqualNode(f.value)||document.activeElement.isEqualNode(o.value))&&b(),setTimeout(()=>{y.value=!1},0)}}}function kO(t,e,n){const{mode:r,addTagOn:s,openDirection:i,searchable:o,showOptions:a,valueProp:u,groups:c,addOptionOn:d,createTag:f,createOption:p,reverse:m}=dn(t),y=So().proxy,S=n.iv,A=n.update,C=n.deselect,b=n.search,v=n.setPointer,x=n.selectPointer,V=n.backwardPointer,M=n.forwardPointer,T=n.multiselect,w=n.wrapper,_=n.tags,I=n.isOpen,k=n.open,O=n.blur,R=n.fo,ae=at(()=>f.value||p.value||!1),ye=at(()=>s.value!==void 0?s.value:d.value!==void 0?d.value:["enter"]),Z=()=>{r.value==="tags"&&!a.value&&ae.value&&o.value&&!c.value&&v(R.value[R.value.map(_e=>_e[u.value]).indexOf(b.value)])};return{handleKeydown:_e=>{e.emit("keydown",_e,y);let Fe,Pe;switch(["ArrowLeft","ArrowRight","Enter"].indexOf(_e.key)!==-1&&r.value==="tags"&&(Fe=[...T.value.querySelectorAll("[data-tags] > *")].filter(ke=>ke!==_.value),Pe=Fe.findIndex(ke=>ke===document.activeElement)),_e.key){case"Backspace":if(r.value==="single"||o.value&&[null,""].indexOf(b.value)===-1||S.value.length===0)return;let ke=S.value.filter(Be=>!Be.disabled&&Be.remove!==!1);ke.length&&C(ke[ke.length-1]);break;case"Enter":if(_e.preventDefault(),_e.keyCode===229)return;if(Pe!==-1&&Pe!==void 0){A([...S.value].filter((Be,je)=>je!==Pe)),Pe===Fe.length-1&&(Fe.length-1?Fe[Fe.length-2].focus():o.value?_.value.querySelector("input").focus():w.value.focus());return}if(ye.value.indexOf("enter")===-1&&ae.value)return;Z(),x();break;case" ":if(!ae.value&&!o.value){_e.preventDefault(),Z(),x();return}if(!ae.value)return!1;if(ye.value.indexOf("space")===-1&&ae.value)return;_e.preventDefault(),Z(),x();break;case"Tab":case";":case",":if(ye.value.indexOf(_e.key.toLowerCase())===-1||!ae.value)return;Z(),x(),_e.preventDefault();break;case"Escape":O();break;case"ArrowUp":if(_e.preventDefault(),!a.value)return;I.value||k(),V();break;case"ArrowDown":if(_e.preventDefault(),!a.value)return;I.value||k(),M();break;case"ArrowLeft":if(o.value&&_.value&&_.value.querySelector("input").selectionStart||_e.shiftKey||r.value!=="tags"||!S.value||!S.value.length)return;_e.preventDefault(),Pe===-1?Fe[Fe.length-1].focus():Pe>0&&Fe[Pe-1].focus();break;case"ArrowRight":if(Pe===-1||_e.shiftKey||r.value!=="tags"||!S.value||!S.value.length)return;_e.preventDefault(),Fe.length>Pe+1?Fe[Pe+1].focus():o.value?_.value.querySelector("input").focus():o.value||w.value.focus();break}},handleKeyup:_e=>{e.emit("keyup",_e,y)},preparePointer:Z}}function OO(t,e,n){const{classes:r,disabled:s,showOptions:i,breakTags:o}=dn(t),a=n.isOpen,u=n.isPointed,c=n.isSelected,d=n.isDisabled,f=n.isActive,p=n.canPointGroups,m=n.resolving,y=n.fo,S=n.placement,A=at(()=>({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",wrapper:"multiselect-wrapper",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagWrapper:"multiselect-tag-wrapper",tagWrapperBreak:"multiselect-tag-wrapper-break",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",inifinite:"multiselect-inifite",inifiniteSpinner:"multiselect-inifite-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",assist:"multiselect-assistive-text",spacer:"multiselect-spacer",...r.value})),C=at(()=>!!(a.value&&i.value&&(!m.value||m.value&&y.value.length)));return{classList:Ae(()=>{const v=A.value;return{container:[v.container].concat(s.value?v.containerDisabled:[]).concat(C.value&&S.value==="top"?v.containerOpenTop:[]).concat(C.value&&S.value!=="top"?v.containerOpen:[]).concat(f.value?v.containerActive:[]),wrapper:v.wrapper,spacer:v.spacer,singleLabel:v.singleLabel,singleLabelText:v.singleLabelText,multipleLabel:v.multipleLabel,search:v.search,tags:v.tags,tag:[v.tag].concat(s.value?v.tagDisabled:[]),tagWrapper:[v.tagWrapper,o.value?v.tagWrapperBreak:null],tagDisabled:v.tagDisabled,tagRemove:v.tagRemove,tagRemoveIcon:v.tagRemoveIcon,tagsSearchWrapper:v.tagsSearchWrapper,tagsSearch:v.tagsSearch,tagsSearchCopy:v.tagsSearchCopy,placeholder:v.placeholder,caret:[v.caret].concat(a.value?v.caretOpen:[]),clear:v.clear,clearIcon:v.clearIcon,spinner:v.spinner,inifinite:v.inifinite,inifiniteSpinner:v.inifiniteSpinner,dropdown:[v.dropdown].concat(S.value==="top"?v.dropdownTop:[]).concat(!a.value||!i.value||!C.value?v.dropdownHidden:[]),options:[v.options].concat(S.value==="top"?v.optionsTop:[]),group:v.group,groupLabel:x=>{let V=[v.groupLabel];return u(x)?V.push(c(x)?v.groupLabelSelectedPointed:v.groupLabelPointed):c(x)&&p.value?V.push(d(x)?v.groupLabelSelectedDisabled:v.groupLabelSelected):d(x)&&V.push(v.groupLabelDisabled),p.value&&V.push(v.groupLabelPointable),V},groupOptions:v.groupOptions,option:(x,V)=>{let M=[v.option];return u(x)?M.push(c(x)?v.optionSelectedPointed:v.optionPointed):c(x)?M.push(d(x)?v.optionSelectedDisabled:v.optionSelected):(d(x)||V&&d(V))&&M.push(v.optionDisabled),M},noOptions:v.noOptions,noResults:v.noResults,assist:v.assist,fakeInput:v.fakeInput}}),showDropdown:C}}function DO(t,e,n){const{limit:r,infinite:s}=dn(t),i=n.isOpen,o=n.offset,a=n.search,u=n.pfo,c=n.eo,d=de(null),f=os(null),p=at(()=>o.value<u.value.length),m=S=>{const{isIntersecting:A,target:C}=S[0];if(A){const b=C.offsetParent,v=b.scrollTop;o.value+=r.value==-1?10:r.value,Ir(()=>{b.scrollTop=v})}},y=()=>{i.value&&o.value<u.value.length?d.value.observe(f.value):!i.value&&d.value&&d.value.disconnect()};return At(i,()=>{s.value&&y()}),At(a,()=>{s.value&&(o.value=r.value,y())},{flush:"post"}),At(c,()=>{s.value&&y()},{immediate:!1,flush:"post"}),vt(()=>{window&&window.IntersectionObserver&&(d.value=new IntersectionObserver(m))}),{hasMore:p,infiniteLoader:f}}function VO(t,e,n){const{placeholder:r,id:s,valueProp:i,label:o,mode:a,groupLabel:u,aria:c,searchable:d}=dn(t),f=n.pointer,p=n.iv,m=n.hasSelected,y=n.multipleLabelText,S=de(null),A=at(()=>`${s.value?s.value+"-":""}assist`),C=at(()=>`${s.value?s.value+"-":""}multiselect-options`),b=at(()=>{if(f.value){let O=s.value?`${s.value}-`:"";return O+=`${f.value.group?"multiselect-group":"multiselect-option"}-`,O+=f.value.group?f.value.index:f.value[i.value],O}}),v=at(()=>r.value),x=at(()=>a.value!=="single"),V=Ae(()=>a.value==="single"&&m.value?p.value[o.value]:a.value==="multiple"&&m.value?y.value:a.value==="tags"&&m.value?p.value.map(O=>O[o.value]).join(", "):""),M=Ae(()=>{let O={...c.value};return d.value&&(O["aria-labelledby"]=O["aria-labelledby"]?`${A.value} ${O["aria-labelledby"]}`:A.value,V.value&&O["aria-label"]&&(O["aria-label"]=`${V.value}, ${O["aria-label"]}`)),O}),T=O=>`${s.value?s.value+"-":""}multiselect-option-${O[i.value]}`,w=O=>`${s.value?s.value+"-":""}multiselect-group-${O.index}`,_=O=>`${O}`,I=O=>`${O}`,k=O=>`${O} ❎`;return vt(()=>{if(s.value&&document&&document.querySelector){let O=document.querySelector(`[for="${s.value}"]`);S.value=O?O.innerText:null}}),{arias:M,ariaLabel:V,ariaAssist:A,ariaControls:C,ariaPlaceholder:v,ariaMultiselectable:x,ariaActiveDescendant:b,ariaOptionId:T,ariaOptionLabel:_,ariaGroupId:w,ariaGroupLabel:I,ariaTagLabel:k}}function MO(t,e,n){const{locale:r,fallbackLocale:s}=dn(t);return{localize:o=>!o||typeof o!="object"?o:o&&o[r.value]?o[r.value]:o&&r.value&&o[r.value.toUpperCase()]?o[r.value.toUpperCase()]:o&&o[s.value]?o[s.value]:o&&s.value&&o[s.value.toUpperCase()]?o[s.value.toUpperCase()]:o&&Object.keys(o)[0]?o[Object.keys(o)[0]]:""}}function LO(t,e,n){const r=os(null),s=os(null),i=os(null),o=os(null),a=os(null);return{multiselect:r,wrapper:s,tags:i,input:o,dropdown:a}}function NO(t,e,n,r={}){return n.forEach(s=>{r={...r,...s(t,e,r)}}),r}var Od={name:"Multiselect",emits:["paste","open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear","keydown","keyup","max","create"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1,default:void 0},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:[String,Array],required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:[String,Object],required:!1,default:"The list is empty"},noResultsText:{type:[String,Object],required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1,default:void 0},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},closeOnDeselect:{type:Boolean,required:!1,default:!1},autocomplete:{type:String,required:!1,default:void 0},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"},attrs:{required:!1,type:Object,default:()=>({})},onCreate:{required:!1,type:Function,default:void 0},disabledProp:{type:String,required:!1,default:"disabled"},searchStart:{type:Boolean,required:!1,default:!1},reverse:{type:Boolean,required:!1,default:!1},regex:{type:[Object,String,RegExp],required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},infinite:{type:Boolean,required:!1,default:!1},aria:{required:!1,type:Object,default:()=>({})},clearOnBlur:{required:!1,type:Boolean,default:!0},locale:{required:!1,type:String,default:null},fallbackLocale:{required:!1,type:String,default:"en"},searchFilter:{required:!1,type:Function,default:null},allowAbsent:{required:!1,type:Boolean,default:!1},appendToBody:{required:!1,type:Boolean,default:!1},closeOnScroll:{required:!1,type:Boolean,default:!1},breakTags:{required:!1,type:Boolean,default:!1},appendTo:{required:!1,type:String,default:void 0}},setup(t,e){return NO(t,e,[LO,MO,wk,Tk,PO,Ek,_k,RO,Ak,DO,xk,kO,OO,VO])},beforeMount(){(this.$root.constructor&&this.$root.constructor.version&&this.$root.constructor.version.match(/^2\./)||this.vueVersionMs===2)&&(this.$options.components.Teleport||(this.$options.components.Teleport={render(){return this.$slots.default?this.$slots.default[0]:null}}))}};const $O=["id","dir"],FO=["tabindex","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable","role"],BO=["type","modelValue","value","autocomplete","id","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],jO=["onKeyup","aria-label"],UO=["onClick"],zO=["type","modelValue","value","id","autocomplete","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],qO=["innerHTML"],HO=["id"],GO=["id"],WO=["id","aria-label","aria-selected"],KO=["data-pointed","onMouseenter","onClick"],QO=["innerHTML"],YO=["aria-label"],XO=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],JO=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],ZO=["innerHTML"],eD=["innerHTML"],tD=["value"],nD=["name","value"],rD=["name","value"],sD=["id"];function iD(t,e,n,r,s,i){return j(),z("div",{ref:"multiselect",class:Oe(t.classList.container),id:n.searchable?void 0:n.id,dir:n.rtl?"rtl":void 0,onFocusin:e[12]||(e[12]=(...o)=>t.handleFocusIn&&t.handleFocusIn(...o)),onFocusout:e[13]||(e[13]=(...o)=>t.handleFocusOut&&t.handleFocusOut(...o)),onKeyup:e[14]||(e[14]=(...o)=>t.handleKeyup&&t.handleKeyup(...o)),onKeydown:e[15]||(e[15]=(...o)=>t.handleKeydown&&t.handleKeydown(...o))},[E("div",aa({class:t.classList.wrapper,onMousedown:e[9]||(e[9]=(...o)=>t.handleMousedown&&t.handleMousedown(...o)),ref:"wrapper",tabindex:t.tabindex,"aria-controls":n.searchable?void 0:t.ariaControls,"aria-placeholder":n.searchable?void 0:t.ariaPlaceholder,"aria-expanded":n.searchable?void 0:t.isOpen,"aria-activedescendant":n.searchable?void 0:t.ariaActiveDescendant,"aria-multiselectable":n.searchable?void 0:t.ariaMultiselectable,role:n.searchable?void 0:"combobox"},n.searchable?{}:t.arias),[le(" Search "),n.mode!=="tags"&&n.searchable&&!n.disabled?(j(),z("input",aa({key:0,type:n.inputType,modelValue:t.search,value:t.search,class:t.classList.search,autocomplete:n.autocomplete,id:n.searchable?n.id:void 0,onInput:e[0]||(e[0]=(...o)=>t.handleSearchInput&&t.handleSearchInput(...o)),onKeypress:e[1]||(e[1]=(...o)=>t.handleKeypress&&t.handleKeypress(...o)),onPaste:e[2]||(e[2]=Ar((...o)=>t.handlePaste&&t.handlePaste(...o),["stop"])),ref:"input","aria-controls":t.ariaControls,"aria-placeholder":t.ariaPlaceholder,"aria-expanded":t.isOpen,"aria-activedescendant":t.ariaActiveDescendant,"aria-multiselectable":t.ariaMultiselectable,role:"combobox"},{...n.attrs,...t.arias}),null,16,BO)):le("v-if",!0),le(" Tags (with search) "),n.mode=="tags"?(j(),z("div",{key:1,class:Oe(t.classList.tags),"data-tags":""},[(j(!0),z(De,null,Xe(t.iv,(o,a,u)=>Ft(t.$slots,"tag",{option:o,handleTagRemove:t.handleTagRemove,disabled:n.disabled},()=>[(j(),z("span",{class:Oe([t.classList.tag,o.disabled?t.classList.tagDisabled:null]),tabindex:"-1",onKeyup:Hf(c=>t.handleTagRemove(o,c),["enter"]),key:u,"aria-label":t.ariaTagLabel(t.localize(o[n.label]))},[E("span",{class:Oe(t.classList.tagWrapper)},we(t.localize(o[n.label])),3),!n.disabled&&!o.disabled?(j(),z("span",{key:0,class:Oe(t.classList.tagRemove),onClick:Ar(c=>t.handleTagRemove(o,c),["stop"])},[E("span",{class:Oe(t.classList.tagRemoveIcon)},null,2)],10,UO)):le("v-if",!0)],42,jO))])),256)),E("div",{class:Oe(t.classList.tagsSearchWrapper),ref:"tags"},[le(" Used for measuring search width "),E("span",{class:Oe(t.classList.tagsSearchCopy)},we(t.search),3),le(" Actual search input "),n.searchable&&!n.disabled?(j(),z("input",aa({key:0,type:n.inputType,modelValue:t.search,value:t.search,class:t.classList.tagsSearch,id:n.searchable?n.id:void 0,autocomplete:n.autocomplete,onInput:e[3]||(e[3]=(...o)=>t.handleSearchInput&&t.handleSearchInput(...o)),onKeypress:e[4]||(e[4]=(...o)=>t.handleKeypress&&t.handleKeypress(...o)),onPaste:e[5]||(e[5]=Ar((...o)=>t.handlePaste&&t.handlePaste(...o),["stop"])),ref:"input","aria-controls":t.ariaControls,"aria-placeholder":t.ariaPlaceholder,"aria-expanded":t.isOpen,"aria-activedescendant":t.ariaActiveDescendant,"aria-multiselectable":t.ariaMultiselectable,role:"combobox"},{...n.attrs,...t.arias}),null,16,zO)):le("v-if",!0)],2)],2)):le("v-if",!0),le(" Single label "),n.mode=="single"&&t.hasSelected&&!t.search&&t.iv?Ft(t.$slots,"singlelabel",{key:2,value:t.iv},()=>[E("div",{class:Oe(t.classList.singleLabel)},[E("span",{class:Oe(t.classList.singleLabelText)},we(t.localize(t.iv[n.label])),3)],2)]):le("v-if",!0),le(" Multiple label "),n.mode=="multiple"&&t.hasSelected&&!t.search?Ft(t.$slots,"multiplelabel",{key:3,values:t.iv},()=>[E("div",{class:Oe(t.classList.multipleLabel),innerHTML:t.multipleLabelText},null,10,qO)]):le("v-if",!0),le(" Placeholder "),n.placeholder&&!t.hasSelected&&!t.search?Ft(t.$slots,"placeholder",{key:4},()=>[E("div",{class:Oe(t.classList.placeholder),"aria-hidden":"true"},we(n.placeholder),3)]):le("v-if",!0),le(" Spinner "),n.loading||t.resolving?Ft(t.$slots,"spinner",{key:5},()=>[E("span",{class:Oe(t.classList.spinner),"aria-hidden":"true"},null,2)]):le("v-if",!0),le(" Clear "),t.hasSelected&&!n.disabled&&n.canClear&&!t.busy?Ft(t.$slots,"clear",{key:6,clear:t.clear},()=>[E("span",{"aria-hidden":"true",tabindex:"0",role:"button","data-clear":"","aria-roledescription":"❎",class:Oe(t.classList.clear),onClick:e[6]||(e[6]=(...o)=>t.clear&&t.clear(...o)),onKeyup:e[7]||(e[7]=Hf((...o)=>t.clear&&t.clear(...o),["enter"]))},[E("span",{class:Oe(t.classList.clearIcon)},null,2)],34)]):le("v-if",!0),le(" Caret "),n.caret&&n.showOptions?Ft(t.$slots,"caret",{key:7,handleCaretClick:t.handleCaretClick,isOpen:t.isOpen},()=>[E("span",{class:Oe(t.classList.caret),onClick:e[8]||(e[8]=(...o)=>t.handleCaretClick&&t.handleCaretClick(...o)),"aria-hidden":"true"},null,2)]):le("v-if",!0)],16,FO),le(" Options "),(j(),ot(hb,{to:n.appendTo||"body",disabled:!n.appendToBody&&!n.appendTo},[E("div",{id:n.id?`${n.id}-dropdown`:void 0,class:Oe(t.classList.dropdown),tabindex:"-1",ref:"dropdown",onFocusin:e[10]||(e[10]=(...o)=>t.handleFocusIn&&t.handleFocusIn(...o)),onFocusout:e[11]||(e[11]=(...o)=>t.handleFocusOut&&t.handleFocusOut(...o))},[Ft(t.$slots,"beforelist",{options:t.fo}),E("ul",{class:Oe(t.classList.options),id:t.ariaControls,role:"listbox"},[n.groups?(j(!0),z(De,{key:0},Xe(t.fg,(o,a,u)=>(j(),z("li",{class:Oe(t.classList.group),key:u,id:t.ariaGroupId(o),"aria-label":t.ariaGroupLabel(t.localize(o[n.groupLabel])),"aria-selected":t.isSelected(o),role:"option"},[o.__CREATE__?le("v-if",!0):(j(),z("div",{key:0,class:Oe(t.classList.groupLabel(o)),"data-pointed":t.isPointed(o),onMouseenter:c=>t.setPointer(o,a),onClick:c=>t.handleGroupClick(o)},[Ft(t.$slots,"grouplabel",{group:o,isSelected:t.isSelected,isPointed:t.isPointed},()=>[E("span",{innerHTML:t.localize(o[n.groupLabel])},null,8,QO)])],42,KO)),E("ul",{class:Oe(t.classList.groupOptions),"aria-label":t.ariaGroupLabel(t.localize(o[n.groupLabel])),role:"group"},[(j(!0),z(De,null,Xe(o.__VISIBLE__,(c,d,f)=>(j(),z("li",{class:Oe(t.classList.option(c,o)),"data-pointed":t.isPointed(c),"data-selected":t.isSelected(c)||void 0,key:f,onMouseenter:p=>t.setPointer(c),onClick:p=>t.handleOptionClick(c),id:t.ariaOptionId(c),"aria-selected":t.isSelected(c),"aria-label":t.ariaOptionLabel(t.localize(c[n.label])),role:"option"},[Ft(t.$slots,"option",{option:c,isSelected:t.isSelected,isPointed:t.isPointed,search:t.search},()=>[E("span",null,we(t.localize(c[n.label])),1)])],42,XO))),128))],10,YO)],10,WO))),128)):(j(!0),z(De,{key:1},Xe(t.fo,(o,a,u)=>(j(),z("li",{class:Oe(t.classList.option(o)),"data-pointed":t.isPointed(o),"data-selected":t.isSelected(o)||void 0,key:u,onMouseenter:c=>t.setPointer(o),onClick:c=>t.handleOptionClick(o),id:t.ariaOptionId(o),"aria-selected":t.isSelected(o),"aria-label":t.ariaOptionLabel(t.localize(o[n.label])),role:"option"},[Ft(t.$slots,"option",{option:o,isSelected:t.isSelected,isPointed:t.isPointed,search:t.search},()=>[E("span",null,we(t.localize(o[n.label])),1)])],42,JO))),128))],10,GO),t.noOptions?Ft(t.$slots,"nooptions",{key:0},()=>[E("div",{class:Oe(t.classList.noOptions),innerHTML:t.localize(n.noOptionsText)},null,10,ZO)]):le("v-if",!0),t.noResults?Ft(t.$slots,"noresults",{key:1},()=>[E("div",{class:Oe(t.classList.noResults),innerHTML:t.localize(n.noResultsText)},null,10,eD)]):le("v-if",!0),n.infinite&&t.hasMore?(j(),z("div",{key:2,class:Oe(t.classList.inifinite),ref:"infiniteLoader"},[Ft(t.$slots,"infinite",{},()=>[E("span",{class:Oe(t.classList.inifiniteSpinner)},null,2)])],2)):le("v-if",!0),Ft(t.$slots,"afterlist",{options:t.fo})],42,HO)],8,["to","disabled"])),le(" Hacky input element to show HTML5 required warning "),n.required?(j(),z("input",{key:0,class:Oe(t.classList.fakeInput),tabindex:"-1",value:t.textValue,required:""},null,10,tD)):le("v-if",!0),le(" Native input support "),n.nativeSupport?(j(),z(De,{key:1},[n.mode=="single"?(j(),z("input",{key:0,type:"hidden",name:n.name,value:t.plainValue!==void 0?t.plainValue:""},null,8,nD)):(j(!0),z(De,{key:1},Xe(t.plainValue,(o,a)=>(j(),z("input",{type:"hidden",name:`${n.name}[]`,value:o,key:a},null,8,rD))),128))],64)):le("v-if",!0),le(" Screen reader assistive text "),n.searchable&&t.hasSelected?(j(),z("div",{key:2,class:Oe(t.classList.assist),id:t.ariaAssist,"aria-hidden":"true"},we(t.ariaLabel),11,sD)):le("v-if",!0),le(" Create height for empty input "),E("div",{class:Oe(t.classList.spacer)},null,2)],42,$O)}Od.render=iD;Od.__file="src/Multiselect.vue";const oD={class:"mb-4"},aD={class:"mb-4"},lD={class:"mt-8 mb-4"},uD={class:"font-medium text-gray-800 mb-2 flex items-center"},cD=["d"],dD={class:"bg-gray-50 p-3 rounded-md"},fD={class:"flex items-center"},hD={class:"flex-grow"},pD={class:"flex items-center"},mD={key:0,class:"w-6 h-6 rounded-full overflow-hidden flex-shrink-0 mr-2"},gD=["src"],vD={key:1,class:"w-6 h-6 flex items-center justify-center bg-gray-100 rounded-full mr-2 text-lg"},yD={class:"flex items-center"},bD={key:0,class:"w-6 h-6 rounded-full overflow-hidden flex-shrink-0 mr-2"},_D=["src"],wD={key:1,class:"w-6 h-6 flex items-center justify-center bg-gray-100 rounded-full mr-2 text-lg"},ED=["onClick"],TD={class:"mt-2"},SD=["onUpdate:modelValue"],ID=["onClick"],AD={class:"mb-6 mt-8"},xD=["onUpdate:modelValue"],CD=["onClick"],PD={class:"flex gap-3 mt-8"},RD={key:0,class:"fixed inset-0 flex items-center justify-center z-50"},kD={class:"bg-white rounded-lg p-6 max-w-md w-full z-10"},OD={class:"mb-4 text-gray-600"},DD={class:"flex justify-end gap-3"},VD={__name:"ItineraryDayForm",setup(t){const e=_i(),n=Pl(),r=de(!1),s=de([]),i=Ae(()=>{const M=[];return u.forEach(T=>{d.value.schedule[T.id].forEach((w,_)=>{w.activityId&&M.push(w.activityId)})}),M}),o=(M,T)=>{var _;const w=(_=d.value.schedule[M][T])==null?void 0:_.activityId;return s.value.filter(I=>I.id===w||!i.value.includes(I.id)).map(I=>({value:I.id,label:I.title,image:I.images&&I.images.length>0?I.images[0]:null,type:I.type||"default"}))};Ae(()=>s.value.map(M=>({value:M.id,label:M.title,image:M.images&&M.images.length>0?M.images[0]:null,type:M.type||"default"})));const a=M=>{const T={restaurant:"🍽️",hotel:"🏨",attraction:"🏛️",transport:"🚌",tour:"🧭",museum:"🖼️",beach:"🏖️",hiking:"🥾",shopping:"🛍️",default:"📍"};return T[M]||T.default},u=[{id:"morning",label:"Manhã",color:"text-yellow-500",icon:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},{id:"lunch",label:"Almoço",color:"text-orange-500",icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},{id:"afternoon",label:"Tarde",color:"text-red-500",icon:"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z"},{id:"night",label:"Noite",color:"text-indigo-500",icon:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"}],c=Ae(()=>n.params.id==="novo"),d=de({title:"",date:new Date().toISOString().split("T")[0],description:"",transport:"",schedule:{morning:[],lunch:[],afternoon:[],night:[]},tips:[]}),f=de({show:!1,message:"",type:"success"}),p=(M,T="success")=>{f.value={show:!0,message:M,type:T}},m=()=>{f.value.show=!1};vt(async()=>{var M,T,w,_,I,k;try{if(s.value=await yd(),!c.value){const O=n.params.id,R=await mA(O);if(R){const ae=ye=>Array.isArray(ye)?ye.map(Z=>typeof Z=="object"&&Z!==null?{activityId:Z.activityId||"",note:Z.note||""}:{activityId:Z||"",note:""}):[];d.value={title:R.title||"",date:R.date?new Date(R.date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],description:R.description||"",transport:R.transport||"",schedule:{morning:ae((M=R.schedule)==null?void 0:M.morning),lunch:ae(((T=R.schedule)==null?void 0:T.lunch)||((w=R.schedule)==null?void 0:w.midDay)),afternoon:ae((_=R.schedule)==null?void 0:_.afternoon),night:ae(((I=R.schedule)==null?void 0:I.night)||((k=R.schedule)==null?void 0:k.evening))},tips:Array.isArray(R.tips)?[...R.tips]:[]}}else p("Dia não encontrado!","error"),e.push("/admin/itinerario")}}catch(O){console.error("Erro ao carregar dados:",O),p("Erro ao carregar dados!","error")}});const y=M=>{d.value.schedule[M].push({activityId:"",note:""})},S=(M,T)=>{d.value.schedule[M].splice(T,1)},A=()=>{d.value.tips.push("")},C=M=>{d.value.tips.splice(M,1)},b=async()=>{try{if(!d.value.title.trim()){p("O título do dia é obrigatório!","error");return}if(!d.value.date){p("A data é obrigatória!","error");return}let M=c.value?null:n.params.id;if(c.value){const I=(await vd()).filter(O=>O.id.startsWith("day-")).map(O=>{const R=O.id.match(/day-(\d+)/);return R?parseInt(R[1]):0});M=`day-${I.length>0?Math.max(...I)+1:1}`}const T={title:d.value.title.trim(),date:d.value.date,description:d.value.description.trim(),transport:d.value.transport.trim(),schedule:{morning:d.value.schedule.morning.filter(_=>_.activityId.trim()!=="").map(_=>({activityId:_.activityId,note:_.note.trim()})),lunch:d.value.schedule.lunch.filter(_=>_.activityId.trim()!=="").map(_=>({activityId:_.activityId,note:_.note.trim()})),afternoon:d.value.schedule.afternoon.filter(_=>_.activityId.trim()!=="").map(_=>({activityId:_.activityId,note:_.note.trim()})),night:d.value.schedule.night.filter(_=>_.activityId.trim()!=="").map(_=>({activityId:_.activityId,note:_.note.trim()}))},tips:d.value.tips.filter(_=>_.trim()!=="")};if(M){const _=M.match(/day-(\d+)/);_&&(T.dayNumber=parseInt(_[1]))}(await hA("santiago",M,T)).success?(p("Dia salvo com sucesso!","success"),c.value&&e.push(`/admin/itinerario/${M}`)):p("Erro ao salvar dia!","error")}catch(M){console.error("Erro ao salvar dia:",M),p("Erro ao salvar dia!","error")}},v=()=>{r.value=!0},x=async()=>{try{const M=n.params.id;(await my("trips/santiago/itinerary",M)).success?(p("Dia excluído com sucesso!","success"),e.push("/admin/itinerario")):p("Erro ao excluir dia!","error"),r.value=!1}catch(M){console.error("Erro ao excluir dia:",M),p("Erro ao excluir dia!","error"),r.value=!1}},V=()=>{e.push("/admin/itinerario")};return(M,T)=>(j(),ot(Wr,{title:c.value?"Novo Dia":`Editar Dia: ${d.value.title}`,alert:f.value,onCloseAlert:m},{default:We(()=>[E("form",{onSubmit:Ar(b,["prevent"])},[ge(sn,{id:"title",label:"Título",modelValue:d.value.title,"onUpdate:modelValue":T[0]||(T[0]=w=>d.value.title=w),required:""},null,8,["modelValue"]),E("div",oD,[T[5]||(T[5]=E("label",{for:"date",class:"block text-sm font-medium text-gray-700 mb-1"},"Data",-1)),gt(E("input",{type:"date",id:"date","onUpdate:modelValue":T[1]||(T[1]=w=>d.value.date=w),class:"w-full px-3 py-2 border border-gray-300 rounded-md",required:""},null,512),[[yt,d.value.date]])]),E("div",aD,[T[6]||(T[6]=E("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-1"},"Descrição",-1)),gt(E("textarea",{id:"description","onUpdate:modelValue":T[2]||(T[2]=w=>d.value.description=w),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Descreva o dia brevemente"},null,512),[[yt,d.value.description]])]),ge(sn,{id:"transport",label:"Transporte",modelValue:d.value.transport,"onUpdate:modelValue":T[3]||(T[3]=w=>d.value.transport=w),placeholder:"Ex: Carro alugado, Transporte público, etc."},null,8,["modelValue"]),E("div",lD,[T[9]||(T[9]=E("h3",{class:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200"},"Programação do Dia",-1)),(j(),z(De,null,Xe(u,w=>E("div",{key:w.id,class:"mb-6"},[E("h4",uD,[(j(),z("svg",{xmlns:"http://www.w3.org/2000/svg",class:Oe(["h-5","w-5","mr-1",w.color]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:w.icon},null,8,cD)],2)),ht(" "+we(w.label),1)]),E("div",dD,[(j(!0),z(De,null,Xe(d.value.schedule[w.id],(_,I)=>(j(),z("div",{key:`${w.id}-${I}`,class:"flex flex-col mb-2 p-2 bg-white rounded border border-gray-200"},[E("div",fD,[E("div",hD,[ge(ln(Od),{modelValue:d.value.schedule[w.id][I].activityId,"onUpdate:modelValue":k=>d.value.schedule[w.id][I].activityId=k,options:o(w.id,I),placeholder:"Selecione uma atividade",searchable:!0,object:!1,valueProp:"value",label:"label"},{singleLabel:We(({value:k,label:O,image:R,type:ae})=>[E("div",pD,[R?(j(),z("span",mD,[E("img",{src:R,class:"w-full h-full object-cover",alt:""},null,8,gD)])):(j(),z("span",vD,we(a(ae)),1)),E("span",null,we(O),1)])]),option:We(({option:k})=>[E("div",yD,[k.image?(j(),z("span",bD,[E("img",{src:k.image,class:"w-full h-full object-cover",alt:""},null,8,_D)])):(j(),z("span",wD,we(a(k.type)),1)),E("span",null,we(k.label),1)])]),_:2},1032,["modelValue","onUpdate:modelValue","options"])]),E("button",{type:"button",onClick:k=>S(w.id,I),class:"ml-2 text-red-600 hover:text-red-800"},T[7]||(T[7]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,ED)]),E("div",TD,[gt(E("textarea",{"onUpdate:modelValue":k=>d.value.schedule[w.id][I].note=k,rows:"2",class:"w-full p-2 border border-gray-200 rounded-md text-sm",placeholder:"Anotações sobre esta atividade"},null,8,SD),[[yt,d.value.schedule[w.id][I].note]])])]))),128)),E("button",{type:"button",onClick:_=>y(w.id),class:"w-full mt-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 text-sm flex items-center justify-center"},T[8]||(T[8]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),ht(" Adicionar Atividade ")]),8,ID)])])),64))]),E("div",AD,[T[12]||(T[12]=E("h3",{class:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200"},"Dicas do Dia",-1)),(j(!0),z(De,null,Xe(d.value.tips,(w,_)=>(j(),z("div",{key:`tip-${_}`,class:"flex items-start mb-2"},[gt(E("textarea",{"onUpdate:modelValue":I=>d.value.tips[_]=I,rows:"6",class:"flex-grow p-2 border border-gray-300 rounded-md",placeholder:"Dica ou recomendação para este dia"},null,8,xD),[[yt,d.value.tips[_]]]),E("button",{type:"button",onClick:I=>C(_),class:"ml-2 mt-1 text-red-600 hover:text-red-800"},T[10]||(T[10]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,CD)]))),128)),E("button",{type:"button",onClick:A,class:"w-full mt-3 px-3 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 text-sm flex items-center justify-center"},T[11]||(T[11]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),ht(" Adicionar Dica ")]))]),E("div",PD,[c.value?le("",!0):(j(),z("button",{key:0,type:"button",onClick:v,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700"}," Excluir ")),T[13]||(T[13]=E("div",{class:"flex-grow"},null,-1)),ge(Rl,{onCancel:V})])],32),r.value?(j(),z("div",RD,[T[15]||(T[15]=E("div",{class:"fixed inset-0 bg-black opacity-50"},null,-1)),E("div",kD,[T[14]||(T[14]=E("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Confirmar Exclusão",-1)),E("p",OD,' Tem certeza de que deseja excluir o dia "'+we(d.value.title)+'"? Esta ação não pode ser desfeita. ',1),E("div",DD,[E("button",{onClick:T[4]||(T[4]=w=>r.value=!1),class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300"}," Cancelar "),E("button",{onClick:x,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700"}," Excluir ")])])])):le("",!0)]),_:1},8,["title","alert"]))}},MD={class:"mb-6"},LD={key:0,class:"text-center py-8"},ND={key:1,class:"bg-white shadow rounded-lg overflow-hidden"},$D={class:"divide-y divide-gray-200"},FD={class:"flex items-center justify-between"},BD={class:"text-lg font-medium text-gray-900"},jD={class:"text-sm text-gray-500 mt-1 flex items-center"},UD={class:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded"},zD={class:"hover:bg-gray-50 bg-gray-50"},qD={class:"flex items-center justify-between"},HD={class:"text-sm text-gray-500 mt-1 flex items-center"},GD={class:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded"},WD={__name:"TipsForm",setup(t){const e=de({observations:"",categories:[]}),n=de(!0),r=de({show:!1,message:"",type:"success"}),s=(o,a="success")=>{r.value={show:!0,message:o,type:a}},i=()=>{r.value.show=!1};return vt(async()=>{try{n.value=!0;const o=await bd("santiago");o&&(console.clear(),console.log("data"),console.log(JSON.stringify(o)),e.value={observations:o.observations||"",categories:Array.isArray(o.categories)?o.categories:[]})}catch(o){console.error("Erro ao carregar dados:",o),s("Erro ao carregar dados!","error")}finally{n.value=!1}}),(o,a)=>{const u=pi("router-link");return j(),ot(Wr,{title:"Gestão de Dicas e Observações",alert:r.value,onCloseAlert:i},{default:We(()=>[E("div",MD,[a[4]||(a[4]=E("p",{class:"text-sm text-gray-600 mb-4"}," Gerencie as dicas e observações disponíveis no sistema. Selecione uma categoria para editar suas dicas. ",-1)),n.value?(j(),z("div",LD,a[0]||(a[0]=[E("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-600"},null,-1),E("p",{class:"mt-2 text-gray-500"},"Carregando dicas...",-1)]))):(j(),z("div",ND,[E("ul",$D,[(j(!0),z(De,null,Xe(e.value.categories,c=>(j(),z("li",{key:c.id,class:"hover:bg-gray-50"},[ge(u,{to:`/admin/dicas/${c.id}`,class:"block p-4"},{default:We(()=>[E("div",FD,[E("div",null,[E("h3",BD,we(c.title),1),E("p",jD,[E("span",UD,we(c.items?c.items.length:0)+" dicas ",1)])]),a[1]||(a[1]=E("div",{class:"text-gray-400"},[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))])]),_:2},1032,["to"])]))),128)),E("li",zD,[ge(u,{to:"/admin/dicas/observations",class:"block p-4"},{default:We(()=>[E("div",qD,[E("div",null,[a[2]||(a[2]=E("h3",{class:"text-lg font-medium text-gray-900"},"Observações Gerais",-1)),E("p",HD,[E("span",GD,we(e.value.observations?"Disponível":"Não definido"),1)])]),a[3]||(a[3]=E("div",{class:"text-gray-400"},[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))])]),_:1})])])]))])]),_:1},8,["alert"])}}},KD={class:"mb-6"},QD={class:"text-sm text-gray-600 mb-4"},YD={key:0,class:"text-center py-8"},XD={key:1,class:"mt-4"},JD={key:2},ZD={class:"mb-3"},eV=["for"],tV=["id","onUpdate:modelValue"],nV={class:"mb-3"},rV=["for"],sV=["id","onUpdate:modelValue"],iV={class:"mb-3"},oV=["for"],aV=["id","onUpdate:modelValue"],lV={class:"flex justify-end"},uV=["onClick"],cV={__name:"TipDetailForm",setup(t){const e=_i(),n=Pl(),r=Ae(()=>n.params.category),s=de([]),i=de(""),o=de({observations:"",categories:[]}),a=de(null),u=de(!0),c=de({show:!1,message:"",type:"success"}),d={observations:"Observações gerais e importantes sobre a viagem."},f=()=>r.value==="observations",p=()=>{var x;return f()?"Editar Observações Gerais":`Editar ${((x=a.value)==null?void 0:x.title)||"Categoria"}`},m=()=>f()?d.observations:"Edite os itens desta categoria. Cada item deve ter um título, descrição e ícone.",y=(x,V="success")=>{c.value={show:!0,message:x,type:V}},S=()=>{c.value.show=!1},A=()=>{s.value.push({title:"",description:"",icon:"fas fa-info-circle"})},C=x=>{s.value.splice(x,1)};vt(async()=>{var x;try{u.value=!0;const V=await bd("santiago");if(V)if(o.value=V,f())i.value=V.observations||"";else{const M=(x=V.categories)==null?void 0:x.find(T=>T.id===r.value);M?(a.value={id:M.id,title:M.title},s.value=Array.isArray(M.items)?JSON.parse(JSON.stringify(M.items)):[]):y("Categoria não encontrada!","error")}}catch(V){console.error("Erro ao carregar dados:",V),y("Erro ao carregar dados!","error")}finally{u.value=!1}});const b=async()=>{try{const x=JSON.parse(JSON.stringify(o.value));if(f())x.observations=i.value;else{const M=x.categories.findIndex(T=>T.id===r.value);if(M!==-1){const T=s.value.filter(w=>w.title.trim()!==""||w.description.trim()!=="");x.categories[M].items=T}else{y("Categoria não encontrada para atualização!","error");return}}(await dA("santiago",x)).success?(y("Dados salvos com sucesso!","success"),setTimeout(()=>{v()},1500)):y("Erro ao salvar dados!","error")}catch(x){console.error("Erro ao salvar dados:",x),y("Erro ao salvar dados!","error")}},v=()=>{e.push("/admin/dicas")};return(x,V)=>(j(),ot(Wr,{title:p(),alert:c.value,onCloseAlert:S},{default:We(()=>[E("form",{onSubmit:Ar(b,["prevent"])},[E("div",KD,[E("p",QD,we(m()),1),u.value?(j(),z("div",YD,V[1]||(V[1]=[E("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-600"},null,-1),E("p",{class:"mt-2 text-gray-500"},"Carregando dados...",-1)]))):f()?(j(),z("div",XD,[gt(E("textarea",{"onUpdate:modelValue":V[0]||(V[0]=M=>i.value=M),rows:"8",class:"w-full p-3 border border-gray-300 rounded-md",placeholder:"Digite aqui as observações gerais sobre a viagem"},null,512),[[yt,i.value]])])):(j(),z("div",JD,[(j(!0),z(De,null,Xe(s.value,(M,T)=>(j(),z("div",{key:`item-${T}`,class:"mb-6 p-4 border border-gray-200 rounded-md bg-gray-50"},[E("div",ZD,[E("label",{for:`item-title-${T}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Título",8,eV),gt(E("input",{id:`item-title-${T}`,"onUpdate:modelValue":w=>s.value[T].title=w,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Título da dica"},null,8,tV),[[yt,s.value[T].title]])]),E("div",nV,[E("label",{for:`item-description-${T}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Descrição",8,rV),gt(E("textarea",{id:`item-description-${T}`,"onUpdate:modelValue":w=>s.value[T].description=w,rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Descrição detalhada da dica"},null,8,sV),[[yt,s.value[T].description]])]),E("div",iV,[E("label",{for:`item-icon-${T}`,class:"block text-sm font-medium text-gray-700 mb-1"},"Ícone (FontAwesome)",8,oV),gt(E("input",{id:`item-icon-${T}`,"onUpdate:modelValue":w=>s.value[T].icon=w,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: fas fa-thermometer-half"},null,8,aV),[[yt,s.value[T].icon]])]),E("div",lV,[E("button",{type:"button",onClick:w=>C(T),class:"px-3 py-1 bg-red-100 text-red-700 rounded-md hover:bg-red-200 text-sm flex items-center"},V[2]||(V[2]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),ht(" Remover Item ")]),8,uV)])]))),128)),E("button",{type:"button",onClick:A,class:"w-full mt-3 px-3 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 text-sm flex items-center justify-center"},V[3]||(V[3]=[E("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),ht(" Adicionar Novo Item ")]))]))]),E("div",{class:"flex justify-end gap-3 mt-8"},[E("button",{type:"button",onClick:v,class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300"}," Cancelar "),V[4]||(V[4]=E("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," Salvar ",-1))])],32)]),_:1},8,["title","alert"]))}},dV={class:"admin-layout p-6 max-w-7xl mx-auto"},fV={key:1,class:"text-red-500"},hV={__name:"AdminLayout",setup(t){return vt(()=>{console.log("AdminLayout component mounted")}),(e,n)=>{const r=pi("router-view");return j(),z("div",dV,[ge(r,null,{default:We(({Component:s})=>[s?(j(),ot(Eb(s),{key:0})):(j(),z("p",fV," Nenhum componente carregado para esta rota. Verifique o console para erros. "))]),_:1})])}}},pV=[{path:"/",name:"home"},{path:"/admin",component:hV,children:[{path:"header",name:"admin-header",component:$R,meta:{requiresAuth:!0}},{path:"footer",name:"admin-footer",component:g2,meta:{requiresAuth:!0}},{path:"atividades",name:"admin-atividades",component:P2,meta:{requiresAuth:!0}},{path:"atividades/:id",name:"admin-atividades-detalhes",component:ak,meta:{requiresAuth:!0}},{path:"itinerario",name:"admin-itinerario",component:bk,meta:{requiresAuth:!0}},{path:"itinerario/:id",name:"admin-itinerario-detalhes",component:VD,meta:{requiresAuth:!0}},{path:"dicas",name:"admin-dicas",component:WD,meta:{requiresAuth:!0}},{path:"dicas/:category",name:"admin-dicas-categoria",component:cV,meta:{requiresAuth:!0}}]}],Vl=pR({history:zP("/santiago/"),routes:pV});Vl.beforeEach((t,e,n)=>{console.log(`Navegando para: ${t.fullPath}`),t.matched.some(r=>r.meta.requiresAuth),n()});Vl.afterEach(t=>{console.log(`Navegação concluída: ${t.fullPath}`)});console.log("Starting Vue application");console.log("Routes registered:",Vl.getRoutes());const Dd=L_(bR);Dd.config.errorHandler=(t,e,n)=>{console.error("Vue error:",t),console.error("Component:",e),console.error("Info:",n)};Dd.use(Vl);Dd.mount("#app");console.log("Vue app mounted");
